"use strict";(self.webpackChunkbug_tracker=self.webpackChunkbug_tracker||[]).push([[179],{2011:(nt,De,O)=>{O.d(De,{Dh:()=>oe,GT:()=>ne,cc:()=>Ae,hO:()=>je,on:()=>B,pX:()=>ee,xv:()=>ue});var f=O(4650),J=O(9260),N=O(7184);nt=O.hmd(nt);const re=["ngOnDestroy"],ee=(we,_e,Me,Te={})=>new Proxy(we,{get:(de,he)=>Me.runOutsideAngular(()=>{var Le;if(we[he])return!(null===(Le=Te?.spy)||void 0===Le)&&Le.get&&Te.spy.get(he,we[he]),we[he];if(re.indexOf(he)>-1)return()=>{};const Se=_e.toPromise().then(ie=>{const H=ie&&ie[he];return"function"==typeof H?H.bind(ie):H&&H.then?H.then(Oe=>Me.run(()=>Oe)):Me.run(()=>H)});return new Proxy(()=>{},{get:(ie,H)=>Se[H],apply:(ie,H,Oe)=>Se.then(Fe=>{var ot;const We=Fe&&Fe(...Oe);return!(null===(ot=Te?.spy)||void 0===ot)&&ot.apply&&Te.spy.apply(he,Oe,We),We})})})}),ne=(we,_e)=>{_e.forEach(Me=>{Object.getOwnPropertyNames(Me.prototype||Me).forEach(Te=>{Object.defineProperty(we.prototype,Te,Object.getOwnPropertyDescriptor(Me.prototype||Me,Te))})})};class ge{constructor(_e){return _e}}const oe=new f.OlP("angularfire2.app.options"),ue=new f.OlP("angularfire2.app.name");function B(we,_e,Me){const de="object"==typeof Me&&Me||{};de.name=de.name||"string"==typeof Me&&Me||"[DEFAULT]";const Le=J.Z.apps.filter(Se=>Se&&Se.name===de.name)[0]||_e.runOutsideAngular(()=>J.Z.initializeApp(we,de));try{JSON.stringify(we)!==JSON.stringify(Le.options)&&U("error",`${Le.name} Firebase App already initialized with different options${nt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ge(Le)}const U=(we,..._e)=>{(0,f.X6Q)()&&typeof console<"u"&&console[we](..._e)},K={provide:ge,useFactory:B,deps:[oe,f.R0b,[new f.FiY,ue]]};let je=(()=>{class we{constructor(Me){J.Z.registerVersion("angularfire",N.q4.full,"core"),J.Z.registerVersion("angularfire",N.q4.full,"app-compat"),J.Z.registerVersion("angular",f.q4F.full,Me.toString())}static initializeApp(Me,Te){return{ngModule:we,providers:[{provide:oe,useValue:Me},{provide:ue,useValue:Te}]}}}return we.\u0275fac=function(Me){return new(Me||we)(f.LFG(f.Lbi))},we.\u0275mod=f.oAB({type:we}),we.\u0275inj=f.cJS({providers:[K]}),we})();function Ae(we,_e,Me,Te,de){const[,he,Le]=globalThis.\u0275AngularfireInstanceCache.find(Se=>Se[0]===we)||[];if(he)return function dt(we,_e){try{return we.toString()===_e.toString()}catch{return we===_e}}(de,Le)||(se("error",`${_e} was already initialized on the ${Me} Firebase App with different settings.${$e?" You may need to reload as Firebase is not HMR aware.":""}`),se("warn",{is:de,was:Le})),he;{const Se=Te();return globalThis.\u0275AngularfireInstanceCache.push([we,Se,de]),Se}}const $e=!!nt.hot,se=(we,..._e)=>{(0,f.X6Q)()&&typeof console<"u"&&console[we](..._e)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7184:(nt,De,O)=>{O.d(De,{q4:()=>Ao,iC:()=>hi,HU:()=>Dl,vb:()=>$s,JM:()=>ba});var f=O(4650),J=O(259),N=O(5861),re=O(9681),ee=O(2090),ne=O(4859),ge=O(1877),oe=O(8766);const ue="@firebase/installations",B="0.6.4",U=1e4,K=`w:${B}`,je="FIS_v2",Ae="https://firebaseinstallations.googleapis.com/v1",dt=36e5,_e=new ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Me(C){return C instanceof ee.ZR&&C.code.includes("request-failed")}function Te({projectId:C}){return`${Ae}/projects/${C}/installations`}function de(C){return{token:C.token,requestStatus:2,expiresIn:Fe(C.expiresIn),creationTime:Date.now()}}function he(C,I){return Le.apply(this,arguments)}function Le(){return(Le=(0,N.Z)(function*(C,I){const P=(yield I.json()).error;return _e.create("request-failed",{requestName:C,serverCode:P.code,serverMessage:P.message,serverStatus:P.status})})).apply(this,arguments)}function Se({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function H(C){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,N.Z)(function*(C){const I=yield C();return I.status>=500&&I.status<600?C():I})).apply(this,arguments)}function Fe(C){return Number(C.replace("s","000"))}function te(){return(te=(0,N.Z)(function*({appConfig:C,heartbeatServiceProvider:I},{fid:S}){const P=Te(C),z=Se(C),q=I.getImmediate({optional:!0});if(q){const x=yield q.getHeartbeatsHeader();x&&z.append("x-firebase-client",x)}const He={method:"POST",headers:z,body:JSON.stringify({fid:S,authVersion:je,appId:C.appId,sdkVersion:K})},Ve=yield H(()=>fetch(P,He));if(Ve.ok){const x=yield Ve.json();return{fid:x.fid||S,registrationStatus:2,refreshToken:x.refreshToken,authToken:de(x.authToken)}}throw yield he("Create Installation",Ve)})).apply(this,arguments)}function ae(C){return new Promise(I=>{setTimeout(I,C)})}const Ce=/^[cdef][\w-]{21}$/,Re="";function ke(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const S=function Je(C){return function fe(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Ce.test(S)?S:Re}catch{return Re}}function ze(C){return`${C.appName}!${C.appId}`}const rt=new Map;function Ge(C,I){const S=ze(C);Vt(S,I),function Wt(C,I){const S=function sn(){return!$t&&"BroadcastChannel"in self&&($t=new BroadcastChannel("[Firebase] FID Change"),$t.onmessage=C=>{Vt(C.data.key,C.data.fid)}),$t}();S&&S.postMessage({key:C,fid:I}),function Qn(){0===rt.size&&$t&&($t.close(),$t=null)}()}(S,I)}function Vt(C,I){const S=rt.get(C);if(S)for(const P of S)P(I)}let $t=null;const Hn="firebase-installations-database",Gi=1,Jn="firebase-installations-store";let Gr=null;function Wr(){return Gr||(Gr=(0,oe.X3)(Hn,Gi,{upgrade:(C,I)=>{0===I&&C.createObjectStore(Jn)}})),Gr}function Xt(C,I){return jn.apply(this,arguments)}function jn(){return(jn=(0,N.Z)(function*(C,I){const S=ze(C),z=(yield Wr()).transaction(Jn,"readwrite"),q=z.objectStore(Jn),ye=yield q.get(S);return yield q.put(I,S),yield z.done,(!ye||ye.fid!==I.fid)&&Ge(C,I.fid),I})).apply(this,arguments)}function tt(C){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,N.Z)(function*(C){const I=ze(C),P=(yield Wr()).transaction(Jn,"readwrite");yield P.objectStore(Jn).delete(I),yield P.done})).apply(this,arguments)}function ri(C,I){return dn.apply(this,arguments)}function dn(){return(dn=(0,N.Z)(function*(C,I){const S=ze(C),z=(yield Wr()).transaction(Jn,"readwrite"),q=z.objectStore(Jn),ye=yield q.get(S),He=I(ye);return void 0===He?yield q.delete(S):yield q.put(He,S),yield z.done,He&&(!ye||ye.fid!==He.fid)&&Ge(C,He.fid),He})).apply(this,arguments)}function Dn(C){return Pr.apply(this,arguments)}function Pr(){return Pr=(0,N.Z)(function*(C){let I;const S=yield ri(C.appConfig,P=>{const z=function yt(C){return Rn(C||{fid:ke(),registrationStatus:0})}(P),q=function et(C,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(_e.create("app-offline"))};const S={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},P=function ct(C,I){return zi.apply(this,arguments)}(C,S);return{installationEntry:S,registrationPromise:P}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Ln(C)}:{installationEntry:I}}(C,z);return I=q.registrationPromise,q.installationEntry});return S.fid===Re?{installationEntry:yield I}:{installationEntry:S,registrationPromise:I}}),Pr.apply(this,arguments)}function zi(){return zi=(0,N.Z)(function*(C,I){try{const S=yield function We(C,I){return te.apply(this,arguments)}(C,I);return Xt(C.appConfig,S)}catch(S){throw Me(S)&&409===S.customData.serverCode?yield tt(C.appConfig):yield Xt(C.appConfig,{fid:I.fid,registrationStatus:0}),S}}),zi.apply(this,arguments)}function Ln(C){return pn.apply(this,arguments)}function pn(){return(pn=(0,N.Z)(function*(C){let I=yield gn(C.appConfig);for(;1===I.registrationStatus;)yield ae(100),I=yield gn(C.appConfig);if(0===I.registrationStatus){const{installationEntry:S,registrationPromise:P}=yield Dn(C);return P||S}return I})).apply(this,arguments)}function gn(C){return ri(C,I=>{if(!I)throw _e.create("installation-not-found");return Rn(I)})}function Rn(C){return function ro(C){return 1===C.registrationStatus&&C.registrationTime+U<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Di(){return(Di=(0,N.Z)(function*({appConfig:C,heartbeatServiceProvider:I},S){const P=function Nt(C,{fid:I}){return`${Te(C)}/${I}/authTokens:generate`}(C,S),z=function ie(C,{refreshToken:I}){const S=Se(C);return S.append("Authorization",function ot(C){return`${je} ${C}`}(I)),S}(C,S),q=I.getImmediate({optional:!0});if(q){const x=yield q.getHeartbeatsHeader();x&&z.append("x-firebase-client",x)}const He={method:"POST",headers:z,body:JSON.stringify({installation:{sdkVersion:K,appId:C.appId}})},Ve=yield H(()=>fetch(P,He));if(Ve.ok)return de(yield Ve.json());throw yield he("Generate Auth Token",Ve)})).apply(this,arguments)}function Ir(C){return wr.apply(this,arguments)}function wr(){return wr=(0,N.Z)(function*(C,I=!1){let S;const P=yield ri(C.appConfig,q=>{if(!Ot(q))throw _e.create("not-registered");const ye=q.authToken;if(!I&&function on(C){return 2===C.requestStatus&&!function L(C){const I=Date.now();return I<C.creationTime||C.creationTime+C.expiresIn<I+dt}(C)}(ye))return q;if(1===ye.requestStatus)return S=function Ne(C,I){return pe.apply(this,arguments)}(C,I),q;{if(!navigator.onLine)throw _e.create("app-offline");const He=function F(C){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:I})}(q);return S=function ft(C,I){return st.apply(this,arguments)}(C,He),He}});return S?yield S:P.authToken}),wr.apply(this,arguments)}function pe(){return(pe=(0,N.Z)(function*(C,I){let S=yield Ze(C.appConfig);for(;1===S.authToken.requestStatus;)yield ae(100),S=yield Ze(C.appConfig);const P=S.authToken;return 0===P.requestStatus?Ir(C,I):P})).apply(this,arguments)}function Ze(C){return ri(C,I=>{if(!Ot(I))throw _e.create("not-registered");return function $(C){return 1===C.requestStatus&&C.requestTime+U<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function st(){return st=(0,N.Z)(function*(C,I){try{const S=yield function Gt(C,I){return Di.apply(this,arguments)}(C,I),P=Object.assign(Object.assign({},I),{authToken:S});return yield Xt(C.appConfig,P),S}catch(S){if(!Me(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const P=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Xt(C.appConfig,P)}else yield tt(C.appConfig);throw S}}),st.apply(this,arguments)}function Ot(C){return void 0!==C&&2===C.registrationStatus}function Q(){return(Q=(0,N.Z)(function*(C){const I=C,{installationEntry:S,registrationPromise:P}=yield Dn(I);return P?P.catch(console.error):Ir(I).catch(console.error),S.fid})).apply(this,arguments)}function Ue(){return Ue=(0,N.Z)(function*(C,I=!1){const S=C;return yield function Bt(C){return mn.apply(this,arguments)}(S),(yield Ir(S,I)).token}),Ue.apply(this,arguments)}function mn(){return(mn=(0,N.Z)(function*(C){const{registrationPromise:I}=yield Dn(C);I&&(yield I)})).apply(this,arguments)}function Xa(C){return _e.create("missing-app-config-values",{valueName:C})}const _s="installations",ys=C=>{const I=C.getProvider("app").getImmediate(),S=function Xo(C){if(!C||!C.options)throw Xa("App Configuration");if(!C.name)throw Xa("App Name");const I=["projectId","apiKey","appId"];for(const S of I)if(!C.options[S])throw Xa(S);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(I);return{app:I,appConfig:S,heartbeatServiceProvider:(0,re._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},el=C=>{const I=C.getProvider("app").getImmediate(),S=(0,re._getProvider)(I,_s).getImmediate();return{getId:()=>function le(C){return Q.apply(this,arguments)}(S),getToken:z=>function qe(C){return Ue.apply(this,arguments)}(S,z)}};(function tl(){(0,re._registerComponent)(new ne.wA(_s,ys,"PUBLIC")),(0,re._registerComponent)(new ne.wA("installations-internal",el,"PRIVATE"))})(),(0,re.registerVersion)(ue,B),(0,re.registerVersion)(ue,B,"esm2017");const kt="@firebase/remote-config",er=new ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Es{constructor(I,S,P,z){this.client=I,this.storage=S,this.storageCache=P,this.logger=z}isCachedDataFresh(I,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const P=Date.now()-S,z=P<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${P}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${z}.`),z}fetch(I){var S=this;return(0,N.Z)(function*(){const[P,z]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(z&&S.isCachedDataFresh(I.cacheMaxAgeMillis,P))return z;I.eTag=z&&z.eTag;const q=yield S.client.fetch(I),ye=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===q.status&&ye.push(S.storage.setLastSuccessfulFetchResponse(q)),yield Promise.all(ye),q})()}}function Yi(C=navigator){return C.languages&&C.languages[0]||C.language}class Nr{constructor(I,S,P,z,q,ye){this.firebaseInstallations=I,this.sdkVersion=S,this.namespace=P,this.projectId=z,this.apiKey=q,this.appId=ye}fetch(I){var S=this;return(0,N.Z)(function*(){const[P,z]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),ye=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,He={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Ve={sdk_version:S.sdkVersion,app_instance_id:P,app_instance_id_token:z,app_id:S.appId,language_code:Yi()},x={method:"POST",headers:He,body:JSON.stringify(Ve)},It=fetch(ye,x),pt=new Promise((hr,zn)=>{I.signal.addEventListener(()=>{const ki=new Error("The operation was aborted.");ki.name="AbortError",zn(ki)})});let fr;try{yield Promise.race([It,pt]),fr=yield It}catch(hr){let zn="fetch-client-network";throw"AbortError"===hr?.name&&(zn="fetch-timeout"),er.create(zn,{originalErrorMessage:hr?.message})}let un=fr.status;const Oi=fr.headers.get("ETag")||void 0;let Ma,ss;if(200===fr.status){let hr;try{hr=yield fr.json()}catch(zn){throw er.create("fetch-client-parse",{originalErrorMessage:zn?.message})}Ma=hr.entries,ss=hr.state}if("INSTANCE_STATE_UNSPECIFIED"===ss?un=500:"NO_CHANGE"===ss?un=304:("NO_TEMPLATE"===ss||"EMPTY_CONFIG"===ss)&&(Ma={}),304!==un&&200!==un)throw er.create("fetch-status",{httpStatus:un});return{status:un,eTag:Oi,config:Ma}})()}}class St{constructor(I,S){this.client=I,this.storage=S}fetch(I){var S=this;return(0,N.Z)(function*(){const P=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(I,P)})()}attemptFetch(I,{throttleEndTimeMillis:S,backoffCount:P}){var z=this;return(0,N.Z)(function*(){yield function Cs(C,I){return new Promise((S,P)=>{const z=Math.max(I-Date.now(),0),q=setTimeout(S,z);C.addEventListener(()=>{clearTimeout(q),P(er.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,S);try{const q=yield z.client.fetch(I);return yield z.storage.deleteThrottleMetadata(),q}catch(q){if(!function na(C){if(!(C instanceof ee.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(q))throw q;const ye={throttleEndTimeMillis:Date.now()+(0,ee.$s)(P),backoffCount:P+1};return yield z.storage.setThrottleMetadata(ye),z.attemptFetch(I,ye)}})()}}class ra{constructor(I,S,P,z,q){this.app=I,this._client=S,this._storageCache=P,this._storage=z,this._logger=q,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function oi(C,I){const S=C.target.error||void 0;return er.create(I,{originalErrorMessage:S&&S?.message})}const Tr="app_namespace_store";class or{constructor(I,S,P,z=function du(){return new Promise((C,I)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=P=>{I(oi(P,"storage-open"))},S.onsuccess=P=>{C(P.target.result)},S.onupgradeneeded=P=>{0===P.oldVersion&&P.target.result.createObjectStore(Tr,{keyPath:"compositeKey"})}}catch(S){I(er.create("storage-open",{originalErrorMessage:S?.message}))}})}()){this.appId=I,this.appName=S,this.namespace=P,this.openDbPromise=z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var S=this;return(0,N.Z)(function*(){const P=yield S.openDbPromise;return new Promise((z,q)=>{const He=P.transaction([Tr],"readonly").objectStore(Tr),Ve=S.createCompositeKey(I);try{const x=He.get(Ve);x.onerror=It=>{q(oi(It,"storage-get"))},x.onsuccess=It=>{const pt=It.target.result;z(pt?pt.value:void 0)}}catch(x){q(er.create("storage-get",{originalErrorMessage:x?.message}))}})})()}set(I,S){var P=this;return(0,N.Z)(function*(){const z=yield P.openDbPromise;return new Promise((q,ye)=>{const Ve=z.transaction([Tr],"readwrite").objectStore(Tr),x=P.createCompositeKey(I);try{const It=Ve.put({compositeKey:x,value:S});It.onerror=pt=>{ye(oi(pt,"storage-set"))},It.onsuccess=()=>{q()}}catch(It){ye(er.create("storage-set",{originalErrorMessage:It?.message}))}})})()}delete(I){var S=this;return(0,N.Z)(function*(){const P=yield S.openDbPromise;return new Promise((z,q)=>{const He=P.transaction([Tr],"readwrite").objectStore(Tr),Ve=S.createCompositeKey(I);try{const x=He.delete(Ve);x.onerror=It=>{q(oi(It,"storage-delete"))},x.onsuccess=()=>{z()}}catch(x){q(er.create("storage-delete",{originalErrorMessage:x?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class ar{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,N.Z)(function*(){const S=I.storage.getLastFetchStatus(),P=I.storage.getLastSuccessfulFetchTimestampMillis(),z=I.storage.getActiveConfig(),q=yield S;q&&(I.lastFetchStatus=q);const ye=yield P;ye&&(I.lastSuccessfulFetchTimestampMillis=ye);const He=yield z;He&&(I.activeConfig=He)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function vn(){return oo.apply(this,arguments)}function oo(){return(oo=(0,N.Z)(function*(){if(!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch{return!1}})).apply(this,arguments)}!function nl(){(0,re._registerComponent)(new ne.wA("remote-config",function C(I,{instanceIdentifier:S}){const P=I.getProvider("app").getImmediate(),z=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw er.create("registration-window");if(!(0,ee.hl)())throw er.create("indexed-db-unavailable");const{projectId:q,apiKey:ye,appId:He}=P.options;if(!q)throw er.create("registration-project-id");if(!ye)throw er.create("registration-api-key");if(!He)throw er.create("registration-app-id");const Ve=new or(He,P.name,S=S||"firebase"),x=new ar(Ve),It=new ge.Yd(kt);It.logLevel=ge.in.ERROR;const pt=new Nr(z,re.SDK_VERSION,S,q,ye,He),fr=new St(pt,Ve),un=new Es(fr,Ve,x,It),Oi=new ra(P,un,x,Ve,It);return function Ti(C){const I=(0,ee.m9)(C);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Oi),Oi},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(kt,"0.4.4"),(0,re.registerVersion)(kt,"0.4.4","esm2017")}();const bf="/firebase-messaging-sw.js",Zr="/firebase-cloud-messaging-push-scope",fu="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",hu="https://fcmregistrations.googleapis.com/v1",pu="google.c.a.c_id",gu="google.c.a.c_l",Tf="google.c.a.ts",mu="google.c.a.e";var Qi=(()=>{return(C=Qi||(Qi={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Qi;var C})();function ai(C){const I=new Uint8Array(C);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ao(C){const S=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),P=atob(S),z=new Uint8Array(P.length);for(let q=0;q<P.length;++q)z[q]=P.charCodeAt(q);return z}const _u="fcm_token_details_db",jc=5,lo="fcm_token_object_Store";function ws(){return ws=(0,N.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(q=>q.name).includes(_u))return null;let I=null;return(yield(0,oe.X3)(_u,jc,{upgrade:(P=(0,N.Z)(function*(z,q,ye,He){var Ve;if(q<2||!z.objectStoreNames.contains(lo))return;const x=He.objectStore(lo),It=yield x.index("fcmSenderId").get(C);if(yield x.clear(),It)if(2===q){const pt=It;if(!pt.auth||!pt.p256dh||!pt.endpoint)return;I={token:pt.fcmToken,createTime:null!==(Ve=pt.createTime)&&void 0!==Ve?Ve:Date.now(),subscriptionOptions:{auth:pt.auth,p256dh:pt.p256dh,endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:"string"==typeof pt.vapidKey?pt.vapidKey:ai(pt.vapidKey)}}}else if(3===q){const pt=It;I={token:pt.fcmToken,createTime:pt.createTime,subscriptionOptions:{auth:ai(pt.auth),p256dh:ai(pt.p256dh),endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:ai(pt.vapidKey)}}}else if(4===q){const pt=It;I={token:pt.fcmToken,createTime:pt.createTime,subscriptionOptions:{auth:ai(pt.auth),p256dh:ai(pt.p256dh),endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:ai(pt.vapidKey)}}}}),function(q,ye,He,Ve){return P.apply(this,arguments)})})).close(),yield(0,oe.Lj)(_u),yield(0,oe.Lj)("fcm_vapid_details_db"),yield(0,oe.Lj)("undefined"),function Ji(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:I}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}(I)?I:null;var P}),ws.apply(this,arguments)}const uo="firebase-messaging-database",ia=1,lr="firebase-messaging-store";let rl=null;function co(){return rl||(rl=(0,oe.X3)(uo,ia,{upgrade:(C,I)=>{0===I&&C.createObjectStore(lr)}})),rl}function yu(C){return li.apply(this,arguments)}function li(){return li=(0,N.Z)(function*(C){const I=ui(C),P=yield(yield co()).transaction(lr).objectStore(lr).get(I);if(P)return P;{const z=yield function $c(C){return ws.apply(this,arguments)}(C.appConfig.senderId);if(z)return yield il(C,z),z}}),li.apply(this,arguments)}function il(C,I){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,N.Z)(function*(C,I){const S=ui(C),z=(yield co()).transaction(lr,"readwrite");return yield z.objectStore(lr).put(I,S),yield z.done,I})).apply(this,arguments)}function fo(){return(fo=(0,N.Z)(function*(C){const I=ui(C),P=(yield co()).transaction(lr,"readwrite");yield P.objectStore(lr).delete(I),yield P.done})).apply(this,arguments)}function ui({appConfig:C}){return C.appId}const Ht=new ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function vu(C,I){return bs.apply(this,arguments)}function bs(){return(bs=(0,N.Z)(function*(C,I){const S=yield po(C),P=Tn(I),z={method:"POST",headers:S,body:JSON.stringify(P)};let q;try{q=yield(yield fetch(ho(C.appConfig),z)).json()}catch(ye){throw Ht.create("token-subscribe-failed",{errorInfo:ye?.toString()})}if(q.error)throw Ht.create("token-subscribe-failed",{errorInfo:q.error.message});if(!q.token)throw Ht.create("token-subscribe-no-token");return q.token})).apply(this,arguments)}function oa(){return(oa=(0,N.Z)(function*(C,I){const S=yield po(C),P=Tn(I.subscriptionOptions),z={method:"PATCH",headers:S,body:JSON.stringify(P)};let q;try{q=yield(yield fetch(`${ho(C.appConfig)}/${I.token}`,z)).json()}catch(ye){throw Ht.create("token-update-failed",{errorInfo:ye?.toString()})}if(q.error)throw Ht.create("token-update-failed",{errorInfo:q.error.message});if(!q.token)throw Ht.create("token-update-no-token");return q.token})).apply(this,arguments)}function ci(C,I){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,N.Z)(function*(C,I){const P={method:"DELETE",headers:yield po(C)};try{const q=yield(yield fetch(`${ho(C.appConfig)}/${I}`,P)).json();if(q.error)throw Ht.create("token-unsubscribe-failed",{errorInfo:q.error.message})}catch(z){throw Ht.create("token-unsubscribe-failed",{errorInfo:z?.toString()})}})).apply(this,arguments)}function ho({projectId:C}){return`${hu}/projects/${C}/registrations`}function po(C){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,N.Z)(function*({appConfig:C,installations:I}){const S=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function Tn({p256dh:C,auth:I,endpoint:S,vapidKey:P}){const z={web:{endpoint:S,auth:I,p256dh:C}};return P!==fu&&(z.web.applicationPubKey=P),z}const sl=6048e5;function aa(){return aa=(0,N.Z)(function*(C){const I=yield function Eu(C,I){return mo.apply(this,arguments)}(C.swRegistration,C.vapidKey),S={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:I.endpoint,auth:ai(I.getKey("auth")),p256dh:ai(I.getKey("p256dh"))},P=yield yu(C.firebaseDependencies);if(P){if(function Gc(C,I){return I.vapidKey===C.vapidKey&&I.endpoint===C.endpoint&&I.auth===C.auth&&I.p256dh===C.p256dh}(P.subscriptionOptions,S))return Date.now()>=P.createTime+sl?function Ss(C,I){return at.apply(this,arguments)}(C,{token:P.token,createTime:Date.now(),subscriptionOptions:S}):P.token;try{yield ci(C.firebaseDependencies,P.token)}catch(z){console.warn(z)}return ol(C.firebaseDependencies,S)}return ol(C.firebaseDependencies,S)}),aa.apply(this,arguments)}function Ts(){return Ts=(0,N.Z)(function*(C){const I=yield yu(C.firebaseDependencies);I&&(yield ci(C.firebaseDependencies,I.token),yield function sa(C){return fo.apply(this,arguments)}(C.firebaseDependencies));const S=yield C.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()}),Ts.apply(this,arguments)}function at(){return at=(0,N.Z)(function*(C,I){try{const S=yield function qt(C,I){return oa.apply(this,arguments)}(C.firebaseDependencies,I),P=Object.assign(Object.assign({},I),{token:S,createTime:Date.now()});return yield il(C.firebaseDependencies,P),S}catch(S){throw yield function qr(C){return Ts.apply(this,arguments)}(C),S}}),at.apply(this,arguments)}function ol(C,I){return la.apply(this,arguments)}function la(){return(la=(0,N.Z)(function*(C,I){const P={token:yield vu(C,I),createTime:Date.now(),subscriptionOptions:I};return yield il(C,P),P.token})).apply(this,arguments)}function mo(){return(mo=(0,N.Z)(function*(C,I){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ao(I)})})).apply(this,arguments)}function ua(C){const I={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Wc(C,I){if(!I.notification)return;C.notification={};const S=I.notification.title;S&&(C.notification.title=S);const P=I.notification.body;P&&(C.notification.body=P);const z=I.notification.image;z&&(C.notification.image=z);const q=I.notification.icon;q&&(C.notification.icon=q)}(I,C),function Yt(C,I){I.data&&(C.data=I.data)}(I,C),function ve(C,I){var S,P,z,q,ye;if(!(I.fcmOptions||null!==(S=I.notification)&&void 0!==S&&S.click_action))return;C.fcmOptions={};const He=null!==(z=null===(P=I.fcmOptions)||void 0===P?void 0:P.link)&&void 0!==z?z:null===(q=I.notification)||void 0===q?void 0:q.click_action;He&&(C.fcmOptions.link=He);const Ve=null===(ye=I.fcmOptions)||void 0===ye?void 0:ye.analytics_label;Ve&&(C.fcmOptions.analyticsLabel=Ve)}(I,C),I}function ca(C,I){const S=[];for(let P=0;P<C.length;P++)S.push(C.charAt(P)),P<I.length&&S.push(I.charAt(P));return S.join("")}function Sn(C){return Ht.create("missing-app-config-values",{valueName:C})}ca("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ca("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class al{constructor(I,S,P){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const z=function As(C){if(!C||!C.options)throw Sn("App Configuration Object");if(!C.name)throw Sn("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:S}=C;for(const P of I)if(!S[P])throw Sn(P);return{appName:C.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:z,installations:S,analyticsProvider:P}}_delete(){return Promise.resolve()}}function Ms(C){return ur.apply(this,arguments)}function ur(){return(ur=(0,N.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(bf,{scope:Zr}),C.swRegistration.update().catch(()=>{})}catch(I){throw Ht.create("failed-service-worker-registration",{browserErrorMessage:I?.message})}})).apply(this,arguments)}function xs(){return(xs=(0,N.Z)(function*(C,I){if(!I&&!C.swRegistration&&(yield Ms(C)),I||!C.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Ht.create("invalid-sw-registration");C.swRegistration=I}})).apply(this,arguments)}function da(){return(da=(0,N.Z)(function*(C,I){I?C.vapidKey=I:C.vapidKey||(C.vapidKey=fu)})).apply(this,arguments)}function ln(){return ln=(0,N.Z)(function*(C,I){if(!navigator)throw Ht.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ht.create("permission-blocked");return yield function ll(C,I){return da.apply(this,arguments)}(C,I?.vapidKey),yield function Cu(C,I){return xs.apply(this,arguments)}(C,I?.serviceWorkerRegistration),function go(C){return aa.apply(this,arguments)}(C)}),ln.apply(this,arguments)}function _o(){return(_o=(0,N.Z)(function*(C,I,S){const P=function yo(C){switch(C){case Qi.NOTIFICATION_CLICKED:return"notification_open";case Qi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(I);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(P,{message_id:S[pu],message_name:S[gu],message_time:S[Tf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Rs(){return Rs=(0,N.Z)(function*(C,I){const S=I.data;if(!S.isFirebaseMessaging)return;C.onMessageHandler&&S.messageType===Qi.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(ua(S)):C.onMessageHandler.next(ua(S)));const P=S.data;(function Mt(C){return"object"==typeof C&&!!C&&pu in C})(P)&&"1"===P[mu]&&(yield function cr(C,I,S){return _o.apply(this,arguments)}(C,S.messageType,P))}),Rs.apply(this,arguments)}const Iu="@firebase/messaging",cl=C=>{const I=new al(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function Yr(C,I){return Rs.apply(this,arguments)}(I,S)),I},fa=C=>{const I=C.getProvider("messaging").getImmediate();return{getToken:P=>function ul(C,I){return ln.apply(this,arguments)}(I,P)}};function wu(){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,N.Z)(function*(){try{yield(0,ee.eu)()}catch{return!1}return typeof window<"u"&&(0,ee.hl)()&&(0,ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ha(){(0,re._registerComponent)(new ne.wA("messaging",cl,"PUBLIC")),(0,re._registerComponent)(new ne.wA("messaging-internal",fa,"PRIVATE")),(0,re.registerVersion)(Iu,"0.12.4"),(0,re.registerVersion)(Iu,"0.12.4","esm2017")}();const dl="analytics",Zc="firebase_id",Vn="origin",Ai=6e4,nn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xi="https://www.googletagmanager.com/gtag/js",An=new ge.Yd("@firebase/analytics"),dr=new ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Rf(C){if(!C.startsWith(Xi)){const I=dr.create("invalid-gtag-resource",{gtagURL:C});return An.warn(I.message),""}return C}function Kc(C){return Promise.all(C.map(I=>I.catch(S=>S)))}function Mi(){return(Mi=(0,N.Z)(function*(C,I,S,P,z,q){const ye=P[z];try{if(ye)yield I[ye];else{const Ve=(yield Kc(S)).find(x=>x.measurementId===z);Ve&&(yield I[Ve.appId])}}catch(He){An.error(He)}C("config",z,q)})).apply(this,arguments)}function Qr(){return(Qr=(0,N.Z)(function*(C,I,S,P,z){try{let q=[];if(z&&z.send_to){let ye=z.send_to;Array.isArray(ye)||(ye=[ye]);const He=yield Kc(S);for(const Ve of ye){const x=He.find(pt=>pt.measurementId===Ve),It=x&&I[x.appId];if(!It){q=[];break}q.push(It)}}0===q.length&&(q=Object.values(I)),yield Promise.all(q),C("event",P,z||{})}catch(q){An.error(q)}})).apply(this,arguments)}const Io=30,wo=new class pl{constructor(I={},S=1e3){this.throttleMetadata=I,this.intervalMillis=S}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,S){this.throttleMetadata[I]=S}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function gl(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Do(){return(Do=(0,N.Z)(function*(C){var I;const{appId:S,apiKey:P}=C,z={method:"GET",headers:gl(P)},q=nn.replace("{app-id}",S),ye=yield fetch(q,z);if(200!==ye.status&&304!==ye.status){let He="";try{const Ve=yield ye.json();null!==(I=Ve.error)&&void 0!==I&&I.message&&(He=Ve.error.message)}catch{}throw dr.create("config-fetch-failed",{httpStatus:ye.status,responseMessage:He})}return ye.json()})).apply(this,arguments)}function ks(){return(ks=(0,N.Z)(function*(C,I=wo,S){const{appId:P,apiKey:z,measurementId:q}=C.options;if(!P)throw dr.create("no-app-id");if(!z){if(q)return{measurementId:q,appId:P};throw dr.create("no-api-key")}const ye=I.getThrottleMetadata(P)||{backoffCount:0,throttleEndTimeMillis:Date.now()},He=new Su;return setTimeout((0,N.Z)(function*(){He.abort()}),void 0!==S?S:Ai),Jr({appId:P,apiKey:z,measurementId:q},ye,He,I)})).apply(this,arguments)}function Jr(C,I,S){return es.apply(this,arguments)}function es(){return es=(0,N.Z)(function*(C,{throttleEndTimeMillis:I,backoffCount:S},P,z=wo){var q;const{appId:ye,measurementId:He}=C;try{yield function ml(C,I){return new Promise((S,P)=>{const z=Math.max(I-Date.now(),0),q=setTimeout(S,z);C.addEventListener(()=>{clearTimeout(q),P(dr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(P,I)}catch(Ve){if(He)return An.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${He} provided in the "measurementId" field in the local Firebase config. [${Ve?.message}]`),{appId:ye,measurementId:He};throw Ve}try{const Ve=yield function Yc(C){return Do.apply(this,arguments)}(C);return z.deleteThrottleMetadata(ye),Ve}catch(Ve){const x=Ve;if(!function ts(C){if(!(C instanceof ee.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(x)){if(z.deleteThrottleMetadata(ye),He)return An.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${He} provided in the "measurementId" field in the local Firebase config. [${x?.message}]`),{appId:ye,measurementId:He};throw Ve}const It=503===Number(null===(q=x?.customData)||void 0===q?void 0:q.httpStatus)?(0,ee.$s)(S,z.intervalMillis,Io):(0,ee.$s)(S,z.intervalMillis),pt={throttleEndTimeMillis:Date.now()+It,backoffCount:S+1};return z.setThrottleMetadata(ye,pt),An.debug(`Calling attemptFetch again in ${It} millis`),Jr(C,pt,P,z)}}),es.apply(this,arguments)}class Su{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let Fs,Qt;function Ls(){return(Ls=(0,N.Z)(function*(C,I,S,P,z){if(z&&z.global)C("event",S,P);else{const q=yield I;C("event",S,Object.assign(Object.assign({},P),{send_to:q}))}})).apply(this,arguments)}function rs(){return(rs=(0,N.Z)(function*(){if(!(0,ee.hl)())return An.warn(dr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ee.eu)()}catch(C){return An.warn(dr.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function _a(){return _a=(0,N.Z)(function*(C,I,S,P,z,q,ye){var He;const Ve=function Os(C){return ks.apply(this,arguments)}(C);Ve.then(un=>{S[un.measurementId]=un.appId,C.options.measurementId&&un.measurementId!==C.options.measurementId&&An.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${un.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(un=>An.error(un)),I.push(Ve);const x=function Qc(){return rs.apply(this,arguments)}().then(un=>{if(un)return P.getId()}),[It,pt]=yield Promise.all([Ve,x]);(function xp(C){const I=window.document.getElementsByTagName("script");for(const S of Object.values(I))if(S.src&&S.src.includes(Xi)&&S.src.includes(C))return S;return null})(q)||function Tu(C,I){const S=function fl(C,I){let S;return window.trustedTypes&&(S=window.trustedTypes.createPolicy(C,I)),S}("firebase-js-sdk-policy",{createScriptURL:Rf}),P=document.createElement("script"),z=`${Xi}?l=${C}&id=${I}`;P.src=S?S?.createScriptURL(z):z,P.async=!0,document.head.appendChild(P)}(q,It.measurementId),Qt&&(z("consent","default",Qt),function Bs(C){Qt=C}(void 0)),z("js",new Date);const fr=null!==(He=ye?.config)&&void 0!==He?He:{};return fr[Vn]="firebase",fr.update=!0,null!=pt&&(fr[Zc]=pt),z("config",It.measurementId,fr),Fs&&(z("set",Fs),function ns(C){Fs=C}(void 0)),It.measurementId}),_a.apply(this,arguments)}class yl{constructor(I){this.app=I}_delete(){return delete Fr[this.app.options.appId],Promise.resolve()}}let Fr={},is=[];const Ri={};let vl,Bn,fi="dataLayer",bo="gtag",ya=!1;function Ea(C,I,S){!function El(){const C=[];if((0,ee.ru)()&&C.push("This is a browser extension environment."),(0,ee.zI)()||C.push("Cookies are not available."),C.length>0){const I=C.map((P,z)=>`(${z+1}) ${P}`).join(" "),S=dr.create("invalid-analytics-context",{errorInfo:I});An.warn(S.message)}}();const P=C.options.appId;if(!P)throw dr.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw dr.create("no-api-key");An.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Fr[P])throw dr.create("already-exists",{id:P});if(!ya){!function hl(C){let I=[];Array.isArray(window[C])?I=window[C]:window[C]=I}(fi);const{wrappedGtag:q,gtagCore:ye}=function qc(C,I,S,P,z){let q=function(...ye){window[P].push(arguments)};return window[z]&&"function"==typeof window[z]&&(q=window[z]),window[z]=function ga(C,I,S,P){function q(){return q=(0,N.Z)(function*(ye,He,Ve){try{"event"===ye?yield function Pf(C,I,S,P,z){return Qr.apply(this,arguments)}(C,I,S,He,Ve):"config"===ye?yield function Co(C,I,S,P,z,q){return Mi.apply(this,arguments)}(C,I,S,P,He,Ve):"consent"===ye?C("consent","update",Ve):C("set",He)}catch(x){An.error(x)}}),q.apply(this,arguments)}return function z(ye,He,Ve){return q.apply(this,arguments)}}(q,C,I,S),{gtagCore:q,wrappedGtag:window[z]}}(Fr,is,Ri,fi,bo);Bn=q,vl=ye,ya=!0}return Fr[P]=function Mu(C,I,S,P,z,q,ye){return _a.apply(this,arguments)}(C,is,Ri,I,vl,fi,S),new yl(C)}function Us(){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,N.Z)(function*(){if((0,ee.ru)()||!(0,ee.zI)()||!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch{return!1}})).apply(this,arguments)}const Xc="@firebase/analytics";!function ed(){(0,re._registerComponent)(new ne.wA(dl,(I,{options:S})=>Ea(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,re._registerComponent)(new ne.wA("analytics-internal",function C(I){try{const S=I.getProvider(dl).getImmediate();return{logEvent:(P,z,q)=>function Pi(C,I,S,P){C=(0,ee.m9)(C),function ma(C,I,S,P,z){return Ls.apply(this,arguments)}(Bn,Fr[C.app.options.appId],I,S,P).catch(z=>An.error(z))}(S,P,z,q)}}catch(S){throw dr.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,re.registerVersion)(Xc,"0.9.5"),(0,re.registerVersion)(Xc,"0.9.5","esm2017")}();var td=O(4408),Np=O(7565);const Ia=new class kf extends Np.v{}(class Pp extends td.o{constructor(I,S){super(I,S),this.scheduler=I,this.work=S}schedule(I,S=0){return S>0?super.schedule(I,S):(this.delay=S,this.state=I,this.scheduler.flush(this),this)}execute(I,S){return S>0||this.closed?super.execute(I,S):this._execute(I,S)}requestAsyncId(I,S,P=0){return null!=P&&P>0||null==P&&this.delay>0?super.requestAsyncId(I,S,P):(I.flush(this),0)}});var Ff=O(4986),Mn=O(576),xu=O(4482),So=O(5403),Ru=O(4671),Ni=O(9468),nd=O(5363);const Ao=new f.GfV("7.5.0"),js="__angularfire_symbol__analyticsIsSupportedValue",wa="__angularfire_symbol__analyticsIsSupported",Da="__angularfire_symbol__remoteConfigIsSupportedValue",Mo="__angularfire_symbol__remoteConfigIsSupported",rd="__angularfire_symbol__messagingIsSupportedValue",Nn="__angularfire_symbol__messagingIsSupported";function ba(C,I,S){if(I){if(1===I.length)return I[0];const q=I.filter(ye=>ye.app===S);if(1===q.length)return q[0]}return S.container.getProvider(C).getImmediate({optional:!0})}globalThis[wa]||(globalThis[wa]=Us().then(C=>globalThis[js]=C).catch(()=>globalThis[js]=!1)),globalThis[Nn]||(globalThis[Nn]=wu().then(C=>globalThis[rd]=C).catch(()=>globalThis[rd]=!1)),globalThis[Mo]||(globalThis[Mo]=vn().then(C=>globalThis[Da]=C).catch(()=>globalThis[Da]=!1));const $s=(C,I)=>{const S=I?[I]:(0,J.C6)(),P=[];return S.forEach(z=>{z.container.getProvider(C).instances.forEach(ye=>{P.includes(ye)||P.push(ye)})}),P};function ei(){}class On{constructor(I,S=Ia){this.zone=I,this.delegate=S}now(){return this.delegate.now()}schedule(I,S,P){const z=this.zone;return this.delegate.schedule(function(ye){z.runGuarded(()=>{I.apply(this,[ye])})},S,P)}}class Pu{constructor(I){this.zone=I,this.task=null}call(I,S){const P=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ei,{},ei,ei)),S.pipe(function Lr(C,I,S){const P=(0,Mn.m)(C)||I||S?{next:C,error:I,complete:S}:C;return P?(0,xu.e)((z,q)=>{var ye;null===(ye=P.subscribe)||void 0===ye||ye.call(P);let He=!0;z.subscribe((0,So.x)(q,Ve=>{var x;null===(x=P.next)||void 0===x||x.call(P,Ve),q.next(Ve)},()=>{var Ve;He=!1,null===(Ve=P.complete)||void 0===Ve||Ve.call(P),q.complete()},Ve=>{var x;He=!1,null===(x=P.error)||void 0===x||x.call(P,Ve),q.error(Ve)},()=>{var Ve,x;He&&(null===(Ve=P.unsubscribe)||void 0===Ve||Ve.call(P)),null===(x=P.finalize)||void 0===x||x.call(P)}))}):Ru.y}({next:P,complete:P,error:P})).subscribe(I).add(P)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Dl=(()=>{class C{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new On(Zone.current)),this.insideAngular=S.run(()=>new On(Zone.current,Ff.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(S){return new(S||C)(f.LFG(f.R0b))},C.\u0275prov=f.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function En(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function hi(C){return En(),function id(C){return function(S){return(S=S.lift(new Pu(C.ngZone))).pipe((0,Ni.R)(C.outsideAngular),(0,nd.Q)(C.insideAngular))}}(En())(C)}},2090:(nt,De,O)=>{O.d(De,{$s:()=>ft,BH:()=>he,DV:()=>Gr,Dv:()=>pn,GJ:()=>Gi,L:()=>ue,LL:()=>Ge,P0:()=>Me,Pz:()=>de,Sg:()=>Le,UG:()=>H,UI:()=>Xt,US:()=>ne,Wj:()=>ro,Wl:()=>Wt,Yr:()=>fe,ZB:()=>K,ZR:()=>rt,aH:()=>Te,b$:()=>ot,cI:()=>Vt,dS:()=>Di,eu:()=>ke,g5:()=>N,gK:()=>gn,gQ:()=>Pr,h$:()=>oe,hl:()=>Re,hu:()=>J,jU:()=>Oe,lb:()=>Gt,m9:()=>on,ne:()=>yt,p$:()=>U,pd:()=>Dn,r3:()=>Jn,ru:()=>Fe,tV:()=>B,uI:()=>ie,ug:()=>Nt,vZ:()=>jn,w1:()=>te,w9:()=>Hn,xO:()=>ri,xb:()=>Wr,z$:()=>Se,zI:()=>Je,zd:()=>dn});const f={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},J=function(L,F){if(!L)throw N(F)},N=function(L){return new Error("Firebase Database ("+f.SDK_VERSION+") INTERNAL ASSERT FAILED: "+L)},re=function(L){const F=[];let $=0;for(let le=0;le<L.length;le++){let Q=L.charCodeAt(le);Q<128?F[$++]=Q:Q<2048?(F[$++]=Q>>6|192,F[$++]=63&Q|128):55296==(64512&Q)&&le+1<L.length&&56320==(64512&L.charCodeAt(le+1))?(Q=65536+((1023&Q)<<10)+(1023&L.charCodeAt(++le)),F[$++]=Q>>18|240,F[$++]=Q>>12&63|128,F[$++]=Q>>6&63|128,F[$++]=63&Q|128):(F[$++]=Q>>12|224,F[$++]=Q>>6&63|128,F[$++]=63&Q|128)}return F},ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(L,F){if(!Array.isArray(L))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let Q=0;Q<L.length;Q+=3){const qe=L[Q],Ue=Q+1<L.length,Bt=Ue?L[Q+1]:0,mn=Q+2<L.length,an=mn?L[Q+2]:0;let Xn=(15&Bt)<<2|an>>6,zr=63&an;mn||(zr=64,Ue||(Xn=64)),le.push($[qe>>2],$[(3&qe)<<4|Bt>>4],$[Xn],$[zr])}return le.join("")},encodeString(L,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(L):this.encodeByteArray(re(L),F)},decodeString(L,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(L):function(L){const F=[];let $=0,le=0;for(;$<L.length;){const Q=L[$++];if(Q<128)F[le++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const qe=L[$++];F[le++]=String.fromCharCode((31&Q)<<6|63&qe)}else if(Q>239&&Q<365){const mn=((7&Q)<<18|(63&L[$++])<<12|(63&L[$++])<<6|63&L[$++])-65536;F[le++]=String.fromCharCode(55296+(mn>>10)),F[le++]=String.fromCharCode(56320+(1023&mn))}else{const qe=L[$++],Ue=L[$++];F[le++]=String.fromCharCode((15&Q)<<12|(63&qe)<<6|63&Ue)}}return F.join("")}(this.decodeStringToByteArray(L,F))},decodeStringToByteArray(L,F){this.init_();const $=F?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let Q=0;Q<L.length;){const qe=$[L.charAt(Q++)],Bt=Q<L.length?$[L.charAt(Q)]:0;++Q;const an=Q<L.length?$[L.charAt(Q)]:64;++Q;const bt=Q<L.length?$[L.charAt(Q)]:64;if(++Q,null==qe||null==Bt||null==an||null==bt)throw new ge;le.push(qe<<2|Bt>>4),64!==an&&(le.push(Bt<<4&240|an>>2),64!==bt&&le.push(an<<6&192|bt))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let L=0;L<this.ENCODED_VALS.length;L++)this.byteToCharMap_[L]=this.ENCODED_VALS.charAt(L),this.charToByteMap_[this.byteToCharMap_[L]]=L,this.byteToCharMapWebSafe_[L]=this.ENCODED_VALS_WEBSAFE.charAt(L),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[L]]=L,L>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(L)]=L,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(L)]=L)}}};class ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oe=function(L){const F=re(L);return ne.encodeByteArray(F,!0)},ue=function(L){return oe(L).replace(/\./g,"")},B=function(L){try{return ne.decodeString(L,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function U(L){return K(void 0,L)}function K(L,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===L&&(L={});break;case Array:L=[];break;default:return F}for(const $ in F)!F.hasOwnProperty($)||!je($)||(L[$]=K(L[$],F[$]));return L}function je(L){return"__proto__"!==L}const we=()=>{try{return function Ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const L=process.env.__FIREBASE_DEFAULTS__;return L?JSON.parse(L):void 0})()||(()=>{if(typeof document>"u")return;let L;try{L=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=L&&B(L[1]);return F&&JSON.parse(F)})()}catch(L){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${L}`)}},Me=L=>{const F=(L=>{var F,$;return null===($=null===(F=we())||void 0===F?void 0:F.emulatorHosts)||void 0===$?void 0:$[L]})(L);if(!F)return;const $=F.lastIndexOf(":");if($<=0||$+1===F.length)throw new Error(`Invalid host ${F} with no separate hostname and port!`);const le=parseInt(F.substring($+1),10);return"["===F[0]?[F.substring(1,$-1),le]:[F.substring(0,$),le]},Te=()=>{var L;return null===(L=we())||void 0===L?void 0:L.config},de=L=>{var F;return null===(F=we())||void 0===F?void 0:F[`_${L}`]};class he{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,$)=>{this.resolve=F,this.reject=$})}wrapCallback(F){return($,le)=>{$?this.reject($):this.resolve(le),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F($):F($,le))}}}function Le(L,F){if(L.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=F||"demo-project",Q=L.iat||0,qe=L.sub||L.user_id;if(!qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ue=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:Q,exp:Q+3600,auth_time:Q,sub:qe,user_id:qe,firebase:{sign_in_provider:"custom",identities:{}}},L);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(Ue)),""].join(".")}function Se(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Se())}function H(){var L;const F=null===(L=we())||void 0===L?void 0:L.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Oe(){return"object"==typeof self&&self.self===self}function Fe(){const L="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof L&&void 0!==L.id}function ot(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function te(){const L=Se();return L.indexOf("MSIE ")>=0||L.indexOf("Trident/")>=0}function fe(){return!0===f.NODE_CLIENT||!0===f.NODE_ADMIN}function Re(){try{return"object"==typeof indexedDB}catch{return!1}}function ke(){return new Promise((L,F)=>{try{let $=!0;const le="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(le);Q.onsuccess=()=>{Q.result.close(),$||self.indexedDB.deleteDatabase(le),L(!0)},Q.onupgradeneeded=()=>{$=!1},Q.onerror=()=>{var qe;F((null===(qe=Q.error)||void 0===qe?void 0:qe.message)||"")}}catch($){F($)}})}function Je(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class rt extends Error{constructor(F,$,le){super($),this.code=F,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,rt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ge.prototype.create)}}class Ge{constructor(F,$,le){this.service=F,this.serviceName=$,this.errors=le}create(F,...$){const le=$[0]||{},Q=`${this.service}/${F}`,qe=this.errors[F],Ue=qe?function Pt(L,F){return L.replace(it,($,le)=>{const Q=F[le];return null!=Q?String(Q):`<${le}?>`})}(qe,le):"Error";return new rt(Q,`${this.serviceName}: ${Ue} (${Q}).`,le)}}const it=/\{\$([^}]+)}/g;function Vt(L){return JSON.parse(L)}function Wt(L){return JSON.stringify(L)}const $t=function(L){let F={},$={},le={},Q="";try{const qe=L.split(".");F=Vt(B(qe[0])||""),$=Vt(B(qe[1])||""),Q=qe[2],le=$.d||{},delete $.d}catch{}return{header:F,claims:$,data:le,signature:Q}},Hn=function(L){const $=$t(L).claims;return!!$&&"object"==typeof $&&$.hasOwnProperty("iat")},Gi=function(L){const F=$t(L).claims;return"object"==typeof F&&!0===F.admin};function Jn(L,F){return Object.prototype.hasOwnProperty.call(L,F)}function Gr(L,F){if(Object.prototype.hasOwnProperty.call(L,F))return L[F]}function Wr(L){for(const F in L)if(Object.prototype.hasOwnProperty.call(L,F))return!1;return!0}function Xt(L,F,$){const le={};for(const Q in L)Object.prototype.hasOwnProperty.call(L,Q)&&(le[Q]=F.call($,L[Q],Q,L));return le}function jn(L,F){if(L===F)return!0;const $=Object.keys(L),le=Object.keys(F);for(const Q of $){if(!le.includes(Q))return!1;const qe=L[Q],Ue=F[Q];if(tt(qe)&&tt(Ue)){if(!jn(qe,Ue))return!1}else if(qe!==Ue)return!1}for(const Q of le)if(!$.includes(Q))return!1;return!0}function tt(L){return null!==L&&"object"==typeof L}function ri(L){const F=[];for(const[$,le]of Object.entries(L))Array.isArray(le)?le.forEach(Q=>{F.push(encodeURIComponent($)+"="+encodeURIComponent(Q))}):F.push(encodeURIComponent($)+"="+encodeURIComponent(le));return F.length?"&"+F.join("&"):""}function dn(L){const F={};return L.replace(/^\?/,"").split("&").forEach(le=>{if(le){const[Q,qe]=le.split("=");F[decodeURIComponent(Q)]=decodeURIComponent(qe)}}),F}function Dn(L){const F=L.indexOf("?");if(!F)return"";const $=L.indexOf("#",F);return L.substring(F,$>0?$:void 0)}class Pr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let F=1;F<this.blockSize;++F)this.pad_[F]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(F,$){$||($=0);const le=this.W_;if("string"==typeof F)for(let bt=0;bt<16;bt++)le[bt]=F.charCodeAt($)<<24|F.charCodeAt($+1)<<16|F.charCodeAt($+2)<<8|F.charCodeAt($+3),$+=4;else for(let bt=0;bt<16;bt++)le[bt]=F[$]<<24|F[$+1]<<16|F[$+2]<<8|F[$+3],$+=4;for(let bt=16;bt<80;bt++){const Xn=le[bt-3]^le[bt-8]^le[bt-14]^le[bt-16];le[bt]=4294967295&(Xn<<1|Xn>>>31)}let an,en,Q=this.chain_[0],qe=this.chain_[1],Ue=this.chain_[2],Bt=this.chain_[3],mn=this.chain_[4];for(let bt=0;bt<80;bt++){bt<40?bt<20?(an=Bt^qe&(Ue^Bt),en=1518500249):(an=qe^Ue^Bt,en=1859775393):bt<60?(an=qe&Ue|Bt&(qe|Ue),en=2400959708):(an=qe^Ue^Bt,en=3395469782);const Xn=(Q<<5|Q>>>27)+an+mn+en+le[bt]&4294967295;mn=Bt,Bt=Ue,Ue=4294967295&(qe<<30|qe>>>2),qe=Q,Q=Xn}this.chain_[0]=this.chain_[0]+Q&4294967295,this.chain_[1]=this.chain_[1]+qe&4294967295,this.chain_[2]=this.chain_[2]+Ue&4294967295,this.chain_[3]=this.chain_[3]+Bt&4294967295,this.chain_[4]=this.chain_[4]+mn&4294967295}update(F,$){if(null==F)return;void 0===$&&($=F.length);const le=$-this.blockSize;let Q=0;const qe=this.buf_;let Ue=this.inbuf_;for(;Q<$;){if(0===Ue)for(;Q<=le;)this.compress_(F,Q),Q+=this.blockSize;if("string"==typeof F){for(;Q<$;)if(qe[Ue]=F.charCodeAt(Q),++Ue,++Q,Ue===this.blockSize){this.compress_(qe),Ue=0;break}}else for(;Q<$;)if(qe[Ue]=F[Q],++Ue,++Q,Ue===this.blockSize){this.compress_(qe),Ue=0;break}}this.inbuf_=Ue,this.total_+=$}digest(){const F=[];let $=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Q=this.blockSize-1;Q>=56;Q--)this.buf_[Q]=255&$,$/=256;this.compress_(this.buf_);let le=0;for(let Q=0;Q<5;Q++)for(let qe=24;qe>=0;qe-=8)F[le]=this.chain_[Q]>>qe&255,++le;return F}}function yt(L,F){const $=new et(L,F);return $.subscribe.bind($)}class et{constructor(F,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{F(this)}).catch(le=>{this.error(le)})}next(F){this.forEachObserver($=>{$.next(F)})}error(F){this.forEachObserver($=>{$.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,$,le){let Q;if(void 0===F&&void 0===$&&void 0===le)throw new Error("Missing Observer.");Q=function zi(L,F){if("object"!=typeof L||null===L)return!1;for(const $ of F)if($ in L&&"function"==typeof L[$])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:$,complete:le},void 0===Q.next&&(Q.next=Ln),void 0===Q.error&&(Q.error=Ln),void 0===Q.complete&&(Q.complete=Ln);const qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch{}}),this.observers.push(Q),qe}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,F)}sendOne(F,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{$(this.observers[F])}catch(le){typeof console<"u"&&console.error&&console.error(le)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ln(){}const pn=function(L,F,$,le){let Q;if(le<F?Q="at least "+F:le>$&&(Q=0===$?"none":"no more than "+$),Q)throw new Error(L+" failed: Was called with "+le+(1===le?" argument.":" arguments.")+" Expects "+Q+".")};function gn(L,F){return`${L} failed: ${F} argument `}function ro(L,F,$,le){if((!le||$)&&"function"!=typeof $)throw new Error(gn(L,F)+"must be a valid function.")}function Gt(L,F,$,le){if((!le||$)&&("object"!=typeof $||null===$))throw new Error(gn(L,F)+"must be a valid context object.")}const Di=function(L){const F=[];let $=0;for(let le=0;le<L.length;le++){let Q=L.charCodeAt(le);if(Q>=55296&&Q<=56319){const qe=Q-55296;le++,J(le<L.length,"Surrogate pair missing trail surrogate."),Q=65536+(qe<<10)+(L.charCodeAt(le)-56320)}Q<128?F[$++]=Q:Q<2048?(F[$++]=Q>>6|192,F[$++]=63&Q|128):Q<65536?(F[$++]=Q>>12|224,F[$++]=Q>>6&63|128,F[$++]=63&Q|128):(F[$++]=Q>>18|240,F[$++]=Q>>12&63|128,F[$++]=Q>>6&63|128,F[$++]=63&Q|128)}return F},Nt=function(L){let F=0;for(let $=0;$<L.length;$++){const le=L.charCodeAt($);le<128?F++:le<2048?F+=2:le>=55296&&le<=56319?(F+=4,$++):F+=3}return F},wr=1e3,Ne=2,pe=144e5,Ze=.5;function ft(L,F=wr,$=Ne){const le=F*Math.pow($,L),Q=Math.round(Ze*le*(Math.random()-.5)*2);return Math.min(pe,le+Q)}function on(L){return L&&L._delegate?L._delegate:L}},9130:(nt,De,O)=>{var f=O(4650);let J=null;function N(){return J}class ee{}const ne=new f.OlP("DocumentToken");var Oe=(()=>((Oe=Oe||{})[Oe.Format=0]="Format",Oe[Oe.Standalone=1]="Standalone",Oe))(),Fe=(()=>((Fe=Fe||{})[Fe.Narrow=0]="Narrow",Fe[Fe.Abbreviated=1]="Abbreviated",Fe[Fe.Wide=2]="Wide",Fe[Fe.Short=3]="Short",Fe))(),ot=(()=>((ot=ot||{})[ot.Short=0]="Short",ot[ot.Medium=1]="Medium",ot[ot.Long=2]="Long",ot[ot.Full=3]="Full",ot))(),We=(()=>((We=We||{})[We.Decimal=0]="Decimal",We[We.Group=1]="Group",We[We.List=2]="List",We[We.PercentSign=3]="PercentSign",We[We.PlusSign=4]="PlusSign",We[We.MinusSign=5]="MinusSign",We[We.Exponential=6]="Exponential",We[We.SuperscriptingExponent=7]="SuperscriptingExponent",We[We.PerMille=8]="PerMille",We[We.Infinity=9]="Infinity",We[We.NaN=10]="NaN",We[We.TimeSeparator=11]="TimeSeparator",We[We.CurrencyDecimal=12]="CurrencyDecimal",We[We.CurrencyGroup=13]="CurrencyGroup",We))();function rt(r,t){return Xt((0,f.cg1)(r)[f.wAp.DateFormat],t)}function Ge(r,t){return Xt((0,f.cg1)(r)[f.wAp.TimeFormat],t)}function Pt(r,t){return Xt((0,f.cg1)(r)[f.wAp.DateTimeFormat],t)}function it(r,t){const e=(0,f.cg1)(r),o=e[f.wAp.NumberSymbols][t];if(typeof o>"u"){if(t===We.CurrencyDecimal)return e[f.wAp.NumberSymbols][We.Decimal];if(t===We.CurrencyGroup)return e[f.wAp.NumberSymbols][We.Group]}return o}function Gi(r){if(!r[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${r[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Xt(r,t){for(let e=t;e>-1;e--)if(typeof r[e]<"u")return r[e];throw new Error("Locale data API: locale data undefined")}function jn(r){const[t,e]=r.split(":");return{hours:+t,minutes:+e}}const dn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Dn={},Pr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var yt=(()=>((yt=yt||{})[yt.Short=0]="Short",yt[yt.ShortGMT=1]="ShortGMT",yt[yt.Long=2]="Long",yt[yt.Extended=3]="Extended",yt))(),et=(()=>((et=et||{})[et.FullYear=0]="FullYear",et[et.Month=1]="Month",et[et.Date=2]="Date",et[et.Hours=3]="Hours",et[et.Minutes=4]="Minutes",et[et.Seconds=5]="Seconds",et[et.FractionalSeconds=6]="FractionalSeconds",et[et.Day=7]="Day",et))(),ct=(()=>((ct=ct||{})[ct.DayPeriods=0]="DayPeriods",ct[ct.Days=1]="Days",ct[ct.Months=2]="Months",ct[ct.Eras=3]="Eras",ct))();function zi(r,t,e,o){let l=function Q(r){if(Ue(r))return r;if("number"==typeof r&&!isNaN(r))return new Date(r);if("string"==typeof r){if(r=r.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(r)){const[l,p=1,y=1]=r.split("-").map(w=>+w);return Ln(l,p-1,y)}const e=parseFloat(r);if(!isNaN(r-e))return new Date(e);let o;if(o=r.match(dn))return function qe(r){const t=new Date(0);let e=0,o=0;const l=r[8]?t.setUTCFullYear:t.setFullYear,p=r[8]?t.setUTCHours:t.setHours;r[9]&&(e=Number(r[9]+r[10]),o=Number(r[9]+r[11])),l.call(t,Number(r[1]),Number(r[2])-1,Number(r[3]));const y=Number(r[4]||0)-e,w=Number(r[5]||0)-o,T=Number(r[6]||0),R=Math.floor(1e3*parseFloat("0."+(r[7]||0)));return p.call(t,y,w,T,R),t}(o)}const t=new Date(r);if(!Ue(t))throw new Error(`Unable to convert "${r}" into a date`);return t}(r);t=pn(e,t)||t;let w,y=[];for(;t;){if(w=Pr.exec(t),!w){y.push(t);break}{y=y.concat(w.slice(1));const W=y.pop();if(!W)break;t=W}}let T=l.getTimezoneOffset();o&&(T=F(o,T),l=function le(r,t,e){const o=e?-1:1,l=r.getTimezoneOffset();return function $(r,t){return(r=new Date(r.getTime())).setMinutes(r.getMinutes()+t),r}(r,o*(F(t,l)-l))}(l,o,!0));let R="";return y.forEach(W=>{const G=function L(r){if(on[r])return on[r];let t;switch(r){case"G":case"GG":case"GGG":t=Nt(ct.Eras,Fe.Abbreviated);break;case"GGGG":t=Nt(ct.Eras,Fe.Wide);break;case"GGGGG":t=Nt(ct.Eras,Fe.Narrow);break;case"y":t=Gt(et.FullYear,1,0,!1,!0);break;case"yy":t=Gt(et.FullYear,2,0,!0,!0);break;case"yyy":t=Gt(et.FullYear,3,0,!1,!0);break;case"yyyy":t=Gt(et.FullYear,4,0,!1,!0);break;case"Y":t=Ot(1);break;case"YY":t=Ot(2,!0);break;case"YYY":t=Ot(3);break;case"YYYY":t=Ot(4);break;case"M":case"L":t=Gt(et.Month,1,1);break;case"MM":case"LL":t=Gt(et.Month,2,1);break;case"MMM":t=Nt(ct.Months,Fe.Abbreviated);break;case"MMMM":t=Nt(ct.Months,Fe.Wide);break;case"MMMMM":t=Nt(ct.Months,Fe.Narrow);break;case"LLL":t=Nt(ct.Months,Fe.Abbreviated,Oe.Standalone);break;case"LLLL":t=Nt(ct.Months,Fe.Wide,Oe.Standalone);break;case"LLLLL":t=Nt(ct.Months,Fe.Narrow,Oe.Standalone);break;case"w":t=st(1);break;case"ww":t=st(2);break;case"W":t=st(1,!0);break;case"d":t=Gt(et.Date,1);break;case"dd":t=Gt(et.Date,2);break;case"c":case"cc":t=Gt(et.Day,1);break;case"ccc":t=Nt(ct.Days,Fe.Abbreviated,Oe.Standalone);break;case"cccc":t=Nt(ct.Days,Fe.Wide,Oe.Standalone);break;case"ccccc":t=Nt(ct.Days,Fe.Narrow,Oe.Standalone);break;case"cccccc":t=Nt(ct.Days,Fe.Short,Oe.Standalone);break;case"E":case"EE":case"EEE":t=Nt(ct.Days,Fe.Abbreviated);break;case"EEEE":t=Nt(ct.Days,Fe.Wide);break;case"EEEEE":t=Nt(ct.Days,Fe.Narrow);break;case"EEEEEE":t=Nt(ct.Days,Fe.Short);break;case"a":case"aa":case"aaa":t=Nt(ct.DayPeriods,Fe.Abbreviated);break;case"aaaa":t=Nt(ct.DayPeriods,Fe.Wide);break;case"aaaaa":t=Nt(ct.DayPeriods,Fe.Narrow);break;case"b":case"bb":case"bbb":t=Nt(ct.DayPeriods,Fe.Abbreviated,Oe.Standalone,!0);break;case"bbbb":t=Nt(ct.DayPeriods,Fe.Wide,Oe.Standalone,!0);break;case"bbbbb":t=Nt(ct.DayPeriods,Fe.Narrow,Oe.Standalone,!0);break;case"B":case"BB":case"BBB":t=Nt(ct.DayPeriods,Fe.Abbreviated,Oe.Format,!0);break;case"BBBB":t=Nt(ct.DayPeriods,Fe.Wide,Oe.Format,!0);break;case"BBBBB":t=Nt(ct.DayPeriods,Fe.Narrow,Oe.Format,!0);break;case"h":t=Gt(et.Hours,1,-12);break;case"hh":t=Gt(et.Hours,2,-12);break;case"H":t=Gt(et.Hours,1);break;case"HH":t=Gt(et.Hours,2);break;case"m":t=Gt(et.Minutes,1);break;case"mm":t=Gt(et.Minutes,2);break;case"s":t=Gt(et.Seconds,1);break;case"ss":t=Gt(et.Seconds,2);break;case"S":t=Gt(et.FractionalSeconds,1);break;case"SS":t=Gt(et.FractionalSeconds,2);break;case"SSS":t=Gt(et.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=wr(yt.Short);break;case"ZZZZZ":t=wr(yt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=wr(yt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=wr(yt.Long);break;default:return null}return on[r]=t,t}(W);R+=G?G(l,e,T):"''"===W?"'":W.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),R}function Ln(r,t,e){const o=new Date(0);return o.setFullYear(r,t,e),o.setHours(0,0,0),o}function pn(r,t){const e=function ae(r){return(0,f.cg1)(r)[f.wAp.LocaleId]}(r);if(Dn[e]=Dn[e]||{},Dn[e][t])return Dn[e][t];let o="";switch(t){case"shortDate":o=rt(r,ot.Short);break;case"mediumDate":o=rt(r,ot.Medium);break;case"longDate":o=rt(r,ot.Long);break;case"fullDate":o=rt(r,ot.Full);break;case"shortTime":o=Ge(r,ot.Short);break;case"mediumTime":o=Ge(r,ot.Medium);break;case"longTime":o=Ge(r,ot.Long);break;case"fullTime":o=Ge(r,ot.Full);break;case"short":const l=pn(r,"shortTime"),p=pn(r,"shortDate");o=gn(Pt(r,ot.Short),[l,p]);break;case"medium":const y=pn(r,"mediumTime"),w=pn(r,"mediumDate");o=gn(Pt(r,ot.Medium),[y,w]);break;case"long":const T=pn(r,"longTime"),R=pn(r,"longDate");o=gn(Pt(r,ot.Long),[T,R]);break;case"full":const W=pn(r,"fullTime"),G=pn(r,"fullDate");o=gn(Pt(r,ot.Full),[W,G])}return o&&(Dn[e][t]=o),o}function gn(r,t){return t&&(r=r.replace(/\{([^}]+)}/g,function(e,o){return null!=t&&o in t?t[o]:e})),r}function Rn(r,t,e="-",o,l){let p="";(r<0||l&&r<=0)&&(l?r=1-r:(r=-r,p=e));let y=String(r);for(;y.length<t;)y="0"+y;return o&&(y=y.slice(y.length-t)),p+y}function Gt(r,t,e=0,o=!1,l=!1){return function(p,y){let w=function Di(r,t){switch(r){case et.FullYear:return t.getFullYear();case et.Month:return t.getMonth();case et.Date:return t.getDate();case et.Hours:return t.getHours();case et.Minutes:return t.getMinutes();case et.Seconds:return t.getSeconds();case et.FractionalSeconds:return t.getMilliseconds();case et.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${r}".`)}}(r,p);if((e>0||w>-e)&&(w+=e),r===et.Hours)0===w&&-12===e&&(w=12);else if(r===et.FractionalSeconds)return function ro(r,t){return Rn(r,3).substring(0,t)}(w,t);const T=it(y,We.MinusSign);return Rn(w,t,T,o,l)}}function Nt(r,t,e=Oe.Format,o=!1){return function(l,p){return function Ir(r,t,e,o,l,p){switch(e){case ct.Months:return function Re(r,t,e){const o=(0,f.cg1)(r),p=Xt([o[f.wAp.MonthsFormat],o[f.wAp.MonthsStandalone]],t);return Xt(p,e)}(t,l,o)[r.getMonth()];case ct.Days:return function Ce(r,t,e){const o=(0,f.cg1)(r),p=Xt([o[f.wAp.DaysFormat],o[f.wAp.DaysStandalone]],t);return Xt(p,e)}(t,l,o)[r.getDay()];case ct.DayPeriods:const y=r.getHours(),w=r.getMinutes();if(p){const R=function Jn(r){const t=(0,f.cg1)(r);return Gi(t),(t[f.wAp.ExtraData][2]||[]).map(o=>"string"==typeof o?jn(o):[jn(o[0]),jn(o[1])])}(t),W=function Gr(r,t,e){const o=(0,f.cg1)(r);Gi(o);const p=Xt([o[f.wAp.ExtraData][0],o[f.wAp.ExtraData][1]],t)||[];return Xt(p,e)||[]}(t,l,o),G=R.findIndex(X=>{if(Array.isArray(X)){const[me,xe]=X,ut=y>=me.hours&&w>=me.minutes,Ft=y<xe.hours||y===xe.hours&&w<xe.minutes;if(me.hours<xe.hours){if(ut&&Ft)return!0}else if(ut||Ft)return!0}else if(X.hours===y&&X.minutes===w)return!0;return!1});if(-1!==G)return W[G]}return function fe(r,t,e){const o=(0,f.cg1)(r),p=Xt([o[f.wAp.DayPeriodsFormat],o[f.wAp.DayPeriodsStandalone]],t);return Xt(p,e)}(t,l,o)[y<12?0:1];case ct.Eras:return function ke(r,t){return Xt((0,f.cg1)(r)[f.wAp.Eras],t)}(t,o)[r.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(l,p,r,t,e,o)}}function wr(r){return function(t,e,o){const l=-1*o,p=it(e,We.MinusSign),y=l>0?Math.floor(l/60):Math.ceil(l/60);switch(r){case yt.Short:return(l>=0?"+":"")+Rn(y,2,p)+Rn(Math.abs(l%60),2,p);case yt.ShortGMT:return"GMT"+(l>=0?"+":"")+Rn(y,1,p);case yt.Long:return"GMT"+(l>=0?"+":"")+Rn(y,2,p)+":"+Rn(Math.abs(l%60),2,p);case yt.Extended:return 0===o?"Z":(l>=0?"+":"")+Rn(y,2,p)+":"+Rn(Math.abs(l%60),2,p);default:throw new Error(`Unknown zone width "${r}"`)}}}const Ne=0,pe=4;function ft(r){return Ln(r.getFullYear(),r.getMonth(),r.getDate()+(pe-r.getDay()))}function st(r,t=!1){return function(e,o){let l;if(t){const p=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,y=e.getDate();l=1+Math.floor((y+p)/7)}else{const p=ft(e),y=function Ze(r){const t=Ln(r,Ne,1).getDay();return Ln(r,0,1+(t<=pe?pe:pe+7)-t)}(p.getFullYear()),w=p.getTime()-y.getTime();l=1+Math.round(w/6048e5)}return Rn(l,r,it(o,We.MinusSign))}}function Ot(r,t=!1){return function(e,o){return Rn(ft(e).getFullYear(),r,it(o,We.MinusSign),t)}}const on={};function F(r,t){r=r.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+r)/6e4;return isNaN(e)?t:e}function Ue(r){return r instanceof Date&&!isNaN(r.valueOf())}function ea(r,t){t=encodeURIComponent(t);for(const e of r.split(";")){const o=e.indexOf("="),[l,p]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(l.trim()===t)return decodeURIComponent(p)}return null}class Zi{constructor(t,e,o,l){this.$implicit=t,this.ngForOf=e,this.index=o,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yn=(()=>{class r{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,o,l){this._viewContainer=e,this._template=o,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=this._viewContainer;e.forEachOperation((l,p,y)=>{if(null==l.previousIndex)o.createEmbeddedView(this._template,new Zi(l.item,this._ngForOf,-1,-1),null===y?void 0:y);else if(null==y)o.remove(null===p?void 0:p);else if(null!==p){const w=o.get(p);o.move(w,y),Ti(w,l)}});for(let l=0,p=o.length;l<p;l++){const w=o.get(l).context;w.index=l,w.count=p,w.ngForOf=this._ngForOf}e.forEachIdentityChange(l=>{Ti(o.get(l.currentIndex),l)})}static ngTemplateContextGuard(e,o){return!0}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},r.\u0275dir=f.lG2({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),r})();function Ti(r,t){r.context.$implicit=t.item}let ii=(()=>{class r{constructor(e,o){this._viewContainer=e,this._context=new ta,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ct("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ct("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(f.s_b),f.Y36(f.Rgc))},r.\u0275dir=f.lG2({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),r})();class ta{constructor(){this.$implicit=null,this.ngIf=null}}function Ct(r,t){if(t&&!t.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,f.AaK)(t)}'.`)}const nl=new f.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Is=new f.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Or=(()=>{class r{constructor(e,o,l){this.locale=e,this.defaultTimezone=o,this.defaultOptions=l}transform(e,o,l,p){if(null==e||""===e||e!=e)return null;try{return zi(e,o??this.defaultOptions?.dateFormat??"mediumDate",p||this.locale,l??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(y){throw function St(r,t){return new f.vHH(2100,!1)}()}}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(f.soG,16),f.Y36(nl,24),f.Y36(Is,24))},r.\u0275pipe=f.Yjl({name:"date",type:r,pure:!0,standalone:!0}),r})(),_u=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({}),r})();class sa{}class hl extends ee{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Co extends hl{static makeCurrent(){!function re(r){J||(J=r)}(new Co)}onAndCancel(t,e,o){return t.addEventListener(e,o,!1),()=>{t.removeEventListener(e,o,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Pf(){return Mi=Mi||document.querySelector("base"),Mi?Mi.getAttribute("href"):null}();return null==e?null:function ga(r){Qr=Qr||document.createElement("a"),Qr.setAttribute("href",r);const t=Qr.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Mi=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ea(document.cookie,t)}}let Qr,Mi=null;const qc=new f.OlP("TRANSITION_ID"),Io=[{provide:f.ip1,useFactory:function xp(r,t,e){return()=>{e.get(f.CZH).donePromise.then(()=>{const o=N(),l=t.querySelectorAll(`style[ng-transition="${r}"]`);for(let p=0;p<l.length;p++)o.remove(l[p])})}},deps:[qc,ne,f.zs3],multi:!0}];let pl=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})();const wo=new f.OlP("EventManagerPlugins");let gl=(()=>{class r{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(l=>{l.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,o,l){return this._findPluginFor(o).addEventListener(e,o,l)}addGlobalEventListener(e,o,l){return this._findPluginFor(o).addGlobalEventListener(e,o,l)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const l=this._plugins;for(let p=0;p<l.length;p++){const y=l[p];if(y.supports(e))return this._eventNameToPlugin.set(e,y),y}throw new Error(`No event manager plugin found for event ${e}`)}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(wo),f.LFG(f.R0b))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})();class Yc{constructor(t){this._doc=t}addGlobalEventListener(t,e,o){const l=N().getGlobalEventTarget(this._doc,t);if(!l)throw new Error(`Unsupported event target ${l} for event ${e}`);return this.addEventListener(l,e,o)}}let Do=(()=>{class r{constructor(){this.usageCount=new Map}addStyles(e){for(const o of e)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(e){for(const o of e)0===this.changeUsageCount(o,-1)&&this.onStyleRemoved(o)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,o){const l=this.usageCount;let p=l.get(e)??0;return p+=o,p>0?l.set(e,p):l.delete(e),p}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})(),Os=(()=>{class r extends Do{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const o of this.hostNodes)this.addStyleToHost(o,e)}onStyleRemoved(e){const o=this.styleRef;o.get(e)?.forEach(p=>p.remove()),o.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const o of this.getAllStyles())this.addStyleToHost(e,o)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,o){const l=this.doc.createElement("style");l.textContent=o,e.appendChild(l);const p=this.styleRef.get(o);p?p.push(l):this.styleRef.set(o,[l])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(ne))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})();const ks={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Jr=/%COMP%/g,ma=new f.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function xi(r,t){return t.flat(100).map(e=>e.replace(Jr,r))}function Au(r){return t=>{if("__ngUnwrap__"===t)return r;!1===r(t)&&(t.preventDefault(),t.returnValue=!1)}}let Sr=(()=>{class r{constructor(e,o,l,p){this.eventManager=e,this.sharedStylesHost=o,this.appId=l,this.removeStylesOnCompDestory=p,this.rendererByCompId=new Map,this.defaultRenderer=new Ar(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;const l=this.getOrCreateRenderer(e,o);return l instanceof ns?l.applyToHost(e):l instanceof Bs&&l.applyStyles(),l}getOrCreateRenderer(e,o){const l=this.rendererByCompId;let p=l.get(o.id);if(!p){const y=this.eventManager,w=this.sharedStylesHost,T=this.removeStylesOnCompDestory;switch(o.encapsulation){case f.ifc.Emulated:p=new ns(y,w,o,this.appId,T);break;case f.ifc.ShadowDom:return new Qt(y,w,e,o);default:p=new Bs(y,w,o,T)}p.onDestroy=()=>l.delete(o.id),l.set(o.id,p)}return p}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(gl),f.LFG(Os),f.LFG(f.AFp),f.LFG(ma))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})();class Ar{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ks[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Vs(t)?t.content:t).appendChild(e)}insertBefore(t,e,o){t&&(Vs(t)?t.content:t).insertBefore(e,o)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let o="string"==typeof t?document.querySelector(t):t;if(!o)throw new Error(`The selector "${t}" did not match any elements`);return e||(o.textContent=""),o}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,o,l){if(l){e=l+":"+e;const p=ks[l];p?t.setAttributeNS(p,e,o):t.setAttribute(e,o)}else t.setAttribute(e,o)}removeAttribute(t,e,o){if(o){const l=ks[o];l?t.removeAttributeNS(l,e):t.removeAttribute(`${o}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,o,l){l&(f.JOm.DashCase|f.JOm.Important)?t.style.setProperty(e,o,l&f.JOm.Important?"important":""):t.style[e]=o}removeStyle(t,e,o){o&f.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,o){t[e]=o}setValue(t,e){t.nodeValue=e}listen(t,e,o){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Au(o)):this.eventManager.addEventListener(t,e,Au(o))}}function Vs(r){return"TEMPLATE"===r.tagName&&void 0!==r.content}class Qt extends Ar{constructor(t,e,o,l){super(t),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const p=xi(l.id,l.styles);for(const y of p){const w=document.createElement("style");w.textContent=y,this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,o){return super.insertBefore(this.nodeOrShadowRoot(t),e,o)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Bs extends Ar{constructor(t,e,o,l,p=o.id){super(t),this.sharedStylesHost=e,this.removeStylesOnCompDestory=l,this.rendererUsageCount=0,this.styles=xi(p,o.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ns extends Bs{constructor(t,e,o,l,p){const y=l+"-"+o.id;super(t,e,o,p,y),this.contentAttr=function Ls(r){return"_ngcontent-%COMP%".replace(Jr,r)}(y),this.hostAttr=function Rp(r){return"_nghost-%COMP%".replace(Jr,r)}(y)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const o=super.createElement(t,e);return super.setAttribute(o,this.contentAttr,""),o}}let Qc=(()=>{class r extends Yc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,l){return e.addEventListener(o,l,!1),()=>this.removeEventListener(e,o,l)}removeEventListener(e,o,l){return e.removeEventListener(o,l)}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(ne))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})();const rs=["alt","control","meta","shift"],Mu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_a={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let yl=(()=>{class r extends Yc{constructor(e){super(e)}supports(e){return null!=r.parseEventName(e)}addEventListener(e,o,l){const p=r.parseEventName(o),y=r.eventCallback(p.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(e,p.domEventName,y))}static parseEventName(e){const o=e.toLowerCase().split("."),l=o.shift();if(0===o.length||"keydown"!==l&&"keyup"!==l)return null;const p=r._normalizeKey(o.pop());let y="",w=o.indexOf("code");if(w>-1&&(o.splice(w,1),y="code."),rs.forEach(R=>{const W=o.indexOf(R);W>-1&&(o.splice(W,1),y+=R+".")}),y+=p,0!=o.length||0===p.length)return null;const T={};return T.domEventName=l,T.fullKey=y,T}static matchEventFullKeyCode(e,o){let l=Mu[e.key]||e.key,p="";return o.indexOf("code.")>-1&&(l=e.code,p="code."),!(null==l||!l)&&(l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),rs.forEach(y=>{y!==l&&(0,_a[y])(e)&&(p+=y+".")}),p+=l,p===o)}static eventCallback(e,o,l){return p=>{r.matchEventFullKeyCode(p,e)&&l.runGuarded(()=>o(p))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(ne))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})();const El=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:"browser"},{provide:f.g9A,useValue:function vl(){Co.makeCurrent()},multi:!0},{provide:ne,useFactory:function ya(){return(0,f.RDi)(document),document},deps:[]}]),Ea=new f.OlP(""),Cl=[{provide:f.rWj,useClass:class Ns{addToWindow(t){f.dqk.getAngularTestability=(o,l=!0)=>{const p=t.findTestabilityInTree(o,l);if(null==p)throw new Error("Could not find testability for element.");return p},f.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(o=>{const l=f.dqk.getAllAngularTestabilities();let p=l.length,y=!1;const w=function(T){y=y||T,p--,0==p&&o(y)};l.forEach(function(T){T.whenStable(w)})})}findTestabilityInTree(t,e,o){return null==e?null:t.getTestability(e)??(o?N().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:f.lri,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]}],Ca=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function Bn(){return new f.qLn},deps:[]},{provide:wo,useClass:Qc,multi:!0,deps:[ne,f.R0b,f.Lbi]},{provide:wo,useClass:yl,multi:!0,deps:[ne]},{provide:Sr,useClass:Sr,deps:[gl,Os,f.AFp,ma]},{provide:f.FYo,useExisting:Sr},{provide:Do,useExisting:Os},{provide:Os,useClass:Os,deps:[ne]},{provide:gl,useClass:gl,deps:[wo,f.R0b]},{provide:sa,useClass:pl,deps:[]},[]];let Us=(()=>{class r{constructor(e){}static withServerTransition(e){return{ngModule:r,providers:[{provide:f.AFp,useValue:e.appId},{provide:qc,useExisting:f.AFp},Io]}}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(Ea,12))},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({providers:[...Ca,...Cl],imports:[_u,f.hGG]}),r})();typeof window<"u"&&window;var Nn=O(727),Vr=O(7579),Br=O(4986),xo=O(8306),wl=O(7669),ba=O(8996);function $s(...r){const t=(0,wl.yG)(r);return(0,ba.D)(r,t)}var ei=O(266),On=O(4004),Pu=O(3099),Dl=O(8421),En=O(4482),Wn=O(5403);function Cn(r,t){return(0,En.e)((e,o)=>{let l=null,p=0,y=!1;const w=()=>y&&!l&&o.complete();e.subscribe((0,Wn.x)(o,T=>{l?.unsubscribe();let R=0;const W=p++;(0,Dl.Xf)(r(T,W)).subscribe(l=(0,Wn.x)(o,G=>o.next(t?t(T,G,W,R++):G),()=>{l=null,w()}))},()=>{y=!0,w()}))})}function Sa(r,t){return(0,En.e)(function Ta(r,t,e,o,l){return(p,y)=>{let w=e,T=t,R=0;p.subscribe((0,Wn.x)(y,W=>{const G=R++;T=w?r(T,W,G):(w=!0,W),o&&y.next(T)},l&&(()=>{w&&y.next(T),y.complete()})))}}(r,t,arguments.length>=2,!0))}var hi=O(4671);function Gs(r,t){return r===t}var Aa=O(5032),S=O(7184),P=O(2011),q=(O(6689),O(3942)),ye=O(4859),He=O(5861),Ve=O(9681),x=O(2090),It=O(1877);const pt="@firebase/database";let un="";function Oi(r){un=r}class Ma{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,x.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,x.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class ss{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,x.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const hr=function(r){try{if(typeof window<"u"&&typeof window[r]<"u"){const t=window[r];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ma(t)}}catch{}return new ss},zn=hr("localStorage"),ki=hr("sessionStorage"),Ro=new It.Yd("@firebase/database"),sd=function(){let r=1;return function(){return r++}}(),Nu=function(r){const t=(0,x.dS)(r),e=new x.gQ;e.update(t);const o=e.digest();return x.US.encodeByteArray(o)},Po=function(...r){let t="";for(let e=0;e<r.length;e++){const o=r[e];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?t+=Po.apply(null,o):t+="object"==typeof o?(0,x.Wl)(o):o,t+=" "}return t};let No=null,Lf=!0;const bl=function(r,t){(0,x.hu)(!t||!0===r||!1===r,"Can't turn on custom loggers persistently."),!0===r?(Ro.logLevel=It.in.VERBOSE,No=Ro.log.bind(Ro),t&&ki.set("logging_enabled",!0)):"function"==typeof r?No=r:(No=null,ki.remove("logging_enabled"))},Zn=function(...r){if(!0===Lf&&(Lf=!1,null===No&&!0===ki.get("logging_enabled")&&bl(!0)),No){const t=Po.apply(null,r);No(t)}},Tl=function(r){return function(...t){Zn(r,...t)}},Ou=function(...r){const t="FIREBASE INTERNAL ERROR: "+Po(...r);Ro.error(t)},os=function(...r){const t=`FIREBASE FATAL ERROR: ${Po(...r)}`;throw Ro.error(t),new Error(t)},pr=function(...r){const t="FIREBASE WARNING: "+Po(...r);Ro.warn(t)},Oo=function(r){return"number"==typeof r&&(r!=r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},as="[MIN_NAME]",pi="[MAX_NAME]",Ws=function(r,t){if(r===t)return 0;if(r===as||t===pi)return-1;if(t===as||r===pi)return 1;{const e=gr(r),o=gr(t);return null!==e?null!==o?e-o==0?r.length-t.length:e-o:-1:null!==o?1:r<t?-1:1}},Ur=function(r,t){return r===t?0:r<t?-1:1},Sl=function(r,t){if(t&&r in t)return t[r];throw new Error("Missing required key ("+r+") in object: "+(0,x.Wl)(t))},ad=function(r){if("object"!=typeof r||null===r)return(0,x.Wl)(r);const t=[];for(const o in r)t.push(o);t.sort();let e="{";for(let o=0;o<t.length;o++)0!==o&&(e+=","),e+=(0,x.Wl)(t[o]),e+=":",e+=ad(r[t[o]]);return e+="}",e},Vf=function(r,t){const e=r.length;if(e<=t)return[r];const o=[];for(let l=0;l<e;l+=t)o.push(r.substring(l,l+t>e?e:l+t));return o};function kn(r,t){for(const e in r)r.hasOwnProperty(e)&&t(e,r[e])}const ku=function(r){(0,x.hu)(!Oo(r),"Invalid JSON number");const o=1023;let l,p,y,w,T;0===r?(p=0,y=0,l=1/r==-1/0?1:0):(l=r<0,(r=Math.abs(r))>=Math.pow(2,1-o)?(w=Math.min(Math.floor(Math.log(r)/Math.LN2),o),p=w+o,y=Math.round(r*Math.pow(2,52-w)-Math.pow(2,52))):(p=0,y=Math.round(r/Math.pow(2,-1074))));const R=[];for(T=52;T;T-=1)R.push(y%2?1:0),y=Math.floor(y/2);for(T=11;T;T-=1)R.push(p%2?1:0),p=Math.floor(p/2);R.push(l?1:0),R.reverse();const W=R.join("");let G="";for(T=0;T<64;T+=8){let X=parseInt(W.substr(T,8),2).toString(16);1===X.length&&(X="0"+X),G+=X}return G.toLowerCase()},Fu=new RegExp("^-?(0*)\\d{1,10}$"),gr=function(r){if(Fu.test(r)){const t=Number(r);if(t>=-2147483648&&t<=2147483647)return t}return null},zs=function(r){try{r()}catch(t){setTimeout(()=>{throw pr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Bf=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Zs=function(r,t){const e=setTimeout(r,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class tr{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,o):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){pr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Al{constructor(t,e,o){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Zn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,o):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',pr(t)}}let xa=(()=>{class r{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return r.OWNER="owner",r})();const Vu=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ra="websocket",Bu="long_polling";class Hf{constructor(t,e,o,l,p=!1,y="",w=!1,T=!1){this.secure=e,this.namespace=o,this.webSocketOnly=l,this.nodeAdmin=p,this.persistenceKey=y,this.includeNamespaceInQueryParams=w,this.isUsingEmulator=T,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=zn.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&zn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function fd(r,t,e){let o;if((0,x.hu)("string"==typeof t,"typeof type must == string"),(0,x.hu)("object"==typeof e,"typeof params must == object"),t===Ra)o=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else{if(t!==Bu)throw new Error("Unknown connection type: "+t);o=(r.secure?"https://":"http://")+r.internalHost+"/.lp?"}(function ko(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams})(r)&&(e.ns=r.namespace);const l=[];return kn(e,(p,y)=>{l.push(p+"="+y)}),o+l.join("&")}class Uu{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,x.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,x.p$)(this.counters_)}}const Pa={},Na={};function Hu(r){const t=r.toString();return Pa[t]||(Pa[t]=new Uu),Pa[t]}class hd{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<o.length;++l)o[l]&&zs(()=>{this.onMessage_(o[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Mr{constructor(t,e,o,l,p,y,w){this.connId=t,this.repoInfo=e,this.applicationId=o,this.appCheckToken=l,this.authToken=p,this.transportSessionId=y,this.lastSessionId=w,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Tl(t),this.stats_=Hu(e),this.urlFn=T=>(this.appCheckToken&&(T.ac=this.appCheckToken),fd(e,Bu,T))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new hd(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(r){if((0,x.Yr)()||"complete"===document.readyState)r();else{let t=!1;const e=function(){document.body?t||(t=!0,r()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new zu((...p)=>{const[y,w,T,R,W]=p;if(this.incrementIncomingBytes_(p),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===y)this.id=w,this.password=T;else{if("close"!==y)throw new Error("Unrecognized command received: "+y);w?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(w,()=>{this.onClosed_()})):this.onClosed_()}},(...p)=>{const[y,w]=p;this.incrementIncomingBytes_(p),this.myPacketOrderer.handleResponse(y,w)},()=>{this.onClosed_()},this.urlFn);const o={start:"t"};o.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(o.cb=this.scriptTagHolder.uniqueCallbackIdentifier),o.v="5",this.transportSessionId&&(o.s=this.transportSessionId),this.lastSessionId&&(o.ls=this.lastSessionId),this.applicationId&&(o.p=this.applicationId),this.appCheckToken&&(o.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Vu.test(location.hostname)&&(o.r="f");const l=this.urlFn(o);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Mr.forceAllow_=!0}static forceDisallow(){Mr.forceDisallow_=!0}static isAvailable(){return!((0,x.Yr)()||!Mr.forceAllow_&&(Mr.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,x.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const o=(0,x.h$)(e),l=Vf(o,1840);for(let p=0;p<l.length;p++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[p]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,x.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const o={dframe:"t"};o.id=t,o.pw=e,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,x.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class zu{constructor(t,e,o,l){if(this.onDisconnect=o,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,x.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=sd(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=zu.createIFrame_();let p="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(p='<script>document.domain="'+document.domain+'";<\/script>');const y="<html><body>"+p+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(y),this.myIFrame.doc.close()}catch(w){Zn("frame writing exception"),w.stack&&Zn(w.stack),Zn(w)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Zn("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),o="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+o.length<=1870;){const y=this.pendingSegs.shift();o=o+"&seg"+l+"="+y.seg+"&ts"+l+"="+y.ts+"&d"+l+"="+y.d,l++}return e+=o,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,o){this.pendingSegs.push({seg:t,ts:e,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const o=()=>{this.outstandingRequests.delete(e),this.newRequest_()},l=setTimeout(o,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(l),o()})}addTag(t,e){(0,x.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const l=o.readyState;(!l||"loaded"===l||"complete"===l)&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),e())},o.onerror=()=>{Zn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}let md=null;typeof MozWebSocket<"u"?md=MozWebSocket:typeof WebSocket<"u"&&(md=WebSocket);let Fi=(()=>{class r{constructor(e,o,l,p,y,w,T){this.connId=e,this.applicationId=l,this.appCheckToken=p,this.authToken=y,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Tl(this.connId),this.stats_=Hu(o),this.connURL=r.connectionURL_(o,w,T,p,l),this.nodeAdmin=o.nodeAdmin}static connectionURL_(e,o,l,p,y){const w={v:"5"};return!(0,x.Yr)()&&typeof location<"u"&&location.hostname&&Vu.test(location.hostname)&&(w.r="f"),o&&(w.s=o),l&&(w.ls=l),p&&(w.ac=p),y&&(w.p=y),fd(e,Ra,w)}open(e,o){this.onDisconnect=o,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,zn.set("previous_websocket_failure",!0);try{let l;if((0,x.Yr)()){l={headers:{"User-Agent":`Firebase/5/${un}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(l.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(l.headers["X-Firebase-AppCheck"]=this.appCheckToken);const y=process.env,w=0===this.connURL.indexOf("wss://")?y.HTTPS_PROXY||y.https_proxy:y.HTTP_PROXY||y.http_proxy;w&&(l.proxy={origin:w})}this.mySock=new md(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const p=l.message||l.data;return p&&this.log_(p),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const p=l.message||l.data;p&&this.log_(p),this.onClosed_()}}start(){}static forceDisallow(){r.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);l&&l.length>1&&parseFloat(l[1])<4.4&&(e=!0)}return!e&&null!==md&&!r.forceDisallow_}static previouslyFailed(){return zn.isInMemoryStorage||!0===zn.get("previous_websocket_failure")}markConnectionHealthy(){zn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const o=this.frames.join("");this.frames=null;const l=(0,x.cI)(o);this.onMessage(l)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,x.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const o=Number(e);if(!isNaN(o))return this.handleNewFrameCount_(o),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const o=e.data;if(this.bytesReceived+=o.length,this.stats_.incrementCounter("bytes_received",o.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(o);else{const l=this.extractFrameCount_(o);null!==l&&this.appendFrame_(l)}}send(e){this.resetKeepAlive();const o=(0,x.Wl)(e);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const l=Vf(o,16384);l.length>1&&this.sendString_(String(l.length));for(let p=0;p<l.length;p++)this.sendString_(l[p])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(o){this.log_("Exception thrown from WebSocket.send():",o.message||o.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return r.responsesRequiredToBeHealthy=2,r.healthyTimeout=3e4,r})(),Zu=(()=>{class r{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Mr,Fi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const o=Fi&&Fi.isAvailable();let l=o&&!Fi.previouslyFailed();if(e.webSocketOnly&&(o||pr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[Fi];else{const p=this.transports_=[];for(const y of r.ALL_TRANSPORTS)y&&y.isAvailable()&&p.push(y);r.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return r.globalTransportInitialized_=!1,r})();class Qf{constructor(t,e,o,l,p,y,w,T,R,W){this.id=t,this.repoInfo_=e,this.applicationId_=o,this.appCheckToken_=l,this.authToken_=p,this.onMessage_=y,this.onReady_=w,this.onDisconnect_=T,this.onKill_=R,this.lastSessionId=W,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Tl("c:"+this.id+":"),this.transportManager_=new Zu(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,o)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=Zs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Sl("t",t),o=Sl("d",t);if("c"===e)this.onSecondaryControl_(o);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(o)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Sl("t",t),o=Sl("d",t);"c"===e?this.onControl_(o):"d"===e&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Sl("t",t);if("d"in t){const o=t.d;if("h"===e){const l=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(o):"r"===e?this.onReset_(o):"e"===e?Ou("Server Error: "+o):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ou("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,o=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==o&&pr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,o),Zs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Zs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(zn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Fa{put(t,e,o,l){}merge(t,e,o,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,o){}onDisconnectMerge(t,e,o){}onDisconnectCancel(t,e){}reportStats(t){}}class Jf{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,x.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let l=0;l<o.length;l++)o[l].callback.apply(o[l].context,e)}}on(t,e,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:o});const l=this.getInitialEvent(t);l&&e.apply(o,l)}off(t,e,o){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let p=0;p<l.length;p++)if(l[p].callback===e&&(!o||o===l[p].context))return void l.splice(p,1)}validateEventType_(t){(0,x.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class La extends Jf{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,x.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new La}getInitialEvent(t){return(0,x.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const vd=32,kl=768;class Ut{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let o=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[o]=this.pieces_[l],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function xt(){return new Ut("")}function Tt(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function Li(r){return r.pieces_.length-r.pieceNum_}function zt(r){let t=r.pieceNum_;return t<r.pieces_.length&&t++,new Ut(r.pieces_,t)}function Qu(r){return r.pieceNum_<r.pieces_.length?r.pieces_[r.pieces_.length-1]:null}function Lo(r,t=0){return r.pieces_.slice(r.pieceNum_+t)}function Cd(r){if(r.pieceNum_>=r.pieces_.length)return null;const t=[];for(let e=r.pieceNum_;e<r.pieces_.length-1;e++)t.push(r.pieces_[e]);return new Ut(t,0)}function At(r,t){const e=[];for(let o=r.pieceNum_;o<r.pieces_.length;o++)e.push(r.pieces_[o]);if(t instanceof Ut)for(let o=t.pieceNum_;o<t.pieces_.length;o++)e.push(t.pieces_[o]);else{const o=t.split("/");for(let l=0;l<o.length;l++)o[l].length>0&&e.push(o[l])}return new Ut(e,0)}function mt(r){return r.pieceNum_>=r.pieces_.length}function Kn(r,t){const e=Tt(r),o=Tt(t);if(null===e)return t;if(e===o)return Kn(zt(r),zt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+r+")")}function Xf(r,t){const e=Lo(r,0),o=Lo(t,0);for(let l=0;l<e.length&&l<o.length;l++){const p=Ws(e[l],o[l]);if(0!==p)return p}return e.length===o.length?0:e.length<o.length?-1:1}function Va(r,t){if(Li(r)!==Li(t))return!1;for(let e=r.pieceNum_,o=t.pieceNum_;e<=r.pieces_.length;e++,o++)if(r.pieces_[e]!==t.pieces_[o])return!1;return!0}function mr(r,t){let e=r.pieceNum_,o=t.pieceNum_;if(Li(r)>Li(t))return!1;for(;e<r.pieces_.length;){if(r.pieces_[e]!==t.pieces_[o])return!1;++e,++o}return!0}class zp{constructor(t,e){this.errorPrefix_=e,this.parts_=Lo(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=(0,x.ug)(this.parts_[o]);ls(this)}}function ls(r){if(r.byteLength_>kl)throw new Error(r.errorPrefix_+"has a key path longer than "+kl+" bytes ("+r.byteLength_+").");if(r.parts_.length>vd)throw new Error(r.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+vd+") or object contains a cycle "+qs(r))}function qs(r){return 0===r.parts_.length?"":"in property '"+r.parts_.join(".")+"'"}class Vi extends Jf{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}static getInstance(){return new Vi}getInitialEvent(t){return(0,x.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const us=1e3;let Ll,nr=(()=>{class r extends Fa{constructor(e,o,l,p,y,w,T,R){if(super(),this.repoInfo_=e,this.applicationId_=o,this.onDataUpdate_=l,this.onConnectStatus_=p,this.onServerInfoUpdate_=y,this.authTokenProvider_=w,this.appCheckTokenProvider_=T,this.authOverride_=R,this.id=r.nextPersistentConnectionId_++,this.log_=Tl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=us,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,R&&!(0,x.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Vi.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&La.getInstance().on("online",this.onOnline_,this)}sendRequest(e,o,l){const p=++this.requestNumber_,y={r:p,a:e,b:o};this.log_((0,x.Wl)(y)),(0,x.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(y),l&&(this.requestCBHash_[p]=l)}get(e){this.initConnection_();const o=new x.BH,p={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:w=>{const T=w.d;"ok"===w.s?o.resolve(T):o.reject(T)}};return this.outstandingGets_.push(p),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),o.promise}listen(e,o,l,p){this.initConnection_();const y=e._queryIdentifier,w=e._path.toString();this.log_("Listen called for "+w+" "+y),this.listens.has(w)||this.listens.set(w,new Map),(0,x.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,x.hu)(!this.listens.get(w).has(y),"listen() called twice for same path/queryId.");const T={onComplete:p,hashFn:o,query:e,tag:l};this.listens.get(w).set(y,T),this.connected_&&this.sendListen_(T)}sendGet_(e){const o=this.outstandingGets_[e];this.sendRequest("g",o.request,l=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),o.onComplete&&o.onComplete(l)})}sendListen_(e){const o=e.query,l=o._path.toString(),p=o._queryIdentifier;this.log_("Listen on "+l+" for "+p);const y={p:l};e.tag&&(y.q=o._queryObject,y.t=e.tag),y.h=e.hashFn(),this.sendRequest("q",y,T=>{const R=T.d,W=T.s;r.warnOnListenWarnings_(R,o),(this.listens.get(l)&&this.listens.get(l).get(p))===e&&(this.log_("listen response",T),"ok"!==W&&this.removeListen_(l,p),e.onComplete&&e.onComplete(W,R))})}static warnOnListenWarnings_(e,o){if(e&&"object"==typeof e&&(0,x.r3)(e,"w")){const l=(0,x.DV)(e,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const p='".indexOn": "'+o._queryParams.getIndex().toString()+'"',y=o._path.toString();pr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${p} at ${y} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,x.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,o=(0,x.w9)(e)?"auth":"gauth",l={cred:e};null===this.authOverride_?l.noauth=!0:"object"==typeof this.authOverride_&&(l.authvar=this.authOverride_),this.sendRequest(o,l,p=>{const y=p.s,w=p.d||"error";this.authToken_===e&&("ok"===y?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(y,w))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const o=e.s,l=e.d||"error";"ok"===o?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(o,l)})}unlisten(e,o){const l=e._path.toString(),p=e._queryIdentifier;this.log_("Unlisten called for "+l+" "+p),(0,x.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,p)&&this.connected_&&this.sendUnlisten_(l,p,e._queryObject,o)}sendUnlisten_(e,o,l,p){this.log_("Unlisten on "+e+" for "+o);const y={p:e};p&&(y.q=l,y.t=p),this.sendRequest("n",y)}onDisconnectPut(e,o,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,o,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:o,onComplete:l})}onDisconnectMerge(e,o,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,o,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:o,onComplete:l})}onDisconnectCancel(e,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:o})}sendOnDisconnect_(e,o,l,p){const y={p:o,d:l};this.log_("onDisconnect "+e,y),this.sendRequest(e,y,w=>{p&&setTimeout(()=>{p(w.s,w.d)},Math.floor(0))})}put(e,o,l,p){this.putInternal("p",e,o,l,p)}merge(e,o,l,p){this.putInternal("m",e,o,l,p)}putInternal(e,o,l,p,y){this.initConnection_();const w={p:o,d:l};void 0!==y&&(w.h=y),this.outstandingPuts_.push({action:e,request:w,onComplete:p}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+o)}sendPut_(e){const o=this.outstandingPuts_[e].action,l=this.outstandingPuts_[e].request,p=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(o,l,y=>{this.log_(o+" response",y),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),p&&p(y.s,y.d)})}reportStats(e){if(this.connected_){const o={c:e};this.log_("reportStats",o),this.sendRequest("s",o,l=>{"ok"!==l.s&&this.log_("reportStats","Error sending stats: "+l.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,x.Wl)(e));const o=e.r,l=this.requestCBHash_[o];l&&(delete this.requestCBHash_[o],l(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,o){this.log_("handleServerMessage",e,o),"d"===e?this.onDataUpdate_(o.p,o.d,!1,o.t):"m"===e?this.onDataUpdate_(o.p,o.d,!0,o.t):"c"===e?this.onListenRevoked_(o.p,o.q):"ac"===e?this.onAuthRevoked_(o.s,o.d):"apc"===e?this.onAppCheckRevoked_(o.s,o.d):"sd"===e?this.onSecurityDebugPacket_(o):Ou("Unrecognized action received from server: "+(0,x.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,x.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=us,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=us,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=us),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let o=Math.max(0,this.reconnectDelay_-e);o=Math.random()*o,this.log_("Trying to reconnect in "+o+"ms"),this.scheduleConnect_(o),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,He.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const o=e.onDataMessage_.bind(e),l=e.onReady_.bind(e),p=e.onRealtimeDisconnect_.bind(e),y=e.id+":"+r.nextConnectionId_++,w=e.lastSessionId;let T=!1,R=null;const W=function(){R?R.close():(T=!0,p())};e.realtime_={close:W,sendRequest:function(me){(0,x.hu)(R,"sendRequest call when we're not connected not allowed."),R.sendRequest(me)}};const X=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[me,xe]=yield Promise.all([e.authTokenProvider_.getToken(X),e.appCheckTokenProvider_.getToken(X)]);T?Zn("getToken() completed but was canceled"):(Zn("getToken() completed. Creating connection."),e.authToken_=me&&me.accessToken,e.appCheckToken_=xe&&xe.token,R=new Qf(y,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,o,l,p,ut=>{pr(ut+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},w))}catch(me){e.log_("Failed to get token: "+me),T||(e.repoInfo_.nodeAdmin&&pr(me),W())}}})()}interrupt(e){Zn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Zn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,x.xb)(this.interruptReasons_)&&(this.reconnectDelay_=us,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const o=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:o})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const o=this.outstandingPuts_[e];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,o){let l;l=o?o.map(y=>ad(y)).join("$"):"default";const p=this.removeListen_(e,l);p&&p.onComplete&&p.onComplete("permission_denied")}removeListen_(e,o){const l=new Ut(e).toString();let p;if(this.listens.has(l)){const y=this.listens.get(l);p=y.get(o),y.delete(o),0===y.size&&this.listens.delete(l)}else p=void 0;return p}onAuthRevoked_(e,o){Zn("Auth token revoked: "+e+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,o){Zn("App check token revoked: "+e+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const o of e.values())this.sendListen_(o);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let o="js";(0,x.Yr)()&&(o=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+o+"."+un.replace(/\./g,"-")]=1,(0,x.uI)()?e["framework.cordova"]=1:(0,x.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=La.getInstance().currentlyOnline();return(0,x.xb)(this.interruptReasons_)&&e}}return r.nextPersistentConnectionId_=0,r.nextConnectionId_=0,r})();class wt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new wt(t,e)}}class Fl{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const o=new wt(as,t),l=new wt(as,e);return 0!==this.compare(o,l)}minPost(){return wt.MIN}}class ih extends Fl{static get __EMPTY_NODE(){return Ll}static set __EMPTY_NODE(t){Ll=t}compare(t,e){return Ws(t.name,e.name)}isDefinedOn(t){throw(0,x.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return wt.MIN}maxPost(){return new wt(pi,Ll)}makePost(t,e){return(0,x.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new wt(t,Ll)}toString(){return".key"}}const xr=new ih;class ti{constructor(t,e,o,l,p=null){this.isReverse_=l,this.resultGenerator_=p,this.nodeStack_=[];let y=1;for(;!t.isEmpty();)if(y=e?o(t.key,e):1,l&&(y*=-1),y<0)t=this.isReverse_?t.left:t.right;else{if(0===y){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let d,_r=(()=>{class r{constructor(e,o,l,p,y){this.key=e,this.value=o,this.color=l??r.RED,this.left=p??yr.EMPTY_NODE,this.right=y??yr.EMPTY_NODE}copy(e,o,l,p,y){return new r(e??this.key,o??this.value,l??this.color,p??this.left,y??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,o,l){let p=this;const y=l(e,p.key);return p=y<0?p.copy(null,null,null,p.left.insert(e,o,l),null):0===y?p.copy(null,o,null,null,null):p.copy(null,null,null,null,p.right.insert(e,o,l)),p.fixUp_()}removeMin_(){if(this.left.isEmpty())return yr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,o){let l,p;if(l=this,o(e,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(e,o),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),0===o(e,l.key)){if(l.right.isEmpty())return yr.EMPTY_NODE;p=l.right.min_(),l=l.copy(p.key,p.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(e,o))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,o)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return r.RED=!0,r.BLACK=!1,r})();class yr{constructor(t,e=yr.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new yr(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,_r.BLACK,null,null))}remove(t){return new yr(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,_r.BLACK,null,null))}get(t){let e,o=this.root_;for(;!o.isEmpty();){if(e=this.comparator_(t,o.key),0===e)return o.value;e<0?o=o.left:e>0&&(o=o.right)}return null}getPredecessorKey(t){let e,o=this.root_,l=null;for(;!o.isEmpty();){if(e=this.comparator_(t,o.key),0===e){if(o.left.isEmpty())return l?l.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}e<0?o=o.left:e>0&&(l=o,o=o.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ti(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new ti(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new ti(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new ti(this.root_,null,this.comparator_,!0,t)}}function g(r,t){return Ws(r.name,t.name)}function c(r,t){return Ws(r,t)}yr.EMPTY_NODE=new class sh{copy(t,e,o,l,p){return this}insert(t,e,o){return new _r(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const D=function(r){return"number"==typeof r?"number:"+ku(r):"string:"+r},A=function(r){if(r.isLeafNode()){const t=r.val();(0,x.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,x.r3)(t,".sv"),"Priority must be a string or number.")}else(0,x.hu)(r===d||r.isEmpty(),"priority of unexpected type.");(0,x.hu)(r===d||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let V,Ie,Pe,Z=(()=>{class r{constructor(e,o=r.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=o,this.lazyHash_=null,(0,x.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),A(this.priorityNode_)}static set __childrenNodeConstructor(e){V=e}static get __childrenNodeConstructor(){return V}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new r(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:r.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return mt(e)?this:".priority"===Tt(e)?this.priorityNode_:r.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,o){return null}updateImmediateChild(e,o){return".priority"===e?this.updatePriority(o):o.isEmpty()&&".priority"!==e?this:r.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,o).updatePriority(this.priorityNode_)}updateChild(e,o){const l=Tt(e);return null===l?o:o.isEmpty()&&".priority"!==l?this:((0,x.hu)(".priority"!==l||1===Li(e),".priority must be the last token in a path"),this.updateImmediateChild(l,r.__childrenNodeConstructor.EMPTY_NODE.updateChild(zt(e),o)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,o){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+D(this.priorityNode_.val())+":");const o=typeof this.value_;e+=o+":",e+="number"===o?ku(this.value_):this.value_,this.lazyHash_=Nu(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===r.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof r.__childrenNodeConstructor?-1:((0,x.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const o=typeof e.value_,l=typeof this.value_,p=r.VALUE_TYPE_ORDER.indexOf(o),y=r.VALUE_TYPE_ORDER.indexOf(l);return(0,x.hu)(p>=0,"Unknown leaf type: "+o),(0,x.hu)(y>=0,"Unknown leaf type: "+l),p===y?"object"===l?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:y-p}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return r.VALUE_TYPE_ORDER=["object","boolean","number","string"],r})();const Rt=new class cn extends Fl{compare(t,e){const o=t.node.getPriority(),l=e.node.getPriority(),p=o.compareTo(l);return 0===p?Ws(t.name,e.name):p}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return wt.MIN}maxPost(){return new wt(pi,new Z("[PRIORITY-POST]",Pe))}makePost(t,e){const o=Ie(t);return new wt(e,new Z("[PRIORITY-POST]",o))}toString(){return".priority"}},Vo=Math.log(2);class oh{constructor(t){this.count=parseInt(Math.log(t+1)/Vo,10),this.current_=this.count-1;const l=(p=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ys=function(r,t,e,o){r.sort(t);const l=function(T,R){const W=R-T;let G,X;if(0===W)return null;if(1===W)return G=r[T],X=e?e(G):G,new _r(X,G.node,_r.BLACK,null,null);{const me=parseInt(W/2,10)+T,xe=l(T,me),ut=l(me+1,R);return G=r[me],X=e?e(G):G,new _r(X,G.node,_r.BLACK,xe,ut)}},w=function(T){let R=null,W=null,G=r.length;const X=function(xe,ut){const Ft=G-xe,Lt=G;G-=xe;const fn=l(Ft+1,Lt),$r=r[Ft],hn=e?e($r):$r;me(new _r(hn,$r.node,ut,null,fn))},me=function(xe){R?(R.left=xe,R=xe):(W=xe,R=xe)};for(let xe=0;xe<T.count;++xe){const ut=T.nextBitIsOne(),Ft=Math.pow(2,T.count-(xe+1));ut?X(Ft,_r.BLACK):(X(Ft,_r.BLACK),X(Ft,_r.RED))}return W}(new oh(r.length));return new yr(o||t,w)};let Ju;const Zt={};class gi{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,x.hu)(Zt&&Rt,"ChildrenNode.ts has not been loaded"),Ju=Ju||new gi({".priority":Zt},{".priority":Rt}),Ju}get(t){const e=(0,x.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof yr?e:null}hasIndex(t){return(0,x.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,x.hu)(t!==xr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let l=!1;const p=e.getIterator(wt.Wrap);let w,y=p.getNext();for(;y;)l=l||t.isDefinedOn(y.node),o.push(y),y=p.getNext();w=l?Ys(o,t.getCompare()):Zt;const T=t.toString(),R=Object.assign({},this.indexSet_);R[T]=t;const W=Object.assign({},this.indexes_);return W[T]=w,new gi(W,R)}addToIndexes(t,e){const o=(0,x.UI)(this.indexes_,(l,p)=>{const y=(0,x.DV)(this.indexSet_,p);if((0,x.hu)(y,"Missing index implementation for "+p),l===Zt){if(y.isDefinedOn(t.node)){const w=[],T=e.getIterator(wt.Wrap);let R=T.getNext();for(;R;)R.name!==t.name&&w.push(R),R=T.getNext();return w.push(t),Ys(w,y.getCompare())}return Zt}{const w=e.get(t.name);let T=l;return w&&(T=T.remove(new wt(t.name,w))),T.insert(t,t.node)}});return new gi(o,this.indexSet_)}removeFromIndexes(t,e){const o=(0,x.UI)(this.indexes_,l=>{if(l===Zt)return l;{const p=e.get(t.name);return p?l.remove(new wt(t.name,p)):l}});return new gi(o,this.indexSet_)}}let Ba,_t=(()=>{class r{constructor(e,o,l){this.children_=e,this.priorityNode_=o,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&A(this.priorityNode_),this.children_.isEmpty()&&(0,x.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ba||(Ba=new r(new yr(c),null,gi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ba}updatePriority(e){return this.children_.isEmpty()?this:new r(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const o=this.children_.get(e);return null===o?Ba:o}}getChild(e){const o=Tt(e);return null===o?this:this.getImmediateChild(o).getChild(zt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,o){if((0,x.hu)(o,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(o);{const l=new wt(e,o);let p,y;o.isEmpty()?(p=this.children_.remove(e),y=this.indexMap_.removeFromIndexes(l,this.children_)):(p=this.children_.insert(e,o),y=this.indexMap_.addToIndexes(l,this.children_));const w=p.isEmpty()?Ba:this.priorityNode_;return new r(p,w,y)}}updateChild(e,o){const l=Tt(e);if(null===l)return o;{(0,x.hu)(".priority"!==Tt(e)||1===Li(e),".priority must be the last token in a path");const p=this.getImmediateChild(l).updateChild(zt(e),o);return this.updateImmediateChild(l,p)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const o={};let l=0,p=0,y=!0;if(this.forEachChild(Rt,(w,T)=>{o[w]=T.val(e),l++,y&&r.INTEGER_REGEXP_.test(w)?p=Math.max(p,Number(w)):y=!1}),!e&&y&&p<2*l){const w=[];for(const T in o)w[T]=o[T];return w}return e&&!this.getPriority().isEmpty()&&(o[".priority"]=this.getPriority().val()),o}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+D(this.getPriority().val())+":"),this.forEachChild(Rt,(o,l)=>{const p=l.hash();""!==p&&(e+=":"+o+":"+p)}),this.lazyHash_=""===e?"":Nu(e)}return this.lazyHash_}getPredecessorChildName(e,o,l){const p=this.resolveIndex_(l);if(p){const y=p.getPredecessorKey(new wt(e,o));return y?y.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const o=this.resolveIndex_(e);if(o){const l=o.minKey();return l&&l.name}return this.children_.minKey()}getFirstChild(e){const o=this.getFirstChildName(e);return o?new wt(o,this.children_.get(o)):null}getLastChildName(e){const o=this.resolveIndex_(e);if(o){const l=o.maxKey();return l&&l.name}return this.children_.maxKey()}getLastChild(e){const o=this.getLastChildName(e);return o?new wt(o,this.children_.get(o)):null}forEachChild(e,o){const l=this.resolveIndex_(e);return l?l.inorderTraversal(p=>o(p.name,p.node)):this.children_.inorderTraversal(o)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,o){const l=this.resolveIndex_(o);if(l)return l.getIteratorFrom(e,p=>p);{const p=this.children_.getIteratorFrom(e.name,wt.Wrap);let y=p.peek();for(;null!=y&&o.compare(y,e)<0;)p.getNext(),y=p.peek();return p}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,o){const l=this.resolveIndex_(o);if(l)return l.getReverseIteratorFrom(e,p=>p);{const p=this.children_.getReverseIteratorFrom(e.name,wt.Wrap);let y=p.peek();for(;null!=y&&o.compare(y,e)>0;)p.getNext(),y=p.peek();return p}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ua?-1:0}withIndex(e){if(e===xr||this.indexMap_.hasIndex(e))return this;{const o=this.indexMap_.addIndex(e,this.children_);return new r(this.children_,this.priorityNode_,o)}}isIndexed(e){return e===xr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const o=e;if(this.getPriority().equals(o.getPriority())){if(this.children_.count()===o.children_.count()){const l=this.getIterator(Rt),p=o.getIterator(Rt);let y=l.getNext(),w=p.getNext();for(;y&&w;){if(y.name!==w.name||!y.node.equals(w.node))return!1;y=l.getNext(),w=p.getNext()}return null===y&&null===w}return!1}return!1}}resolveIndex_(e){return e===xr?null:this.indexMap_.get(e.toString())}}return r.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,r})();const Ua=new class Xu extends _t{constructor(){super(new yr(c),_t.EMPTY_NODE,gi.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return _t.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(wt,{MIN:{value:new wt(as,_t.EMPTY_NODE)},MAX:{value:new wt(pi,Ua)}}),ih.__EMPTY_NODE=_t.EMPTY_NODE,Z.__childrenNodeConstructor=_t,function _(r){d=r}(Ua),function Ke(r){Pe=r}(Ua);const Yp=!0;function Jt(r,t=null){if(null===r)return _t.EMPTY_NODE;if("object"==typeof r&&".priority"in r&&(t=r[".priority"]),(0,x.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof r&&".value"in r&&null!==r[".value"]&&(r=r[".value"]),"object"!=typeof r||".sv"in r)return new Z(r,Jt(t));if(r instanceof Array||!Yp){let e=_t.EMPTY_NODE;return kn(r,(o,l)=>{if((0,x.r3)(r,o)&&"."!==o.substring(0,1)){const p=Jt(l);(p.isLeafNode()||!p.isEmpty())&&(e=e.updateImmediateChild(o,p))}}),e.updatePriority(Jt(t))}{const e=[];let o=!1;if(kn(r,(y,w)=>{if("."!==y.substring(0,1)){const T=Jt(w);T.isEmpty()||(o=o||!T.getPriority().isEmpty(),e.push(new wt(y,T)))}}),0===e.length)return _t.EMPTY_NODE;const p=Ys(e,g,y=>y.name,c);if(o){const y=Ys(e,Rt.getCompare());return new _t(p,Jt(t),new gi({".priority":y},{".priority":Rt}))}return new _t(p,Jt(t),gi.Default)}}!function Qe(r){Ie=r}(Jt);class Id extends Fl{constructor(t){super(),this.indexPath_=t,(0,x.hu)(!mt(t)&&".priority"!==Tt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const o=this.extractChild(t.node),l=this.extractChild(e.node),p=o.compareTo(l);return 0===p?Ws(t.name,e.name):p}makePost(t,e){const o=Jt(t),l=_t.EMPTY_NODE.updateChild(this.indexPath_,o);return new wt(e,l)}maxPost(){const t=_t.EMPTY_NODE.updateChild(this.indexPath_,Ua);return new wt(pi,t)}toString(){return Lo(this.indexPath_,0).join("/")}}const n_=new class cE extends Fl{compare(t,e){const o=t.node.compareTo(e.node);return 0===o?Ws(t.name,e.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return wt.MIN}maxPost(){return wt.MAX}makePost(t,e){const o=Jt(t);return new wt(e,o)}toString(){return".value"}};function dE(r){return{type:"value",snapshotNode:r}}function Qs(r,t){return{type:"child_added",snapshotNode:t,childName:r}}function ec(r,t){return{type:"child_removed",snapshotNode:t,childName:r}}function tc(r,t,e){return{type:"child_changed",snapshotNode:t,childName:r,oldSnap:e}}class ah{constructor(t){this.index_=t}updateChild(t,e,o,l,p,y){(0,x.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const w=t.getImmediateChild(e);return w.getChild(l).equals(o.getChild(l))&&w.isEmpty()===o.isEmpty()||(null!=y&&(o.isEmpty()?t.hasChild(e)?y.trackChildChange(ec(e,w)):(0,x.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):w.isEmpty()?y.trackChildChange(Qs(e,o)):y.trackChildChange(tc(e,o,w))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(e,o).withIndex(this.index_)}updateFullNode(t,e,o){return null!=o&&(t.isLeafNode()||t.forEachChild(Rt,(l,p)=>{e.hasChild(l)||o.trackChildChange(ec(l,p))}),e.isLeafNode()||e.forEachChild(Rt,(l,p)=>{if(t.hasChild(l)){const y=t.getImmediateChild(l);y.equals(p)||o.trackChildChange(tc(l,p,y))}else o.trackChildChange(Qs(l,p))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?_t.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class wd{constructor(t){this.indexedFilter_=new ah(t.getIndex()),this.index_=t.getIndex(),this.startPost_=wd.getStartPost_(t),this.endPost_=wd.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&o}updateChild(t,e,o,l,p,y){return this.matches(new wt(e,o))||(o=_t.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,o,l,p,y)}updateFullNode(t,e,o){e.isLeafNode()&&(e=_t.EMPTY_NODE);let l=e.withIndex(this.index_);l=l.updatePriority(_t.EMPTY_NODE);const p=this;return e.forEachChild(Rt,(y,w)=>{p.matches(new wt(y,w))||(l=l.updateImmediateChild(y,_t.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,o)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class fE{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=e=>{const o=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new wd(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,o,l,p,y){return this.rangedFilter_.matches(new wt(e,o))||(o=_t.EMPTY_NODE),t.getImmediateChild(e).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,o,l,p,y):this.fullLimitUpdateChild_(t,e,o,p,y)}updateFullNode(t,e,o){let l;if(e.isLeafNode()||e.isEmpty())l=_t.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let p;l=_t.EMPTY_NODE.withIndex(this.index_),p=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let y=0;for(;p.hasNext()&&y<this.limit_;){const w=p.getNext();if(this.withinDirectionalStart(w)){if(!this.withinDirectionalEnd(w))break;l=l.updateImmediateChild(w.name,w.node),y++}}}else{let p;l=e.withIndex(this.index_),l=l.updatePriority(_t.EMPTY_NODE),p=this.reverse_?l.getReverseIterator(this.index_):l.getIterator(this.index_);let y=0;for(;p.hasNext();){const w=p.getNext();y<this.limit_&&this.withinDirectionalStart(w)&&this.withinDirectionalEnd(w)?y++:l=l.updateImmediateChild(w.name,_t.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,o)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,o,l,p){let y;if(this.reverse_){const G=this.index_.getCompare();y=(X,me)=>G(me,X)}else y=this.index_.getCompare();const w=t;(0,x.hu)(w.numChildren()===this.limit_,"");const T=new wt(e,o),R=this.reverse_?w.getFirstChild(this.index_):w.getLastChild(this.index_),W=this.rangedFilter_.matches(T);if(w.hasChild(e)){const G=w.getImmediateChild(e);let X=l.getChildAfterChild(this.index_,R,this.reverse_);for(;null!=X&&(X.name===e||w.hasChild(X.name));)X=l.getChildAfterChild(this.index_,X,this.reverse_);const me=null==X?1:y(X,T);if(W&&!o.isEmpty()&&me>=0)return p?.trackChildChange(tc(e,o,G)),w.updateImmediateChild(e,o);{p?.trackChildChange(ec(e,G));const ut=w.updateImmediateChild(e,_t.EMPTY_NODE);return null!=X&&this.rangedFilter_.matches(X)?(p?.trackChildChange(Qs(X.name,X.node)),ut.updateImmediateChild(X.name,X.node)):ut}}return o.isEmpty()?t:W&&y(R,T)>=0?(null!=p&&(p.trackChildChange(ec(R.name,R.node)),p.trackChildChange(Qs(e,o))),w.updateImmediateChild(e,o).updateImmediateChild(R.name,_t.EMPTY_NODE)):t}}class Dd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Rt}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,x.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,x.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:as}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,x.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,x.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:pi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,x.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Rt}copy(){const t=new Dd;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function bd(r,t,e){const o=r.copy();return o.startSet_=!0,void 0===t&&(t=null),o.indexStartValue_=t,null!=e?(o.startNameSet_=!0,o.indexStartName_=e):(o.startNameSet_=!1,o.indexStartName_=""),o}function Td(r,t,e){const o=r.copy();return o.endSet_=!0,void 0===t&&(t=null),o.indexEndValue_=t,void 0!==e?(o.endNameSet_=!0,o.indexEndName_=e):(o.endNameSet_=!1,o.indexEndName_=""),o}function Sd(r,t){const e=r.copy();return e.index_=t,e}function Ha(r){const t={};if(r.isDefault())return t;let e;if(r.index_===Rt?e="$priority":r.index_===n_?e="$value":r.index_===xr?e="$key":((0,x.hu)(r.index_ instanceof Id,"Unrecognized index type!"),e=r.index_.toString()),t.orderBy=(0,x.Wl)(e),r.startSet_){const o=r.startAfterSet_?"startAfter":"startAt";t[o]=(0,x.Wl)(r.indexStartValue_),r.startNameSet_&&(t[o]+=","+(0,x.Wl)(r.indexStartName_))}if(r.endSet_){const o=r.endBeforeSet_?"endBefore":"endAt";t[o]=(0,x.Wl)(r.indexEndValue_),r.endNameSet_&&(t[o]+=","+(0,x.Wl)(r.indexEndName_))}return r.limitSet_&&(r.isViewFromLeft()?t.limitToFirst=r.limit_:t.limitToLast=r.limit_),t}function o_(r){const t={};if(r.startSet_&&(t.sp=r.indexStartValue_,r.startNameSet_&&(t.sn=r.indexStartName_),t.sin=!r.startAfterSet_),r.endSet_&&(t.ep=r.indexEndValue_,r.endNameSet_&&(t.en=r.indexEndName_),t.ein=!r.endBeforeSet_),r.limitSet_){t.l=r.limit_;let e=r.viewFrom_;""===e&&(e=r.isViewFromLeft()?"l":"r"),t.vf=e}return r.index_!==Rt&&(t.i=r.index_.toString()),t}class nc extends Fa{constructor(t,e,o,l){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.log_=Tl("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,x.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,o,l){const p=t._path.toString();this.log_("Listen called for "+p+" "+t._queryIdentifier);const y=nc.getListenId_(t,o),w={};this.listens_[y]=w;const T=Ha(t._queryParams);this.restRequest_(p+".json",T,(R,W)=>{let G=W;if(404===R&&(G=null,R=null),null===R&&this.onDataUpdate_(p,G,!1,o),(0,x.DV)(this.listens_,y)===w){let X;X=R?401===R?"permission_denied":"rest_error:"+R:"ok",l(X,null)}})}unlisten(t,e){const o=nc.getListenId_(t,e);delete this.listens_[o]}get(t){const e=Ha(t._queryParams),o=t._path.toString(),l=new x.BH;return this.restRequest_(o+".json",e,(p,y)=>{let w=y;404===p&&(w=null,p=null),null===p?(this.onDataUpdate_(o,w,!1,null),l.resolve(w)):l.reject(new Error(w))}),l.promise}refreshAuthToken(t){}restRequest_(t,e={},o){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,p])=>{l&&l.accessToken&&(e.auth=l.accessToken),p&&p.token&&(e.ac=p.token);const y=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,x.xO)(e);this.log_("Sending REST request for "+y);const w=new XMLHttpRequest;w.onreadystatechange=()=>{if(o&&4===w.readyState){this.log_("REST Response for "+y+" received. status:",w.status,"response:",w.responseText);let T=null;if(w.status>=200&&w.status<300){try{T=(0,x.cI)(w.responseText)}catch{pr("Failed to parse JSON response for "+y+": "+w.responseText)}o(null,T)}else 401!==w.status&&404!==w.status&&pr("Got unsuccessful REST response for "+y+" Status: "+w.status),o(w.status);o=null}},w.open("GET",y,!0),w.send()})}}class lh{constructor(){this.rootNode_=_t.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function uh(){return{value:null,children:new Map}}function ja(r,t,e){if(mt(t))r.value=e,r.children.clear();else if(null!==r.value)r.value=r.value.updateChild(t,e);else{const o=Tt(t);r.children.has(o)||r.children.set(o,uh()),ja(r.children.get(o),t=zt(t),e)}}function rc(r,t){if(mt(t))return r.value=null,r.children.clear(),!0;if(null!==r.value){if(r.value.isLeafNode())return!1;{const e=r.value;return r.value=null,e.forEachChild(Rt,(o,l)=>{ja(r,new Ut(o),l)}),rc(r,t)}}if(r.children.size>0){const e=Tt(t);return t=zt(t),r.children.has(e)&&rc(r.children.get(e),t)&&r.children.delete(e),0===r.children.size}return!0}function Bo(r,t,e){null!==r.value?e(t,r.value):function a_(r,t){r.children.forEach((e,o)=>{t(o,e)})}(r,(o,l)=>{Bo(l,new Ut(t.toString()+"/"+o),e)})}class Jp{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&kn(this.last_,(o,l)=>{e[o]=e[o]-l}),this.last_=t,e}}class ic{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Jp(t);const o=1e4+2e4*Math.random();Zs(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),e={};let o=!1;kn(t,(l,p)=>{p>0&&(0,x.r3)(this.statsToReport_,l)&&(e[l]=p,o=!0)}),o&&this.server_.reportStats(e),Zs(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Bi=(()=>{return(r=Bi||(Bi={}))[r.OVERWRITE=0]="OVERWRITE",r[r.MERGE=1]="MERGE",r[r.ACK_USER_WRITE=2]="ACK_USER_WRITE",r[r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Bi;var r})();function Ad(r){return{fromUser:!1,fromServer:!0,queryId:r,tagged:!0}}class ch{constructor(t,e,o){this.path=t,this.affectedTree=e,this.revert=o,this.type=Bi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(mt(this.path)){if(null!=this.affectedTree.value)return(0,x.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Ut(t));return new ch(xt(),e,this.revert)}}return(0,x.hu)(Tt(this.path)===t,"operationForChild called for unrelated child."),new ch(zt(this.path),this.affectedTree,this.revert)}}class sc{constructor(t,e){this.source=t,this.path=e,this.type=Bi.LISTEN_COMPLETE}operationForChild(t){return mt(this.path)?new sc(this.source,xt()):new sc(this.source,zt(this.path))}}class Vl{constructor(t,e,o){this.source=t,this.path=e,this.snap=o,this.type=Bi.OVERWRITE}operationForChild(t){return mt(this.path)?new Vl(this.source,xt(),this.snap.getImmediateChild(t)):new Vl(this.source,zt(this.path),this.snap)}}class Bl{constructor(t,e,o){this.source=t,this.path=e,this.children=o,this.type=Bi.MERGE}operationForChild(t){if(mt(this.path)){const e=this.children.subtree(new Ut(t));return e.isEmpty()?null:e.value?new Vl(this.source,xt(),e.value):new Bl(this.source,xt(),e)}return(0,x.hu)(Tt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Bl(this.source,zt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ul{constructor(t,e,o){this.node_=t,this.fullyInitialized_=e,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(mt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Tt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class gE{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Md(r,t,e,o,l,p){const y=o.filter(w=>w.type===e);y.sort((w,T)=>function xd(r,t,e){if(null==t.childName||null==e.childName)throw(0,x.g5)("Should only compare child_ events.");const o=new wt(t.childName,t.snapshotNode),l=new wt(e.childName,e.snapshotNode);return r.index_.compare(o,l)}(r,w,T)),y.forEach(w=>{const T=function oc(r,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,r.index_)),t}(r,w,p);l.forEach(R=>{R.respondsTo(w.type)&&t.push(R.createEvent(T,r.query_))})})}function fh(r,t){return{eventCache:r,serverCache:t}}function ac(r,t,e,o){return fh(new Ul(t,e,o),r.serverCache)}function c_(r,t,e,o){return fh(r.eventCache,new Ul(t,e,o))}function hh(r){return r.eventCache.isFullyInitialized()?r.eventCache.getNode():null}function Hl(r){return r.serverCache.isFullyInitialized()?r.serverCache.getNode():null}let ph;class Kt{constructor(t,e=(()=>(ph||(ph=new yr(Ur)),ph))()){this.value=t,this.children=e}static fromObject(t){let e=new Kt(null);return kn(t,(o,l)=>{e=e.set(new Ut(o),l)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:xt(),value:this.value};if(mt(t))return null;{const o=Tt(t),l=this.children.get(o);if(null!==l){const p=l.findRootMostMatchingPathAndValue(zt(t),e);return null!=p?{path:At(new Ut(o),p.path),value:p.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(mt(t))return this;{const e=Tt(t),o=this.children.get(e);return null!==o?o.subtree(zt(t)):new Kt(null)}}set(t,e){if(mt(t))return new Kt(e,this.children);{const o=Tt(t),p=(this.children.get(o)||new Kt(null)).set(zt(t),e),y=this.children.insert(o,p);return new Kt(this.value,y)}}remove(t){if(mt(t))return this.children.isEmpty()?new Kt(null):new Kt(null,this.children);{const e=Tt(t),o=this.children.get(e);if(o){const l=o.remove(zt(t));let p;return p=l.isEmpty()?this.children.remove(e):this.children.insert(e,l),null===this.value&&p.isEmpty()?new Kt(null):new Kt(this.value,p)}return this}}get(t){if(mt(t))return this.value;{const e=Tt(t),o=this.children.get(e);return o?o.get(zt(t)):null}}setTree(t,e){if(mt(t))return e;{const o=Tt(t),p=(this.children.get(o)||new Kt(null)).setTree(zt(t),e);let y;return y=p.isEmpty()?this.children.remove(o):this.children.insert(o,p),new Kt(this.value,y)}}fold(t){return this.fold_(xt(),t)}fold_(t,e){const o={};return this.children.inorderTraversal((l,p)=>{o[l]=p.fold_(At(t,l),e)}),e(t,this.value,o)}findOnPath(t,e){return this.findOnPath_(t,xt(),e)}findOnPath_(t,e,o){const l=!!this.value&&o(e,this.value);if(l)return l;if(mt(t))return null;{const p=Tt(t),y=this.children.get(p);return y?y.findOnPath_(zt(t),At(e,p),o):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,xt(),e)}foreachOnPath_(t,e,o){if(mt(t))return this;{this.value&&o(e,this.value);const l=Tt(t),p=this.children.get(l);return p?p.foreachOnPath_(zt(t),At(e,l),o):new Kt(null)}}foreach(t){this.foreach_(xt(),t)}foreach_(t,e){this.children.inorderTraversal((o,l)=>{l.foreach_(At(t,o),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,o)=>{o.value&&t(e,o.value)})}}class mi{constructor(t){this.writeTree_=t}static empty(){return new mi(new Kt(null))}}function Rd(r,t,e){if(mt(t))return new mi(new Kt(e));{const o=r.writeTree_.findRootMostValueAndPath(t);if(null!=o){const l=o.path;let p=o.value;const y=Kn(l,t);return p=p.updateChild(y,e),new mi(r.writeTree_.set(l,p))}{const l=new Kt(e),p=r.writeTree_.setTree(t,l);return new mi(p)}}}function Pd(r,t,e){let o=r;return kn(e,(l,p)=>{o=Rd(o,At(t,l),p)}),o}function lc(r,t){if(mt(t))return mi.empty();{const e=r.writeTree_.setTree(t,new Kt(null));return new mi(e)}}function tg(r,t){return null!=jl(r,t)}function jl(r,t){const e=r.writeTree_.findRootMostValueAndPath(t);return null!=e?r.writeTree_.get(e.path).getChild(Kn(e.path,t)):null}function f_(r){const t=[],e=r.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Rt,(o,l)=>{t.push(new wt(o,l))}):r.writeTree_.children.inorderTraversal((o,l)=>{null!=l.value&&t.push(new wt(o,l.value))}),t}function $a(r,t){if(mt(t))return r;{const e=jl(r,t);return new mi(null!=e?new Kt(e):r.writeTree_.subtree(t))}}function ng(r){return r.writeTree_.isEmpty()}function uc(r,t){return h_(xt(),r.writeTree_,t)}function h_(r,t,e){if(null!=t.value)return e.updateChild(r,t.value);{let o=null;return t.children.inorderTraversal((l,p)=>{".priority"===l?((0,x.hu)(null!==p.value,"Priority writes must always be leaf nodes"),o=p.value):e=h_(At(r,l),p,e)}),!e.getChild(r).isEmpty()&&null!==o&&(e=e.updateChild(At(r,".priority"),o)),e}}function Uo(r,t){return y_(t,r)}function b0(r,t){if(r.snap)return mr(r.path,t);for(const e in r.children)if(r.children.hasOwnProperty(e)&&mr(At(r.path,e),t))return!0;return!1}function T0(r){return r.visible}function rg(r,t,e){let o=mi.empty();for(let l=0;l<r.length;++l){const p=r[l];if(t(p)){const y=p.path;let w;if(p.snap)mr(e,y)?(w=Kn(e,y),o=Rd(o,w,p.snap)):mr(y,e)&&(w=Kn(y,e),o=Rd(o,xt(),p.snap.getChild(w)));else{if(!p.children)throw(0,x.g5)("WriteRecord should have .snap or .children");if(mr(e,y))w=Kn(e,y),o=Pd(o,w,p.children);else if(mr(y,e))if(w=Kn(y,e),mt(w))o=Pd(o,xt(),p.children);else{const T=(0,x.DV)(p.children,Tt(w));if(T){const R=T.getChild(zt(w));o=Rd(o,xt(),R)}}}}}return o}function ig(r,t,e,o,l){if(o||l){const p=$a(r.visibleWrites,t);return!l&&ng(p)?e:l||null!=e||tg(p,xt())?uc(rg(r.allWrites,function(R){return(R.visible||l)&&(!o||!~o.indexOf(R.writeId))&&(mr(R.path,t)||mr(t,R.path))},t),e||_t.EMPTY_NODE):null}{const p=jl(r.visibleWrites,t);if(null!=p)return p;{const y=$a(r.visibleWrites,t);return ng(y)?e:null!=e||tg(y,xt())?uc(y,e||_t.EMPTY_NODE):null}}}function Nd(r,t,e,o){return ig(r.writeTree,r.treePath,t,e,o)}function sg(r,t){return function yE(r,t,e){let o=_t.EMPTY_NODE;const l=jl(r.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(Rt,(p,y)=>{o=o.updateImmediateChild(p,y)}),o;if(e){const p=$a(r.visibleWrites,t);return e.forEachChild(Rt,(y,w)=>{const T=uc($a(p,new Ut(y)),w);o=o.updateImmediateChild(y,T)}),f_(p).forEach(y=>{o=o.updateImmediateChild(y.name,y.node)}),o}return f_($a(r.visibleWrites,t)).forEach(y=>{o=o.updateImmediateChild(y.name,y.node)}),o}(r.writeTree,r.treePath,t)}function m_(r,t,e,o){return function g_(r,t,e,o,l){(0,x.hu)(o||l,"Either existingEventSnap or existingServerSnap must exist");const p=At(t,e);if(tg(r.visibleWrites,p))return null;{const y=$a(r.visibleWrites,p);return ng(y)?l.getChild(e):uc(y,l.getChild(e))}}(r.writeTree,r.treePath,t,e,o)}function gh(r,t){return function EE(r,t){return jl(r.visibleWrites,t)}(r.writeTree,At(r.treePath,t))}function mh(r,t,e){return function vE(r,t,e,o){const l=At(t,e),p=jl(r.visibleWrites,l);return null!=p?p:o.isCompleteForChild(e)?uc($a(r.visibleWrites,l),o.getNode().getImmediateChild(e)):null}(r.writeTree,r.treePath,t,e)}function __(r,t){return y_(At(r.treePath,t),r.writeTree)}function y_(r,t){return{treePath:r,writeTree:t}}class wE{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,o=t.childName;(0,x.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,x.hu)(".priority"!==o,"Only non-priority child changes can be tracked.");const l=this.changeMap.get(o);if(l){const p=l.type;if("child_added"===e&&"child_removed"===p)this.changeMap.set(o,tc(o,t.snapshotNode,l.snapshotNode));else if("child_removed"===e&&"child_added"===p)this.changeMap.delete(o);else if("child_removed"===e&&"child_changed"===p)this.changeMap.set(o,ec(o,l.oldSnap));else if("child_changed"===e&&"child_added"===p)this.changeMap.set(o,Qs(o,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==p)throw(0,x.g5)("Illegal combination of changes: "+t+" occurred after "+l);this.changeMap.set(o,tc(o,t.snapshotNode,l.oldSnap))}}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}const og=new class Dt{getCompleteChild(t){return null}getChildAfterChild(t,e,o){return null}};class _h{constructor(t,e,o=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=o}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const o=null!=this.optCompleteServerCache_?new Ul(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return mh(this.writes_,t,o)}}getChildAfterChild(t,e,o){const l=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Hl(this.viewCache_),p=function IE(r,t,e,o,l,p){return function cs(r,t,e,o,l,p,y){let w;const T=$a(r.visibleWrites,t),R=jl(T,xt());if(null!=R)w=R;else{if(null==e)return[];w=uc(T,e)}if(w=w.withIndex(y),w.isEmpty()||w.isLeafNode())return[];{const W=[],G=y.getCompare(),X=p?w.getReverseIteratorFrom(o,y):w.getIteratorFrom(o,y);let me=X.getNext();for(;me&&W.length<l;)0!==G(me,o)&&W.push(me),me=X.getNext();return W}}(r.writeTree,r.treePath,t,e,o,l,p)}(this.writes_,l,e,1,o,t);return 0===p.length?null:p[0]}}function C_(r,t,e,o,l,p){const y=t.eventCache;if(null!=gh(o,e))return t;{let w,T;if(mt(e))if((0,x.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const R=Hl(t),G=sg(o,R instanceof _t?R:_t.EMPTY_NODE);w=r.filter.updateFullNode(t.eventCache.getNode(),G,p)}else{const R=Nd(o,Hl(t));w=r.filter.updateFullNode(t.eventCache.getNode(),R,p)}else{const R=Tt(e);if(".priority"===R){(0,x.hu)(1===Li(e),"Can't have a priority with additional path components");const W=y.getNode();T=t.serverCache.getNode();const G=m_(o,e,W,T);w=null!=G?r.filter.updatePriority(W,G):y.getNode()}else{const W=zt(e);let G;if(y.isCompleteForChild(R)){T=t.serverCache.getNode();const X=m_(o,e,y.getNode(),T);G=null!=X?y.getNode().getImmediateChild(R).updateChild(W,X):y.getNode().getImmediateChild(R)}else G=mh(o,R,t.serverCache);w=null!=G?r.filter.updateChild(y.getNode(),R,G,W,l,p):y.getNode()}}return ac(t,w,y.isFullyInitialized()||mt(e),r.filter.filtersNodes())}}function Od(r,t,e,o,l,p,y,w){const T=t.serverCache;let R;const W=y?r.filter:r.filter.getIndexedFilter();if(mt(e))R=W.updateFullNode(T.getNode(),o,null);else if(W.filtersNodes()&&!T.isFiltered()){const me=T.getNode().updateChild(e,o);R=W.updateFullNode(T.getNode(),me,null)}else{const me=Tt(e);if(!T.isCompleteForPath(e)&&Li(e)>1)return t;const xe=zt(e),Ft=T.getNode().getImmediateChild(me).updateChild(xe,o);R=".priority"===me?W.updatePriority(T.getNode(),Ft):W.updateChild(T.getNode(),me,Ft,xe,og,null)}const G=c_(t,R,T.isFullyInitialized()||mt(e),W.filtersNodes());return C_(r,G,e,l,new _h(l,G,p),w)}function ag(r,t,e,o,l,p,y){const w=t.eventCache;let T,R;const W=new _h(l,t,p);if(mt(e))R=r.filter.updateFullNode(t.eventCache.getNode(),o,y),T=ac(t,R,!0,r.filter.filtersNodes());else{const G=Tt(e);if(".priority"===G)R=r.filter.updatePriority(t.eventCache.getNode(),o),T=ac(t,R,w.isFullyInitialized(),w.isFiltered());else{const X=zt(e),me=w.getNode().getImmediateChild(G);let xe;if(mt(X))xe=o;else{const ut=W.getCompleteChild(G);xe=null!=ut?".priority"===Qu(X)&&ut.getChild(Cd(X)).isEmpty()?ut:ut.updateChild(X,o):_t.EMPTY_NODE}T=me.equals(xe)?t:ac(t,r.filter.updateChild(w.getNode(),G,xe,X,W,y),w.isFullyInitialized(),r.filter.filtersNodes())}}return T}function I_(r,t){return r.eventCache.isCompleteForChild(t)}function lg(r,t,e){return e.foreach((o,l)=>{t=t.updateChild(o,l)}),t}function yh(r,t,e,o,l,p,y,w){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let R,T=t;R=mt(e)?o:new Kt(null).setTree(e,o);const W=t.serverCache.getNode();return R.children.inorderTraversal((G,X)=>{if(W.hasChild(G)){const xe=lg(0,t.serverCache.getNode().getImmediateChild(G),X);T=Od(r,T,new Ut(G),xe,l,p,y,w)}}),R.children.inorderTraversal((G,X)=>{const me=!t.serverCache.isCompleteForChild(G)&&null===X.value;if(!W.hasChild(G)&&!me){const ut=lg(0,t.serverCache.getNode().getImmediateChild(G),X);T=Od(r,T,new Ut(G),ut,l,p,y,w)}}),T}class cg{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,l=new ah(o.getIndex()),p=function i_(r){return r.loadsAllData()?new ah(r.getIndex()):r.hasLimit()?new fE(r):new wd(r)}(o);this.processor_=function v_(r){return{filter:r}}(p);const y=e.serverCache,w=e.eventCache,T=l.updateFullNode(_t.EMPTY_NODE,y.getNode(),null),R=p.updateFullNode(_t.EMPTY_NODE,w.getNode(),null),W=new Ul(T,y.isFullyInitialized(),l.filtersNodes()),G=new Ul(R,w.isFullyInitialized(),p.filtersNodes());this.viewCache_=fh(G,W),this.eventGenerator_=new gE(this.query_)}get query(){return this.query_}}function M0(r,t){const e=Hl(r.viewCache_);return e&&(r.query._queryParams.loadsAllData()||!mt(t)&&!e.getImmediateChild(Tt(t)).isEmpty())?e.getChild(t):null}function AE(r){return 0===r.eventRegistrations_.length}function dg(r,t,e){const o=[];if(e){(0,x.hu)(null==t,"A cancel should cancel all event registrations.");const l=r.query._path;r.eventRegistrations_.forEach(p=>{const y=p.createCancelEvent(e,l);y&&o.push(y)})}if(t){let l=[];for(let p=0;p<r.eventRegistrations_.length;++p){const y=r.eventRegistrations_[p];if(y.matches(t)){if(t.hasAnyCallback()){l=l.concat(r.eventRegistrations_.slice(p+1));break}}else l.push(y)}r.eventRegistrations_=l}else r.eventRegistrations_=[];return o}function xE(r,t,e,o){t.type===Bi.MERGE&&null!==t.source.queryId&&((0,x.hu)(Hl(r.viewCache_),"We should always have a full cache before handling merges"),(0,x.hu)(hh(r.viewCache_),"Missing event cache, even though we have a server cache"));const l=r.viewCache_,p=function bE(r,t,e,o,l){const p=new wE;let y,w;if(e.type===Bi.OVERWRITE){const R=e;R.source.fromUser?y=ag(r,t,R.path,R.snap,o,l,p):((0,x.hu)(R.source.fromServer,"Unknown source."),w=R.source.tagged||t.serverCache.isFiltered()&&!mt(R.path),y=Od(r,t,R.path,R.snap,o,l,w,p))}else if(e.type===Bi.MERGE){const R=e;R.source.fromUser?y=function S0(r,t,e,o,l,p,y){let w=t;return o.foreach((T,R)=>{const W=At(e,T);I_(t,Tt(W))&&(w=ag(r,w,W,R,l,p,y))}),o.foreach((T,R)=>{const W=At(e,T);I_(t,Tt(W))||(w=ag(r,w,W,R,l,p,y))}),w}(r,t,R.path,R.children,o,l,p):((0,x.hu)(R.source.fromServer,"Unknown source."),w=R.source.tagged||t.serverCache.isFiltered(),y=yh(r,t,R.path,R.children,o,l,w,p))}else if(e.type===Bi.ACK_USER_WRITE){const R=e;y=R.revert?function ug(r,t,e,o,l,p){let y;if(null!=gh(o,e))return t;{const w=new _h(o,t,l),T=t.eventCache.getNode();let R;if(mt(e)||".priority"===Tt(e)){let W;if(t.serverCache.isFullyInitialized())W=Nd(o,Hl(t));else{const G=t.serverCache.getNode();(0,x.hu)(G instanceof _t,"serverChildren would be complete if leaf node"),W=sg(o,G)}R=r.filter.updateFullNode(T,W,p)}else{const W=Tt(e);let G=mh(o,W,t.serverCache);null==G&&t.serverCache.isCompleteForChild(W)&&(G=T.getImmediateChild(W)),R=null!=G?r.filter.updateChild(T,W,G,zt(e),w,p):t.eventCache.getNode().hasChild(W)?r.filter.updateChild(T,W,_t.EMPTY_NODE,zt(e),w,p):T,R.isEmpty()&&t.serverCache.isFullyInitialized()&&(y=Nd(o,Hl(t)),y.isLeafNode()&&(R=r.filter.updateFullNode(R,y,p)))}return y=t.serverCache.isFullyInitialized()||null!=gh(o,xt()),ac(t,R,y,r.filter.filtersNodes())}}(r,t,R.path,o,l,p):function $l(r,t,e,o,l,p,y){if(null!=gh(l,e))return t;const w=t.serverCache.isFiltered(),T=t.serverCache;if(null!=o.value){if(mt(e)&&T.isFullyInitialized()||T.isCompleteForPath(e))return Od(r,t,e,T.getNode().getChild(e),l,p,w,y);if(mt(e)){let R=new Kt(null);return T.getNode().forEachChild(xr,(W,G)=>{R=R.set(new Ut(W),G)}),yh(r,t,e,R,l,p,w,y)}return t}{let R=new Kt(null);return o.foreach((W,G)=>{const X=At(e,W);T.isCompleteForPath(X)&&(R=R.set(W,T.getNode().getChild(X)))}),yh(r,t,e,R,l,p,w,y)}}(r,t,R.path,R.affectedTree,o,l,p)}else{if(e.type!==Bi.LISTEN_COMPLETE)throw(0,x.g5)("Unknown operation type: "+e.type);y=function TE(r,t,e,o,l){const p=t.serverCache;return C_(r,c_(t,p.getNode(),p.isFullyInitialized()||mt(e),p.isFiltered()),e,o,og,l)}(r,t,e.path,o,p)}const T=p.getChanges();return function E_(r,t,e){const o=t.eventCache;if(o.isFullyInitialized()){const l=o.getNode().isLeafNode()||o.getNode().isEmpty(),p=hh(r);(e.length>0||!r.eventCache.isFullyInitialized()||l&&!o.getNode().equals(p)||!o.getNode().getPriority().equals(p.getPriority()))&&e.push(dE(hh(t)))}}(t,y,T),{viewCache:y,changes:T}}(r.processor_,l,t,e,o);return function DE(r,t){(0,x.hu)(t.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),(0,x.hu)(t.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed")}(r.processor_,p.viewCache),(0,x.hu)(p.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),r.viewCache_=p.viewCache,Gl(r,p.changes,p.viewCache.eventCache.getNode(),null)}function Gl(r,t,e,o){return function dh(r,t,e,o){const l=[],p=[];return t.forEach(y=>{"child_changed"===y.type&&r.index_.indexedValueChanged(y.oldSnap,y.snapshotNode)&&p.push(function r_(r,t){return{type:"child_moved",snapshotNode:t,childName:r}}(y.childName,y.snapshotNode))}),Md(r,l,"child_removed",t,o,e),Md(r,l,"child_added",t,o,e),Md(r,l,"child_moved",p,o,e),Md(r,l,"child_changed",t,o,e),Md(r,l,"value",t,o,e),l}(r.eventGenerator_,t,e,o?[o]:r.eventRegistrations_)}let vh,gg;class fg{constructor(){this.views=new Map}}function hg(r,t,e,o){const l=t.source.queryId;if(null!==l){const p=r.views.get(l);return(0,x.hu)(null!=p,"SyncTree gave us an op for an invalid query."),xE(p,t,e,o)}{let p=[];for(const y of r.views.values())p=p.concat(xE(y,t,e,o));return p}}function D_(r,t,e,o,l){const y=r.views.get(t._queryIdentifier);if(!y){let w=Nd(e,l?o:null),T=!1;w?T=!0:o instanceof _t?(w=sg(e,o),T=!1):(w=_t.EMPTY_NODE,T=!1);const R=fh(new Ul(w,T,!1),new Ul(o,l,!1));return new cg(t,R)}return y}function b_(r){const t=[];for(const e of r.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function jo(r,t){let e=null;for(const o of r.views.values())e=e||M0(o,t);return e}function T_(r,t){return t._queryParams.loadsAllData()?cc(r):r.views.get(t._queryIdentifier)}function pg(r,t){return null!=T_(r,t)}function $o(r){return null!=cc(r)}function cc(r){for(const t of r.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let x0=1;class Wl{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Kt(null),this.pendingWriteTree_=function CE(){return{visibleWrites:mi.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function _g(r,t,e,o,l){return function Ho(r,t,e,o,l){(0,x.hu)(o>r.lastWriteId,"Stacking an older write on top of newer ones"),void 0===l&&(l=!0),r.allWrites.push({path:t,snap:e,writeId:o,visible:l}),l&&(r.visibleWrites=Rd(r.visibleWrites,t,e)),r.lastWriteId=o}(r.pendingWriteTree_,t,e,o,l),l?Ga(r,new Vl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Go(r,t,e=!1){const o=function _E(r,t){for(let e=0;e<r.allWrites.length;e++){const o=r.allWrites[e];if(o.writeId===t)return o}return null}(r.pendingWriteTree_,t);if(function D0(r,t){const e=r.allWrites.findIndex(w=>w.writeId===t);(0,x.hu)(e>=0,"removeWrite called with nonexistent writeId.");const o=r.allWrites[e];r.allWrites.splice(e,1);let l=o.visible,p=!1,y=r.allWrites.length-1;for(;l&&y>=0;){const w=r.allWrites[y];w.visible&&(y>=e&&b0(w,o.path)?l=!1:mr(o.path,w.path)&&(p=!0)),y--}return!!l&&(p?(function p_(r){r.visibleWrites=rg(r.allWrites,T0,xt()),r.lastWriteId=r.allWrites.length>0?r.allWrites[r.allWrites.length-1].writeId:-1}(r),!0):(o.snap?r.visibleWrites=lc(r.visibleWrites,o.path):kn(o.children,T=>{r.visibleWrites=lc(r.visibleWrites,At(o.path,T))}),!0))}(r.pendingWriteTree_,t)){let p=new Kt(null);return null!=o.snap?p=p.set(xt(),!0):kn(o.children,y=>{p=p.set(new Ut(y),!0)}),Ga(r,new ch(o.path,p,e))}return[]}function kd(r,t,e){return Ga(r,new Vl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function fc(r,t,e,o,l=!1){const p=t._path,y=r.syncPointTree_.get(p);let w=[];if(y&&("default"===t._queryIdentifier||pg(y,t))){const T=function OE(r,t,e,o){const l=t._queryIdentifier,p=[];let y=[];const w=$o(r);if("default"===l)for(const[T,R]of r.views.entries())y=y.concat(dg(R,e,o)),AE(R)&&(r.views.delete(T),R.query._queryParams.loadsAllData()||p.push(R.query));else{const T=r.views.get(l);T&&(y=y.concat(dg(T,e,o)),AE(T)&&(r.views.delete(l),T.query._queryParams.loadsAllData()||p.push(T.query)))}return w&&!$o(r)&&p.push(new(function PE(){return(0,x.hu)(vh,"Reference.ts has not been loaded"),vh}())(t._repo,t._path)),{removed:p,events:y}}(y,t,e,o);(function w_(r){return 0===r.views.size})(y)&&(r.syncPointTree_=r.syncPointTree_.remove(p));const R=T.removed;if(w=T.events,!l){const W=-1!==R.findIndex(X=>X._queryParams.loadsAllData()),G=r.syncPointTree_.findOnPath(p,(X,me)=>$o(me));if(W&&!G){const X=r.syncPointTree_.subtree(p);if(!X.isEmpty()){const me=function S_(r){return r.fold((t,e,o)=>{if(e&&$o(e))return[cc(e)];{let l=[];return e&&(l=b_(e)),kn(o,(p,y)=>{l=l.concat(y)}),l}})}(X);for(let xe=0;xe<me.length;++xe){const ut=me[xe],Ft=ut.query,Lt=wh(r,ut);r.listenProvider_.startListening(Vd(Ft),Ld(r,Ft),Lt.hashFn,Lt.onComplete)}}}!G&&R.length>0&&!o&&(W?r.listenProvider_.stopListening(Vd(t),null):R.forEach(X=>{const me=r.queryToTagMap.get(Dh(X));r.listenProvider_.stopListening(Vd(X),me)}))}!function VE(r,t){for(let e=0;e<t.length;++e){const o=t[e];if(!o._queryParams.loadsAllData()){const l=Dh(o),p=r.queryToTagMap.get(l);r.queryToTagMap.delete(l),r.tagToQueryMap.delete(p)}}}(r,R)}return w}function hc(r,t,e,o){const l=bh(r,o);if(null!=l){const p=Cg(l),y=p.path,w=p.queryId,T=Kn(y,t);return Th(r,y,new Vl(Ad(w),T,e))}return[]}function pc(r,t,e,o=!1){const l=t._path;let p=null,y=!1;r.syncPointTree_.foreachOnPath(l,(X,me)=>{const xe=Kn(X,l);p=p||jo(me,xe),y=y||$o(me)});let T,w=r.syncPointTree_.get(l);w?(y=y||$o(w),p=p||jo(w,xt())):(w=new fg,r.syncPointTree_=r.syncPointTree_.set(l,w)),null!=p?T=!0:(T=!1,p=_t.EMPTY_NODE,r.syncPointTree_.subtree(l).foreachChild((me,xe)=>{const ut=jo(xe,xt());ut&&(p=p.updateImmediateChild(me,ut))}));const R=pg(w,t);if(!R&&!t._queryParams.loadsAllData()){const X=Dh(t);(0,x.hu)(!r.queryToTagMap.has(X),"View does not exist, but we have a tag");const me=function _i(){return x0++}();r.queryToTagMap.set(X,me),r.tagToQueryMap.set(me,X)}let G=function NE(r,t,e,o,l,p){const y=D_(r,t,o,l,p);return r.views.has(t._queryIdentifier)||r.views.set(t._queryIdentifier,y),function ME(r,t){r.eventRegistrations_.push(t)}(y,e),function RE(r,t){const e=r.viewCache_.eventCache,o=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Rt,(p,y)=>{o.push(Qs(p,y))}),e.isFullyInitialized()&&o.push(dE(e.getNode())),Gl(r,o,e.getNode(),t)}(y,e)}(w,t,e,Uo(r.pendingWriteTree_,l),p,T);if(!R&&!y&&!o){const X=T_(w,t);G=G.concat(function BE(r,t,e){const o=t._path,l=Ld(r,t),p=wh(r,e),y=r.listenProvider_.startListening(Vd(t),l,p.hashFn,p.onComplete),w=r.syncPointTree_.subtree(o);if(l)(0,x.hu)(!$o(w.value),"If we're adding a query, it shouldn't be shadowed");else{const T=w.fold((R,W,G)=>{if(!mt(R)&&W&&$o(W))return[cc(W).query];{let X=[];return W&&(X=X.concat(b_(W).map(me=>me.query))),kn(G,(me,xe)=>{X=X.concat(xe)}),X}});for(let R=0;R<T.length;++R){const W=T[R];r.listenProvider_.stopListening(Vd(W),Ld(r,W))}}return y}(r,t,X))}return G}function Fd(r,t,e){const l=r.pendingWriteTree_,p=r.syncPointTree_.findOnPath(t,(y,w)=>{const R=jo(w,Kn(y,t));if(R)return R});return ig(l,t,p,e,!0)}function Ga(r,t){return Ih(t,r.syncPointTree_,null,Uo(r.pendingWriteTree_,xt()))}function Ih(r,t,e,o){if(mt(r.path))return Eg(r,t,e,o);{const l=t.get(xt());null==e&&null!=l&&(e=jo(l,xt()));let p=[];const y=Tt(r.path),w=r.operationForChild(y),T=t.children.get(y);if(T&&w){const R=e?e.getImmediateChild(y):null,W=__(o,y);p=p.concat(Ih(w,T,R,W))}return l&&(p=p.concat(hg(l,r,o,e))),p}}function Eg(r,t,e,o){const l=t.get(xt());null==e&&null!=l&&(e=jo(l,xt()));let p=[];return t.children.inorderTraversal((y,w)=>{const T=e?e.getImmediateChild(y):null,R=__(o,y),W=r.operationForChild(y);W&&(p=p.concat(Eg(W,w,T,R)))}),l&&(p=p.concat(hg(l,r,o,e))),p}function wh(r,t){const e=t.query,o=Ld(r,e);return{hashFn:()=>(function SE(r){return r.viewCache_.serverCache.getNode()}(t)||_t.EMPTY_NODE).hash(),onComplete:l=>{if("ok"===l)return o?function dc(r,t,e){const o=bh(r,e);if(o){const l=Cg(o),p=l.path,y=l.queryId,w=Kn(p,t);return Th(r,p,new sc(Ad(y),w))}return[]}(r,e._path,o):function Ch(r,t){return Ga(r,new sc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(r,e._path);{const p=function Lp(r,t){let e="Unknown Error";"too_big"===r?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===r?e="Client doesn't have permission to access the desired data.":"unavailable"===r&&(e="The service is unavailable");const o=new Error(r+" at "+t._path.toString()+": "+e);return o.code=r.toUpperCase(),o}(l,e);return fc(r,e,null,p)}}}}function Ld(r,t){const e=Dh(t);return r.queryToTagMap.get(e)}function Dh(r){return r._path.toString()+"$"+r._queryIdentifier}function bh(r,t){return r.tagToQueryMap.get(t)}function Cg(r){const t=r.indexOf("$");return(0,x.hu)(-1!==t&&t<r.length-1,"Bad queryKey."),{queryId:r.substr(t+1),path:new Ut(r.substr(0,t))}}function Th(r,t,e){const o=r.syncPointTree_.get(t);return(0,x.hu)(o,"Missing sync point for query tag that we're tracking"),hg(o,e,Uo(r.pendingWriteTree_,t),null)}function Vd(r){return r._queryParams.loadsAllData()&&!r._queryParams.isDefault()?new(function kE(){return(0,x.hu)(gg,"Reference.ts has not been loaded"),gg}())(r._repo,r._path):r}class Ig{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Ig(e)}node(){return this.node_}}class A_{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=At(this.path_,t);return new A_(this.syncTree_,e)}node(){return Fd(this.syncTree_,this.path_)}}const wg=function(r){return(r=r||{}).timestamp=r.timestamp||(new Date).getTime(),r},Dg=function(r,t,e){return r&&"object"==typeof r?((0,x.hu)(".sv"in r,"Unexpected leaf node or priority contents"),"string"==typeof r[".sv"]?UE(r[".sv"],t,e):"object"==typeof r[".sv"]?HE(r[".sv"],t):void(0,x.hu)(!1,"Unexpected server value: "+JSON.stringify(r,null,2))):r},UE=function(r,t,e){if("timestamp"===r)return e.timestamp;(0,x.hu)(!1,"Unexpected server value: "+r)},HE=function(r,t,e){r.hasOwnProperty("increment")||(0,x.hu)(!1,"Unexpected server value: "+JSON.stringify(r,null,2));const o=r.increment;"number"!=typeof o&&(0,x.hu)(!1,"Unexpected increment value: "+o);const l=t.node();if((0,x.hu)(null!==l&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return o;const y=l.getValue();return"number"!=typeof y?o:y+o},M_=function(r,t,e,o){return bg(t,new A_(e,r),o)},Sh=function(r,t,e){return bg(r,new Ig(t),e)};function bg(r,t,e){const o=r.getPriority().val(),l=Dg(o,t.getImmediateChild(".priority"),e);let p;if(r.isLeafNode()){const y=r,w=Dg(y.getValue(),t,e);return w!==y.getValue()||l!==y.getPriority().val()?new Z(w,Jt(l)):r}{const y=r;return p=y,l!==y.getPriority().val()&&(p=p.updatePriority(new Z(l))),y.forEachChild(Rt,(w,T)=>{const R=bg(T,t.getImmediateChild(w),e);R!==T&&(p=p.updateImmediateChild(w,R))}),p}}class Tg{constructor(t="",e=null,o={children:{},childCount:0}){this.name=t,this.parent=e,this.node=o}}function gc(r,t){let e=t instanceof Ut?t:new Ut(t),o=r,l=Tt(e);for(;null!==l;){const p=(0,x.DV)(o.node.children,l)||{children:{},childCount:0};o=new Tg(l,o,p),e=zt(e),l=Tt(e)}return o}function zl(r){return r.node.value}function Sg(r,t){r.node.value=t,Mg(r)}function x_(r){return r.node.childCount>0}function Ah(r,t){kn(r.node.children,(e,o)=>{t(new Tg(e,r,o))})}function ds(r,t,e,o){e&&!o&&t(r),Ah(r,l=>{ds(l,t,!0,o)}),e&&o&&t(r)}function Bd(r){return new Ut(null===r.parent?r.name:Bd(r.parent)+"/"+r.name)}function Mg(r){null!==r.parent&&function R_(r,t,e){const o=function jE(r){return void 0===zl(r)&&!x_(r)}(e),l=(0,x.r3)(r.node.children,t);o&&l?(delete r.node.children[t],r.node.childCount--,Mg(r)):!o&&!l&&(r.node.children[t]=e.node,r.node.childCount++,Mg(r))}(r.parent,r.name,r)}const $E=/[\[\].#$\/\u0000-\u001F\u007F]/,GE=/[\[\].#$\u0000-\u001F\u007F]/,xg=10485760,mc=function(r){return"string"==typeof r&&0!==r.length&&!$E.test(r)},P_=function(r){return"string"==typeof r&&0!==r.length&&!GE.test(r)},Wa=function(r){return null===r||"string"==typeof r||"number"==typeof r&&!Oo(r)||r&&"object"==typeof r&&(0,x.r3)(r,".sv")},yi=function(r,t,e,o){o&&void 0===t||za((0,x.gK)(r,"value"),t,e)},za=function(r,t,e){const o=e instanceof Ut?new zp(e,r):e;if(void 0===t)throw new Error(r+"contains undefined "+qs(o));if("function"==typeof t)throw new Error(r+"contains a function "+qs(o)+" with contents = "+t.toString());if(Oo(t))throw new Error(r+"contains "+t.toString()+" "+qs(o));if("string"==typeof t&&t.length>xg/3&&(0,x.ug)(t)>xg)throw new Error(r+"contains a string greater than "+xg+" utf8 bytes "+qs(o)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let l=!1,p=!1;if(kn(t,(y,w)=>{if(".value"===y)l=!0;else if(".priority"!==y&&".sv"!==y&&(p=!0,!mc(y)))throw new Error(r+" contains an invalid key ("+y+") "+qs(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function eh(r,t){r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(t),r.byteLength_+=(0,x.ug)(t),ls(r)})(o,y),za(r,w,o),function Zp(r){const t=r.parts_.pop();r.byteLength_-=(0,x.ug)(t),r.parts_.length>0&&(r.byteLength_-=1)}(o)}),l&&p)throw new Error(r+' contains ".value" child '+qs(o)+" in addition to actual children.")}},Mh=function(r,t,e,o){if(o&&void 0===t)return;const l=(0,x.gK)(r,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(l+" must be an object containing the children to replace.");const p=[];kn(t,(y,w)=>{const T=new Ut(y);if(za(l,w,At(e,T)),".priority"===Qu(T)&&!Wa(w))throw new Error(l+"contains an invalid value for '"+T.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");p.push(T)}),function(r,t){let e,o;for(e=0;e<t.length;e++){o=t[e];const p=Lo(o);for(let y=0;y<p.length;y++)if((".priority"!==p[y]||y!==p.length-1)&&!mc(p[y]))throw new Error(r+"contains an invalid key ("+p[y]+") in path "+o.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Xf);let l=null;for(e=0;e<t.length;e++){if(o=t[e],null!==l&&mr(l,o))throw new Error(r+"contains a path "+l.toString()+" that is ancestor of another path "+o.toString());l=o}}(l,p)},N_=function(r,t,e){if(!e||void 0!==t){if(Oo(t))throw new Error((0,x.gK)(r,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Wa(t))throw new Error((0,x.gK)(r,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},_c=function(r,t,e,o){if(!(o&&void 0===e||mc(e)))throw new Error((0,x.gK)(r,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},yc=function(r,t,e,o){if(!(o&&void 0===e||P_(e)))throw new Error((0,x.gK)(r,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},O_=function(r,t,e,o){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),yc(r,t,e,o)},vi=function(r,t){if(".info"===Tt(t))throw new Error(r+" failed = Can't modify data under /.info/")},xh=function(r,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!mc(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),P_(r)}(e))throw new Error((0,x.gK)(r,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Wo{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Zl(r,t){let e=null;for(let o=0;o<t.length;o++){const l=t[o],p=l.getPath();null!==e&&!Va(p,e.path)&&(r.eventLists_.push(e),e=null),null===e&&(e={events:[],path:p}),e.events.push(l)}e&&r.eventLists_.push(e)}function Ud(r,t,e){Zl(r,e),k_(r,o=>Va(o,t))}function vr(r,t,e){Zl(r,e),k_(r,o=>mr(o,t)||mr(t,o))}function k_(r,t){r.recursionDepth_++;let e=!0;for(let o=0;o<r.eventLists_.length;o++){const l=r.eventLists_[o];l&&(t(l.path)?(F_(r.eventLists_[o]),r.eventLists_[o]=null):e=!1)}e&&(r.eventLists_=[]),r.recursionDepth_--}function F_(r){for(let t=0;t<r.events.length;t++){const e=r.events[t];if(null!==e){r.events[t]=null;const o=e.getEventRunner();No&&Zn("event: "+e.toString()),zs(o)}}}const Rg="repo_interrupt",zE=25;class ZE{constructor(t,e,o,l){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=o,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Wo,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=uh(),this.transactionQueueTree_=new Tg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function L_(r){const e=r.infoData_.getNode(new Ut(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Rh(r){return wg({timestamp:L_(r)})}function V_(r,t,e,o,l){r.dataUpdateCount++;const p=new Ut(t);e=r.interceptServerDataCallback_?r.interceptServerDataCallback_(t,e):e;let y=[];if(l)if(o){const T=(0,x.UI)(e,R=>Jt(R));y=function yg(r,t,e,o){const l=bh(r,o);if(l){const p=Cg(l),y=p.path,w=p.queryId,T=Kn(y,t),R=Kt.fromObject(e);return Th(r,y,new Bl(Ad(w),T,R))}return[]}(r.serverSyncTree_,p,T,l)}else{const T=Jt(e);y=hc(r.serverSyncTree_,p,T,l)}else if(o){const T=(0,x.UI)(e,R=>Jt(R));y=function LE(r,t,e){const o=Kt.fromObject(e);return Ga(r,new Bl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,o))}(r.serverSyncTree_,p,T)}else{const T=Jt(e);y=kd(r.serverSyncTree_,p,T)}let w=p;y.length>0&&(w=jd(r,p)),vr(r.eventQueue_,w,y)}function B_(r,t){Pg(r,"connected",t),!1===t&&function Og(r){vc(r,"onDisconnectEvents");const t=Rh(r),e=uh();Bo(r.onDisconnect_,xt(),(l,p)=>{const y=M_(l,p,r.serverSyncTree_,t);ja(e,l,y)});let o=[];Bo(e,xt(),(l,p)=>{o=o.concat(kd(r.serverSyncTree_,l,p));const y=Ui(r,l);jd(r,y)}),r.onDisconnect_=uh(),vr(r.eventQueue_,xt(),o)}(r)}function Pg(r,t,e){const o=new Ut("/.info/"+t),l=Jt(e);r.infoData_.updateSnapshot(o,l);const p=kd(r.infoSyncTree_,o,l);vr(r.eventQueue_,o,p)}function Ph(r){return r.nextWriteId_++}function Ng(r,t,e,o,l){vc(r,"set",{path:t.toString(),value:e,priority:o});const p=Rh(r),y=Jt(e,o),w=Fd(r.serverSyncTree_,t),T=Sh(y,w,p),R=Ph(r),W=_g(r.serverSyncTree_,t,T,R,!0);Zl(r.eventQueue_,W),r.server_.put(t.toString(),y.val(!0),(X,me)=>{const xe="ok"===X;xe||pr("set at "+t+" failed: "+X);const ut=Go(r.serverSyncTree_,R,!xe);vr(r.eventQueue_,t,ut),zo(0,l,X,me)});const G=Ui(r,t);jd(r,G),vr(r.eventQueue_,G,[])}function YE(r,t,e){r.server_.onDisconnectCancel(t.toString(),(o,l)=>{"ok"===o&&rc(r.onDisconnect_,t),zo(0,e,o,l)})}function Nh(r,t,e,o){const l=Jt(e);r.server_.onDisconnectPut(t.toString(),l.val(!0),(p,y)=>{"ok"===p&&ja(r.onDisconnect_,t,l),zo(0,o,p,y)})}function kg(r,t,e){let o;o=".info"===Tt(t._path)?fc(r.infoSyncTree_,t,e):fc(r.serverSyncTree_,t,e),Ud(r.eventQueue_,t._path,o)}function H_(r){r.persistentConnection_&&r.persistentConnection_.interrupt(Rg)}function vc(r,...t){let e="";r.persistentConnection_&&(e=r.persistentConnection_.id+":"),Zn(e,...t)}function zo(r,t,e,o){t&&zs(()=>{if("ok"===e)t(null);else{const l=(e||"error").toUpperCase();let p=l;o&&(p+=": "+o);const y=new Error(p);y.code=l,t(y)}})}function Fg(r,t,e){return Fd(r.serverSyncTree_,t,e)||_t.EMPTY_NODE}function Lg(r,t=r.transactionQueueTree_){if(t||Fh(r,t),zl(t)){const e=W_(r,t);(0,x.hu)(e.length>0,"Sending zero length transaction queue"),e.every(l=>0===l.status)&&function $_(r,t,e){const o=e.map(R=>R.currentWriteId),l=Fg(r,t,o);let p=l;const y=l.hash();for(let R=0;R<e.length;R++){const W=e[R];(0,x.hu)(0===W.status,"tryToSendTransactionQueue_: items in queue should all be run."),W.status=1,W.retryCount++;const G=Kn(t,W.path);p=p.updateChild(G,W.currentOutputSnapshotRaw)}const w=p.val(!0),T=t;r.server_.put(T.toString(),w,R=>{vc(r,"transaction put response",{path:T.toString(),status:R});let W=[];if("ok"===R){const G=[];for(let X=0;X<e.length;X++)e[X].status=2,W=W.concat(Go(r.serverSyncTree_,e[X].currentWriteId)),e[X].onComplete&&G.push(()=>e[X].onComplete(null,!0,e[X].currentOutputSnapshotResolved)),e[X].unwatcher();Fh(r,gc(r.transactionQueueTree_,t)),Lg(r,r.transactionQueueTree_),vr(r.eventQueue_,t,W);for(let X=0;X<G.length;X++)zs(G[X])}else{if("datastale"===R)for(let G=0;G<e.length;G++)e[G].status=3===e[G].status?4:0;else{pr("transaction at "+T.toString()+" failed: "+R);for(let G=0;G<e.length;G++)e[G].status=4,e[G].abortReason=R}jd(r,t)}},y)}(r,Bd(t),e)}else x_(t)&&Ah(t,e=>{Lg(r,e)})}function jd(r,t){const e=G_(r,t),o=Bd(e);return function Oh(r,t,e){if(0===t.length)return;const o=[];let l=[];const y=t.filter(w=>0===w.status).map(w=>w.currentWriteId);for(let w=0;w<t.length;w++){const T=t[w],R=Kn(e,T.path);let G,W=!1;if((0,x.hu)(null!==R,"rerunTransactionsUnderNode_: relativePath should not be null."),4===T.status)W=!0,G=T.abortReason,l=l.concat(Go(r.serverSyncTree_,T.currentWriteId,!0));else if(0===T.status)if(T.retryCount>=zE)W=!0,G="maxretry",l=l.concat(Go(r.serverSyncTree_,T.currentWriteId,!0));else{const X=Fg(r,T.path,y);T.currentInputSnapshot=X;const me=t[w].update(X.val());if(void 0!==me){za("transaction failed: Data returned ",me,T.path);let xe=Jt(me);"object"==typeof me&&null!=me&&(0,x.r3)(me,".priority")||(xe=xe.updatePriority(X.getPriority()));const Ft=T.currentWriteId,Lt=Rh(r),fn=Sh(xe,X,Lt);T.currentOutputSnapshotRaw=xe,T.currentOutputSnapshotResolved=fn,T.currentWriteId=Ph(r),y.splice(y.indexOf(Ft),1),l=l.concat(_g(r.serverSyncTree_,T.path,fn,T.currentWriteId,T.applyLocally)),l=l.concat(Go(r.serverSyncTree_,Ft,!0))}else W=!0,G="nodata",l=l.concat(Go(r.serverSyncTree_,T.currentWriteId,!0))}vr(r.eventQueue_,e,l),l=[],W&&(t[w].status=2,setTimeout(t[w].unwatcher,Math.floor(0)),t[w].onComplete&&o.push("nodata"===G?()=>t[w].onComplete(null,!1,t[w].currentInputSnapshot):()=>t[w].onComplete(new Error(G),!1,null)))}Fh(r,r.transactionQueueTree_);for(let w=0;w<o.length;w++)zs(o[w]);Lg(r,r.transactionQueueTree_)}(r,W_(r,e),o),o}function G_(r,t){let e,o=r.transactionQueueTree_;for(e=Tt(t);null!==e&&void 0===zl(o);)o=gc(o,e),e=Tt(t=zt(t));return o}function W_(r,t){const e=[];return kh(r,t,e),e.sort((o,l)=>o.order-l.order),e}function kh(r,t,e){const o=zl(t);if(o)for(let l=0;l<o.length;l++)e.push(o[l]);Ah(t,l=>{kh(r,l,e)})}function Fh(r,t){const e=zl(t);if(e){let o=0;for(let l=0;l<e.length;l++)2!==e[l].status&&(e[o]=e[l],o++);e.length=o,Sg(t,e.length>0?e:void 0)}Ah(t,o=>{Fh(r,o)})}function Ui(r,t){const e=Bd(G_(r,t)),o=gc(r.transactionQueueTree_,t);return function Ag(r,t,e){let o=e?r:r.parent;for(;null!==o;){if(t(o))return!0;o=o.parent}}(o,l=>{Kl(r,l)}),Kl(r,o),ds(o,l=>{Kl(r,l)}),e}function Kl(r,t){const e=zl(t);if(e){const o=[];let l=[],p=-1;for(let y=0;y<e.length;y++)3===e[y].status||(1===e[y].status?((0,x.hu)(p===y-1,"All SENT items should be at beginning of queue."),p=y,e[y].status=3,e[y].abortReason="set"):((0,x.hu)(0===e[y].status,"Unexpected transaction status in abort"),e[y].unwatcher(),l=l.concat(Go(r.serverSyncTree_,e[y].currentWriteId,!0)),e[y].onComplete&&o.push(e[y].onComplete.bind(null,new Error("set"),!1,null))));-1===p?Sg(t,void 0):e.length=p+1,vr(r.eventQueue_,Bd(t),l);for(let y=0;y<o.length;y++)zs(o[y])}}const Ec=function(r,t){const e=Hi(r),o=e.namespace;return"firebase.com"===e.domain&&os(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||"undefined"===o)&&"localhost"!==e.domain&&os("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&pr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Hf(e.host,e.secure,o,"ws"===e.scheme||"wss"===e.scheme,t,"",o!==e.subdomain),path:new Ut(e.pathString)}},Hi=function(r){let t="",e="",o="",l="",p="",y=!0,w="https",T=443;if("string"==typeof r){let R=r.indexOf("//");R>=0&&(w=r.substring(0,R-1),r=r.substring(R+2));let W=r.indexOf("/");-1===W&&(W=r.length);let G=r.indexOf("?");-1===G&&(G=r.length),t=r.substring(0,Math.min(W,G)),W<G&&(l=function Rr(r){let t="";const e=r.split("/");for(let o=0;o<e.length;o++)if(e[o].length>0){let l=e[o];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}t+="/"+l}return t}(r.substring(W,G)));const X=function ql(r){const t={};"?"===r.charAt(0)&&(r=r.substring(1));for(const e of r.split("&")){if(0===e.length)continue;const o=e.split("=");2===o.length?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):pr(`Invalid query segment '${e}' in query '${r}'`)}return t}(r.substring(Math.min(r.length,G)));R=t.indexOf(":"),R>=0?(y="https"===w||"wss"===w,T=parseInt(t.substring(R+1),10)):R=t.length;const me=t.slice(0,R);if("localhost"===me.toLowerCase())e="localhost";else if(me.split(".").length<=2)e=me;else{const xe=t.indexOf(".");o=t.substring(0,xe).toLowerCase(),e=t.substring(xe+1),p=o}"ns"in X&&(p=X.ns)}return{host:t,port:T,domain:e,subdomain:o,secure:y,scheme:w,pathString:l,namespace:p}},Lh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Cc=function(){let r=0;const t=[];return function(e){const o=e===r;let l;r=e;const p=new Array(8);for(l=7;l>=0;l--)p[l]=Lh.charAt(e%64),e=Math.floor(e/64);(0,x.hu)(0===e,"Cannot push at time == 0");let y=p.join("");if(o){for(l=11;l>=0&&63===t[l];l--)t[l]=0;t[l]++}else for(l=0;l<12;l++)t[l]=Math.floor(64*Math.random());for(l=0;l<12;l++)y+=Lh.charAt(t[l]);return(0,x.hu)(20===y.length,"nextPushId: Length should be 20."),y}}();class Yl{constructor(t,e,o,l){this.eventType=t,this.eventRegistration=e,this.snapshot=o,this.prevName=l}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,x.Wl)(this.snapshot.exportVal())}}class Ql{constructor(t,e,o){this.eventRegistration=t,this.error=e,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Za{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,x.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Jl{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new x.BH;return YE(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){vi("OnDisconnect.remove",this._path);const t=new x.BH;return Nh(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){vi("OnDisconnect.set",this._path),yi("OnDisconnect.set",t,this._path,!1);const e=new x.BH;return Nh(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){vi("OnDisconnect.setWithPriority",this._path),yi("OnDisconnect.setWithPriority",t,this._path,!1),N_("OnDisconnect.setWithPriority",e,!1);const o=new x.BH;return function QE(r,t,e,o,l){const p=Jt(e,o);r.server_.onDisconnectPut(t.toString(),p.val(!0),(y,w)=>{"ok"===y&&ja(r.onDisconnect_,t,p),zo(0,l,y,w)})}(this._repo,this._path,t,e,o.wrapCallback(()=>{})),o.promise}update(t){vi("OnDisconnect.update",this._path),Mh("OnDisconnect.update",t,this._path,!1);const e=new x.BH;return function JE(r,t,e,o){if((0,x.xb)(e))return Zn("onDisconnect().update() called with empty data.  Don't do anything."),void zo(0,o,"ok",void 0);r.server_.onDisconnectMerge(t.toString(),e,(l,p)=>{"ok"===l&&kn(e,(y,w)=>{const T=Jt(w);ja(r.onDisconnect_,At(t,y),T)}),zo(0,o,l,p)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class qn{constructor(t,e,o,l){this._repo=t,this._path=e,this._queryParams=o,this._orderByCalled=l}get key(){return mt(this._path)?null:Qu(this._path)}get ref(){return new Ci(this._repo,this._path)}get _queryIdentifier(){const t=o_(this._queryParams),e=ad(t);return"{}"===e?"default":e}get _queryObject(){return o_(this._queryParams)}isEqual(t){if(!((t=(0,x.m9)(t))instanceof qn))return!1;const e=this._repo===t._repo,o=Va(this._path,t._path);return e&&o&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Ed(r){let t="";for(let e=r.pieceNum_;e<r.pieces_.length;e++)""!==r.pieces_[e]&&(t+="/"+encodeURIComponent(String(r.pieces_[e])));return t||"/"}(this._path)}}function Zo(r,t){if(!0===r._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ei(r){let t=null,e=null;if(r.hasStart()&&(t=r.getIndexStartValue()),r.hasEnd()&&(e=r.getIndexEndValue()),r.getIndex()===xr){const o="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",l="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(r.hasStart()){if(r.getIndexStartName()!==as)throw new Error(o);if("string"!=typeof t)throw new Error(l)}if(r.hasEnd()){if(r.getIndexEndName()!==pi)throw new Error(o);if("string"!=typeof e)throw new Error(l)}}else if(r.getIndex()===Rt){if(null!=t&&!Wa(t)||null!=e&&!Wa(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,x.hu)(r.getIndex()instanceof Id||r.getIndex()===n_,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ko(r){if(r.hasStart()&&r.hasEnd()&&r.hasLimit()&&!r.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ci extends qn{constructor(t,e){super(t,e,new Dd,!1)}get parent(){const t=Cd(this._path);return null===t?null:new Ci(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Ka{constructor(t,e,o){this._node=t,this.ref=e,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Ut(t),o=qa(this.ref,t);return new Ka(this._node.getChild(e),o,Rt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(o,l)=>t(new Ka(l,qa(this.ref,o),Rt)))}hasChild(t){const e=new Ut(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Vg(r,t){return(r=(0,x.m9)(r))._checkNotDeleted("ref"),void 0!==t?qa(r._root,t):r._root}function Bg(r,t){(r=(0,x.m9)(r))._checkNotDeleted("refFromURL");const e=Ec(t,r._repo.repoInfo_.nodeAdmin);xh("refFromURL",e);const o=e.repoInfo;return!r._repo.repoInfo_.isCustomHost()&&o.host!==r._repo.repoInfo_.host&&os("refFromURL: Host name does not match the current database: (found "+o.host+" but expected "+r._repo.repoInfo_.host+")"),Vg(r,e.path.toString())}function qa(r,t){return null===Tt((r=(0,x.m9)(r))._path)?O_("child","path",t,!1):yc("child","path",t,!1),new Ci(r._repo,At(r._path,t))}function Vh(r,t){r=(0,x.m9)(r),vi("set",r._path),yi("set",t,r._path,!1);const e=new x.BH;return Ng(r._repo,r._path,t,null,e.wrapCallback(()=>{})),e.promise}function K_(r,t){Mh("update",t,r._path,!1);const e=new x.BH;return function U_(r,t,e,o){vc(r,"update",{path:t.toString(),value:e});let l=!0;const p=Rh(r),y={};if(kn(e,(w,T)=>{l=!1,y[w]=M_(At(t,w),Jt(T),r.serverSyncTree_,p)}),l)Zn("update() called with empty data.  Don't do anything."),zo(0,o,"ok",void 0);else{const w=Ph(r),T=function FE(r,t,e,o){!function mE(r,t,e,o){(0,x.hu)(o>r.lastWriteId,"Stacking an older merge on top of newer ones"),r.allWrites.push({path:t,children:e,writeId:o,visible:!0}),r.visibleWrites=Pd(r.visibleWrites,t,e),r.lastWriteId=o}(r.pendingWriteTree_,t,e,o);const l=Kt.fromObject(e);return Ga(r,new Bl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,l))}(r.serverSyncTree_,t,y,w);Zl(r.eventQueue_,T),r.server_.merge(t.toString(),e,(R,W)=>{const G="ok"===R;G||pr("update at "+t+" failed: "+R);const X=Go(r.serverSyncTree_,w,!G),me=X.length>0?jd(r,t):t;vr(r.eventQueue_,me,X),zo(0,o,R,W)}),kn(e,R=>{const W=Ui(r,At(t,R));jd(r,W)}),vr(r.eventQueue_,t,[])}}(r._repo,r._path,t,e.wrapCallback(()=>{})),e.promise}function iC(r){r=(0,x.m9)(r);const t=new Za(()=>{}),e=new Ic(t);return function qE(r,t,e){const o=function vg(r,t){const e=t._path;let o=null;r.syncPointTree_.foreachOnPath(e,(R,W)=>{const G=Kn(R,e);o=o||jo(W,G)});let l=r.syncPointTree_.get(e);l?o=o||jo(l,xt()):(l=new fg,r.syncPointTree_=r.syncPointTree_.set(e,l));const p=null!=o,y=p?new Ul(o,!0,!1):null;return function A0(r){return hh(r.viewCache_)}(D_(l,t,Uo(r.pendingWriteTree_,t._path),p?y.getNode():_t.EMPTY_NODE,p))}(r.serverSyncTree_,t);return null!=o?Promise.resolve(o):r.server_.get(t).then(l=>{const p=Jt(l).withIndex(t._queryParams.getIndex());let y;if(pc(r.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())y=kd(r.serverSyncTree_,t._path,p);else{const w=Ld(r.serverSyncTree_,t);y=hc(r.serverSyncTree_,t._path,p,w)}return vr(r.eventQueue_,t._path,y),fc(r.serverSyncTree_,t,e,null,!0),p},l=>(vc(r,"get for query "+(0,x.Wl)(t)+" failed: "+l),Promise.reject(new Error(l))))}(r._repo,r,e).then(o=>new Ka(o,new Ci(r._repo,r._path),r._queryParams.getIndex()))}class Ic{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const o=e._queryParams.getIndex();return new Yl("value",this,new Ka(t.snapshotNode,new Ci(e._repo,e._path),o))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Ql(this,t,e):null}matches(t){return t instanceof Ic&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class wc{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Ql(this,t,e):null}createEvent(t,e){(0,x.hu)(null!=t.childName,"Child events should have a childName.");const o=qa(new Ci(e._repo,e._path),t.childName),l=e._queryParams.getIndex();return new Yl(t.type,this,new Ka(t.snapshotNode,o,l),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof wc&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Xl(r,t,e,o,l){let p;if("object"==typeof o&&(p=void 0,l=o),"function"==typeof o&&(p=o),l&&l.onlyOnce){const T=e,R=(W,G)=>{kg(r._repo,r,w),T(W,G)};R.userCallback=e.userCallback,R.context=e.context,e=R}const y=new Za(e,p||void 0),w="value"===t?new Ic(y):new wc(t,y);return function XE(r,t,e){let o;o=".info"===Tt(t._path)?pc(r.infoSyncTree_,t,e):pc(r.serverSyncTree_,t,e),Ud(r.eventQueue_,t._path,o)}(r._repo,r,w),()=>kg(r._repo,r,w)}function Ug(r,t,e,o){return Xl(r,"value",t,e,o)}function $d(r,t,e,o){return Xl(r,"child_added",t,e,o)}function Gd(r,t,e,o){return Xl(r,"child_changed",t,e,o)}function Bh(r,t,e,o){return Xl(r,"child_moved",t,e,o)}function q_(r,t,e,o){return Xl(r,"child_removed",t,e,o)}function Wd(r,t,e){let o=null;const l=e?new Za(e):null;"value"===t?o=new Ic(l):t&&(o=new wc(t,l)),kg(r._repo,r,o)}class ni{}class Hg extends ni{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){yi("endAt",this._value,t._path,!0);const e=Td(t._queryParams,this._value,this._key);if(Ko(e),Ei(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new qn(t._repo,t._path,e,t._orderByCalled)}}class jg extends ni{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){yi("endBefore",this._value,t._path,!1);const e=function s_(r,t,e){let o;return o=Td(r,t,r.index_===xr||e?e:as),o.endBeforeSet_=!0,o}(t._queryParams,this._value,this._key);if(Ko(e),Ei(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new qn(t._repo,t._path,e,t._orderByCalled)}}class $g extends ni{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){yi("startAt",this._value,t._path,!0);const e=bd(t._queryParams,this._value,this._key);if(Ko(e),Ei(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new qn(t._repo,t._path,e,t._orderByCalled)}}class J_ extends ni{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){yi("startAfter",this._value,t._path,!1);const e=function hE(r,t,e){let o;return o=bd(r,t,r.index_===xr||e?e:pi),o.startAfterSet_=!0,o}(t._queryParams,this._value,this._key);if(Ko(e),Ei(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new qn(t._repo,t._path,e,t._orderByCalled)}}class X_ extends ni{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new qn(t._repo,t._path,function Qp(r,t){const e=r.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class ty extends ni{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new qn(t._repo,t._path,function w0(r,t){const e=r.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class oC extends ni{constructor(t){super(),this._path=t}_apply(t){Zo(t,"orderByChild");const e=new Ut(this._path);if(mt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const o=new Id(e),l=Sd(t._queryParams,o);return Ei(l),new qn(t._repo,t._path,l,!0)}}class lC extends ni{_apply(t){Zo(t,"orderByKey");const e=Sd(t._queryParams,xr);return Ei(e),new qn(t._repo,t._path,e,!0)}}class Wg extends ni{_apply(t){Zo(t,"orderByPriority");const e=Sd(t._queryParams,Rt);return Ei(e),new qn(t._repo,t._path,e,!0)}}class sy extends ni{_apply(t){Zo(t,"orderByValue");const e=Sd(t._queryParams,n_);return Ei(e),new qn(t._repo,t._path,e,!0)}}class ay extends ni{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(yi("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Hg(this._value,this._key)._apply(new $g(this._value,this._key)._apply(t))}}function ji(r,...t){let e=(0,x.m9)(r);for(const o of t)e=o._apply(e);return e}(function Eh(r){(0,x.hu)(!vh,"__referenceConstructor has already been defined"),vh=r})(Ci),function mg(r){(0,x.hu)(!gg,"__referenceConstructor has already been defined"),gg=r}(Ci);const uy="FIREBASE_DATABASE_EMULATOR_HOST",Uh={};let zd=!1;function cy(r,t,e,o,l){let p=o||r.options.databaseURL;void 0===p&&(r.options.projectId||os("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Zn("Using default host for project ",r.options.projectId),p=`${r.options.projectId}-default-rtdb.firebaseio.com`);let T,R,y=Ec(p,l),w=y.repoInfo;typeof process<"u"&&process.env&&(R=process.env[uy]),R?(T=!0,p=`http://${R}?ns=${w.namespace}`,y=Ec(p,l),w=y.repoInfo):T=!y.repoInfo.secure;const W=l&&T?new xa(xa.OWNER):new Al(r.name,r.options,t);xh("Invalid Firebase Database URL",y),mt(y.path)||os("Database URL must point to the root of a Firebase Database (not including a child path).");const G=function zg(r,t,e,o){let l=Uh[t.name];l||(l={},Uh[t.name]=l);let p=l[r.toURLString()];return p&&os("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),p=new ZE(r,zd,e,o),l[r.toURLString()]=p,p}(w,r,W,new tr(r.name,e));return new Zg(G,r)}class Zg{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Hd(r,t,e){if(r.stats_=Hu(r.repoInfo_),r.forceRestClient_||Bf())r.server_=new nc(r.repoInfo_,(o,l,p,y)=>{V_(r,o,l,p,y)},r.authTokenProvider_,r.appCheckProvider_),setTimeout(()=>B_(r,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,x.Wl)(e)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}r.persistentConnection_=new nr(r.repoInfo_,t,(o,l,p,y)=>{V_(r,o,l,p,y)},o=>{B_(r,o)},o=>{!function KE(r,t){kn(t,(e,o)=>{Pg(r,e,o)})}(r,o)},r.authTokenProvider_,r.appCheckProvider_,e),r.server_=r.persistentConnection_}r.authTokenProvider_.addTokenChangeListener(o=>{r.server_.refreshAuthToken(o)}),r.appCheckProvider_.addTokenChangeListener(o=>{r.server_.refreshAppCheckToken(o.token)}),r.statsReporter_=function Oa(r,t){const e=r.toString();return Na[e]||(Na[e]=t()),Na[e]}(r.repoInfo_,()=>new ic(r.stats_,r.server_)),r.infoData_=new lh,r.infoSyncTree_=new Wl({startListening:(o,l,p,y)=>{let w=[];const T=r.infoData_.getNode(o._path);return T.isEmpty()||(w=kd(r.infoSyncTree_,o._path,T),setTimeout(()=>{y("ok")},0)),w},stopListening:()=>{}}),Pg(r,"connected",!1),r.serverSyncTree_=new Wl({startListening:(o,l,p,y)=>(r.server_.listen(o,p,l,(w,T)=>{const R=y(w,T);vr(r.eventQueue_,o._path,R)}),[]),stopListening:(o,l)=>{r.server_.unlisten(o,l)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ci(this._repo,xt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function uC(r,t){const e=Uh[t];(!e||e[r.key]!==r)&&os(`Database ${t}(${r.repoInfo_}) has already been deleted.`),H_(r),delete e[r.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&os("Cannot call "+t+" on a deleted database.")}}function dy(){Zu.IS_TRANSPORT_INITIALIZED&&pr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Kg(){dy(),Mr.forceDisallow()}function P0(){dy(),Fi.forceDisallow(),Mr.forceAllow()}function fy(r,t,e,o={}){(r=(0,x.m9)(r))._checkNotDeleted("useEmulator"),r._instanceStarted&&os("Cannot call useEmulator() after instance has already been initialized.");const l=r._repoInternal;let p;if(l.repoInfo_.nodeAdmin)o.mockUserToken&&os('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),p=new xa(xa.OWNER);else if(o.mockUserToken){const y="string"==typeof o.mockUserToken?o.mockUserToken:(0,x.Sg)(o.mockUserToken,r.app.options.projectId);p=new xa(y)}!function Ya(r,t,e,o){r.repoInfo_=new Hf(`${t}:${e}`,!1,r.repoInfo_.namespace,r.repoInfo_.webSocketOnly,r.repoInfo_.nodeAdmin,r.repoInfo_.persistenceKey,r.repoInfo_.includeNamespaceInQueryParams,!0),o&&(r.authTokenProvider_=o)}(l,t,e,p)}function dC(r,t){bl(r,t)}const py={".sv":"timestamp"};class gy{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}nr.prototype.simpleListen=function(r,t){this.sendRequest("q",{p:r},t)},nr.prototype.echo=function(r,t){this.sendRequest("echo",{d:r},t)},function Yn(r){Oi(Ve.SDK_VERSION),(0,Ve._registerComponent)(new ye.wA("database",(t,{instanceIdentifier:e})=>cy(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Ve.registerVersion)(pt,"0.14.4",r),(0,Ve.registerVersion)(pt,"0.14.4","esm2017")}();const yC=new It.Yd("@firebase/database-compat"),qg=function(r){yC.warn("FIREBASE WARNING: "+r)};class O0{constructor(t){this._delegate=t}cancel(t){(0,x.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,x.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),o=>t(o)),e}remove(t){(0,x.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,x.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),o=>t(o)),e}set(t,e){(0,x.Dv)("OnDisconnect.set",1,2,arguments.length),(0,x.Wj)("OnDisconnect.set","onComplete",e,!0);const o=this._delegate.set(t);return e&&o.then(()=>e(null),l=>e(l)),o}setWithPriority(t,e,o){(0,x.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,x.Wj)("OnDisconnect.setWithPriority","onComplete",o,!0);const l=this._delegate.setWithPriority(t,e);return o&&l.then(()=>o(null),p=>o(p)),l}update(t,e){if((0,x.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const l={};for(let p=0;p<t.length;++p)l[""+p]=t[p];t=l,qg("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,x.Wj)("OnDisconnect.update","onComplete",e,!0);const o=this._delegate.update(t);return e&&o.then(()=>e(null),l=>e(l)),o}}class _y{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,x.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Js{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,x.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,x.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,x.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,x.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,x.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),yc("DataSnapshot.child","path",t,!1),new Js(this._database,this._delegate.child(t))}hasChild(t){return(0,x.Dv)("DataSnapshot.hasChild",1,1,arguments.length),yc("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,x.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,x.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,x.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Js(this._database,e)))}hasChildren(){return(0,x.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,x.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,x.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ii(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class rn{constructor(t,e){this.database=t,this._delegate=e}on(t,e,o,l){var p;(0,x.Dv)("Query.on",2,4,arguments.length),(0,x.Wj)("Query.on","callback",e,!1);const y=rn.getCancelAndContextArgs_("Query.on",o,l),w=(R,W)=>{e.call(y.context,new Js(this.database,R),W)};w.userCallback=e,w.context=y.context;const T=null===(p=y.cancel)||void 0===p?void 0:p.bind(y.context);switch(t){case"value":return Ug(this._delegate,w,T),e;case"child_added":return $d(this._delegate,w,T),e;case"child_removed":return q_(this._delegate,w,T),e;case"child_changed":return Gd(this._delegate,w,T),e;case"child_moved":return Bh(this._delegate,w,T),e;default:throw new Error((0,x.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,o){if((0,x.Dv)("Query.off",0,3,arguments.length),function(r,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,x.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,x.Wj)("Query.off","callback",e,!0),(0,x.lb)("Query.off","context",o,!0),e){const l=()=>{};l.userCallback=e,l.context=o,Wd(this._delegate,t,l)}else Wd(this._delegate,t)}get(){return iC(this._delegate).then(t=>new Js(this.database,t))}once(t,e,o,l){(0,x.Dv)("Query.once",1,4,arguments.length),(0,x.Wj)("Query.once","callback",e,!0);const p=rn.getCancelAndContextArgs_("Query.once",o,l),y=new x.BH,w=(R,W)=>{const G=new Js(this.database,R);e&&e.call(p.context,G,W),y.resolve(G)};w.userCallback=e,w.context=p.context;const T=R=>{p.cancel&&p.cancel.call(p.context,R),y.reject(R)};switch(t){case"value":Ug(this._delegate,w,T,{onlyOnce:!0});break;case"child_added":$d(this._delegate,w,T,{onlyOnce:!0});break;case"child_removed":q_(this._delegate,w,T,{onlyOnce:!0});break;case"child_changed":Gd(this._delegate,w,T,{onlyOnce:!0});break;case"child_moved":Bh(this._delegate,w,T,{onlyOnce:!0});break;default:throw new Error((0,x.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return y.promise}limitToFirst(t){return(0,x.Dv)("Query.limitToFirst",1,1,arguments.length),new rn(this.database,ji(this._delegate,function ey(r){if("number"!=typeof r||Math.floor(r)!==r||r<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new X_(r)}(t)))}limitToLast(t){return(0,x.Dv)("Query.limitToLast",1,1,arguments.length),new rn(this.database,ji(this._delegate,function ny(r){if("number"!=typeof r||Math.floor(r)!==r||r<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new ty(r)}(t)))}orderByChild(t){return(0,x.Dv)("Query.orderByChild",1,1,arguments.length),new rn(this.database,ji(this._delegate,function aC(r){if("$key"===r)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===r)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===r)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return yc("orderByChild","path",r,!1),new oC(r)}(t)))}orderByKey(){return(0,x.Dv)("Query.orderByKey",0,0,arguments.length),new rn(this.database,ji(this._delegate,function ry(){return new lC}()))}orderByPriority(){return(0,x.Dv)("Query.orderByPriority",0,0,arguments.length),new rn(this.database,ji(this._delegate,function iy(){return new Wg}()))}orderByValue(){return(0,x.Dv)("Query.orderByValue",0,0,arguments.length),new rn(this.database,ji(this._delegate,function oy(){return new sy}()))}startAt(t=null,e){return(0,x.Dv)("Query.startAt",0,2,arguments.length),new rn(this.database,ji(this._delegate,function Gg(r=null,t){return _c("startAt","key",t,!0),new $g(r,t)}(t,e)))}startAfter(t=null,e){return(0,x.Dv)("Query.startAfter",0,2,arguments.length),new rn(this.database,ji(this._delegate,function sC(r,t){return _c("startAfter","key",t,!0),new J_(r,t)}(t,e)))}endAt(t=null,e){return(0,x.Dv)("Query.endAt",0,2,arguments.length),new rn(this.database,ji(this._delegate,function Y_(r,t){return _c("endAt","key",t,!0),new Hg(r,t)}(t,e)))}endBefore(t=null,e){return(0,x.Dv)("Query.endBefore",0,2,arguments.length),new rn(this.database,ji(this._delegate,function Q_(r,t){return _c("endBefore","key",t,!0),new jg(r,t)}(t,e)))}equalTo(t,e){return(0,x.Dv)("Query.equalTo",1,2,arguments.length),new rn(this.database,ji(this._delegate,function ly(r,t){return _c("equalTo","key",t,!0),new ay(r,t)}(t,e)))}toString(){return(0,x.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,x.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,x.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof rn))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,o){const l={cancel:void 0,context:void 0};if(e&&o)l.cancel=e,(0,x.Wj)(t,"cancel",l.cancel,!0),l.context=o,(0,x.lb)(t,"context",l.context,!0);else if(e)if("object"==typeof e&&null!==e)l.context=e;else{if("function"!=typeof e)throw new Error((0,x.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");l.cancel=e}return l}get ref(){return new Ii(this.database,new Ci(this._delegate._repo,this._delegate._path))}}class Ii extends rn{constructor(t,e){super(t,new qn(e._repo,e._path,new Dd,!1)),this.database=t,this._delegate=e}getKey(){return(0,x.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,x.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Ii(this.database,qa(this._delegate,t))}getParent(){(0,x.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Ii(this.database,t):null}getRoot(){return(0,x.Dv)("Reference.root",0,0,arguments.length),new Ii(this.database,this._delegate.root)}set(t,e){(0,x.Dv)("Reference.set",1,2,arguments.length),(0,x.Wj)("Reference.set","onComplete",e,!0);const o=Vh(this._delegate,t);return e&&o.then(()=>e(null),l=>e(l)),o}update(t,e){if((0,x.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const l={};for(let p=0;p<t.length;++p)l[""+p]=t[p];t=l,qg("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}vi("Reference.update",this._delegate._path),(0,x.Wj)("Reference.update","onComplete",e,!0);const o=K_(this._delegate,t);return e&&o.then(()=>e(null),l=>e(l)),o}setWithPriority(t,e,o){(0,x.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,x.Wj)("Reference.setWithPriority","onComplete",o,!0);const l=function rC(r,t,e){if(vi("setWithPriority",r._path),yi("setWithPriority",t,r._path,!1),N_("setWithPriority",e,!1),".length"===r.key||".keys"===r.key)throw"setWithPriority failed: "+r.key+" is a read-only object.";const o=new x.BH;return Ng(r._repo,r._path,t,e,o.wrapCallback(()=>{})),o.promise}(this._delegate,t,e);return o&&l.then(()=>o(null),p=>o(p)),l}remove(t){(0,x.Dv)("Reference.remove",0,1,arguments.length),(0,x.Wj)("Reference.remove","onComplete",t,!0);const e=function Z_(r){return vi("remove",r._path),Vh(r,null)}(this._delegate);return t&&e.then(()=>t(null),o=>t(o)),e}transaction(t,e,o){(0,x.Dv)("Reference.transaction",1,3,arguments.length),(0,x.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,x.Wj)("Reference.transaction","onComplete",e,!0),function(r,t,e,o){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,x.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,o);const l=function pC(r,t,e){var o;if(r=(0,x.m9)(r),vi("Reference.transaction",r._path),".length"===r.key||".keys"===r.key)throw"Reference.transaction failed: "+r.key+" is a read-only object.";const l=null===(o=e?.applyLocally)||void 0===o||o,p=new x.BH,w=Ug(r,()=>{});return function j_(r,t,e,o,l,p){vc(r,"transaction on "+t);const y={path:t,update:e,onComplete:o,status:null,order:sd(),applyLocally:p,retryCount:0,unwatcher:l,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},w=Fg(r,t,void 0);y.currentInputSnapshot=w;const T=y.update(w.val());if(void 0===T)y.unwatcher(),y.currentOutputSnapshotRaw=null,y.currentOutputSnapshotResolved=null,y.onComplete&&y.onComplete(null,!1,y.currentInputSnapshot);else{za("transaction failed: Data returned ",T,y.path),y.status=0;const R=gc(r.transactionQueueTree_,t),W=zl(R)||[];let G;W.push(y),Sg(R,W),"object"==typeof T&&null!==T&&(0,x.r3)(T,".priority")?(G=(0,x.DV)(T,".priority"),(0,x.hu)(Wa(G),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):G=(Fd(r.serverSyncTree_,t)||_t.EMPTY_NODE).getPriority().val();const X=Rh(r),me=Jt(T,G),xe=Sh(me,w,X);y.currentOutputSnapshotRaw=me,y.currentOutputSnapshotResolved=xe,y.currentWriteId=Ph(r);const ut=_g(r.serverSyncTree_,t,xe,y.currentWriteId,y.applyLocally);vr(r.eventQueue_,t,ut),Lg(r,r.transactionQueueTree_)}}(r._repo,r._path,t,(T,R,W)=>{let G=null;T?p.reject(T):(G=new Ka(W,new Ci(r._repo,r._path),Rt),p.resolve(new gy(R,G)))},w,l),p.promise}(this._delegate,t,{applyLocally:o}).then(p=>new _y(p.committed,new Js(this.database,p.snapshot)));return e&&l.then(p=>e(null,p.committed,p.snapshot),p=>e(p,!1,null)),l}setPriority(t,e){(0,x.Dv)("Reference.setPriority",1,2,arguments.length),(0,x.Wj)("Reference.setPriority","onComplete",e,!0);const o=function nC(r,t){r=(0,x.m9)(r),vi("setPriority",r._path),N_("setPriority",t,!1);const e=new x.BH;return Ng(r._repo,At(r._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&o.then(()=>e(null),l=>e(l)),o}push(t,e){(0,x.Dv)("Reference.push",0,2,arguments.length),(0,x.Wj)("Reference.push","onComplete",e,!0);const o=function z_(r,t){r=(0,x.m9)(r),vi("push",r._path),yi("push",t,r._path,!0);const e=L_(r._repo),o=Cc(e),l=qa(r,o),p=qa(r,o);let y;return y=null!=t?Vh(p,t).then(()=>p):Promise.resolve(p),l.then=y.then.bind(y),l.catch=y.then.bind(y,void 0),l}(this._delegate,t),l=o.then(y=>new Ii(this.database,y));e&&l.then(()=>e(null),y=>e(y));const p=new Ii(this.database,o);return p.then=l.then.bind(l),p.catch=l.catch.bind(l,void 0),p}onDisconnect(){return vi("Reference.onDisconnect",this._delegate._path),new O0(new Jl(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Zd{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Kg,forceLongPolling:P0}}useEmulator(t,e,o={}){fy(this._delegate,t,e,o)}ref(t){if((0,x.Dv)("database.ref",0,1,arguments.length),t instanceof Ii){const e=Bg(this._delegate,t.toString());return new Ii(this,e)}{const e=Vg(this._delegate,t);return new Ii(this,e)}}refFromURL(t){(0,x.Dv)("database.refFromURL",1,1,arguments.length);const o=Bg(this._delegate,t);return new Ii(this,o)}goOffline(){return(0,x.Dv)("database.goOffline",0,0,arguments.length),function cC(r){(r=(0,x.m9)(r))._checkNotDeleted("goOffline"),H_(r._repo)}(this._delegate)}goOnline(){return(0,x.Dv)("database.goOnline",0,0,arguments.length),function hy(r){(r=(0,x.m9)(r))._checkNotDeleted("goOnline"),function eC(r){r.persistentConnection_&&r.persistentConnection_.resume(Rg)}(r._repo)}(this._delegate)}}Zd.ServerValue={TIMESTAMP:function fC(){return py}(),increment:r=>function hC(r){return{".sv":{increment:r}}}(r)};var fs=Object.freeze({__proto__:null,initStandalone:function Xs({app:r,url:t,version:e,customAuthImpl:o,namespace:l,nodeAdmin:p=!1}){Oi(e);const y=new ye.zt("auth-internal",new ye.H0("database-standalone"));return y.setComponent(new ye.wA("auth-internal",()=>o,"PRIVATE")),{instance:new Zd(cy(r,y,void 0,t,p),r),namespace:l}}});const hs=Zd.ServerValue;!function yy(r){r.INTERNAL.registerComponent(new ye.wA("database-compat",(t,{instanceIdentifier:e})=>{const o=t.getProvider("app-compat").getImmediate(),l=t.getProvider("database").getImmediate({identifier:e});return new Zd(l,o)},"PUBLIC").setServiceProps({Reference:Ii,Query:rn,Database:Zd,DataSnapshot:Js,enableLogging:dC,INTERNAL:fs,ServerValue:hs}).setMultipleInstances(!0)),r.registerVersion("@firebase/database-compat","0.3.4")}(q.Z);var Kd=O(5363),EC=O(6063);class CC extends Vr.x{constructor(t=1/0,e=1/0,o=EC.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:o,_infiniteTimeWindow:l,_timestampProvider:p,_windowTime:y}=this;e||(o.push(t),!l&&o.push(p.now()+y)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:o,_buffer:l}=this,p=l.slice();for(let y=0;y<p.length&&!t.closed;y+=o?1:2)t.next(p[y]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:o,_infiniteTimeWindow:l}=this,p=(l?1:2)*t;if(t<1/0&&p<o.length&&o.splice(0,o.length-p),!l){const y=e.now();let w=0;for(let T=1;T<o.length&&o[T]<=y;T+=2)w=T;w&&o.splice(0,w+1)}}}function vy(r,t,e){let o,l=!1;return r&&"object"==typeof r?({bufferSize:o=1/0,windowTime:t=1/0,refCount:l=!1,scheduler:e}=r):o=r??1/0,(0,Pu.B)({connector:()=>new CC(o,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}const Hh=(0,O(3888).d)(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});function tu(r,t){return(0,En.e)((e,o)=>{let l=0;e.subscribe((0,Wn.x)(o,p=>r.call(t,p,l++)&&o.next(p)))})}var wC=O(515);function Cy(r=Iy){return(0,En.e)((t,e)=>{let o=!1;t.subscribe((0,Wn.x)(e,l=>{o=!0,e.next(l)},()=>o?e.complete():e.error(r())))})}function Iy(){return new Hh}var wy=O(576);function Yg(r,t){return(0,wy.m)(t)?Cn(()=>r,t):Cn(()=>r)}var $h=O(9468),qd=O(259);const Qg=new Map,Ay={activated:!1,tokenObservers:[]},MC={initialized:!1,enabled:!1};function Fn(r){return Qg.get(r)||Object.assign({},Ay)}function Wh(){return MC}const Jg="https://content-firebaseappcheck.googleapis.com/v1",NC="exchangeDebugToken",Xg={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class xy{constructor(t,e,o,l,p){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=o,this.lowerBound=l,this.upperBound=p,this.pending=null,this.nextErrorWaitInterval=l,l>p)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,He.Z)(function*(){e.stop();try{e.pending=new x.BH,yield function Ry(r){return new Promise(t=>{setTimeout(t,r)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new x.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(o){e.retryPolicy(o)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const rr=new x.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Zh(r,t){return qo.apply(this,arguments)}function qo(){return(qo=(0,He.Z)(function*({url:r,body:t},e){const o={"Content-Type":"application/json"},l=e.getImmediate({optional:!0});if(l){const G=yield l.getHeartbeatsHeader();G&&(o["X-Firebase-Client"]=G)}const p={method:"POST",body:JSON.stringify(t),headers:o};let y,w;try{y=yield fetch(r,p)}catch(G){throw rr.create("fetch-network-error",{originalErrorMessage:G?.message})}if(200!==y.status)throw rr.create("fetch-status-error",{httpStatus:y.status});try{w=yield y.json()}catch(G){throw rr.create("fetch-parse-error",{originalErrorMessage:G?.message})}const T=w.ttl.match(/^([\d.]+)(s)$/);if(!T||!T[2]||isNaN(Number(T[1])))throw rr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const R=1e3*Number(T[1]),W=Date.now();return{token:w.token,expireTimeMillis:W+R,issuedAtTimeMillis:W}})).apply(this,arguments)}const j0="firebase-app-check-database",tm=1,Kh="firebase-app-check-store";let Jd=null;function ru(r,t){return rm.apply(this,arguments)}function rm(){return(rm=(0,He.Z)(function*(r,t){const o=(yield function FC(){return Jd||(Jd=new Promise((r,t)=>{try{const e=indexedDB.open(j0,tm);e.onsuccess=o=>{r(o.target.result)},e.onerror=o=>{var l;t(rr.create("storage-open",{originalErrorMessage:null===(l=o.target.error)||void 0===l?void 0:l.message}))},e.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(Kh,{keyPath:"compositeKey"})}}catch(e){t(rr.create("storage-open",{originalErrorMessage:e?.message}))}}),Jd)}()).transaction(Kh,"readwrite"),p=o.objectStore(Kh).put({compositeKey:r,value:t});return new Promise((y,w)=>{p.onsuccess=T=>{y()},o.onerror=T=>{var R;w(rr.create("storage-set",{originalErrorMessage:null===(R=T.target.error)||void 0===R?void 0:R.message}))}})})).apply(this,arguments)}const qh=new It.Yd("@firebase/app-check");function im(r,t){return(0,x.hl)()?function LC(r,t){return ru(function In(r){return`${r.options.appId}-${r.name}`}(r),t)}(r,t).catch(e=>{qh.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function om(){return am.apply(this,arguments)}function am(){return(am=(0,He.Z)(function*(){const r=Wh();if(r.enabled&&r.token)return r.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const HC={error:"UNKNOWN_ERROR"};function ef(r){return x.US.encodeString(JSON.stringify(r),!1)}function Jh(r){return lm.apply(this,arguments)}function lm(){return(lm=(0,He.Z)(function*(r,t=!1){const e=r.app;!function em(r){if(!Fn(r).activated)throw rr.create("use-before-activation",{appName:r.name})}(e);const o=Fn(e);let p,l=o.token;if(l&&!Ac(l)&&(o.token=void 0,l=void 0),!l){const T=yield o.cachedTokenPromise;T&&(Ac(T)?l=T:yield im(e,void 0))}if(!t&&l&&Ac(l))return{token:l.token};let w,y=!1;if(function sm(){return Wh().enabled}()){o.exchangeTokenPromise||(o.exchangeTokenPromise=Zh(function bc(r,t){const{projectId:e,appId:o,apiKey:l}=r.options;return{url:`${Jg}/projects/${e}/apps/${o}:${NC}?key=${l}`,body:{debug_token:t}}}(e,yield om()),r.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),y=!0);const T=yield o.exchangeTokenPromise;return yield im(e,T),o.token=T,{token:T.token}}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),y=!0),l=yield Fn(e).exchangeTokenPromise}catch(T){"appCheck/throttled"===T.code?qh.warn(T.message):qh.error(T),p=T}return l?p?w=Ac(l)?{token:l.token,internalError:p}:Mc(p):(w={token:l.token},o.token=l,yield im(e,l)):w=Mc(p),y&&function dm(r,t){const e=Fn(r).tokenObservers;for(const o of e)try{"EXTERNAL"===o.type&&null!=t.error?o.error(t.error):o.next(t)}catch{}}(e,w),w})).apply(this,arguments)}function Sc(r,t){const e=Fn(r),o=e.tokenObservers.filter(l=>l.next!==t);0===o.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=o}function cm(r){const{app:t}=r,e=Fn(t);let o=e.tokenRefresher;o||(o=function ky(r){const{app:t}=r;return new xy((0,He.Z)(function*(){let o;if(o=Fn(t).token?yield Jh(r,!0):yield Jh(r),o.error)throw o.error;if(o.internalError)throw o.internalError}),()=>!0,()=>{const e=Fn(t);if(e.token){let o=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,e.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},Xg.RETRIAL_MIN_WAIT,Xg.RETRIAL_MAX_WAIT)}(r),e.tokenRefresher=o),!o.isRunning()&&e.isTokenAutoRefreshEnabled&&o.start()}function Ac(r){return r.expireTimeMillis-Date.now()>0}function Mc(r){return{token:ef(HC),error:r}}class tf{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Fn(this.app);for(const e of t)Sc(this.app,e.next);return Promise.resolve()}}const Zy="app-check-internal";!function KC(){(0,Ve._registerComponent)(new ye.wA("app-check",r=>function jC(r,t){return new tf(r,t)}(r.getProvider("app").getImmediate(),r.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,t,e)=>{r.getProvider(Zy).initialize()})),(0,Ve._registerComponent)(new ye.wA(Zy,r=>function $C(r){return{getToken:t=>Jh(r,t),addTokenListener:t=>function um(r,t,e,o){const{app:l}=r,p=Fn(l);if(p.tokenObservers=[...p.tokenObservers,{next:e,error:o,type:t}],p.token&&Ac(p.token)){const w=p.token;Promise.resolve().then(()=>{e({token:w.token}),cm(r)}).catch(()=>{})}p.cachedTokenPromise.then(()=>cm(r))}(r,"INTERNAL",t),removeTokenListener:t=>Sc(r.app,t)}}(r.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ve.registerVersion)("@firebase/app-check","0.6.5")}();class ep{constructor(){return(0,S.vb)("app-check")}}typeof window<"u"&&window;var eI=O(9260);const Yy=new f.OlP("angularfire2.auth.use-emulator"),Qy=new f.OlP("angularfire2.auth.settings"),Jy=new f.OlP("angularfire2.auth.tenant-id"),Xy=new f.OlP("angularfire2.auth.langugage-code"),ev=new f.OlP("angularfire2.auth.use-device-language"),tv=new f.OlP("angularfire.auth.persistence"),gm=(r,t,e,o,l,p,y,w)=>(0,P.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const T=t.runOutsideAngular(()=>r.auth());if(e&&T.useEmulator(...e),o&&(T.tenantId=o),T.languageCode=l,p&&T.useDeviceLanguage(),y)for(const[R,W]of Object.entries(y))T.settings[R]=W;return w&&T.setPersistence(w),T},[e,o,l,p,y,w]);let rf=(()=>{class r{constructor(e,o,l,p,y,w,T,R,W,G,X,me){const xe=new Vr.x,ut=$s(void 0).pipe((0,Kd.Q)(y.outsideAngular),Cn(()=>p.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,6689)))),(0,On.U)(()=>(0,P.on)(e,p,o)),(0,On.U)(Ft=>gm(Ft,p,w,R,W,G,T,X)),vy({bufferSize:1,refCount:!1}));if(function uo(r){return"server"===r}(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=$s(null);else{ut.pipe(function jh(r,t){const e=arguments.length>=2;return o=>o.pipe(r?tu((l,p)=>r(l,p,o)):hi.y,function Ey(r){return r<=0?()=>wC.E:(0,En.e)((t,e)=>{let o=0;t.subscribe((0,Wn.x)(e,l=>{++o<=r&&(e.next(l),r<=o&&e.complete())}))})}(1),e?function DC(r){return(0,En.e)((t,e)=>{let o=!1;t.subscribe((0,Wn.x)(e,l=>{o=!0,e.next(l)},()=>{o||e.next(r),e.complete()}))})}(t):Cy(()=>new Hh))}()).subscribe();const Lt=ut.pipe(Cn(hn=>hn.getRedirectResult().then(no=>no,()=>null)),S.iC,vy({bufferSize:1,refCount:!1})),fn=ut.pipe(Cn(hn=>new xo.y(no=>({unsubscribe:p.runOutsideAngular(()=>hn.onAuthStateChanged(If=>no.next(If),If=>no.error(If),()=>no.complete()))})))),$r=ut.pipe(Cn(hn=>new xo.y(no=>({unsubscribe:p.runOutsideAngular(()=>hn.onIdTokenChanged(If=>no.next(If),If=>no.error(If),()=>no.complete()))}))));this.authState=Lt.pipe(Yg(fn),(0,$h.R)(y.outsideAngular),(0,Kd.Q)(y.insideAngular)),this.user=Lt.pipe(Yg($r),(0,$h.R)(y.outsideAngular),(0,Kd.Q)(y.insideAngular)),this.idToken=this.user.pipe(Cn(hn=>hn?(0,ba.D)(hn.getIdToken()):$s(null))),this.idTokenResult=this.user.pipe(Cn(hn=>hn?(0,ba.D)(hn.getIdTokenResult()):$s(null))),this.credential=(0,ei.T)(Lt,xe,this.authState.pipe(tu(hn=>!hn))).pipe((0,On.U)(hn=>hn?.user?hn:null),(0,$h.R)(y.outsideAngular),(0,Kd.Q)(y.insideAngular))}return(0,P.pX)(this,ut,p,{spy:{apply:(Ft,Lt,fn)=>{(Ft.startsWith("signIn")||Ft.startsWith("createUser"))&&fn.then($r=>xe.next($r))}}})}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(P.Dh),f.LFG(P.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(S.HU),f.LFG(Yy,8),f.LFG(Qy,8),f.LFG(Jy,8),f.LFG(Xy,8),f.LFG(ev,8),f.LFG(tv,8),f.LFG(ep,8))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),nI=(()=>{class r{constructor(){eI.Z.registerVersion("angularfire",S.q4.full,"auth-compat")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({providers:[rf]}),r})();function rv(r){return null==r}function iv(r){return"function"==typeof r.set}function sv(r,t){return iv(t)?t:r.ref(t)}function np(r,t){if(function rI(r){return"string"==typeof r}(r))return t.stringCase();if(iv(r))return t.firebaseCase();if(function nv(r){return"function"==typeof r.exportVal}(r))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof r)}function iu(r,t,e="on",o=Br.z){return new xo.y(l=>{let p=null;return p=r[e](t,(y,w)=>{o.schedule(()=>{l.next({snapshot:y,prevKey:w})}),"once"===e&&o.schedule(()=>l.complete())},y=>{o.schedule(()=>l.error(y))}),"on"===e?{unsubscribe(){null!=p&&r.off(t,p)}}:{unsubscribe(){}}}).pipe((0,On.U)(l=>{const{snapshot:p,prevKey:y}=l;let w=null;return p.exists()&&(w=p.key),{type:t,payload:p,prevKey:y,key:w}}),(0,Pu.B)())}function rp(r,t){const e=r.length;for(let o=0;o<e;o++)if(r[o].payload.key===t)return o;return-1}function sI(r,t){const{payload:e,prevKey:o,key:l}=t,p=rp(r,l),y=function iI(r,t){if(rv(t))return 0;{const e=rp(r,t);return-1===e?r.length:e+1}}(r,o);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let w=null;t.payload.forEach(T=>{const R={payload:T,type:"value",prevKey:w,key:T.key};return w=T.key,r=[...r,R],!1})}return r;case"child_added":if(p>-1){const w=r[p-1];(w&&w.key||null)!==o&&(r=r.filter(T=>T.payload.key!==e.key)).splice(y,0,t)}else{if(null==o)return[t,...r];(r=r.slice()).splice(y,0,t)}return r;case"child_removed":return r.filter(w=>w.payload.key!==e.key);case"child_changed":return r.map(w=>w.payload.key===l?t:w);case"child_moved":if(p>-1){const w=r.splice(p,1)[0];return(r=r.slice()).splice(y,0,w),r}return r;default:return r}}function ip(r){return(rv(r)||0===r.length)&&(r=["child_added","child_removed","child_changed","child_moved"]),r}function av(r,t,e){return function ov(r,t,e){return iu(r,"value","once",e).pipe(Cn(o=>{const l=[$s(o)];return t.forEach(p=>l.push(iu(r,p,"on",e))),(0,ei.T)(...l).pipe(Sa(sI,[]))}),function id(r,t=hi.y){return r=r??Gs,(0,En.e)((e,o)=>{let l,p=!0;e.subscribe((0,Wn.x)(o,y=>{const w=t(y);(p||!r(l,w))&&(p=!1,l=w,o.next(y))}))})}())}(r,t=ip(t),e)}function mm(r,t,e){const o=(t=ip(t)).map(l=>iu(r,l,"on",e));return(0,ei.T)(...o)}function lI(r,t){return function(o,l){return np(o,{stringCase:()=>r.child(o)[t](l),firebaseCase:()=>o[t](l),snapshotCase:()=>o.ref[t](l)})}}function lv(r){return function(e){return e?np(e,{stringCase:()=>r.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):r.remove()}}function uv(r,t){return function(){return iu(r,"value","on",t)}}const uI=new f.OlP("angularfire2.realtimeDatabaseURL"),cI=new f.OlP("angularfire2.database.use-emulator");let ym=(()=>{class r{constructor(e,o,l,p,y,w,T,R,W,G,X,me,xe,ut,Ft){this.schedulers=w;const Lt=T,fn=(0,P.on)(e,y,o);R&&gm(fn,y,W,X,me,xe,G,ut),this.database=(0,P.cc)(`${fn.name}.database.${l}`,"AngularFireDatabase",fn.name,()=>{const $r=y.runOutsideAngular(()=>fn.database(l||void 0));return Lt&&$r.useEmulator(...Lt),$r},[Lt])}list(e,o){const l=this.schedulers.ngZone.runOutsideAngular(()=>sv(this.database,e));let p=l;return o&&(p=o(l)),function _m(r,t){const e=t.schedulers.outsideAngular,o=t.schedulers.ngZone.run(()=>r.ref);return{query:r,update:lI(o,"update"),set:lI(o,"set"),push:l=>o.push(l),remove:lv(o),snapshotChanges:l=>av(r,l,e).pipe(S.iC),stateChanges:l=>mm(r,l,e).pipe(S.iC),auditTrail:l=>function Pc(r,t,e){return function aI(r,t,e){return function oI(r,t){return iu(r,"value","on",t).pipe((0,On.U)(e=>{let o;return e.payload.forEach(l=>(o=l.key,!1)),{data:e,lastKeyToLoad:o}}))}(r,e).pipe(function C(...r){const t=(0,wl.jO)(r);return(0,En.e)((e,o)=>{const l=r.length,p=new Array(l);let y=r.map(()=>!1),w=!1;for(let T=0;T<l;T++)(0,Dl.Xf)(r[T]).subscribe((0,Wn.x)(o,R=>{p[T]=R,!w&&!y[T]&&(y[T]=!0,(w=y.every(hi.y))&&(y=null))},Aa.Z));e.subscribe((0,Wn.x)(o,T=>{if(w){const R=[T,...p];o.next(t?t(...R):R)}}))})}(t),(0,On.U)(([l,p])=>{const y=l.lastKeyToLoad,w=p.map(T=>T.key);return{actions:p,lastKeyToLoad:y,loadedKeys:w}}),function I(r){return(0,En.e)((t,e)=>{let o=!1,l=0;t.subscribe((0,Wn.x)(e,p=>(o||(o=!r(p,l++)))&&e.next(p)))})}(l=>-1===l.loadedKeys.indexOf(l.lastKeyToLoad)),(0,On.U)(l=>l.actions))}(r,mm(r,t).pipe(Sa((l,p)=>[...l,p],[])),e)}(r,l,e).pipe(S.iC),valueChanges:(l,p)=>av(r,l,e).pipe((0,On.U)(w=>w.map(T=>p&&p.idField?Object.assign(Object.assign({},T.payload.val()),{[p.idField]:T.key}):T.payload.val())),S.iC)}}(p,this)}object(e){return function cv(r,t){return{query:r,snapshotChanges:()=>uv(r,t.schedulers.outsideAngular)().pipe(S.iC),update:e=>r.ref.update(e),set:e=>r.ref.set(e),remove:()=>r.ref.remove(),valueChanges:()=>uv(r,t.schedulers.outsideAngular)().pipe(S.iC,(0,On.U)(o=>o.payload.exists()?o.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>sv(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(P.Dh),f.LFG(P.xv,8),f.LFG(uI,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(S.HU),f.LFG(cI,8),f.LFG(rf,8),f.LFG(Yy,8),f.LFG(Qy,8),f.LFG(Jy,8),f.LFG(Xy,8),f.LFG(ev,8),f.LFG(tv,8),f.LFG(ep,8))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),sp=(()=>{class r{constructor(e){this.db=e,this.bugposts=[],this.bugChangedEvent=new Vr.x,this.bugsRef=e.list("bugs"),this.getBugs()}getBugs(){this.bugsRef.valueChanges().subscribe(e=>{this.bugposts=e,this.bugChangedEvent.next(this.bugposts)})}addBug(e){const o=this.db.createPushId();e.id=o.toString(),this.db.object(`bugs/${o}`).set(e)}updateBug(e,o){o.id=e.id,this.bugsRef.update(e.id,o)}deleteBug(e){this.db.object(`bugs/${e.id}`).remove()}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(ym))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function dv(r,t){if(1&r){const e=f.EpF();f.TgZ(0,"div",4),f.NdJ("click",function(){const p=f.CHM(e).$implicit,y=f.oxw();return f.KtG(y.onBugCardClick(p))}),f.TgZ(1,"div",5)(2,"h2",6),f._uU(3),f.qZA(),f.TgZ(4,"p",7),f._uU(5),f.ALo(6,"date"),f.qZA(),f.TgZ(7,"p"),f._uU(8),f.qZA()()()}if(2&r){const e=t.$implicit;f.xp6(3),f.Oqu(e.title),f.xp6(2),f.hij("Created on: ",f.lcZ(6,6,e.dateCreated),""),f.xp6(2),f.Gre("\n              absolute mt-[116px] font-semibold italic text-white text-base w-[200px] p-1 pl-4 shadow-lg rounded-[10px]\n              \n               transition duration-[0.4s]\n\n              ","low"===e.priority?"bg-[#37b24d]":"medium"===e.priority?"bg-[#fcc419]":"bg-pink-500",""),f.xp6(1),f.hij(" Priority: ",e.priority," ")}}let fv=(()=>{class r{constructor(e){this.bugService=e,this.bugSelected=new f.vpe,this.isEditing=!1,this.bugs=[],this.bugSubscription=new Nn.w0}ngOnInit(){this.bugService.getBugs(),this.bugSubscription=this.bugService.bugChangedEvent.subscribe(e=>{this.bugs=e})}ngOnDestroy(){this.bugSubscription.unsubscribe()}onBugCardClick(e){this.isEditing||this.bugSelected.emit(e)}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(sp))},r.\u0275cmp=f.Xpm({type:r,selectors:[["app-bug-grid"]],inputs:{isEditing:"isEditing"},outputs:{bugSelected:"bugSelected"},decls:5,vars:1,consts:[[1,"font-semibold","text-3xl","lg:mt-[24px]","md:mt-[40px]","p-[16px]","xl:ml-[40px]","md:ml-[60px]"],[1,"xl:h-[780px]","lg:h-[742px]","w-auto"],[1,"grid","xl:grid-cols-2","md:grid-cols-1","h-[716px]","w-full","gap-x-[40px]","lg:p-[50px]","md:p-[30px]","md:pr-[50x]","pt-12","overflow-y-auto","lg:mt-[-30px]"],["class","\n          text-black/[.85] w-auto max-w-[396px] md:max-w-[496px] h-[175px] p-[12px] rounded-[20px] shadow-lg bg-white/30 backdrop-blur-sm flex  items-center scale-100 group \n          transition-all duration-[0.45s] ease-in-out \n\n          hover:bg-white/[.75] hover:cursor-pointer hover:scale-[1.12] hover:z-100 hover:transition-all ease-in-out ",3,"click",4,"ngFor","ngForOf"],[1,"text-black/[.85]","w-auto","max-w-[396px]","md:max-w-[496px]","h-[175px]","p-[12px]","rounded-[20px]","shadow-lg","bg-white/30","backdrop-blur-sm","flex","items-center","scale-100","group","transition-all","duration-[0.45s]","ease-in-out","hover:bg-white/[.75]","hover:cursor-pointer","hover:scale-[1.12]","hover:z-100","hover:transition-all","ease-in-out",3,"click"],[1,"flex","flex-col","pl-[6px]","mb-[16px]"],[1,"font-bold","text-lg","w-auto","h-10","mb-[12px]","transition","duration-[0.01s]"],[1,"mb-[64px]","font-semibold","italic","text-black/[.65]","text-base","w-[200px]","transition","duration-[0.01s]"]],template:function(e,o){1&e&&(f.TgZ(0,"h1",0),f._uU(1,"Current Bugs"),f.qZA(),f.TgZ(2,"div",1)(3,"div",2),f.YNc(4,dv,9,8,"div",3),f.qZA()()),2&e&&(f.xp6(4),f.Q6J("ngForOf",o.bugs))},dependencies:[yn,Or]}),r})();const{isArray:fI}=Array,{getPrototypeOf:hI,prototype:pI,keys:gI}=Object;const{isArray:pv}=Array;function nw(r,t){return r.reduce((e,o,l)=>(e[o]=t[l],e),{})}let gv=(()=>{class r{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(f.Qsj),f.Y36(f.SBq))},r.\u0275dir=f.lG2({type:r}),r})(),su=(()=>{class r extends gv{}return r.\u0275fac=function(){let t;return function(o){return(t||(t=f.n5z(r)))(o||r)}}(),r.\u0275dir=f.lG2({type:r,features:[f.qOj]}),r})();const eo=new f.OlP("NgValueAccessor"),EI={provide:eo,useExisting:(0,f.Gpc)(()=>sf),multi:!0},II=new f.OlP("CompositionEventMode");let sf=(()=>{class r extends gv{constructor(e,o,l){super(e,o),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function CI(){const r=N()?N().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(II,8))},r.\u0275dir=f.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&f.NdJ("input",function(p){return o._handleInput(p.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(p){return o._compositionEnd(p.target.value)})},features:[f._Bn([EI]),f.qOj]}),r})();const wI=!1;const Er=new f.OlP("NgValidators"),Yo=new f.OlP("NgAsyncValidators");function yv(r){return function Qa(r){return null==r||("string"==typeof r||Array.isArray(r))&&0===r.length}(r.value)?{required:!0}:null}function op(r){return null}function Oc(r){return null!=r}function Iv(r){const t=(0,f.QGY)(r)?(0,ba.D)(r):r;if(wI&&!(0,f.CqO)(t)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof r&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new f.vHH(-1101,e)}return t}function ap(r){let t={};return r.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function ps(r,t){return t.map(e=>e(r))}function lp(r){return r.map(t=>function TI(r){return!r.validate}(t)?t:e=>t.validate(e))}function Im(r){return null!=r?function kc(r){if(!r)return null;const t=r.filter(Oc);return 0==t.length?null:function(e){return ap(ps(e,t))}}(lp(r)):null}function wv(r){if(!r)return null;const t=r.filter(Oc);return 0==t.length?null:function(e){return function yI(...r){const t=(0,wl.jO)(r),{args:e,keys:o}=function hv(r){if(1===r.length){const t=r[0];if(fI(t))return{args:t,keys:null};if(function tw(r){return r&&"object"==typeof r&&hI(r)===pI}(t)){const e=gI(t);return{args:e.map(o=>t[o]),keys:e}}}return{args:r,keys:null}}(r),l=new xo.y(p=>{const{length:y}=e;if(!y)return void p.complete();const w=new Array(y);let T=y,R=y;for(let W=0;W<y;W++){let G=!1;(0,Dl.Xf)(e[W]).subscribe((0,Wn.x)(p,X=>{G||(G=!0,R--),w[W]=X},()=>T--,void 0,()=>{(!T||!G)&&(R||p.next(o?nw(o,w):w),p.complete())}))}});return t?l.pipe(function _I(r){return(0,On.U)(t=>function mI(r,t){return pv(t)?r(...t):r(t)}(r,t))}(t)):l}(ps(e,t).map(Iv)).pipe((0,On.U)(ap))}}function wm(r){return null!=r?wv(lp(r)):null}function of(r,t){return null===r?[t]:Array.isArray(r)?[...r,t]:[r,t]}function Dm(r){return r?Array.isArray(r)?r:[r]:[]}function lf(r,t){return Array.isArray(r)?r.includes(t):r===t}function bm(r,t){const e=Dm(t);return Dm(r).forEach(l=>{lf(e,l)||e.push(l)}),e}function up(r,t){return Dm(t).filter(e=>!lf(r,e))}class Tm{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Im(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=wm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Cr extends Tm{get formDirective(){return null}get path(){return null}}class to extends Tm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Sm{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Am=(()=>{class r extends Sm{constructor(e){super(e)}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(to,2))},r.\u0275dir=f.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&f.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[f.qOj]}),r})(),Mm=(()=>{class r extends Sm{constructor(e){super(e)}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(Cr,10))},r.\u0275dir=f.lG2({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,o){2&e&&f.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[f.qOj]}),r})();function Rm(r,t){return r?`with name: '${t}'`:`at index: ${t}`}const Pm=!1,dp="VALID",Nm="INVALID",ou="PENDING",Lc="DISABLED";function au(r){return(df(r)?r.validators:r)||null}function cf(r,t){return(df(t)?t.asyncValidators:r)||null}function df(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class Rv{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===dp}get invalid(){return this.status===Nm}get pending(){return this.status==ou}get disabled(){return this.status===Lc}get enabled(){return this.status!==Lc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(bm(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(bm(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(up(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(up(t,this._rawAsyncValidators))}hasValidator(t){return lf(this._rawValidators,t)}hasAsyncValidator(t){return lf(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ou,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Lc,this.errors=null,this._forEachChild(o=>{o.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=dp,this._forEachChild(o=>{o.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===dp||this.status===ou)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Lc:dp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ou,this._hasOwnPendingAsyncValidator=!0;const e=Iv(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((o,l)=>o&&o._find(l),this)}getError(t,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?Lc:this.errors?Nm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ou)?ou:this._anyControlsHaveStatus(Nm)?Nm:dp}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){df(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function RI(r){return Array.isArray(r)?Im(r):r||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function PI(r){return Array.isArray(r)?wm(r):r||null}(this._rawAsyncValidators)}}class ff extends Rv{constructor(t,e,o){super(au(e),cf(o,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,o={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,o={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function xv(r,t,e){r._forEachChild((o,l)=>{if(void 0===e[l])throw new f.vHH(1002,Pm?function xI(r,t){return`Must supply a value for form control ${Rm(r,t)}`}(t,l):"")})})(this,!0,t),Object.keys(t).forEach(o=>{(function Mv(r,t,e){const o=r.controls;if(!(t?Object.keys(o):o).length)throw new f.vHH(1e3,Pm?function jr(r){return`\n    There are no form controls registered with this ${r?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!o[e])throw new f.vHH(1001,Pm?function Fc(r,t){return`Cannot find form control ${Rm(r,t)}`}(t,e):"")})(this,!0,o),this.controls[o].setValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(o=>{const l=this.controls[o];l&&l.patchValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((o,l)=>{o.reset(t[l],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,o)=>(t[o]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&t(o,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,o]of Object.entries(this.controls))if(this.contains(e)&&t(o))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,o,l)=>((o.enabled||this.disabled)&&(e[l]=o.value),e))}_reduceChildren(t,e){let o=t;return this._forEachChild((l,p)=>{o=e(o,l,p)}),o}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const hf=new f.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>pf}),pf="always";function Vc(r,t,e=pf){gf(r,t),t.valueAccessor.writeValue(r.value),(r.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(r.disabled),function kI(r,t){t.valueAccessor.registerOnChange(e=>{r._pendingValue=e,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&Ov(r,t)})}(r,t),function FI(r,t){const e=(o,l)=>{t.valueAccessor.writeValue(o),l&&t.viewToModelUpdate(o)};r.registerOnChange(e),t._registerOnDestroy(()=>{r._unregisterOnChange(e)})}(r,t),function lw(r,t){t.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&Ov(r,t),"submit"!==r.updateOn&&r.markAsTouched()})}(r,t),function Nv(r,t){if(t.valueAccessor.setDisabledState){const e=o=>{t.valueAccessor.setDisabledState(o)};r.registerOnDisabledChange(e),t._registerOnDestroy(()=>{r._unregisterOnDisabledChange(e)})}}(r,t)}function pp(r,t){r.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function gf(r,t){const e=function af(r){return r._rawValidators}(r);null!==t.validator?r.setValidators(of(e,t.validator)):"function"==typeof e&&r.setValidators([e]);const o=function Dv(r){return r._rawAsyncValidators}(r);null!==t.asyncValidator?r.setAsyncValidators(of(o,t.asyncValidator)):"function"==typeof o&&r.setAsyncValidators([o]);const l=()=>r.updateValueAndValidity();pp(t._rawValidators,l),pp(t._rawAsyncValidators,l)}function Ov(r,t){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}const Uv={provide:Cr,useExisting:(0,f.Gpc)(()=>_f)},mf=(()=>Promise.resolve())();let _f=(()=>{class r extends Cr{constructor(e,o,l){super(),this.callSetDisabledState=l,this.submitted=!1,this._directives=new Set,this.ngSubmit=new f.vpe,this.form=new ff({},Im(e),wm(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){mf.then(()=>{const o=this._findContainer(e.path);e.control=o.registerControl(e.name,e.control),Vc(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){mf.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){mf.then(()=>{const o=this._findContainer(e.path),l=new ff({});(function kv(r,t){gf(r,t)})(l,e),o.registerControl(e.name,l),l.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){mf.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,o){mf.then(()=>{this.form.get(e.path).setValue(o)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function Vv(r,t){r._syncPendingControls(),t.forEach(e=>{const o=e.control;"submit"===o.updateOn&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(Er,10),f.Y36(Yo,10),f.Y36(hf,8))},r.\u0275dir=f.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,o){1&e&&f.NdJ("submit",function(p){return o.onSubmit(p)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([Uv]),f.qOj]}),r})();function HI(r,t){const e=r.indexOf(t);e>-1&&r.splice(e,1)}function Fm(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}const jI=class extends Rv{constructor(t=null,e,o){super(au(e),cf(o,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),df(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Fm(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){HI(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){HI(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Fm(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Hv={provide:to,useExisting:(0,f.Gpc)(()=>vf)},yf=(()=>Promise.resolve())();let vf=(()=>{class r extends to{constructor(e,o,l,p,y,w){super(),this._changeDetectorRef=y,this.callSetDisabledState=w,this.control=new jI,this._registered=!1,this.update=new f.vpe,this._parent=e,this._setValidators(o),this._setAsyncValidators(l),this.valueAccessor=function mp(r,t){if(!t)return null;let e,o,l;return Array.isArray(t),t.forEach(p=>{p.constructor===sf?e=p:function Lv(r){return Object.getPrototypeOf(r.constructor)===su}(p)?o=p:l=p}),l||o||e||null}(0,p)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const o=e.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function km(r,t){if(!r.hasOwnProperty("model"))return!1;const e=r.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Vc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){yf.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const o=e.isDisabled.currentValue,l=0!==o&&(0,f.D6c)(o);yf.then(()=>{l&&!this.control.disabled?this.control.disable():!l&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function hp(r,t){return[...t.path,r]}(e,this._parent):[e]}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(Cr,9),f.Y36(Er,10),f.Y36(Yo,10),f.Y36(eo,10),f.Y36(f.sBO,8),f.Y36(hf,8))},r.\u0275dir=f.lG2({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([Hv]),f.qOj,f.TTD]}),r})(),yp=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=f.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})(),WI=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({}),r})();const gs={provide:eo,useExisting:(0,f.Gpc)(()=>Ep),multi:!0};function Wv(r,t){return null==r?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${r}: ${t}`.slice(0,50))}let Ep=(()=>{class r extends su{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const l=Wv(this._getOptionId(e),e);this.setProperty("value",l)}registerOnChange(e){this.onChange=o=>{this.value=this._getOptionValue(o),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o),e))return o;return null}_getOptionValue(e){const o=function Hm(r){return r.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o):e}}return r.\u0275fac=function(){let t;return function(o){return(t||(t=f.n5z(r)))(o||r)}}(),r.\u0275dir=f.lG2({type:r,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,o){1&e&&f.NdJ("change",function(p){return o.onChange(p.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([gs]),f.qOj]}),r})(),YI=(()=>{class r{constructor(e,o,l){this._element=e,this._renderer=o,this._select=l,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Wv(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(Ep,9))},r.\u0275dir=f.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})();const $i={provide:eo,useExisting:(0,f.Gpc)(()=>$m),multi:!0};function zv(r,t){return null==r?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${r}: ${t}`.slice(0,50))}let $m=(()=>{class r extends su{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let o;if(this.value=e,Array.isArray(e)){const l=e.map(p=>this._getOptionId(p));o=(p,y)=>{p._setSelected(l.indexOf(y.toString())>-1)}}else o=(l,p)=>{l._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(e){this.onChange=o=>{const l=[],p=o.selectedOptions;if(void 0!==p){const y=p;for(let w=0;w<y.length;w++){const R=this._getOptionValue(y[w].value);l.push(R)}}else{const y=o.options;for(let w=0;w<y.length;w++){const T=y[w];if(T.selected){const R=this._getOptionValue(T.value);l.push(R)}}}this.value=l,e(l)}}_registerOption(e){const o=(this._idCounter++).toString();return this._optionMap.set(o,e),o}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o)._value,e))return o;return null}_getOptionValue(e){const o=function jm(r){return r.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o)._value:e}}return r.\u0275fac=function(){let t;return function(o){return(t||(t=f.n5z(r)))(o||r)}}(),r.\u0275dir=f.lG2({type:r,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,o){1&e&&f.NdJ("change",function(p){return o.onChange(p.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([$i]),f.qOj]}),r})(),Cp=(()=>{class r{constructor(e,o,l){this._element=e,this._renderer=o,this._select=l,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(zv(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(zv(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36($m,9))},r.\u0275dir=f.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})(),lu=(()=>{class r{constructor(){this._validator=op}ngOnChanges(e){if(this.inputName in e){const o=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):op,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=f.lG2({type:r,features:[f.TTD]}),r})();const JI={provide:Er,useExisting:(0,f.Gpc)(()=>wi),multi:!0};let wi=(()=>{class r extends lu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=f.D6c,this.createValidator=e=>yv}enabled(e){return e}}return r.\u0275fac=function(){let t;return function(o){return(t||(t=f.n5z(r)))(o||r)}}(),r.\u0275dir=f.lG2({type:r,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,o){2&e&&f.uIk("required",o._enabled?"":null)},inputs:{required:"required"},features:[f._Bn([JI]),f.qOj]}),r})(),Jv=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({imports:[WI]}),r})(),eE=(()=>{class r{static withConfig(e){return{ngModule:r,providers:[{provide:hf,useValue:e.callSetDisabledState??pf}]}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({imports:[Jv]}),r})();function wp(r,t){if(1&r){const e=f.EpF();f.TgZ(0,"button",12),f.NdJ("click",function(){f.CHM(e);const l=f.oxw();return f.KtG(l.createBug())}),f._uU(1," Create New Bug "),f.qZA()}}function nE(r,t){if(1&r){const e=f.EpF();f.TgZ(0,"div",13)(1,"button",14),f.NdJ("click",function(){f.CHM(e);const l=f.oxw();return f.KtG(l.editBug())}),f._uU(2," Edit "),f.qZA(),f.TgZ(3,"button",15),f.NdJ("click",function(){f.CHM(e);const l=f.oxw();return f.KtG(l.deleteBug())}),f._uU(4," Delete "),f.qZA()()}}function l0(r,t){if(1&r&&(f.TgZ(0,"h1",16),f._uU(1),f.qZA()),2&r){const e=f.oxw();f.xp6(1),f.Oqu(null==e.selectedBug?null:e.selectedBug.title)}}function u0(r,t){1&r&&(f.TgZ(0,"h4",36),f._uU(1,"Please Add a Title"),f.qZA())}function Iw(r,t){1&r&&(f.TgZ(0,"h4",36),f._uU(1,"User Name of Creator"),f.qZA())}function ww(r,t){1&r&&(f.TgZ(0,"h4",36),f._uU(1,"Please Select a Priority"),f.qZA())}function Dw(r,t){if(1&r){const e=f.EpF();f.TgZ(0,"div",37)(1,"button",38),f.NdJ("click",function(){f.CHM(e),f.oxw();const l=f.MAs(1),p=f.oxw();return f.KtG(p.saveBug(l))}),f._uU(2," Save "),f.qZA(),f.TgZ(3,"button",39),f.NdJ("click",function(){f.CHM(e);const l=f.oxw(2);return f.KtG(l.cancelEdit())}),f._uU(4," Cancel "),f.qZA()()}}function rE(r,t){if(1&r&&(f.TgZ(0,"form",17,18)(2,"div")(3,"div",19)(4,"label",20),f._uU(5,"Title:"),f.qZA(),f.YNc(6,u0,2,0,"h4",21),f.qZA(),f.TgZ(7,"div",22),f._UZ(8,"input",23,24),f.qZA()(),f.TgZ(10,"div")(11,"div",19)(12,"label",20),f._uU(13,"User Name:"),f.qZA(),f.YNc(14,Iw,2,0,"h4",21),f.qZA(),f.TgZ(15,"div",22),f._UZ(16,"input",25,26),f.qZA()(),f.TgZ(18,"div")(19,"div",27)(20,"label",20),f._uU(21,"Priority:"),f.qZA(),f.YNc(22,ww,2,0,"h4",21),f.qZA(),f.TgZ(23,"div",22)(24,"select",28,29)(26,"option",30),f._uU(27,"Low"),f.qZA(),f.TgZ(28,"option",31),f._uU(29,"Medium"),f.qZA(),f.TgZ(30,"option",32),f._uU(31,"High"),f.qZA()()()(),f.TgZ(32,"div")(33,"label",33),f._uU(34,"Description:"),f.qZA(),f.TgZ(35,"div",22)(36,"textarea",34),f._uU(37),f.qZA()()(),f.YNc(38,Dw,5,0,"div",35),f.qZA()),2&r){const e=f.MAs(9),o=f.MAs(17),l=f.MAs(25),p=f.oxw();f.xp6(6),f.Q6J("ngIf",e.touched&&e.invalid),f.xp6(2),f.Q6J("ngModel",null==p.selectedBug?null:p.selectedBug.title),f.xp6(6),f.Q6J("ngIf",o.touched&&o.invalid),f.xp6(2),f.Q6J("ngModel",null==p.selectedBug?null:p.selectedBug.addedBy),f.xp6(6),f.Q6J("ngIf",l.touched&&l.invalid),f.xp6(2),f.Q6J("ngModel",null==p.selectedBug?null:p.selectedBug.priority),f.xp6(12),f.Q6J("ngModel",null==p.selectedBug?null:p.selectedBug.description),f.xp6(1),f.hij("\n            ",null==p.selectedBug?null:p.selectedBug.description,"\n          "),f.xp6(1),f.Q6J("ngIf",p.isEditMode||p.isCreating)}}function c0(r,t){1&r&&(f.TgZ(0,"h3",40),f._uU(1,"Created on"),f.qZA())}function d0(r,t){if(1&r&&(f.TgZ(0,"h4",41),f._uU(1),f.qZA()),2&r){const e=f.oxw();f.xp6(1),f.Oqu(null==e.selectedBug?null:e.selectedBug.dateCreated)}}function f0(r,t){1&r&&(f.TgZ(0,"h3",40),f._uU(1,"Created By"),f.qZA())}function bw(r,t){if(1&r&&(f.TgZ(0,"h4",41),f._uU(1),f.qZA()),2&r){const e=f.oxw();f.xp6(1),f.Oqu(null==e.selectedBug?null:e.selectedBug.addedBy)}}function Tw(r,t){1&r&&(f.TgZ(0,"h3",42),f._uU(1,"Priority"),f.qZA())}function Sw(r,t){if(1&r&&(f.TgZ(0,"h4",41),f._uU(1),f.qZA()),2&r){const e=f.oxw();f.xp6(1),f.Oqu(null==e.selectedBug?null:e.selectedBug.priority)}}function Aw(r,t){1&r&&(f.TgZ(0,"h3",42),f._uU(1,"Description"),f.qZA())}function Mw(r,t){if(1&r&&(f.TgZ(0,"h4",41),f._uU(1),f.qZA()),2&r){const e=f.oxw();f.xp6(1),f.Oqu(null==e.selectedBug?null:e.selectedBug.description)}}let h0=(()=>{class r{constructor(e){this.bugService=e,this.selectedBug=null,this.previousBug=null,this.bugCreated=new f.vpe,this.isEditingBug=new f.vpe,this.newBug={id:"",title:"",priority:"",dateCreated:(new Date).toDateString(),addedBy:"",description:""},this.isEditMode=!1,this.isCreating=!1,this.bugTitle="",this.addedBy="",this.bugPriority="",this.bugDescription=""}ngOnInit(){}createBug(){this.isCreating||((null==this.previousBug||null!=this.previousBug)&&(this.previousBug=this.selectedBug),this.selectedBug=null,this.isCreating=!0),this.isEditingBug.emit(this.isCreating)}saveBug(e){e.invalid?console.log("All fields must be filled out before submitting"):(this.isCreating?(this.newBug={id:"",title:e.value.title,priority:e.value.priority,dateCreated:(new Date).toDateString(),addedBy:e.value.addedBy,description:e.value.description},this.bugCreated.emit(this.newBug),this.bugService.addBug(this.newBug)):this.selectedBug&&(this.bugTitle=e.value.title,this.addedBy=e.value.addedBy,this.bugPriority=e.value.priority,this.bugDescription=null!=e.value.description?e.value.description:this.selectedBug.description,this.newBug={id:"",title:this.bugTitle,priority:this.bugPriority,dateCreated:this.selectedBug.dateCreated,addedBy:this.addedBy,description:this.bugDescription},this.bugCreated.emit(this.newBug),this.bugService.updateBug(this.selectedBug,this.newBug),this.selectedBug=this.newBug),this.isEditMode=!1,this.isCreating=!1,this.isEditingBug.emit(this.isEditMode))}deleteBug(){this.selectedBug&&(this.bugService.deleteBug(this.selectedBug),this.selectedBug=null)}editBug(){this.isEditMode=!0,this.isEditingBug.emit(this.isEditMode)}cancelEdit(){this.isEditMode&&(this.isEditMode=!1,this.isEditingBug.emit(this.isEditMode)),this.isCreating&&(this.isCreating=!1,null!=this.previousBug&&(this.selectedBug=this.previousBug),this.isEditingBug.emit(this.isCreating))}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(sp))},r.\u0275cmp=f.Xpm({type:r,selectors:[["app-bug-detail"]],inputs:{selectedBug:"selectedBug",previousBug:"previousBug"},outputs:{bugCreated:"bugCreated",isEditingBug:"isEditingBug"},decls:20,vars:12,consts:[[1,"flex","flex-row","gap-2"],[1,"font-semibold","text-3xl","lg:mt-[24px]","md:mt-[44px]","p-[12px]"],["class"," flex-none\n      lg:mt-[28px] md:mt-[52px] font-semibold text-xl text-black/[.85] lg:max-w-[232px] md:max-w-[180px] w-full lg:h-[56px] md:h-[50px] lg:p-[12px] md:p-[8px] justify-center align-middle lg:rounded-[56px] md:rounded-[50px] shadow-lg bg-white/[.6] flex justify-center align-middle transition-all duration-[0.45s] ease-in-out scale-100 \n              \n      hover:bg-white/[.75] hover:cursor-pointer hover:scale-[1.12] hover:z-100 hover:transition-all ease-in-out",3,"click",4,"ngIf"],[1,"w-full","lg:h-[680px]","md:h-[600px]","bg-white/[.6]","backdrop-blur-md","rounded-[24px]","mt-[24px]"],["class","absolute flex flex-row gap-x-[18px] ml-[-4px] lg:mt-[676px] md:mt-[600px] p-[12px] z-10",4,"ngIf"],[1,"lg:pt-[24px]","md:pt-[32px]","lg:p-[48px]","md:p-[24px]"],["class","font-semibold text-black/[.85] text-4xl w-full lg:pb-12 md:pb-6",4,"ngIf"],["class","flex flex-col gap-8",4,"ngIf"],[1,"flex","flex-row","gap-6"],["class","font-semibold text-3xl text-black/[.85] pt-[8px]",4,"ngIf"],["class","font-semibold italic text-xl text-black/[.65] pt-[8px]",4,"ngIf"],["class","font-semibold text-3xl text-black/[.85] pt-[12px] lg:pt-[32px]",4,"ngIf"],[1,"flex-none","lg:mt-[28px]","md:mt-[52px]","font-semibold","text-xl","text-black/[.85]","lg:max-w-[232px]","md:max-w-[180px]","w-full","lg:h-[56px]","md:h-[50px]","lg:p-[12px]","md:p-[8px]","justify-center","align-middle","lg:rounded-[56px]","md:rounded-[50px]","shadow-lg","bg-white/[.6]","flex","justify-center","align-middle","transition-all","duration-[0.45s]","ease-in-out","scale-100","hover:bg-white/[.75]","hover:cursor-pointer","hover:scale-[1.12]","hover:z-100","hover:transition-all","ease-in-out",3,"click"],[1,"absolute","flex","flex-row","gap-x-[18px]","ml-[-4px]","lg:mt-[676px]","md:mt-[600px]","p-[12px]","z-10"],[1,"font-semibold","text-xl","text-black/[.85]","lg:w-[196px]","md:w-[164px]","h-[56px]","p-[12px]","rounded-[56px]","shadow-lg","bg-white/[.6]","flex","justify-center","align-middle","transition-all","duration-[0.45s]","ease-in-out","scale-100","pb-[24px]","mb-[18px]","hover:bg-white/[.75]","hover:cursor-pointer","hover:scale-[1.12]","hover:z-100","hover:transition-all","ease-in-out",3,"click"],[1,"font-semibold","text-xl","text-black","lg:w-[196px]","md:w-[164px]","h-[56px]","p-[12px]","rounded-[56px]","shadow-lg","bg-white/[.6]","flex","justify-center","align-middle","transition-all","duration-[0.45s]","ease-in-out","scale-100","hover:bg-pink-500/[.75]","hover:text-white","hover:cursor-pointer","hover:scale-[1.12]","hover:z-100","hover:transition-all","ease-in-out",3,"click"],[1,"font-semibold","text-black/[.85]","text-4xl","w-full","lg:pb-12","md:pb-6"],[1,"flex","flex-col","gap-8"],["bugForm","ngForm"],[1,"flex","flex-row","w-auto"],[1,"p-[8px]","text-xl","text-black/[.85]","font-semibold"],["class","p-[9px] font-semibold text-lg text-pink-600 ml-[5px]",4,"ngIf"],[1,"form-group"],["type","text","name","title","placeholder","Enter title","required","",1,"font-semibold","text-xl","text-black/[.85]","w-full","h-[56px]","p-[12px]","lg:ml-[2px]","mt-[12px]","rounded-[18px]","bg-white","invalid:border-2","border-pink-500","invalid:text-pink-600",3,"ngModel"],["title","ngModel"],["type","text","name","addedBy","placeholder","Enter User's Name","required","",1,"font-semibold","text-xl","text-black/[.85]","w-full","h-[56px]","p-[12px]","lg:ml-[2px]","mt-[12px]","rounded-[18px]","bg-white","invalid:border-2","border-pink-500","invalid:text-pink-600",3,"ngModel"],["addedBy","ngModel"],[1,"flex","flex-row"],["name","priority","required","",1,"appearance-none","focus:outline-none","font-semibold","text-xl","text-black/[.85]","w-full","h-[56px]","p-[12px]","lg:ml-[2px]","mt-[12px]","rounded-[18px]","bg-white","invalid:border-2","border-pink-500",3,"ngModel"],["priority","ngModel"],["value","low"],["value","medium"],["value","high"],[1,"p-[8px]","text-xl","text-black","font-semibold"],["name","description","placeholder","Enter description",1,"appearance-none","resize-none","font-semibold","text-xl","text-black/[.85]","w-full","h-full","p-[12px]","lg:ml-[2px]","mt-[12px]","rounded-[18px]","bg-white","invalid:border-2","border-pink-500",3,"ngModel"],["class","absolute lg:ml-[-52px] md:ml-[-28px] flex flex-row gap-x-[18px] lg:mt-[652px] md:mt-[568px] p-[12px] z-10",4,"ngIf"],[1,"p-[9px]","font-semibold","text-lg","text-pink-600","ml-[5px]"],[1,"absolute","lg:ml-[-52px]","md:ml-[-28px]","flex","flex-row","gap-x-[18px]","lg:mt-[652px]","md:mt-[568px]","p-[12px]","z-10"],[1,"font-semibold","text-xl","text-black/[.85]","lg:w-[196px]","md:w-[164px]","h-[56px]","p-[12px]","rounded-[56px]","shadow-lg","bg-white/[.6]","justify-center","align-middle","transition-all","duration-[0.45s]","ease-in-out","scale-100","pb-[24px]","hover:bg-[#37b24d]/[.75]","hover:text-white","hover:cursor-pointer","hover:scale-[1.12]","hover:z-100","hover:transition-all","ease-in-out",3,"click"],[1,"font-semibold","text-xl","text-black/[.85]","lg:w-[196px]","md:w-[164px]","h-[56px]","p-[12px]","rounded-[56px]","shadow-lg","bg-white/[.6]","justify-center","align-middle","transition-all","duration-[0.45s]","ease-in-out","scale-100","pb-[24px]","hover:bg-pink-500/[.75]","hover:text-white","hover:cursor-pointer","hover:scale-[1.12]","hover:z-100","hover:transition-all","ease-in-out",3,"click"],[1,"font-semibold","text-3xl","text-black/[.85]","pt-[8px]"],[1,"font-semibold","italic","text-xl","text-black/[.65]","pt-[8px]"],[1,"font-semibold","text-3xl","text-black/[.85]","pt-[12px]","lg:pt-[32px]"]],template:function(e,o){1&e&&(f.TgZ(0,"div",0)(1,"h1",1),f._uU(2,"Bug Details "),f.qZA(),f.YNc(3,wp,2,0,"button",2),f.qZA(),f.TgZ(4,"div",3),f.YNc(5,nE,5,0,"div",4),f.TgZ(6,"div",5),f.YNc(7,l0,2,1,"h1",6),f.YNc(8,rE,39,9,"form",7),f.TgZ(9,"div",8)(10,"div"),f.YNc(11,c0,2,0,"h3",9),f.YNc(12,d0,2,1,"h4",10),f.qZA(),f.TgZ(13,"div"),f.YNc(14,f0,2,0,"h3",9),f.YNc(15,bw,2,1,"h4",10),f.qZA()(),f.YNc(16,Tw,2,0,"h3",11),f.YNc(17,Sw,2,1,"h4",10),f.YNc(18,Aw,2,0,"h3",11),f.YNc(19,Mw,2,1,"h4",10),f.qZA()()),2&e&&(f.xp6(3),f.Q6J("ngIf",!o.isEditMode&&!o.isCreating),f.xp6(2),f.Q6J("ngIf",!o.isEditMode&&!o.isCreating&&o.selectedBug),f.xp6(2),f.Q6J("ngIf",!o.isEditMode&&!o.isCreating),f.xp6(1),f.Q6J("ngIf",o.isEditMode||o.isCreating),f.xp6(3),f.Q6J("ngIf",!o.isEditMode&&!o.isCreating&&o.selectedBug),f.xp6(1),f.Q6J("ngIf",!o.isEditMode&&!o.isCreating),f.xp6(2),f.Q6J("ngIf",!o.isEditMode&&!o.isCreating&&o.selectedBug),f.xp6(1),f.Q6J("ngIf",!o.isEditMode&&!o.isCreating),f.xp6(1),f.Q6J("ngIf",!o.isEditMode&&!o.isCreating&&o.selectedBug),f.xp6(1),f.Q6J("ngIf",!o.isEditMode&&!o.isCreating),f.xp6(1),f.Q6J("ngIf",!o.isEditMode&&!o.isCreating&&o.selectedBug),f.xp6(1),f.Q6J("ngIf",!o.isEditMode&&!o.isCreating))},dependencies:[ii,yp,YI,Cp,sf,Ep,Am,Mm,wi,vf,_f]}),r})();function Dp(r,t){1&r&&(f.TgZ(0,"h4",11),f._uU(1,"Email or Password is Incorrect."),f.qZA())}let p0=(()=>{class r{constructor(e){this.afAuth=e,this.email="",this.password="",this.hasError=!1,this.loggedIn=new f.vpe}onSignIn(){this.afAuth.signInWithEmailAndPassword(this.email,this.password).then(()=>{this.hasError=!1,this.loggedIn.emit(!0)}).catch(e=>{this.hasError=!0,console.log(e.message)})}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(rf))},r.\u0275cmp=f.Xpm({type:r,selectors:[["app-login-form"]],outputs:{loggedIn:"loggedIn"},decls:15,vars:10,consts:[[1,"mx-auto","max-w-[640px]","w-full","h-[480px]","bg-white/[.5]","backdrop-blur-sm","mt-[200px]","shadow-3xl","rounded-[24px]"],[1,"p-12"],[1,"text-black/[.85]","font-semibold","text-4xl","text-center"],["class","p-[9px] font-semibold text-lg text-pink-600 ml-[132px]",4,"ngIf"],[1,"mb-4"],["for","email",1,"block","font-bold","mb-2"],["placeholder","123@email.com","type","email","id","email","name","email","required","",3,"ngModel","ngModelChange"],[1,"mb-6"],["for","password",1,"block","font-bold","mb-2"],["placeholder","Password","type","password","id","password","name","password","required","",3,"ngModel","ngModelChange"],[1,"absolute","sm:ml-[100px]","md:ml-[100px]","mt-[32px]","font-medium","text-xl","text-white","max-w-[332px]","w-full","h-[56px]","p-[12px]","rounded-[56px]","shadow-lg","enabled:bg-[#087f5b]/[.5]","disabled:bg-gray-500/[.35]","disabled:cursor-not-allowed","flex","justify-center","align-middle","transition-all","duration-[0.45s]","ease-in-out","scale-100","enabled:hover:bg-[#37b24d]/[.75]","enabled:hover:text-white","enabled:hover:cursor-pointer","enabled:hover:scale-[1.12]","enabled:hover:z-100","enabled:hover:transition-all","ease-in-out",3,"disabled","click"],[1,"p-[9px]","font-semibold","text-lg","text-pink-600","ml-[132px]"]],template:function(e,o){1&e&&(f.TgZ(0,"form",0)(1,"div",1)(2,"h1",2),f._uU(3,"Login"),f.qZA(),f.YNc(4,Dp,2,0,"h4",3),f.TgZ(5,"div",4)(6,"label",5),f._uU(7," Email "),f.qZA(),f.TgZ(8,"input",6),f.NdJ("ngModelChange",function(p){return o.email=p}),f.qZA()(),f.TgZ(9,"div",7)(10,"label",8),f._uU(11," Password "),f.qZA(),f.TgZ(12,"input",9),f.NdJ("ngModelChange",function(p){return o.password=p}),f.qZA()(),f.TgZ(13,"button",10),f.NdJ("click",function(){return o.onSignIn()}),f._uU(14," Login "),f.qZA()()()),2&e&&(f.xp6(4),f.Q6J("ngIf",o.hasError),f.xp6(4),f.Gre("\n                w-full h-[56px] px-3 py-2 border rounded-[16px] font-semibold text-xl text-black/[.85] z-0 ",o.hasError?"border-2 border-pink-500":"",""),f.Q6J("ngModel",o.email),f.xp6(4),f.Gre("\n            w-full h-[56px] px-3 py-2 border rounded-[16px] font-semibold text-xl text-black/[.85] ",o.hasError?"border-2 border-pink-500":"",""),f.Q6J("ngModel",o.password),f.xp6(1),f.Q6J("disabled",!o.email||!o.password))},dependencies:[ii,yp,sf,Am,Mm,wi,vf,_f],encapsulation:2}),r})(),g0=(()=>{class r{constructor(){this.logout=new f.vpe}logOut(){this.logout.emit(!0)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=f.Xpm({type:r,selectors:[["app-logout"]],outputs:{logout:"logout"},decls:3,vars:0,consts:[[1,"flex","flex-row-reverse","m-6"],[1,"font-semibold","text-xl","text-black/[.85]","w-[224px]","h-[56px]","p-[12px]","rounded-[56px]","shadow-lg","bg-white/[.6]","flex","justify-center","align-middle","transition-all","duration-[0.45s]","ease-in-out","scale-100","hover:bg-white/[.75]","hover:cursor-pointer","hover:scale-[1.12]","hover:z-100","hover:transition-all","ease-in-out",3,"click"]],template:function(e,o){1&e&&(f.TgZ(0,"div",0)(1,"button",1),f.NdJ("click",function(){return o.logOut()}),f._uU(2," Logout "),f.qZA()())},encapsulation:2}),r})();function iE(r,t){if(1&r){const e=f.EpF();f.ynx(0),f.TgZ(1,"app-logout",2),f.NdJ("logout",function(){f.CHM(e);const l=f.oxw();return f.KtG(l.isLoggedIn=!1)}),f.qZA(),f.TgZ(2,"div",3)(3,"app-bug-detail",4),f.NdJ("isEditingBug",function(l){f.CHM(e);const p=f.oxw();return f.KtG(p.editingBug=l)}),f.qZA(),f.TgZ(4,"app-bug-grid",5),f.NdJ("bugSelected",function(l){f.CHM(e);const p=f.oxw();return f.KtG(p.selectedBug=l)}),f.qZA()(),f.TgZ(5,"div",6),f._uU(6," Please use a larger screen size. Mobile Devices are not supported. "),f.qZA(),f.BQk()}if(2&r){const e=f.oxw();f.xp6(3),f.Q6J("selectedBug",e.selectedBug),f.xp6(1),f.Q6J("isEditing",e.editingBug)}}function uu(r,t){if(1&r){const e=f.EpF();f.TgZ(0,"app-login-form",7),f.NdJ("loggedIn",function(l){f.CHM(e);const p=f.oxw();return f.KtG(p.isLoggedIn=l)}),f.qZA()}}let sE=(()=>{class r{constructor(){this.title="bug-tracker",this.selectedBug=null,this.editingBug=!1,this.isLoggedIn=!1}onBugSelected(e){this.selectedBug=e}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=f.Xpm({type:r,selectors:[["app-root"]],decls:4,vars:2,consts:[[4,"ngIf","ngIfElse"],["loginForm",""],[1,"invisible","transition-none","md:visible",3,"logout"],[1,"grid","grid-cols-2","w-auto","justify-content-center","content-center","mt-[-64px]"],[1,"ml-6","invisible","transition-none","md:visible",3,"selectedBug","isEditingBug"],[1,"invisible","transition-none","md:visible",3,"isEditing","bugSelected"],[1,"md:hidden","mt-[-500px]","p-[75px]","justify-center","align-middle","text-center","text-4xl","text-black","font-bold"],[3,"loggedIn"]],template:function(e,o){if(1&e&&(f.TgZ(0,"body"),f.YNc(1,iE,7,2,"ng-container",0),f.YNc(2,uu,1,0,"ng-template",null,1,f.W1O),f.qZA()),2&e){const l=f.MAs(3);f.xp6(1),f.Q6J("ngIf",o.isLoggedIn)("ngIfElse",l)}},dependencies:[ii,fv,h0,p0,g0],styles:['@import"https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap";[_ngcontent-%COMP%]:root{--font: "Noto Sans JP"}']}),r})();var bp=O(5577);class Tp{}class Cf{}class ms{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const o=e.indexOf(":");if(o>0){const l=e.slice(0,o),p=l.toLowerCase(),y=e.slice(o+1).trim();this.maybeSetNormalizedName(l,p),this.headers.has(p)?this.headers.get(p).push(y):this.headers.set(p,[y])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let o=t[e];const l=e.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(l,o),this.maybeSetNormalizedName(e,l))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ms?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ms;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ms?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let o=t.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(t.name,e);const l=("a"===t.op?this.headers.get(e):void 0)||[];l.push(...o),this.headers.set(e,l);break;case"d":const p=t.value;if(p){let y=this.headers.get(e);if(!y)return;y=y.filter(w=>-1===p.indexOf(w)),0===y.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,y)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class xw{encodeKey(t){return Qm(t)}encodeValue(t){return Qm(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Pw=/%(\d[a-f0-9])/gi,Nw={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Qm(r){return encodeURIComponent(r).replace(Pw,(t,e)=>Nw[e]??t)}function Sp(r){return`${r}`}class Ja{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new xw,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Rw(r,t){const e=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(l=>{const p=l.indexOf("="),[y,w]=-1==p?[t.decodeKey(l),""]:[t.decodeKey(l.slice(0,p)),t.decodeValue(l.slice(p+1))],T=e.get(y)||[];T.push(w),e.set(y,T)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const o=t.fromObject[e],l=Array.isArray(o)?o.map(Sp):[Sp(o)];this.map.set(e,l)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(o=>{const l=t[o];Array.isArray(l)?l.forEach(p=>{e.push({param:o,value:p,op:"a"})}):e.push({param:o,value:l,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(o=>e+"="+this.encoder.encodeValue(o)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ja({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Sp(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let o=this.map.get(t.param)||[];const l=o.indexOf(Sp(t.value));-1!==l&&o.splice(l,1),o.length>0?this.map.set(t.param,o):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class m0{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Jm(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function Xm(r){return typeof Blob<"u"&&r instanceof Blob}function aE(r){return typeof FormData<"u"&&r instanceof FormData}class Bc{constructor(t,e,o,l){let p;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function oE(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||l?(this.body=void 0!==o?o:null,p=l):p=o,p&&(this.reportProgress=!!p.reportProgress,this.withCredentials=!!p.withCredentials,p.responseType&&(this.responseType=p.responseType),p.headers&&(this.headers=p.headers),p.context&&(this.context=p.context),p.params&&(this.params=p.params)),this.headers||(this.headers=new ms),this.context||(this.context=new m0),this.params){const y=this.params.toString();if(0===y.length)this.urlWithParams=e;else{const w=e.indexOf("?");this.urlWithParams=e+(-1===w?"?":w<e.length-1?"&":"")+y}}else this.params=new Ja,this.urlWithParams=e}serializeBody(){return null===this.body?null:Jm(this.body)||Xm(this.body)||aE(this.body)||function _0(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ja?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||aE(this.body)?null:Xm(this.body)?this.body.type||null:Jm(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ja?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,o=t.url||this.url,l=t.responseType||this.responseType,p=void 0!==t.body?t.body:this.body,y=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,w=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let T=t.headers||this.headers,R=t.params||this.params;const W=t.context??this.context;return void 0!==t.setHeaders&&(T=Object.keys(t.setHeaders).reduce((G,X)=>G.set(X,t.setHeaders[X]),T)),t.setParams&&(R=Object.keys(t.setParams).reduce((G,X)=>G.set(X,t.setParams[X]),R)),new Bc(e,o,p,{params:R,headers:T,context:W,reportProgress:w,responseType:l,withCredentials:y})}}var xn=(()=>((xn=xn||{})[xn.Sent=0]="Sent",xn[xn.UploadProgress=1]="UploadProgress",xn[xn.ResponseHeader=2]="ResponseHeader",xn[xn.DownloadProgress=3]="DownloadProgress",xn[xn.Response=4]="Response",xn[xn.User=5]="User",xn))();class lE{constructor(t,e=200,o="OK"){this.headers=t.headers||new ms,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||o,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Ap extends lE{constructor(t={}){super(t),this.type=xn.ResponseHeader}clone(t={}){return new Ap({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Uc extends lE{constructor(t={}){super(t),this.type=xn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Uc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class uE extends lE{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function e_(r,t){return{body:t,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let kw=(()=>{class r{constructor(e){this.handler=e}request(e,o,l={}){let p;if(e instanceof Bc)p=e;else{let T,R;T=l.headers instanceof ms?l.headers:new ms(l.headers),l.params&&(R=l.params instanceof Ja?l.params:new Ja({fromObject:l.params})),p=new Bc(e,o,void 0!==l.body?l.body:null,{headers:T,context:l.context,params:R,reportProgress:l.reportProgress,responseType:l.responseType||"json",withCredentials:l.withCredentials})}const y=$s(p).pipe(function qm(r,t){return(0,wy.m)(t)?(0,bp.z)(r,t,1):(0,bp.z)(r,1)}(T=>this.handler.handle(T)));if(e instanceof Bc||"events"===l.observe)return y;const w=y.pipe(tu(T=>T instanceof Uc));switch(l.observe||"body"){case"body":switch(p.responseType){case"arraybuffer":return w.pipe((0,On.U)(T=>{if(null!==T.body&&!(T.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return T.body}));case"blob":return w.pipe((0,On.U)(T=>{if(null!==T.body&&!(T.body instanceof Blob))throw new Error("Response is not a Blob.");return T.body}));case"text":return w.pipe((0,On.U)(T=>{if(null!==T.body&&"string"!=typeof T.body)throw new Error("Response is not a string.");return T.body}));default:return w.pipe((0,On.U)(T=>T.body))}case"response":return w;default:throw new Error(`Unreachable: unhandled observe type ${l.observe}}`)}}delete(e,o={}){return this.request("DELETE",e,o)}get(e,o={}){return this.request("GET",e,o)}head(e,o={}){return this.request("HEAD",e,o)}jsonp(e,o){return this.request("JSONP",e,{params:(new Ja).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,o={}){return this.request("OPTIONS",e,o)}patch(e,o,l={}){return this.request("PATCH",e,e_(l,o))}post(e,o,l={}){return this.request("POST",e,e_(l,o))}put(e,o,l={}){return this.request("PUT",e,e_(l,o))}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(Tp))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})();function y0(r,t){return t(r)}function v0(r,t){return(e,o)=>t.intercept(e,{handle:l=>r(l,o)})}const C0=new f.OlP("HTTP_INTERCEPTORS"),Mp=new f.OlP("HTTP_INTERCEPTOR_FNS");function Fw(){let r=null;return(t,e)=>(null===r&&(r=((0,f.f3M)(C0,{optional:!0})??[]).reduceRight(v0,y0)),r(t,e))}let I0=(()=>{class r extends Tp{constructor(e,o){super(),this.backend=e,this.injector=o,this.chain=null}handle(e){if(null===this.chain){const o=Array.from(new Set(this.injector.get(Mp)));this.chain=o.reduceRight((l,p)=>function E0(r,t,e){return(o,l)=>e.runInContext(()=>t(o,p=>r(p,l)))}(l,p,this.injector),y0)}return this.chain(e,o=>this.backend.handle(o))}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(Cf),f.LFG(f.lqb))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})();const a=/^\)\]\}',?\n/;let h=(()=>{class r{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new xo.y(o=>{const l=this.xhrFactory.build();if(l.open(e.method,e.urlWithParams),e.withCredentials&&(l.withCredentials=!0),e.headers.forEach((me,xe)=>l.setRequestHeader(me,xe.join(","))),e.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const me=e.detectContentTypeHeader();null!==me&&l.setRequestHeader("Content-Type",me)}if(e.responseType){const me=e.responseType.toLowerCase();l.responseType="json"!==me?me:"text"}const p=e.serializeBody();let y=null;const w=()=>{if(null!==y)return y;const me=l.statusText||"OK",xe=new ms(l.getAllResponseHeaders()),ut=function u(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(l)||e.url;return y=new Ap({headers:xe,status:l.status,statusText:me,url:ut}),y},T=()=>{let{headers:me,status:xe,statusText:ut,url:Ft}=w(),Lt=null;204!==xe&&(Lt=typeof l.response>"u"?l.responseText:l.response),0===xe&&(xe=Lt?200:0);let fn=xe>=200&&xe<300;if("json"===e.responseType&&"string"==typeof Lt){const $r=Lt;Lt=Lt.replace(a,"");try{Lt=""!==Lt?JSON.parse(Lt):null}catch(hn){Lt=$r,fn&&(fn=!1,Lt={error:hn,text:Lt})}}fn?(o.next(new Uc({body:Lt,headers:me,status:xe,statusText:ut,url:Ft||void 0})),o.complete()):o.error(new uE({error:Lt,headers:me,status:xe,statusText:ut,url:Ft||void 0}))},R=me=>{const{url:xe}=w(),ut=new uE({error:me,status:l.status||0,statusText:l.statusText||"Unknown Error",url:xe||void 0});o.error(ut)};let W=!1;const G=me=>{W||(o.next(w()),W=!0);let xe={type:xn.DownloadProgress,loaded:me.loaded};me.lengthComputable&&(xe.total=me.total),"text"===e.responseType&&l.responseText&&(xe.partialText=l.responseText),o.next(xe)},X=me=>{let xe={type:xn.UploadProgress,loaded:me.loaded};me.lengthComputable&&(xe.total=me.total),o.next(xe)};return l.addEventListener("load",T),l.addEventListener("error",R),l.addEventListener("timeout",R),l.addEventListener("abort",R),e.reportProgress&&(l.addEventListener("progress",G),null!==p&&l.upload&&l.upload.addEventListener("progress",X)),l.send(p),o.next({type:xn.Sent}),()=>{l.removeEventListener("error",R),l.removeEventListener("abort",R),l.removeEventListener("load",T),l.removeEventListener("timeout",R),e.reportProgress&&(l.removeEventListener("progress",G),null!==p&&l.upload&&l.upload.removeEventListener("progress",X)),l.readyState!==l.DONE&&l.abort()}})}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(sa))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})();const m=new f.OlP("XSRF_ENABLED"),E=new f.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),M=new f.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class k{}let j=(()=>{class r{constructor(e,o,l){this.doc=e,this.platform=o,this.cookieName=l,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ea(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(ne),f.LFG(f.Lbi),f.LFG(E))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})();function Y(r,t){const e=r.url.toLowerCase();if(!(0,f.f3M)(m)||"GET"===r.method||"HEAD"===r.method||e.startsWith("http://")||e.startsWith("https://"))return t(r);const o=(0,f.f3M)(k).getToken(),l=(0,f.f3M)(M);return null!=o&&!r.headers.has(l)&&(r=r.clone({headers:r.headers.set(l,o)})),t(r)}var Ee=(()=>((Ee=Ee||{})[Ee.Interceptors=0]="Interceptors",Ee[Ee.LegacyInterceptors=1]="LegacyInterceptors",Ee[Ee.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ee[Ee.NoXsrfProtection=3]="NoXsrfProtection",Ee[Ee.JsonpSupport=4]="JsonpSupport",Ee[Ee.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ee))();function Be(r,t){return{\u0275kind:r,\u0275providers:t}}function Xe(...r){const t=[kw,h,I0,{provide:Tp,useExisting:I0},{provide:Cf,useExisting:h},{provide:Mp,useValue:Y,multi:!0},{provide:m,useValue:!0},{provide:k,useClass:j}];for(const e of r)t.push(...e.\u0275providers);return(0,f.MR2)(t)}const be=new f.OlP("LEGACY_INTERCEPTOR_FN");let eD=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({providers:[Xe(Be(Ee.LegacyInterceptors,[{provide:be,useFactory:Fw},{provide:Mp,useExisting:be,multi:!0}]))]}),r})();const Uw={apiKey:"AIzaSyBK6-On6hJWOvkt246K06O9LU_zu_9UWtU",authDomain:"wdd430-b4295.firebaseapp.com",databaseURL:"https://wdd430-b4295-default-rtdb.firebaseio.com",projectId:"wdd430-b4295",storageBucket:"wdd430-b4295.appspot.com",messagingSenderId:"288535704920",appId:"1:288535704920:web:9909167c1a007006a7212d"};let tD=(()=>{class r{constructor(){!function N0(r=(0,Ve.getApp)(),t){const e=(0,Ve._getProvider)(r,"database").getImmediate({identifier:t});if(!e._instanceStarted){const o=(0,x.P0)("database");o&&fy(e,...o)}}((0,qd.ZF)(Uw))}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r,bootstrap:[sE]}),r.\u0275inj=f.cJS({providers:[sp],imports:[Us,eD,eE,P.hO.initializeApp(Uw),nI]}),r})();El().bootstrapModule(tD).catch(r=>console.error(r))},8306:(nt,De,O)=>{O.d(De,{y:()=>B});var f=O(930),J=O(727),N=O(8822),re=O(4671);var ge=O(2416),oe=O(576),ue=O(2806);let B=(()=>{class Ae{constructor($e){$e&&(this._subscribe=$e)}lift($e){const se=new Ae;return se.source=this,se.operator=$e,se}subscribe($e,se,we){const _e=function je(Ae){return Ae&&Ae instanceof f.Lv||function K(Ae){return Ae&&(0,oe.m)(Ae.next)&&(0,oe.m)(Ae.error)&&(0,oe.m)(Ae.complete)}(Ae)&&(0,J.Nn)(Ae)}($e)?$e:new f.Hp($e,se,we);return(0,ue.x)(()=>{const{operator:Me,source:Te}=this;_e.add(Me?Me.call(_e,Te):Te?this._subscribe(_e):this._trySubscribe(_e))}),_e}_trySubscribe($e){try{return this._subscribe($e)}catch(se){$e.error(se)}}forEach($e,se){return new(se=U(se))((we,_e)=>{const Me=new f.Hp({next:Te=>{try{$e(Te)}catch(de){_e(de),Me.unsubscribe()}},error:_e,complete:we});this.subscribe(Me)})}_subscribe($e){var se;return null===(se=this.source)||void 0===se?void 0:se.subscribe($e)}[N.L](){return this}pipe(...$e){return function ne(Ae){return 0===Ae.length?re.y:1===Ae.length?Ae[0]:function($e){return Ae.reduce((se,we)=>we(se),$e)}}($e)(this)}toPromise($e){return new($e=U($e))((se,we)=>{let _e;this.subscribe(Me=>_e=Me,Me=>we(Me),()=>se(_e))})}}return Ae.create=dt=>new Ae(dt),Ae})();function U(Ae){var dt;return null!==(dt=Ae??ge.v.Promise)&&void 0!==dt?dt:Promise}},7579:(nt,De,O)=>{O.d(De,{x:()=>ge});var f=O(8306),J=O(727);const re=(0,O(3888).d)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ee=O(8737),ne=O(2806);let ge=(()=>{class ue extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(U){const K=new oe(this,this);return K.operator=U,K}_throwIfClosed(){if(this.closed)throw new re}next(U){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next(U)}})}error(U){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=U;const{observers:K}=this;for(;K.length;)K.shift().error(U)}})}complete(){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:U}=this;for(;U.length;)U.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0}_trySubscribe(U){return this._throwIfClosed(),super._trySubscribe(U)}_subscribe(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)}_innerSubscribe(U){const{hasError:K,isStopped:je,observers:Ae}=this;return K||je?J.Lc:(this.currentObservers=null,Ae.push(U),new J.w0(()=>{this.currentObservers=null,(0,ee.P)(Ae,U)}))}_checkFinalizedStatuses(U){const{hasError:K,thrownError:je,isStopped:Ae}=this;K?U.error(je):Ae&&U.complete()}asObservable(){const U=new f.y;return U.source=this,U}}return ue.create=(B,U)=>new oe(B,U),ue})();class oe extends ge{constructor(B,U){super(),this.destination=B,this.source=U}next(B){var U,K;null===(K=null===(U=this.destination)||void 0===U?void 0:U.next)||void 0===K||K.call(U,B)}error(B){var U,K;null===(K=null===(U=this.destination)||void 0===U?void 0:U.error)||void 0===K||K.call(U,B)}complete(){var B,U;null===(U=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===U||U.call(B)}_subscribe(B){var U,K;return null!==(K=null===(U=this.source)||void 0===U?void 0:U.subscribe(B))&&void 0!==K?K:J.Lc}}},930:(nt,De,O)=>{O.d(De,{Hp:()=>$e,Lv:()=>K});var f=O(576),J=O(727),N=O(2416),re=O(7849),ee=O(5032);const ne=ue("C",void 0,void 0);function ue(Te,de,he){return{kind:Te,value:de,error:he}}var B=O(3410),U=O(2806);class K extends J.w0{constructor(de){super(),this.isStopped=!1,de?(this.destination=de,(0,J.Nn)(de)&&de.add(this)):this.destination=Me}static create(de,he,Le){return new $e(de,he,Le)}next(de){this.isStopped?_e(function oe(Te){return ue("N",Te,void 0)}(de),this):this._next(de)}error(de){this.isStopped?_e(function ge(Te){return ue("E",void 0,Te)}(de),this):(this.isStopped=!0,this._error(de))}complete(){this.isStopped?_e(ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(de){this.destination.next(de)}_error(de){try{this.destination.error(de)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function Ae(Te,de){return je.call(Te,de)}class dt{constructor(de){this.partialObserver=de}next(de){const{partialObserver:he}=this;if(he.next)try{he.next(de)}catch(Le){se(Le)}}error(de){const{partialObserver:he}=this;if(he.error)try{he.error(de)}catch(Le){se(Le)}else se(de)}complete(){const{partialObserver:de}=this;if(de.complete)try{de.complete()}catch(he){se(he)}}}class $e extends K{constructor(de,he,Le){let Se;if(super(),(0,f.m)(de)||!de)Se={next:de??void 0,error:he??void 0,complete:Le??void 0};else{let ie;this&&N.v.useDeprecatedNextContext?(ie=Object.create(de),ie.unsubscribe=()=>this.unsubscribe(),Se={next:de.next&&Ae(de.next,ie),error:de.error&&Ae(de.error,ie),complete:de.complete&&Ae(de.complete,ie)}):Se=de}this.destination=new dt(Se)}}function se(Te){N.v.useDeprecatedSynchronousErrorHandling?(0,U.O)(Te):(0,re.h)(Te)}function _e(Te,de){const{onStoppedNotification:he}=N.v;he&&B.z.setTimeout(()=>he(Te,de))}const Me={closed:!0,next:ee.Z,error:function we(Te){throw Te},complete:ee.Z}},727:(nt,De,O)=>{O.d(De,{Lc:()=>ne,w0:()=>ee,Nn:()=>ge});var f=O(576);const N=(0,O(3888).d)(ue=>function(U){ue(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((K,je)=>`${je+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U});var re=O(8737);class ee{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:U}=this;if(U)if(this._parentage=null,Array.isArray(U))for(const Ae of U)Ae.remove(this);else U.remove(this);const{initialTeardown:K}=this;if((0,f.m)(K))try{K()}catch(Ae){B=Ae instanceof N?Ae.errors:[Ae]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const Ae of je)try{oe(Ae)}catch(dt){B=B??[],dt instanceof N?B=[...B,...dt.errors]:B.push(dt)}}if(B)throw new N(B)}}add(B){var U;if(B&&B!==this)if(this.closed)oe(B);else{if(B instanceof ee){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(U=this._finalizers)&&void 0!==U?U:[]).push(B)}}_hasParent(B){const{_parentage:U}=this;return U===B||Array.isArray(U)&&U.includes(B)}_addParent(B){const{_parentage:U}=this;this._parentage=Array.isArray(U)?(U.push(B),U):U?[U,B]:B}_removeParent(B){const{_parentage:U}=this;U===B?this._parentage=null:Array.isArray(U)&&(0,re.P)(U,B)}remove(B){const{_finalizers:U}=this;U&&(0,re.P)(U,B),B instanceof ee&&B._removeParent(this)}}ee.EMPTY=(()=>{const ue=new ee;return ue.closed=!0,ue})();const ne=ee.EMPTY;function ge(ue){return ue instanceof ee||ue&&"closed"in ue&&(0,f.m)(ue.remove)&&(0,f.m)(ue.add)&&(0,f.m)(ue.unsubscribe)}function oe(ue){(0,f.m)(ue)?ue():ue.unsubscribe()}},2416:(nt,De,O)=>{O.d(De,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(nt,De,O)=>{O.d(De,{E:()=>J});const J=new(O(8306).y)(ee=>ee.complete())},8996:(nt,De,O)=>{O.d(De,{D:()=>de});var f=O(8421),J=O(5363),N=O(9468),ne=O(8306),oe=O(2202),ue=O(576),B=O(9672);function K(he,Le){if(!he)throw new Error("Iterable cannot be null");return new ne.y(Se=>{(0,B.f)(Se,Le,()=>{const ie=he[Symbol.asyncIterator]();(0,B.f)(Se,Le,()=>{ie.next().then(H=>{H.done?Se.complete():Se.next(H.value)})},0,!0)})})}var je=O(3670),Ae=O(8239),dt=O(1144),$e=O(6495),se=O(2206),we=O(4532),_e=O(3260);function de(he,Le){return Le?function Te(he,Le){if(null!=he){if((0,je.c)(he))return function re(he,Le){return(0,f.Xf)(he).pipe((0,N.R)(Le),(0,J.Q)(Le))}(he,Le);if((0,dt.z)(he))return function ge(he,Le){return new ne.y(Se=>{let ie=0;return Le.schedule(function(){ie===he.length?Se.complete():(Se.next(he[ie++]),Se.closed||this.schedule())})})}(he,Le);if((0,Ae.t)(he))return function ee(he,Le){return(0,f.Xf)(he).pipe((0,N.R)(Le),(0,J.Q)(Le))}(he,Le);if((0,se.D)(he))return K(he,Le);if((0,$e.T)(he))return function U(he,Le){return new ne.y(Se=>{let ie;return(0,B.f)(Se,Le,()=>{ie=he[oe.h](),(0,B.f)(Se,Le,()=>{let H,Oe;try{({value:H,done:Oe}=ie.next())}catch(Fe){return void Se.error(Fe)}Oe?Se.complete():Se.next(H)},0,!0)}),()=>(0,ue.m)(ie?.return)&&ie.return()})}(he,Le);if((0,_e.L)(he))return function Me(he,Le){return K((0,_e.Q)(he),Le)}(he,Le)}throw(0,we.z)(he)}(he,Le):(0,f.Xf)(he)}},8421:(nt,De,O)=>{O.d(De,{Xf:()=>je});var f=O(655),J=O(1144),N=O(8239),re=O(8306),ee=O(3670),ne=O(2206),ge=O(4532),oe=O(6495),ue=O(3260),B=O(576),U=O(7849),K=O(8822);function je(Te){if(Te instanceof re.y)return Te;if(null!=Te){if((0,ee.c)(Te))return function Ae(Te){return new re.y(de=>{const he=Te[K.L]();if((0,B.m)(he.subscribe))return he.subscribe(de);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,J.z)(Te))return function dt(Te){return new re.y(de=>{for(let he=0;he<Te.length&&!de.closed;he++)de.next(Te[he]);de.complete()})}(Te);if((0,N.t)(Te))return function $e(Te){return new re.y(de=>{Te.then(he=>{de.closed||(de.next(he),de.complete())},he=>de.error(he)).then(null,U.h)})}(Te);if((0,ne.D)(Te))return we(Te);if((0,oe.T)(Te))return function se(Te){return new re.y(de=>{for(const he of Te)if(de.next(he),de.closed)return;de.complete()})}(Te);if((0,ue.L)(Te))return function _e(Te){return we((0,ue.Q)(Te))}(Te)}throw(0,ge.z)(Te)}function we(Te){return new re.y(de=>{(function Me(Te,de){var he,Le,Se,ie;return(0,f.mG)(this,void 0,void 0,function*(){try{for(he=(0,f.KL)(Te);!(Le=yield he.next()).done;)if(de.next(Le.value),de.closed)return}catch(H){Se={error:H}}finally{try{Le&&!Le.done&&(ie=he.return)&&(yield ie.call(he))}finally{if(Se)throw Se.error}}de.complete()})})(Te,de).catch(he=>de.error(he))})}},266:(nt,De,O)=>{O.d(De,{T:()=>oe});var f=O(5577),J=O(4671),re=O(8421),ee=O(515),ne=O(7669),ge=O(8996);function oe(...ue){const B=(0,ne.yG)(ue),U=(0,ne._6)(ue,1/0),K=ue;return K.length?1===K.length?(0,re.Xf)(K[0]):function N(ue=1/0){return(0,f.z)(J.y,ue)}(U)((0,ge.D)(K,B)):ee.E}},5403:(nt,De,O)=>{O.d(De,{x:()=>J});var f=O(930);function J(re,ee,ne,ge,oe){return new N(re,ee,ne,ge,oe)}class N extends f.Lv{constructor(ee,ne,ge,oe,ue,B){super(ee),this.onFinalize=ue,this.shouldUnsubscribe=B,this._next=ne?function(U){try{ne(U)}catch(K){ee.error(K)}}:super._next,this._error=oe?function(U){try{oe(U)}catch(K){ee.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(U){ee.error(U)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ne}=this;super.unsubscribe(),!ne&&(null===(ee=this.onFinalize)||void 0===ee||ee.call(this))}}}},4004:(nt,De,O)=>{O.d(De,{U:()=>N});var f=O(4482),J=O(5403);function N(re,ee){return(0,f.e)((ne,ge)=>{let oe=0;ne.subscribe((0,J.x)(ge,ue=>{ge.next(re.call(ee,ue,oe++))}))})}},5577:(nt,De,O)=>{O.d(De,{z:()=>oe});var f=O(4004),J=O(8421),N=O(4482),re=O(9672),ee=O(5403),ge=O(576);function oe(ue,B,U=1/0){return(0,ge.m)(B)?oe((K,je)=>(0,f.U)((Ae,dt)=>B(K,Ae,je,dt))((0,J.Xf)(ue(K,je))),U):("number"==typeof B&&(U=B),(0,N.e)((K,je)=>function ne(ue,B,U,K,je,Ae,dt,$e){const se=[];let we=0,_e=0,Me=!1;const Te=()=>{Me&&!se.length&&!we&&B.complete()},de=Le=>we<K?he(Le):se.push(Le),he=Le=>{Ae&&B.next(Le),we++;let Se=!1;(0,J.Xf)(U(Le,_e++)).subscribe((0,ee.x)(B,ie=>{je?.(ie),Ae?de(ie):B.next(ie)},()=>{Se=!0},void 0,()=>{if(Se)try{for(we--;se.length&&we<K;){const ie=se.shift();dt?(0,re.f)(B,dt,()=>he(ie)):he(ie)}Te()}catch(ie){B.error(ie)}}))};return ue.subscribe((0,ee.x)(B,de,()=>{Me=!0,Te()})),()=>{$e?.()}}(K,je,ue,U)))}},5363:(nt,De,O)=>{O.d(De,{Q:()=>re});var f=O(9672),J=O(4482),N=O(5403);function re(ee,ne=0){return(0,J.e)((ge,oe)=>{ge.subscribe((0,N.x)(oe,ue=>(0,f.f)(oe,ee,()=>oe.next(ue),ne),()=>(0,f.f)(oe,ee,()=>oe.complete(),ne),ue=>(0,f.f)(oe,ee,()=>oe.error(ue),ne)))})}},3099:(nt,De,O)=>{O.d(De,{B:()=>ee});var f=O(8421),J=O(7579),N=O(930),re=O(4482);function ee(ge={}){const{connector:oe=(()=>new J.x),resetOnError:ue=!0,resetOnComplete:B=!0,resetOnRefCountZero:U=!0}=ge;return K=>{let je,Ae,dt,$e=0,se=!1,we=!1;const _e=()=>{Ae?.unsubscribe(),Ae=void 0},Me=()=>{_e(),je=dt=void 0,se=we=!1},Te=()=>{const de=je;Me(),de?.unsubscribe()};return(0,re.e)((de,he)=>{$e++,!we&&!se&&_e();const Le=dt=dt??oe();he.add(()=>{$e--,0===$e&&!we&&!se&&(Ae=ne(Te,U))}),Le.subscribe(he),!je&&$e>0&&(je=new N.Hp({next:Se=>Le.next(Se),error:Se=>{we=!0,_e(),Ae=ne(Me,ue,Se),Le.error(Se)},complete:()=>{se=!0,_e(),Ae=ne(Me,B),Le.complete()}}),(0,f.Xf)(de).subscribe(je))})(K)}}function ne(ge,oe,...ue){if(!0===oe)return void ge();if(!1===oe)return;const B=new N.Hp({next:()=>{B.unsubscribe(),ge()}});return oe(...ue).subscribe(B)}},9468:(nt,De,O)=>{O.d(De,{R:()=>J});var f=O(4482);function J(N,re=0){return(0,f.e)((ee,ne)=>{ne.add(N.schedule(()=>ee.subscribe(ne),re))})}},4408:(nt,De,O)=>{O.d(De,{o:()=>ee});var f=O(727);class J extends f.w0{constructor(ge,oe){super()}schedule(ge,oe=0){return this}}const N={setInterval(ne,ge,...oe){const{delegate:ue}=N;return ue?.setInterval?ue.setInterval(ne,ge,...oe):setInterval(ne,ge,...oe)},clearInterval(ne){const{delegate:ge}=N;return(ge?.clearInterval||clearInterval)(ne)},delegate:void 0};var re=O(8737);class ee extends J{constructor(ge,oe){super(ge,oe),this.scheduler=ge,this.work=oe,this.pending=!1}schedule(ge,oe=0){var ue;if(this.closed)return this;this.state=ge;const B=this.id,U=this.scheduler;return null!=B&&(this.id=this.recycleAsyncId(U,B,oe)),this.pending=!0,this.delay=oe,this.id=null!==(ue=this.id)&&void 0!==ue?ue:this.requestAsyncId(U,this.id,oe),this}requestAsyncId(ge,oe,ue=0){return N.setInterval(ge.flush.bind(ge,this),ue)}recycleAsyncId(ge,oe,ue=0){if(null!=ue&&this.delay===ue&&!1===this.pending)return oe;null!=oe&&N.clearInterval(oe)}execute(ge,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(ge,oe);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,oe){let B,ue=!1;try{this.work(ge)}catch(U){ue=!0,B=U||new Error("Scheduled action threw falsy error")}if(ue)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:ge,scheduler:oe}=this,{actions:ue}=oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(ue,this),null!=ge&&(this.id=this.recycleAsyncId(oe,ge,null)),this.delay=null,super.unsubscribe()}}}},7565:(nt,De,O)=>{O.d(De,{v:()=>N});var f=O(6063);class J{constructor(ee,ne=J.now){this.schedulerActionCtor=ee,this.now=ne}schedule(ee,ne=0,ge){return new this.schedulerActionCtor(this,ee).schedule(ge,ne)}}J.now=f.l.now;class N extends J{constructor(ee,ne=J.now){super(ee,ne),this.actions=[],this._active=!1}flush(ee){const{actions:ne}=this;if(this._active)return void ne.push(ee);let ge;this._active=!0;do{if(ge=ee.execute(ee.state,ee.delay))break}while(ee=ne.shift());if(this._active=!1,ge){for(;ee=ne.shift();)ee.unsubscribe();throw ge}}}},4986:(nt,De,O)=>{O.d(De,{z:()=>N});var f=O(4408);const N=new(O(7565).v)(f.o)},6063:(nt,De,O)=>{O.d(De,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(nt,De,O)=>{O.d(De,{z:()=>f});const f={setTimeout(J,N,...re){const{delegate:ee}=f;return ee?.setTimeout?ee.setTimeout(J,N,...re):setTimeout(J,N,...re)},clearTimeout(J){const{delegate:N}=f;return(N?.clearTimeout||clearTimeout)(J)},delegate:void 0}},2202:(nt,De,O)=>{O.d(De,{h:()=>J});const J=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(nt,De,O)=>{O.d(De,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(nt,De,O)=>{O.d(De,{_6:()=>ne,jO:()=>re,yG:()=>ee});var f=O(576);function N(ge){return ge[ge.length-1]}function re(ge){return(0,f.m)(N(ge))?ge.pop():void 0}function ee(ge){return function J(ge){return ge&&(0,f.m)(ge.schedule)}(N(ge))?ge.pop():void 0}function ne(ge,oe){return"number"==typeof N(ge)?ge.pop():oe}},8737:(nt,De,O)=>{function f(J,N){if(J){const re=J.indexOf(N);0<=re&&J.splice(re,1)}}O.d(De,{P:()=>f})},3888:(nt,De,O)=>{function f(J){const re=J(ee=>{Error.call(ee),ee.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}O.d(De,{d:()=>f})},2806:(nt,De,O)=>{O.d(De,{O:()=>re,x:()=>N});var f=O(2416);let J=null;function N(ee){if(f.v.useDeprecatedSynchronousErrorHandling){const ne=!J;if(ne&&(J={errorThrown:!1,error:null}),ee(),ne){const{errorThrown:ge,error:oe}=J;if(J=null,ge)throw oe}}else ee()}function re(ee){f.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=ee)}},9672:(nt,De,O)=>{function f(J,N,re,ee=0,ne=!1){const ge=N.schedule(function(){re(),ne?J.add(this.schedule(null,ee)):this.unsubscribe()},ee);if(J.add(ge),!ne)return ge}O.d(De,{f:()=>f})},4671:(nt,De,O)=>{function f(J){return J}O.d(De,{y:()=>f})},1144:(nt,De,O)=>{O.d(De,{z:()=>f});const f=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(nt,De,O)=>{O.d(De,{D:()=>J});var f=O(576);function J(N){return Symbol.asyncIterator&&(0,f.m)(N?.[Symbol.asyncIterator])}},576:(nt,De,O)=>{function f(J){return"function"==typeof J}O.d(De,{m:()=>f})},3670:(nt,De,O)=>{O.d(De,{c:()=>N});var f=O(8822),J=O(576);function N(re){return(0,J.m)(re[f.L])}},6495:(nt,De,O)=>{O.d(De,{T:()=>N});var f=O(2202),J=O(576);function N(re){return(0,J.m)(re?.[f.h])}},8239:(nt,De,O)=>{O.d(De,{t:()=>J});var f=O(576);function J(N){return(0,f.m)(N?.then)}},3260:(nt,De,O)=>{O.d(De,{L:()=>re,Q:()=>N});var f=O(655),J=O(576);function N(ee){return(0,f.FC)(this,arguments,function*(){const ge=ee.getReader();try{for(;;){const{value:oe,done:ue}=yield(0,f.qq)(ge.read());if(ue)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(oe)}}finally{ge.releaseLock()}})}function re(ee){return(0,J.m)(ee?.getReader)}},4482:(nt,De,O)=>{O.d(De,{e:()=>N});var f=O(576);function N(re){return ee=>{if(function J(re){return(0,f.m)(re?.lift)}(ee))return ee.lift(function(ne){try{return re(ne,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(nt,De,O)=>{function f(){}O.d(De,{Z:()=>f})},7849:(nt,De,O)=>{O.d(De,{h:()=>N});var f=O(2416),J=O(3410);function N(re){J.z.setTimeout(()=>{const{onUnhandledError:ee}=f.v;if(!ee)throw re;ee(re)})}},4532:(nt,De,O)=>{function f(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(De,{z:()=>f})},655:(nt,De,O)=>{function re(te,ae){var fe={};for(var Ce in te)Object.prototype.hasOwnProperty.call(te,Ce)&&ae.indexOf(Ce)<0&&(fe[Ce]=te[Ce]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(Ce=Object.getOwnPropertySymbols(te);Re<Ce.length;Re++)ae.indexOf(Ce[Re])<0&&Object.prototype.propertyIsEnumerable.call(te,Ce[Re])&&(fe[Ce[Re]]=te[Ce[Re]])}return fe}function K(te,ae,fe,Ce){return new(fe||(fe=Promise))(function(ke,Je){function ze(Pt){try{Ge(Ce.next(Pt))}catch(it){Je(it)}}function rt(Pt){try{Ge(Ce.throw(Pt))}catch(it){Je(it)}}function Ge(Pt){Pt.done?ke(Pt.value):function Re(ke){return ke instanceof fe?ke:new fe(function(Je){Je(ke)})}(Pt.value).then(ze,rt)}Ge((Ce=Ce.apply(te,ae||[])).next())})}function Te(te){return this instanceof Te?(this.v=te,this):new Te(te)}function de(te,ae,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,Ce=fe.apply(te,ae||[]),ke=[];return Re={},Je("next"),Je("throw"),Je("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function Je(Vt){Ce[Vt]&&(Re[Vt]=function(Wt){return new Promise(function($t,sn){ke.push([Vt,Wt,$t,sn])>1||ze(Vt,Wt)})})}function ze(Vt,Wt){try{!function rt(Vt){Vt.value instanceof Te?Promise.resolve(Vt.value.v).then(Ge,Pt):it(ke[0][2],Vt)}(Ce[Vt](Wt))}catch($t){it(ke[0][3],$t)}}function Ge(Vt){ze("next",Vt)}function Pt(Vt){ze("throw",Vt)}function it(Vt,Wt){Vt(Wt),ke.shift(),ke.length&&ze(ke[0][0],ke[0][1])}}function Le(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,ae=te[Symbol.asyncIterator];return ae?ae.call(te):(te=function $e(te){var ae="function"==typeof Symbol&&Symbol.iterator,fe=ae&&te[ae],Ce=0;if(fe)return fe.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&Ce>=te.length&&(te=void 0),{value:te&&te[Ce++],done:!te}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),fe={},Ce("next"),Ce("throw"),Ce("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function Ce(ke){fe[ke]=te[ke]&&function(Je){return new Promise(function(ze,rt){!function Re(ke,Je,ze,rt){Promise.resolve(rt).then(function(Ge){ke({value:Ge,done:ze})},Je)}(ze,rt,(Je=te[ke](Je)).done,Je.value)})}}}O.d(De,{FC:()=>de,KL:()=>Le,_T:()=>re,mG:()=>K,qq:()=>Te})},4650:(nt,De,O)=>{O.d(De,{$8M:()=>Ca,AFp:()=>vf,ALo:()=>Em,AaK:()=>oe,BQk:()=>ni,CHM:()=>ca,CZH:()=>yf,CqO:()=>$g,D6c:()=>C0,EJc:()=>$v,EpF:()=>Y_,F4k:()=>Q_,FYo:()=>ac,FiY:()=>Ta,GfV:()=>ph,Gpc:()=>U,Gre:()=>AC,JOm:()=>Ur,KtG:()=>As,LFG:()=>Ne,Lbi:()=>fw,Lck:()=>aI,MAs:()=>Ic,MR2:()=>wd,NdJ:()=>Gg,OlP:()=>jt,Oqu:()=>qd,Q6J:()=>wc,QGY:()=>jg,Qsj:()=>c_,R0b:()=>$i,RDi:()=>Lo,Rgc:()=>kc,SBq:()=>xd,TTD:()=>co,TgZ:()=>$d,W1O:()=>Rm,X6Q:()=>u0,Xpm:()=>io,Y36:()=>Wl,YNc:()=>K_,Yjl:()=>tl,Yz7:()=>it,ZZ4:()=>xn,_Bn:()=>mm,_UZ:()=>Bh,_c5:()=>v0,_uU:()=>$h,aQg:()=>Uc,cJS:()=>Wt,cg1:()=>tm,dDg:()=>QI,dqk:()=>yt,eFA:()=>Jv,ekj:()=>Js,eoX:()=>Zm,f3M:()=>Ze,g9A:()=>jv,h0i:()=>Pc,hGG:()=>E0,hij:()=>nu,ifc:()=>Q,ip1:()=>Hv,kL8:()=>nm,lG2:()=>el,lcZ:()=>Cm,lqb:()=>Bo,lri:()=>Zv,n5z:()=>va,oAB:()=>_s,oxw:()=>ny,q4F:()=>d_,qLn:()=>lc,qOj:()=>Og,qZA:()=>Gd,rWj:()=>zm,sBO:()=>c0,s_b:()=>af,soG:()=>Ef,uIk:()=>Lh,vHH:()=>se,vpe:()=>ps,wAp:()=>lt,xp6:()=>og,ynx:()=>Wd,zSh:()=>nc,zs3:()=>$l});var f=O(7579),J=O(727),N=O(8306),re=O(266),ee=O(3099);function ne(n){for(let i in n)if(n[i]===ne)return i;throw Error("Could not find renamed property on target object.")}function ge(n,i){for(const s in i)i.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=i[s])}function oe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(oe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function ue(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const B=ne({__forward_ref__:ne});function U(n){return n.__forward_ref__=U,n.toString=function(){return oe(this())},n}function K(n){return je(n)?n():n}function je(n){return"function"==typeof n&&n.hasOwnProperty(B)&&n.__forward_ref__===U}function Ae(n){return n&&!!n.\u0275providers}class se extends Error{constructor(i,s){super(we(i,s)),this.code=i}}function we(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function _e(n){return"string"==typeof n?n:null==n?"":String(n)}function Le(n,i){throw new se(-201,!1)}function Je(n,i){null==n&&function ze(n,i,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${i} <=Actual]`))}(i,n,null,"!=")}function it(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Wt(n){return{providers:n.providers||[],imports:n.imports||[]}}function $t(n){return Qn(n,Gr)||Qn(n,Xt)}function Qn(n,i){return n.hasOwnProperty(i)?n[i]:null}function Jn(n){return n&&(n.hasOwnProperty(Wr)||n.hasOwnProperty(jn))?n[Wr]:null}const Gr=ne({\u0275prov:ne}),Wr=ne({\u0275inj:ne}),Xt=ne({ngInjectableDef:ne}),jn=ne({ngInjectorDef:ne});var tt=(()=>((tt=tt||{})[tt.Default=0]="Default",tt[tt.Host=1]="Host",tt[tt.Self=2]="Self",tt[tt.SkipSelf=4]="SkipSelf",tt[tt.Optional=8]="Optional",tt))();let Wi;function dn(n){const i=Wi;return Wi=n,i}function Dn(n,i,s){const a=$t(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&tt.Optional?null:void 0!==i?i:void Le(oe(n))}const yt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ln={},pn="__NG_DI_FLAG__",gn="ngTempTokenPath",Rn="ngTokenPath",ro=/\n/gm,Gt="\u0275",Di="__source";let Nt;function Ir(n){const i=Nt;return Nt=n,i}function wr(n,i=tt.Default){if(void 0===Nt)throw new se(-203,!1);return null===Nt?Dn(n,void 0,i):Nt.get(n,i&tt.Optional?null:void 0,i)}function Ne(n,i=tt.Default){return(function ri(){return Wi}()||wr)(K(n),i)}function Ze(n,i=tt.Default){return Ne(n,ft(i))}function ft(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function st(n){const i=[];for(let s=0;s<n.length;s++){const a=K(n[s]);if(Array.isArray(a)){if(0===a.length)throw new se(900,!1);let u,h=tt.Default;for(let m=0;m<a.length;m++){const v=a[m],E=on(v);"number"==typeof E?-1===E?u=v.token:h|=E:u=v}i.push(Ne(u,h))}else i.push(Ne(a))}return i}function Ot(n,i){return n[pn]=i,n.prototype[pn]=i,n}function on(n){return n[pn]}function $(n){return{toString:n}.toString()}var le=(()=>((le=le||{})[le.OnPush=0]="OnPush",le[le.Default=1]="Default",le))(),Q=(()=>{return(n=Q||(Q={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Q;var n})();const qe={},Ue=[],Bt=ne({\u0275cmp:ne}),mn=ne({\u0275dir:ne}),an=ne({\u0275pipe:ne}),en=ne({\u0275mod:ne}),bt=ne({\u0275fac:ne}),Xn=ne({__NG_ELEMENT_ID__:ne});let zr=0;function io(n){return $(()=>{const i=er(n),s={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===le.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Q.Emulated,id:"c"+zr++,styles:n.styles||Ue,_:null,schemas:n.schemas||null,tView:null};ea(s);const a=n.dependencies;return s.directiveDefs=sr(a,!1),s.pipeDefs=sr(a,!0),s})}function Xo(n){return kt(n)||_n(n)}function Xa(n){return null!==n}function _s(n){return $(()=>({type:n.type,bootstrap:n.bootstrap||Ue,declarations:n.declarations||Ue,imports:n.imports||Ue,exports:n.exports||Ue,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ys(n,i){if(null==n)return qe;const s={};for(const a in n)if(n.hasOwnProperty(a)){let u=n[a],h=u;Array.isArray(u)&&(h=u[1],u=u[0]),s[u]=a,i&&(i[u]=h)}return s}function el(n){return $(()=>{const i=er(n);return ea(i),i})}function tl(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function kt(n){return n[Bt]||null}function _n(n){return n[mn]||null}function bn(n){return n[an]||null}function er(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Ue,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ys(n.inputs,i),outputs:ys(n.outputs)}}function ea(n){n.features?.forEach(i=>i(n))}function sr(n,i){if(!n)return null;const s=i?bn:Xo;return()=>("function"==typeof n?n():n).map(a=>s(a)).filter(Xa)}const Dr=0,Ye=1,vt=2,ht=3,br=4,Zi=5,yn=6,Ti=7,tn=8,ii=9,ta=10,Ct=11,si=12,Ki=13,qi=14,vs=15,Pn=16,Es=17,Yi=18,Nr=19,Cs=20,na=21,St=22,so=1,ra=2,oi=7,Tr=8,Si=9,$n=10;function or(n){return Array.isArray(n)&&"object"==typeof n[so]}function ar(n){return Array.isArray(n)&&!0===n[so]}function nl(n){return 0!=(4&n.flags)}function Is(n){return n.componentOffset>-1}function Or(n){return 1==(1&n.flags)}function vn(n){return!!n.template}function oo(n){return 0!=(256&n[vt])}function lr(n,i){return n.hasOwnProperty(bt)?n[bt]:null}class rl{constructor(i,s,a){this.previousValue=i,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function co(){return yu}function yu(n){return n.type.prototype.ngOnChanges&&(n.setInput=il),li}function li(){const n=sa(this),i=n?.current;if(i){const s=n.previous;if(s===qe)n.previous=i;else for(let a in i)s[a]=i[a];n.current=null,this.ngOnChanges(i)}}function il(n,i,s,a){const u=this.declaredInputs[s],h=sa(n)||function fo(n,i){return n[Ds]=i}(n,{previous:qe,current:null}),m=h.current||(h.current={}),v=h.previous,E=v[u];m[u]=new rl(E&&E.currentValue,i,v===qe),n[a]=i}co.ngInherit=!0;const Ds="__ngSimpleChanges__";function sa(n){return n[Ds]||null}const Ht=function(n,i,s){};function qt(n){for(;Array.isArray(n);)n=n[Dr];return n}function ci(n,i){return qt(i[n])}function Gn(n,i){return qt(i[n.index])}function po(n,i){return n.data[i]}function Kr(n,i){return n[i]}function Tn(n,i){const s=i[n];return or(s)?s:s[Dr]}function go(n){return 64==(64&n[vt])}function qr(n,i){return null==i?null:n[i]}function Ts(n){n[Yi]=0}function Ss(n,i){n[Zi]+=i;let s=n,a=n[ht];for(;null!==a&&(1===i&&1===s[Zi]||-1===i&&0===s[Zi]);)a[Zi]+=i,s=a,a=a[ht]}const at={lFrame:Af(null),bindingsEnabled:!0};function ua(){return at.bindingsEnabled}function ve(){return at.lFrame.lView}function Mt(){return at.lFrame.tView}function ca(n){return at.lFrame.contextLView=n,n[tn]}function As(n){return at.lFrame.contextLView=null,n}function Sn(){let n=al();for(;null!==n&&64===n.type;)n=n.parent;return n}function al(){return at.lFrame.currentTNode}function ur(n,i){const s=at.lFrame;s.currentTNode=n,s.isParent=i}function Cu(){return at.lFrame.isParent}function xs(){at.lFrame.isParent=!1}function yo(){return at.lFrame.bindingIndex++}function Yr(n){const i=at.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,s}function zc(n,i){const s=at.lFrame;s.bindingIndex=s.bindingRootIndex=n,fa(i)}function fa(n){at.lFrame.currentDirectiveIndex=n}function Ps(n){at.lFrame.currentQueryIndex=n}function Sf(n){const i=n[Ye];return 2===i.type?i.declTNode:1===i.type?n[yn]:null}function vo(n,i,s){if(s&tt.SkipSelf){let u=i,h=n;for(;!(u=u.parent,null!==u||s&tt.Host||(u=Sf(h),null===u||(h=h[vs],10&u.type))););if(null===u)return!1;i=u,n=h}const a=at.lFrame=bu();return a.currentTNode=i,a.lView=n,!0}function Du(n){const i=bu(),s=n[Ye];at.lFrame=i,i.currentTNode=s.firstChild,i.lView=n,i.tView=s,i.contextLView=n,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function bu(){const n=at.lFrame,i=null===n?null:n.child;return null===i?Af(n):i}function Af(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Eo(){const n=at.lFrame;return at.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Mf=Eo;function pa(){const n=Eo();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Vn(){return at.lFrame.selectedIndex}function Ai(n){at.lFrame.selectedIndex=n}function nn(){const n=at.lFrame;return po(n.tView,n.selectedIndex)}function fl(n,i){for(let s=i.directiveStart,a=i.directiveEnd;s<a;s++){const h=n.data[s].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:E,ngAfterViewChecked:b,ngOnDestroy:M}=h;m&&(n.contentHooks??(n.contentHooks=[])).push(-s,m),v&&((n.contentHooks??(n.contentHooks=[])).push(s,v),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(s,v)),E&&(n.viewHooks??(n.viewHooks=[])).push(-s,E),b&&((n.viewHooks??(n.viewHooks=[])).push(s,b),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(s,b)),null!=M&&(n.destroyHooks??(n.destroyHooks=[])).push(s,M)}}function Tu(n,i,s){Mi(n,i,3,s)}function hl(n,i,s,a){(3&n[vt])===s&&Mi(n,i,s,a)}function Co(n,i){let s=n[vt];(3&s)===i&&(s&=2047,s+=1,n[vt]=s)}function Mi(n,i,s,a){const h=a??-1,m=i.length-1;let v=0;for(let E=void 0!==a?65535&n[Yi]:0;E<m;E++)if("number"==typeof i[E+1]){if(v=i[E],null!=a&&v>=a)break}else i[E]<0&&(n[Yi]+=65536),(v<h||-1==h)&&(Pf(n,s,i,E),n[Yi]=(4294901760&n[Yi])+E+2),E++}function Pf(n,i,s,a){const u=s[a]<0,h=s[a+1],v=n[u?-s[a]:s[a]];if(u){if(n[vt]>>11<n[Yi]>>16&&(3&n[vt])===i){n[vt]+=2048,Ht(4,v,h);try{h.call(v)}finally{Ht(5,v,h)}}}else{Ht(4,v,h);try{h.call(v)}finally{Ht(5,v,h)}}}const Qr=-1;class ga{constructor(i,s,a){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Do(n,i,s){let a=0;for(;a<s.length;){const u=s[a];if("number"==typeof u){if(0!==u)break;a++;const h=s[a++],m=s[a++],v=s[a++];n.setAttribute(i,m,v,h)}else{const h=u,m=s[++a];ks(h)?n.setProperty(i,h,m):n.setAttribute(i,h,m),a++}}return a}function Os(n){return 3===n||4===n||6===n}function ks(n){return 64===n.charCodeAt(0)}function Jr(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let s=-1;for(let a=0;a<i.length;a++){const u=i[a];"number"==typeof u?s=u:0===s||es(n,s,u,null,-1===s||2===s?i[++a]:null)}}return n}function es(n,i,s,a,u){let h=0,m=n.length;if(-1===i)m=-1;else for(;h<n.length;){const v=n[h++];if("number"==typeof v){if(v===i){m=-1;break}if(v>i){m=h-1;break}}}for(;h<n.length;){const v=n[h];if("number"==typeof v)break;if(v===s){if(null===a)return void(null!==u&&(n[h+1]=u));if(a===n[h+1])return void(n[h+2]=u)}h++,null!==a&&h++,null!==u&&h++}-1!==m&&(n.splice(m,0,i),h=m+1),n.splice(h++,0,s),null!==a&&n.splice(h++,0,a),null!==u&&n.splice(h++,0,u)}function ml(n){return n!==Qr}function ts(n){return 32767&n}function Fs(n,i){let s=function Su(n){return n>>16}(n),a=i;for(;s>0;)a=a[vs],s--;return a}let ma=!0;function Ls(n){const i=ma;return ma=n,i}const xi=255,Au=5;let Sr=0;const Ar={};function di(n,i){const s=Qt(n,i);if(-1!==s)return s;const a=i[Ye];a.firstCreatePass&&(n.injectorIndex=i.length,Vs(a.data,n),Vs(i,null),Vs(a.blueprint,null));const u=Bs(n,i),h=n.injectorIndex;if(ml(u)){const m=ts(u),v=Fs(u,i),E=v[Ye].data;for(let b=0;b<8;b++)i[h+b]=v[m+b]|E[m+b]}return i[h+8]=u,h}function Vs(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Qt(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Bs(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,u=i;for(;null!==u;){if(a=Cl(u),null===a)return Qr;if(s++,u=u[vs],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return Qr}function ns(n,i,s){!function _l(n,i,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Xn)&&(a=s[Xn]),null==a&&(a=s[Xn]=Sr++);const u=a&xi;i.data[n+(u>>Au)]|=1<<u}(n,i,s)}function rs(n,i,s){if(s&tt.Optional||void 0!==n)return n;Le()}function Mu(n,i,s,a){if(s&tt.Optional&&void 0===a&&(a=null),!(s&(tt.Self|tt.Host))){const u=n[ii],h=dn(void 0);try{return u?u.get(i,a,s&tt.Optional):Dn(i,a,s&tt.Optional)}finally{dn(h)}}return rs(a,0,s)}function _a(n,i,s,a=tt.Default,u){if(null!==n){if(1024&i[vt]){const m=function Ea(n,i,s,a,u){let h=n,m=i;for(;null!==h&&null!==m&&1024&m[vt]&&!(256&m[vt]);){const v=yl(h,m,s,a|tt.Self,Ar);if(v!==Ar)return v;let E=h.parent;if(!E){const b=m[na];if(b){const M=b.get(s,Ar,a);if(M!==Ar)return M}E=Cl(m),m=m[vs]}h=E}return u}(n,i,s,a,Ar);if(m!==Ar)return m}const h=yl(n,i,s,a,Ar);if(h!==Ar)return h}return Mu(i,s,a,u)}function yl(n,i,s,a,u){const h=function fi(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Xn)?n[Xn]:void 0;return"number"==typeof i?i>=0?i&xi:ya:i}(s);if("function"==typeof h){if(!vo(i,n,a))return a&tt.Host?rs(u,0,a):Mu(i,s,a,u);try{const m=h(a);if(null!=m||a&tt.Optional)return m;Le()}finally{Mf()}}else if("number"==typeof h){let m=null,v=Qt(n,i),E=Qr,b=a&tt.Host?i[Pn][yn]:null;for((-1===v||a&tt.SkipSelf)&&(E=-1===v?Bs(n,i):i[v+8],E!==Qr&&vl(a,!1)?(m=i[Ye],v=ts(E),i=Fs(E,i)):v=-1);-1!==v;){const M=i[Ye];if(bo(h,v,M.data)){const k=Fr(v,i,s,m,a,b);if(k!==Ar)return k}E=i[v+8],E!==Qr&&vl(a,i[Ye].data[v+8]===b)&&bo(h,v,i)?(m=M,v=ts(E),i=Fs(E,i)):v=-1}}return u}function Fr(n,i,s,a,u,h){const m=i[Ye],v=m.data[n+8],M=function is(n,i,s,a,u){const h=n.providerIndexes,m=i.data,v=1048575&h,E=n.directiveStart,M=h>>20,j=u?v+M:n.directiveEnd;for(let Y=a?v:v+M;Y<j;Y++){const ce=m[Y];if(Y<E&&s===ce||Y>=E&&ce.type===s)return Y}if(u){const Y=m[E];if(Y&&vn(Y)&&Y.type===s)return E}return null}(v,m,s,null==a?Is(v)&&ma:a!=m&&0!=(3&v.type),u&tt.Host&&h===v);return null!==M?Ri(i,m,M,v):Ar}function Ri(n,i,s,a){let u=n[s];const h=i.data;if(function qc(n){return n instanceof ga}(u)){const m=u;m.resolving&&function Te(n,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new se(-200,`Circular dependency in DI detected for ${n}${s}`)}(function Me(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():_e(n)}(h[s]));const v=Ls(m.canSeeViewProviders);m.resolving=!0;const E=m.injectImpl?dn(m.injectImpl):null;vo(n,a,tt.Default);try{u=n[s]=m.factory(void 0,h,n,a),i.firstCreatePass&&s>=a.directiveStart&&function Kc(n,i,s){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:h}=i.type.prototype;if(a){const m=yu(i);(s.preOrderHooks??(s.preOrderHooks=[])).push(n,m),(s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(n,m)}u&&(s.preOrderHooks??(s.preOrderHooks=[])).push(0-n,u),h&&((s.preOrderHooks??(s.preOrderHooks=[])).push(n,h),(s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(n,h))}(s,h[s],i)}finally{null!==E&&dn(E),Ls(v),m.resolving=!1,Mf()}}return u}function bo(n,i,s){return!!(s[i+(n>>Au)]&1<<n)}function vl(n,i){return!(n&tt.Self||n&tt.Host&&i)}class Bn{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,a){return _a(this._tNode,this._lView,i,ft(a),s)}}function ya(){return new Bn(Sn(),ve())}function va(n){return $(()=>{const i=n.prototype.constructor,s=i[bt]||El(i),a=Object.prototype;let u=Object.getPrototypeOf(n.prototype).constructor;for(;u&&u!==a;){const h=u[bt]||El(u);if(h&&h!==s)return h;u=Object.getPrototypeOf(u)}return h=>new h})}function El(n){return je(n)?()=>{const i=El(K(n));return i&&i()}:lr(n)}function Cl(n){const i=n[Ye],s=i.type;return 2===s?i.declTNode:1===s?n[yn]:null}function Ca(n){return function Qc(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const s=n.attrs;if(s){const a=s.length;let u=0;for(;u<a;){const h=s[u];if(Os(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<a&&"string"==typeof s[u];)u++;else{if(h===i)return s[u+1];u+=2}}}return null}(Sn(),n)}const Hs="__parameters__";function To(n,i,s){return $(()=>{const a=function Jc(n){return function(...s){if(n){const a=n(...s);for(const u in a)this[u]=a[u]}}}(i);function u(...h){if(this instanceof u)return a.apply(this,h),this;const m=new u(...h);return v.annotation=m,v;function v(E,b,M){const k=E.hasOwnProperty(Hs)?E[Hs]:Object.defineProperty(E,Hs,{value:[]})[Hs];for(;k.length<=M;)k.push(null);return(k[M]=k[M]||[]).push(m),E}}return s&&(u.prototype=Object.create(s.prototype)),u.prototype.ngMetadataName=n,u.annotationCls=u,u})}class jt{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=it({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ni(n,i){n.forEach(s=>Array.isArray(s)?Ni(s,i):i(s))}function nd(n,i,s){i>=n.length?n.push(s):n.splice(i,0,s)}function Ao(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Nn(n,i,s){let a=Br(n,i);return a>=0?n[1|a]=s:(a=~a,function Mo(n,i,s,a){let u=n.length;if(u==i)n.push(s,a);else if(1===u)n.push(a,n[0]),n[0]=s;else{for(u--,n.push(n[u-1],n[u]);u>i;)n[u]=n[u-2],u--;n[i]=s,n[i+1]=a}}(n,a,i,s)),a}function Vr(n,i){const s=Br(n,i);if(s>=0)return n[1|s]}function Br(n,i){return function wl(n,i,s){let a=0,u=n.length>>s;for(;u!==a;){const h=a+(u-a>>1),m=n[h<<s];if(i===m)return h<<s;m>i?u=h:a=h+1}return~(u<<s)}(n,i,1)}const Ta=Ot(To("Optional"),8),hi=Ot(To("SkipSelf"),4);var Ur=(()=>((Ur=Ur||{})[Ur.Important=1]="Important",Ur[Ur.DashCase=2]="DashCase",Ur))();const ku=new Map;let kp=0;const Zs="__ngContext__";function tr(n,i){or(i)?(n[Zs]=i[Cs],function Lp(n){ku.set(n[Cs],n)}(i)):n[Zs]=i}let Ra;function Bu(n,i){return Ra(n,i)}function ko(n){const i=n[ht];return ar(i)?i[ht]:i}function Pa(n){return Hu(n[Ki])}function Na(n){return Hu(n[br])}function Hu(n){for(;null!==n&&!ar(n);)n=n[br];return n}function Oa(n,i,s,a,u){if(null!=a){let h,m=!1;ar(a)?h=a:or(a)&&(m=!0,a=a[Dr]);const v=qt(a);0===n&&null!==s?null==u?zu(i,s,v):Mr(i,s,v,u||null,!0):1===n&&null!==s?Mr(i,s,v,u||null,!0):2===n?function Yu(n,i,s){const a=Fi(n,i);a&&function Wp(n,i,s,a){n.removeChild(i,s,a)}(n,a,i,s)}(i,v,m):3===n&&i.destroyNode(v),null!=h&&function Qf(n,i,s,a,u){const h=s[oi];h!==qt(s)&&Oa(i,n,a,h,u);for(let v=$n;v<s.length;v++){const E=s[v];ka(E[Ye],E,n,i,a,h)}}(i,n,h,s,u)}}function ju(n,i,s){return n.createElement(i,s)}function $f(n,i){const s=n[Si],a=s.indexOf(i),u=i[ht];512&i[vt]&&(i[vt]&=-513,Ss(u,-1)),s.splice(a,1)}function Rl(n,i){if(n.length<=$n)return;const s=$n+i,a=n[s];if(a){const u=a[Es];null!==u&&u!==n&&$f(u,a),i>0&&(n[s-1][br]=a[br]);const h=Ao(n,$n+i);!function Hp(n,i){ka(n,i,i[Ct],2,null,null),i[Dr]=null,i[yn]=null}(a[Ye],a);const m=h[Nr];null!==m&&m.detachView(h[Ye]),a[ht]=null,a[br]=null,a[vt]&=-65}return a}function Gf(n,i){if(!(128&i[vt])){const s=i[Ct];s.destroyNode&&ka(n,i,s,3,null,null),function jf(n){let i=n[Ki];if(!i)return $u(n[Ye],n);for(;i;){let s=null;if(or(i))s=i[Ki];else{const a=i[$n];a&&(s=a)}if(!s){for(;i&&!i[br]&&i!==n;)or(i)&&$u(i[Ye],i),i=i[ht];null===i&&(i=n),or(i)&&$u(i[Ye],i),s=i&&i[br]}i=s}}(i)}}function $u(n,i){if(!(128&i[vt])){i[vt]&=-65,i[vt]|=128,function Gp(n,i){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const u=i[s[a]];if(!(u instanceof ga)){const h=s[a+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const v=u[h[m]],E=h[m+1];Ht(4,v,E);try{E.call(v)}finally{Ht(5,v,E)}}else{Ht(4,u,h);try{h.call(u)}finally{Ht(5,u,h)}}}}}(n,i),function Gu(n,i){const s=n.cleanup,a=i[Ti];let u=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const m=s[h+3];m>=0?a[u=m]():a[u=-m].unsubscribe(),h+=2}else{const m=a[u=s[h+1]];s[h].call(m)}if(null!==a){for(let h=u+1;h<a.length;h++)(0,a[h])();i[Ti]=null}}(n,i),1===i[Ye].type&&i[Ct].destroy();const s=i[Es];if(null!==s&&ar(i[ht])){s!==i[ht]&&$f(s,i);const a=i[Nr];null!==a&&a.detachView(n)}!function Vp(n){ku.delete(n[Cs])}(i)}}function Wf(n,i,s){return function Wu(n,i,s){let a=i;for(;null!==a&&40&a.type;)a=(i=a).parent;if(null===a)return s[Dr];{const{componentOffset:u}=a;if(u>-1){const{encapsulation:h}=n.data[a.directiveStart+u];if(h===Q.None||h===Q.Emulated)return null}return Gn(a,s)}}(n,i.parent,s)}function Mr(n,i,s,a,u){n.insertBefore(i,s,a,u)}function zu(n,i,s){n.appendChild(i,s)}function zf(n,i,s,a,u){null!==a?Mr(n,i,s,a,u):zu(n,i,s)}function Fi(n,i){return n.parentNode(i)}let Pl,Ed,Ku=function Kf(n,i,s){return 40&n.type?Gn(n,s):null};function Nl(n,i,s,a){const u=Wf(n,a,i),h=i[Ct],v=function Zf(n,i,s){return Ku(n,i,s)}(a.parent||i[yn],a,i);if(null!=u)if(Array.isArray(s))for(let E=0;E<s.length;E++)zf(h,u,s[E],v,!1);else zf(h,u,s,v,!1);void 0!==Pl&&Pl(h,a,i,s,u)}function Fo(n,i){if(null!==i){const s=i.type;if(3&s)return Gn(i,n);if(4&s)return yd(-1,n[i.index]);if(8&s){const a=i.child;if(null!==a)return Fo(n,a);{const u=n[i.index];return ar(u)?yd(-1,u):qt(u)}}if(32&s)return Bu(i,n)()||qt(n[i.index]);{const a=_d(n,i);return null!==a?Array.isArray(a)?a[0]:Fo(ko(n[Pn]),a):Fo(n,i.next)}}return null}function _d(n,i){return null!==i?n[Pn][yn].projection[i.projection]:null}function yd(n,i){const s=$n+n+1;if(s<i.length){const a=i[s],u=a[Ye].firstChild;if(null!==u)return Fo(a,u)}return i[oi]}function Ol(n,i,s,a,u,h,m){for(;null!=s;){const v=a[s.index],E=s.type;if(m&&0===i&&(v&&tr(qt(v),a),s.flags|=2),32!=(32&s.flags))if(8&E)Ol(n,i,s.child,a,u,h,!1),Oa(i,n,u,v,h);else if(32&E){const b=Bu(s,a);let M;for(;M=b();)Oa(i,n,u,M,h);Oa(i,n,u,v,h)}else 16&E?Yf(n,i,a,s,u,h):Oa(i,n,u,v,h);s=m?s.projectionNext:s.next}}function ka(n,i,s,a,u,h){Ol(s,a,n.firstChild,i,u,h,!1)}function Yf(n,i,s,a,u,h){const m=s[Pn],E=m[yn].projection[a.projection];if(Array.isArray(E))for(let b=0;b<E.length;b++)Oa(i,n,u,E[b],h);else Ol(n,i,E,m[ht],u,h,!0)}function La(n,i,s){""===s?n.removeAttribute(i,"class"):n.setAttribute(i,"class",s)}function vd(n,i,s){const{mergedAttrs:a,classes:u,styles:h}=s;null!==a&&Do(n,i,a),null!==u&&La(n,i,u),null!==h&&function Jf(n,i,s){n.setAttribute(i,"style",s)}(n,i,h)}function Lo(n){Ed=n}class mr{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Vi(n){return n instanceof mr?n.changingThisBreaksApplicationSecurity:n}const ec=new jt("ENVIRONMENT_INITIALIZER"),tc=new jt("INJECTOR",-1),r_=new jt("INJECTOR_DEF_TYPES");class ah{get(i,s=Ln){if(s===Ln){const a=new Error(`NullInjectorError: No provider for ${oe(i)}!`);throw a.name="NullInjectorError",a}return s}}function wd(n){return{\u0275providers:n}}function fE(...n){return{\u0275providers:Dd(0,n),\u0275fromNgModule:!0}}function Dd(n,...i){const s=[],a=new Set;let u;return Ni(i,h=>{const m=h;Qp(m,s,[],a)&&(u||(u=[]),u.push(m))}),void 0!==u&&i_(u,s),s}function i_(n,i){for(let s=0;s<n.length;s++){const{providers:u}=n[s];bd(u,h=>{i.push(h)})}}function Qp(n,i,s,a){if(!(n=K(n)))return!1;let u=null,h=Jn(n);const m=!h&&kt(n);if(h||m){if(m&&!m.standalone)return!1;u=n}else{const E=n.ngModule;if(h=Jn(E),!h)return!1;u=E}const v=a.has(u);if(m){if(v)return!1;if(a.add(u),m.dependencies){const E="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const b of E)Qp(b,i,s,a)}}else{if(!h)return!1;{if(null!=h.imports&&!v){let b;a.add(u);try{Ni(h.imports,M=>{Qp(M,i,s,a)&&(b||(b=[]),b.push(M))})}finally{}void 0!==b&&i_(b,i)}if(!v){const b=lr(u)||(()=>new u);i.push({provide:u,useFactory:b,deps:Ue},{provide:r_,useValue:u,multi:!0},{provide:ec,useValue:()=>Ne(u),multi:!0})}const E=h.providers;null==E||v||bd(E,M=>{i.push(M)})}}return u!==n&&void 0!==n.providers}function bd(n,i){for(let s of n)Ae(s)&&(s=s.\u0275providers),Array.isArray(s)?bd(s,i):i(s)}const hE=ne({provide:String,useValue:ne});function Td(n){return null!==n&&"object"==typeof n&&hE in n}function Ha(n){return"function"==typeof n}const nc=new jt("Set Injector scope."),lh={},uh={};let ja;function rc(){return void 0===ja&&(ja=new ah),ja}class Bo{}class a_ extends Bo{get destroyed(){return this._destroyed}constructor(i,s,a,u){super(),this.parent=s,this.source=a,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ad(i,m=>this.processProvider(m)),this.records.set(tc,ic(void 0,this)),u.has("environment")&&this.records.set(Bo,ic(void 0,this));const h=this.records.get(nc);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(r_.multi,Ue,tt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const s=Ir(this),a=dn(void 0);try{return i()}finally{Ir(s),dn(a)}}get(i,s=Ln,a=tt.Default){this.assertNotDestroyed(),a=ft(a);const u=Ir(this),h=dn(void 0);try{if(!(a&tt.SkipSelf)){let v=this.records.get(i);if(void 0===v){const E=function eg(n){return"function"==typeof n||"object"==typeof n&&n instanceof jt}(i)&&$t(i);v=E&&this.injectableDefInScope(E)?ic(Jp(i),lh):null,this.records.set(i,v)}if(null!=v)return this.hydrate(i,v)}return(a&tt.Self?rc():this.parent).get(i,s=a&tt.Optional&&s===Ln?null:s)}catch(m){if("NullInjectorError"===m.name){if((m[gn]=m[gn]||[]).unshift(oe(i)),u)throw m;return function L(n,i,s,a){const u=n[gn];throw i[Di]&&u.unshift(i[Di]),n.message=function F(n,i,s,a=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Gt?n.slice(2):n;let u=oe(i);if(Array.isArray(i))u=i.map(oe).join(" -> ");else if("object"==typeof i){let h=[];for(let m in i)if(i.hasOwnProperty(m)){let v=i[m];h.push(m+":"+("string"==typeof v?JSON.stringify(v):oe(v)))}u=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${u}]: ${n.replace(ro,"\n  ")}`}("\n"+n.message,u,s,a),n[Rn]=u,n[gn]=null,n}(m,i,"R3InjectorError",this.source)}throw m}finally{dn(h),Ir(u)}}resolveInjectorInitializers(){const i=Ir(this),s=dn(void 0);try{const a=this.get(ec.multi,Ue,tt.Self);for(const u of a)u()}finally{Ir(i),dn(s)}}toString(){const i=[],s=this.records;for(const a of s.keys())i.push(oe(a));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new se(205,!1)}processProvider(i){let s=Ha(i=K(i))?i:K(i&&i.provide);const a=function pE(n){return Td(n)?ic(void 0,n.useValue):ic(u_(n),lh)}(i);if(Ha(i)||!0!==i.multi)this.records.get(s);else{let u=this.records.get(s);u||(u=ic(void 0,lh,!0),u.factory=()=>st(u.multi),this.records.set(s,u)),s=i,u.multi.push(i)}this.records.set(s,a)}hydrate(i,s){return s.value===lh&&(s.value=uh,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Xp(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=K(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function Jp(n){const i=$t(n),s=null!==i?i.factory:lr(n);if(null!==s)return s;if(n instanceof jt)throw new se(204,!1);if(n instanceof Function)return function l_(n){const i=n.length;if(i>0)throw function js(n,i){const s=[];for(let a=0;a<n;a++)s.push(i);return s}(i,"?"),new se(204,!1);const s=function Hn(n){const i=n&&(n[Gr]||n[Xt]);return i?(function Gi(n){if(n.hasOwnProperty("name"))return n.name;(""+n).match(/^function\s*([^\s(]+)/)}(n),i):null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new se(204,!1)}function u_(n,i,s){let a;if(Ha(n)){const u=K(n);return lr(u)||Jp(u)}if(Td(n))a=()=>K(n.useValue);else if(function Sd(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...st(n.deps||[]));else if(function s_(n){return!(!n||!n.useExisting)}(n))a=()=>Ne(K(n.useExisting));else{const u=K(n&&(n.useClass||n.provide));if(!function Bi(n){return!!n.deps}(n))return lr(u)||Jp(u);a=()=>new u(...st(n.deps))}return a}function ic(n,i,s=!1){return{factory:n,value:i,multi:s?[]:void 0}}function Ad(n,i){for(const s of n)Array.isArray(s)?Ad(s,i):s&&Ae(s)?Ad(s.\u0275providers,i):i(s)}class ch{}class sc{}class gE{resolveComponentFactory(i){throw function Vl(n){const i=Error(`No component factory found for ${oe(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let dh=(()=>{class n{}return n.NULL=new gE,n})();function Md(){return oc(Sn(),ve())}function oc(n,i){return new xd(Gn(n,i))}let xd=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=Md,n})();class ac{}let c_=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function hh(){const n=ve(),s=Tn(Sn().index,n);return(or(s)?s:n)[Ct]}(),n})(),Hl=(()=>{class n{}return n.\u0275prov=it({token:n,providedIn:"root",factory:()=>null}),n})();class ph{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const d_=new ph("15.2.7"),Kt={},mi="ngOriginalError";function Pd(n){return n[mi]}class lc{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&Pd(i);for(;s&&Pd(s);)s=Pd(s);return s||null}}function rg(n,i,s){let a=n.length;for(;;){const u=n.indexOf(i,s);if(-1===u)return u;if(0===u||n.charCodeAt(u-1)<=32){const h=i.length;if(u+h===a||n.charCodeAt(u+h)<=32)return u}s=u+1}}const ig="ng-template";function yE(n,i,s){let a=0,u=!0;for(;a<n.length;){let h=n[a++];if("string"==typeof h&&u){const m=n[a++];if(s&&"class"===h&&-1!==rg(m.toLowerCase(),i,0))return!0}else{if(1===h){for(;a<n.length&&"string"==typeof(h=n[a++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(u=!1)}}return!1}function g_(n){return 4===n.type&&n.value!==ig}function vE(n,i,s){return i===(4!==n.type||s?n.value:ig)}function EE(n,i,s){let a=4;const u=n.attrs||[],h=function m_(n){for(let i=0;i<n.length;i++)if(Os(n[i]))return i;return n.length}(u);let m=!1;for(let v=0;v<i.length;v++){const E=i[v];if("number"!=typeof E){if(!m)if(4&a){if(a=2|1&a,""!==E&&!vE(n,E,s)||""===E&&1===i.length){if(cs(a))return!1;m=!0}}else{const b=8&a?E:i[++v];if(8&a&&null!==n.attrs){if(!yE(n.attrs,b,s)){if(cs(a))return!1;m=!0}continue}const k=CE(8&a?"class":E,u,g_(n),s);if(-1===k){if(cs(a))return!1;m=!0;continue}if(""!==b){let j;j=k>h?"":u[k+1].toLowerCase();const Y=8&a?j:null;if(Y&&-1!==rg(Y,b,0)||2&a&&b!==j){if(cs(a))return!1;m=!0}}}}else{if(!m&&!cs(a)&&!cs(E))return!1;if(m&&cs(E))continue;m=!1,a=E|1&a}}return cs(a)||m}function cs(n){return 0==(1&n)}function CE(n,i,s,a){if(null===i)return-1;let u=0;if(a||!s){let h=!1;for(;u<i.length;){const m=i[u];if(m===n)return u;if(3===m||6===m)h=!0;else{if(1===m||2===m){let v=i[++u];for(;"string"==typeof v;)v=i[++u];continue}if(4===m)break;if(0===m){u+=4;continue}}u+=h?1:2}return-1}return function gh(n,i){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===i)return s;s++}return-1}(i,n)}function Nd(n,i,s=!1){for(let a=0;a<i.length;a++)if(EE(n,i[a],s))return!0;return!1}function mh(n,i){return n?":not("+i.trim()+")":i}function __(n){let i=n[0],s=1,a=2,u="",h=!1;for(;s<n.length;){let m=n[s];if("string"==typeof m)if(2&a){const v=n[++s];u+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?u+="."+m:4&a&&(u+=" "+m);else""!==u&&!cs(m)&&(i+=mh(h,u),u=""),a=m,h=h||!cs(a);s++}return""!==u&&(i+=mh(h,u)),i}const Dt={};function og(n){_h(Mt(),ve(),Vn()+n,!1)}function _h(n,i,s,a){if(!a)if(3==(3&i[vt])){const h=n.preOrderCheckHooks;null!==h&&Tu(i,h,s)}else{const h=n.preOrderHooks;null!==h&&hl(i,h,0,s)}Ai(s)}function lg(n,i=null,s=null,a){const u=yh(n,i,s,a);return u.resolveInjectorInitializers(),u}function yh(n,i=null,s=null,a,u=new Set){const h=[s||Ue,fE(n)];return a=a||("object"==typeof n?void 0:oe(n)),new a_(h,i||rc(),a||null,u)}let $l=(()=>{class n{static create(s,a){if(Array.isArray(s))return lg({name:""},a,s,"");{const u=s.name??"";return lg({name:u},s.parent,s.providers,u)}}}return n.THROW_IF_NOT_FOUND=Ln,n.NULL=new ah,n.\u0275prov=it({token:n,providedIn:"any",factory:()=>Ne(tc)}),n.__NG_ELEMENT_ID__=-1,n})();function Wl(n,i=tt.Default){const s=ve();return null===s?Ne(n,i):_a(Sn(),s,K(n),i)}function Go(n,i){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const h=s[a+1];if(-1!==h){const m=n.data[h];Ps(s[a]),m.contentQueries(2,i[h],h)}}}function Ch(n,i,s,a,u,h,m,v,E,b,M){const k=i.blueprint.slice();return k[Dr]=u,k[vt]=76|a,(null!==M||n&&1024&n[vt])&&(k[vt]|=1024),Ts(k),k[ht]=k[vs]=n,k[tn]=s,k[ta]=m||n&&n[ta],k[Ct]=v||n&&n[Ct],k[si]=E||n&&n[si]||null,k[ii]=b||n&&n[ii]||null,k[yn]=h,k[Cs]=function Fp(){return kp++}(),k[na]=M,k[Pn]=2==i.type?n[Pn]:k,k}function dc(n,i,s,a,u){let h=n.data[i];if(null===h)h=function fc(n,i,s,a,u){const h=al(),m=Cu(),E=n.data[i]=function Cg(n,i,s,a,u,h){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,s,i,a,u);return null===n.firstChild&&(n.firstChild=E),null!==h&&(m?null==h.child&&null!==E.parent&&(h.child=E):null===h.next&&(h.next=E,E.prev=h)),E}(n,i,s,a,u),function Rs(){return at.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=s,h.value=a,h.attrs=u;const m=function Ms(){const n=at.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return ur(h,!0),h}function hc(n,i,s,a){if(0===s)return-1;const u=i.length;for(let h=0;h<s;h++)i.push(a),n.blueprint.push(a),n.data.push(null);return u}function yg(n,i,s){Du(i);try{const a=n.viewQuery;null!==a&&Mh(1,a,s);const u=n.template;null!==u&&Fd(n,i,u,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Go(n,i),n.staticViewQueries&&Mh(2,n.viewQuery,s);const h=n.components;null!==h&&function LE(n,i){for(let s=0;s<i.length;s++)P_(n,i[s])}(i,h)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{i[vt]&=-5,pa()}}function pc(n,i,s,a){const u=i[vt];if(128!=(128&u)){Du(i);try{Ts(i),function _o(n){return at.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Fd(n,i,s,2,a);const m=3==(3&u);if(m){const b=n.preOrderCheckHooks;null!==b&&Tu(i,b,null)}else{const b=n.preOrderHooks;null!==b&&hl(i,b,0,null),Co(i,0)}if(function GE(n){for(let i=Pa(n);null!==i;i=Na(i)){if(!i[ra])continue;const s=i[Si];for(let a=0;a<s.length;a++){const u=s[a];512&u[vt]||Ss(u[ht],1),u[vt]|=512}}}(i),function $E(n){for(let i=Pa(n);null!==i;i=Na(i))for(let s=$n;s<i.length;s++){const a=i[s],u=a[Ye];go(a)&&pc(u,a,u.template,a[tn])}}(i),null!==n.contentQueries&&Go(n,i),m){const b=n.contentCheckHooks;null!==b&&Tu(i,b)}else{const b=n.contentHooks;null!==b&&hl(i,b,1),Co(i,1)}!function FE(n,i){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const u=s[a];if(u<0)Ai(~u);else{const h=u,m=s[++a],v=s[++a];zc(m,h),v(2,i[h])}}}finally{Ai(-1)}}(n,i);const v=n.components;null!==v&&function kd(n,i){for(let s=0;s<i.length;s++)xg(n,i[s])}(i,v);const E=n.viewQuery;if(null!==E&&Mh(2,E,a),m){const b=n.viewCheckHooks;null!==b&&Tu(i,b)}else{const b=n.viewHooks;null!==b&&hl(i,b,2),Co(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[vt]&=-41,512&i[vt]&&(i[vt]&=-513,Ss(i[ht],-1))}finally{pa()}}}function Fd(n,i,s,a,u){const h=Vn(),m=2&a;try{Ai(-1),m&&i.length>St&&_h(n,i,St,!1),Ht(m?2:0,u),s(a,u)}finally{Ai(h),Ht(m?3:1,u)}}function vg(n,i,s){if(nl(i)){const u=i.directiveEnd;for(let h=i.directiveStart;h<u;h++){const m=n.data[h];m.contentQueries&&m.contentQueries(1,s[h],h)}}}function Ga(n,i,s){ua()&&(function M_(n,i,s,a){const u=s.directiveStart,h=s.directiveEnd;Is(s)&&function Ah(n,i,s){const a=Gn(i,n),u=Eg(s),h=n[ta],m=Wa(n,Ch(n,u,null,s.onPush?32:16,a,i,h,h.createRenderer(a,s),null,null,null));n[i.index]=m}(i,s,n.data[u+s.componentOffset]),n.firstCreatePass||di(s,i),tr(a,i);const m=s.initialInputs;for(let v=u;v<h;v++){const E=n.data[v],b=Ri(i,n,v,s);tr(b,i),null!==m&&Bd(0,v-u,b,E,0,m),vn(E)&&(Tn(s.index,i)[tn]=Ri(i,n,v,s))}}(n,i,s,Gn(s,i)),64==(64&s.flags)&&Sh(n,i,s))}function Ih(n,i,s=Gn){const a=i.localNames;if(null!==a){let u=i.index+1;for(let h=0;h<a.length;h+=2){const m=a[h+1],v=-1===m?s(i,n):n[m];n[u++]=v}}}function Eg(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=wh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function wh(n,i,s,a,u,h,m,v,E,b){const M=St+a,k=M+u,j=function Ld(n,i){const s=[];for(let a=0;a<i;a++)s.push(a<n?null:Dt);return s}(M,k),Y="function"==typeof b?b():b;return j[Ye]={type:n,blueprint:j,template:s,queries:null,viewQuery:v,declTNode:i,data:j.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:E,consts:Y,incompleteFirstPass:!1}}function Th(n,i,s,a){for(let u in n)if(n.hasOwnProperty(u)){s=null===s?{}:s;const h=n[u];null===a?S_(s,i,u,h):a.hasOwnProperty(u)&&S_(s,i,a[u],h)}return s}function S_(n,i,s,a){n.hasOwnProperty(s)?n[s].push(i,a):n[s]=[i,a]}function wg(n,i,s,a){if(ua()){const u=null===a?null:{"":-1},h=function Tg(n,i){const s=n.directiveRegistry;let a=null,u=null;if(s)for(let h=0;h<s.length;h++){const m=s[h];if(Nd(i,m.selectors,!1))if(a||(a=[]),vn(m))if(null!==m.findHostDirectiveDefs){const v=[];u=u||new Map,m.findHostDirectiveDefs(m,v,u),a.unshift(...v,m),gc(n,i,v.length)}else a.unshift(m),gc(n,i,0);else u=u||new Map,m.findHostDirectiveDefs?.(m,a,u),a.push(m)}return null===a?null:[a,u]}(n,s);let m,v;null===h?m=v=null:[m,v]=h,null!==m&&Dg(n,i,s,m,u,v),u&&function zl(n,i,s){if(i){const a=n.localNames=[];for(let u=0;u<i.length;u+=2){const h=s[i[u+1]];if(null==h)throw new se(-301,!1);a.push(i[u],h)}}}(s,a,u)}s.mergedAttrs=Jr(s.mergedAttrs,s.attrs)}function Dg(n,i,s,a,u,h){for(let b=0;b<a.length;b++)ns(di(s,i),n,a[b].type);!function x_(n,i,s){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+s,n.providerIndexes=i}(s,n.data.length,a.length);for(let b=0;b<a.length;b++){const M=a[b];M.providersResolver&&M.providersResolver(M)}let m=!1,v=!1,E=hc(n,i,a.length,null);for(let b=0;b<a.length;b++){const M=a[b];s.mergedAttrs=Jr(s.mergedAttrs,M.hostAttrs),jE(n,s,i,E,M),Sg(E,M,u),null!==M.contentQueries&&(s.flags|=4),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(s.flags|=64);const k=M.type.prototype;!m&&(k.ngOnChanges||k.ngOnInit||k.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(s.index),m=!0),!v&&(k.ngOnChanges||k.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(s.index),v=!0),E++}!function Vd(n,i,s){const u=i.directiveEnd,h=n.data,m=i.attrs,v=[];let E=null,b=null;for(let M=i.directiveStart;M<u;M++){const k=h[M],j=s?s.get(k):null,ce=j?j.outputs:null;E=Th(k.inputs,M,E,j?j.inputs:null),b=Th(k.outputs,M,b,ce);const Ee=null===E||null===m||g_(i)?null:Mg(E,M,m);v.push(Ee)}null!==E&&(E.hasOwnProperty("class")&&(i.flags|=8),E.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=v,i.inputs=E,i.outputs=b}(n,s,h)}function Sh(n,i,s){const a=s.directiveStart,u=s.directiveEnd,h=s.index,m=function cl(){return at.lFrame.currentDirectiveIndex}();try{Ai(h);for(let v=a;v<u;v++){const E=n.data[v],b=i[v];fa(v),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&bg(E,b)}}finally{Ai(-1),fa(m)}}function bg(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function gc(n,i,s){i.componentOffset=s,(n.components??(n.components=[])).push(i.index)}function Sg(n,i,s){if(s){if(i.exportAs)for(let a=0;a<i.exportAs.length;a++)s[i.exportAs[a]]=n;vn(i)&&(s[""]=n)}}function jE(n,i,s,a,u){n.data[a]=u;const h=u.factory||(u.factory=lr(u.type)),m=new ga(h,vn(u),Wl);n.blueprint[a]=m,s[a]=m,function UE(n,i,s,a,u){const h=u.hostBindings;if(h){let m=n.hostBindingOpCodes;null===m&&(m=n.hostBindingOpCodes=[]);const v=~i.index;(function HE(n){let i=n.length;for(;i>0;){const s=n[--i];if("number"==typeof s&&s<0)return s}return 0})(m)!=v&&m.push(v),m.push(s,a,h)}}(n,i,a,hc(n,s,u.hostVars,Dt),u)}function ds(n,i,s,a,u,h){const m=Gn(n,i);!function Ag(n,i,s,a,u,h,m){if(null==h)n.removeAttribute(i,u,s);else{const v=null==m?_e(h):m(h,a||"",u);n.setAttribute(i,u,v,s)}}(i[Ct],m,h,n.value,s,a,u)}function Bd(n,i,s,a,u,h){const m=h[i];if(null!==m){const v=a.setInput;for(let E=0;E<m.length;){const b=m[E++],M=m[E++],k=m[E++];null!==v?a.setInput(s,k,b,M):s[M]=k}}}function Mg(n,i,s){let a=null,u=0;for(;u<s.length;){const h=s[u];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===a&&(a=[]);const m=n[h];for(let v=0;v<m.length;v+=2)if(m[v]===i){a.push(h,m[v+1],s[u+1]);break}}u+=2}else u+=2;else u+=4}return a}function R_(n,i,s,a){return[n,!0,!1,i,null,0,a,s,null,null]}function xg(n,i){const s=Tn(i,n);if(go(s)){const a=s[Ye];48&s[vt]?pc(a,s,a.template,s[tn]):s[Zi]>0&&mc(s)}}function mc(n){for(let a=Pa(n);null!==a;a=Na(a))for(let u=$n;u<a.length;u++){const h=a[u];if(go(h))if(512&h[vt]){const m=h[Ye];pc(m,h,m.template,h[tn])}else h[Zi]>0&&mc(h)}const s=n[Ye].components;if(null!==s)for(let a=0;a<s.length;a++){const u=Tn(s[a],n);go(u)&&u[Zi]>0&&mc(u)}}function P_(n,i){const s=Tn(i,n),a=s[Ye];(function WE(n,i){for(let s=i.length;s<n.blueprint.length;s++)i.push(n.blueprint[s])})(a,s),yg(a,s,s[tn])}function Wa(n,i){return n[Ki]?n[qi][br]=i:n[Ki]=i,n[qi]=i,i}function yi(n){for(;n;){n[vt]|=32;const i=ko(n);if(oo(n)&&!i)return n;n=i}return null}function za(n,i,s,a=!0){const u=i[ta];u.begin&&u.begin();try{pc(n,i,n.template,s)}catch(m){throw a&&vi(i,m),m}finally{u.end&&u.end()}}function Mh(n,i,s){Ps(0),i(n,s)}function _c(n){return n[Ti]||(n[Ti]=[])}function yc(n){return n.cleanup||(n.cleanup=[])}function vi(n,i){const s=n[ii],a=s?s.get(lc,null):null;a&&a.handleError(i)}function xh(n,i,s,a,u){for(let h=0;h<s.length;){const m=s[h++],v=s[h++],E=i[m],b=n.data[m];null!==b.setInput?b.setInput(E,u,a,v):E[v]=u}}function Zl(n,i,s){let a=s?n.styles:null,u=s?n.classes:null,h=0;if(null!==i)for(let m=0;m<i.length;m++){const v=i[m];"number"==typeof v?h=v:1==h?u=ue(u,v):2==h&&(a=ue(a,v+": "+i[++m]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=u:n.classesWithoutHost=u}function Ud(n,i,s,a,u=!1){for(;null!==s;){const h=i[s.index];if(null!==h&&a.push(qt(h)),ar(h))for(let v=$n;v<h.length;v++){const E=h[v],b=E[Ye].firstChild;null!==b&&Ud(E[Ye],E,b,a)}const m=s.type;if(8&m)Ud(n,i,s.child,a);else if(32&m){const v=Bu(s,i);let E;for(;E=v();)a.push(E)}else if(16&m){const v=_d(i,s);if(Array.isArray(v))a.push(...v);else{const E=ko(i[Pn]);Ud(E[Ye],E,v,a,!0)}}s=u?s.projectionNext:s.next}return a}class vr{get rootNodes(){const i=this._lView,s=i[Ye];return Ud(s,i,s.firstChild,[])}constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tn]}set context(i){this._lView[tn]=i}get destroyed(){return 128==(128&this._lView[vt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[ht];if(ar(i)){const s=i[Tr],a=s?s.indexOf(this):-1;a>-1&&(Rl(i,a),Ao(s,a))}this._attachedToViewContainer=!1}Gf(this._lView[Ye],this._lView)}onDestroy(i){!function bh(n,i,s,a){const u=_c(i);null===s?u.push(a):(u.push(s),n.firstCreatePass&&yc(n).push(a,u.length-1))}(this._lView[Ye],this._lView,null,i)}markForCheck(){yi(this._cdRefInjectingView||this._lView)}detach(){this._lView[vt]&=-65}reattach(){this._lView[vt]|=64}detectChanges(){za(this._lView[Ye],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ks(n,i){ka(n,i,i[Ct],2,null,null)}(this._lView[Ye],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new se(902,!1);this._appRef=i}}class k_ extends vr{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;za(i[Ye],i,i[tn],!1)}checkNoChanges(){}get context(){return null}}class F_ extends dh{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=kt(i);return new Hd(s,this.ngModule)}}function Rg(n){const i=[];for(let s in n)n.hasOwnProperty(s)&&i.push({propName:n[s],templateName:s});return i}class ZE{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,a){a=ft(a);const u=this.injector.get(i,Kt,a);return u!==Kt||s===Kt?u:this.parentInjector.get(i,s,a)}}class Hd extends sc{get inputs(){return Rg(this.componentDef.inputs)}get outputs(){return Rg(this.componentDef.outputs)}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function y_(n){return n.map(__).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}create(i,s,a,u){let h=(u=u||this.ngModule)instanceof Bo?u:u?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const m=h?new ZE(i,h):i,v=m.get(ac,null);if(null===v)throw new se(407,!1);const E=m.get(Hl,null),b=v.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",k=a?function Dh(n,i,s){return n.selectRootElement(i,s===Q.ShadowDom)}(b,a,this.componentDef.encapsulation):ju(b,M,function zE(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(M)),j=this.componentDef.onPush?288:272,Y=wh(0,null,null,1,0,null,null,null,null,null),ce=Ch(null,Y,null,j,null,null,v,b,E,m,null);let Ee,Be;Du(ce);try{const Xe=this.componentDef;let gt,be=null;Xe.findHostDirectiveDefs?(gt=[],be=new Map,Xe.findHostDirectiveDefs(Xe,gt,be),gt.push(Xe)):gt=[Xe];const Et=function V_(n,i){const s=n[Ye],a=St;return n[a]=i,dc(s,a,2,"#host",null)}(ce,k),wn=function B_(n,i,s,a,u,h,m,v){const E=u[Ye];!function KE(n,i,s,a){for(const u of n)i.mergedAttrs=Jr(i.mergedAttrs,u.hostAttrs);null!==i.mergedAttrs&&(Zl(i,i.mergedAttrs,!0),null!==s&&vd(a,s,i))}(a,n,i,m);const b=h.createRenderer(i,s),M=Ch(u,Eg(s),null,s.onPush?32:16,u[n.index],n,h,b,v||null,null,null);return E.firstCreatePass&&gc(E,n,a.length-1),Wa(u,M),u[n.index]=M}(Et,k,Xe,gt,ce,v,b);Be=po(Y,St),k&&function Ph(n,i,s,a){if(a)Do(n,s,["ng-version",d_.full]);else{const{attrs:u,classes:h}=function wE(n){const i=[],s=[];let a=1,u=2;for(;a<n.length;){let h=n[a];if("string"==typeof h)2===u?""!==h&&i.push(h,n[++a]):8===u&&s.push(h);else{if(!cs(u))break;u=h}a++}return{attrs:i,classes:s}}(i.selectors[0]);u&&Do(n,s,u),h&&h.length>0&&La(n,s,h.join(" "))}}(b,Xe,k,a),void 0!==s&&function qE(n,i,s){const a=n.projection=[];for(let u=0;u<i.length;u++){const h=s[u];a.push(null!=h?Array.from(h):null)}}(Be,this.ngContentSelectors,s),Ee=function Pg(n,i,s,a,u,h){const m=Sn(),v=u[Ye],E=Gn(m,u);Dg(v,u,m,s,null,a);for(let M=0;M<s.length;M++)tr(Ri(u,v,m.directiveStart+M,m),u);Sh(v,u,m),E&&tr(E,u);const b=Ri(u,v,m.directiveStart+m.componentOffset,m);if(n[tn]=u[tn]=b,null!==h)for(const M of h)M(b,i);return vg(v,m,n),b}(wn,Xe,gt,be,ce,[Ng]),yg(Y,ce,null)}finally{pa()}return new L_(this.componentType,Ee,oc(Be,ce),ce,Be)}}class L_ extends ch{constructor(i,s,a,u,h){super(),this.location=a,this._rootLView=u,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new k_(u),this.componentType=i}setInput(i,s){const a=this._tNode.inputs;let u;if(null!==a&&(u=a[i])){const h=this._rootLView;xh(h[Ye],h,u,i,s),yi(Tn(this._tNode.index,h))}}get injector(){return new Bn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Ng(){const n=Sn();fl(ve()[Ye],n)}function Og(n){let i=function U_(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;i;){let u;if(vn(n))u=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new se(903,!1);u=i.\u0275dir}if(u){if(s){a.push(u);const m=n;m.inputs=Nh(n.inputs),m.declaredInputs=Nh(n.declaredInputs),m.outputs=Nh(n.outputs);const v=u.hostBindings;v&&XE(n,v);const E=u.viewQuery,b=u.contentQueries;if(E&&QE(n,E),b&&JE(n,b),ge(n.inputs,u.inputs),ge(n.declaredInputs,u.declaredInputs),ge(n.outputs,u.outputs),vn(u)&&u.data.animation){const M=n.data;M.animation=(M.animation||[]).concat(u.data.animation)}}const h=u.features;if(h)for(let m=0;m<h.length;m++){const v=h[m];v&&v.ngInherit&&v(n),v===Og&&(s=!1)}}i=Object.getPrototypeOf(i)}!function YE(n){let i=0,s=null;for(let a=n.length-1;a>=0;a--){const u=n[a];u.hostVars=i+=u.hostVars,u.hostAttrs=Jr(u.hostAttrs,s=Jr(s,u.hostAttrs))}}(a)}function Nh(n){return n===qe?{}:n===Ue?[]:n}function QE(n,i){const s=n.viewQuery;n.viewQuery=s?(a,u)=>{i(a,u),s(a,u)}:i}function JE(n,i){const s=n.contentQueries;n.contentQueries=s?(a,u,h)=>{i(a,u,h),s(a,u,h)}:i}function XE(n,i){const s=n.hostBindings;n.hostBindings=s?(a,u)=>{i(a,u),s(a,u)}:i}function Oh(n){return!!kh(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function kh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Rr(n,i,s){return!Object.is(n[i],s)&&(n[i]=s,!0)}function Lh(n,i,s,a){const u=ve();return Rr(u,yo(),i)&&(Mt(),ds(nn(),u,n,i,s,a)),Lh}function Yl(n,i,s,a){return Rr(n,yo(),s)?i+_e(s)+a:Dt}function K_(n,i,s,a,u,h,m,v){const E=ve(),b=Mt(),M=n+St,k=b.firstCreatePass?function rC(n,i,s,a,u,h,m,v,E){const b=i.consts,M=dc(i,n,4,m||null,qr(b,v));wg(i,s,M,qr(b,E)),fl(i,M);const k=M.tView=wh(2,M,a,u,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,b);return null!==i.queries&&(i.queries.template(i,M),k.queries=i.queries.embeddedTView(M)),M}(M,b,E,i,s,a,u,h,m):b.data[M];ur(k,!1);const j=E[Ct].createComment("");Nl(b,E,j,k),tr(j,E),Wa(E,E[M]=R_(j,E,j,k)),Or(k)&&Ga(b,E,k),null!=m&&Ih(E,k,v)}function Ic(n){return Kr(function ll(){return at.lFrame.contextLView}(),St+n)}function wc(n,i,s){const a=ve();return Rr(a,yo(),i)&&function _i(n,i,s,a,u,h,m,v){const E=Gn(i,s);let M,b=i.inputs;!v&&null!=b&&(M=b[a])?(xh(n,s,M,a,u),Is(i)&&function BE(n,i){const s=Tn(i,n);16&s[vt]||(s[vt]|=32)}(s,i.index)):3&i.type&&(a=function VE(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),u=null!=m?m(u,i.value||"",a):u,h.setProperty(E,a,u))}(Mt(),nn(),a,n,i,a[Ct],s,!1),wc}function Xl(n,i,s,a,u){const m=u?"class":"style";xh(n,s,i.inputs[m],m,a)}function $d(n,i,s,a){const u=ve(),h=Mt(),m=St+n,v=u[Ct],E=h.firstCreatePass?function Ug(n,i,s,a,u,h){const m=i.consts,E=dc(i,n,2,a,qr(m,u));return wg(i,s,E,qr(m,h)),null!==E.attrs&&Zl(E,E.attrs,!1),null!==E.mergedAttrs&&Zl(E,E.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,E),E}(m,h,u,i,s,a):h.data[m],b=u[m]=ju(v,i,function Rf(){return at.lFrame.currentNamespace}()),M=Or(E);return ur(E,!0),vd(v,b,E),32!=(32&E.flags)&&Nl(h,u,b,E),0===function Eu(){return at.lFrame.elementDepthCount}()&&tr(b,u),function mo(){at.lFrame.elementDepthCount++}(),M&&(Ga(h,u,E),vg(h,E,u)),null!==a&&Ih(u,E),$d}function Gd(){let n=Sn();Cu()?xs():(n=n.parent,ur(n,!1));const i=n;!function Gc(){at.lFrame.elementDepthCount--}();const s=Mt();return s.firstCreatePass&&(fl(s,n),nl(n)&&s.queries.elementEnd(n)),null!=i.classesWithoutHost&&function pl(n){return 0!=(8&n.flags)}(i)&&Xl(s,i,ve(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function wo(n){return 0!=(16&n.flags)}(i)&&Xl(s,i,ve(),i.stylesWithoutHost,!1),Gd}function Bh(n,i,s,a){return $d(n,i,s,a),Gd(),Bh}function Wd(n,i,s){const a=ve(),u=Mt(),h=n+St,m=u.firstCreatePass?function q_(n,i,s,a,u){const h=i.consts,m=qr(h,a),v=dc(i,n,8,"ng-container",m);return null!==m&&Zl(v,m,!0),wg(i,s,v,qr(h,u)),null!==i.queries&&i.queries.elementStart(i,v),v}(h,u,a,i,s):u.data[h];ur(m,!0);const v=a[h]=a[Ct].createComment("");return Nl(u,a,v,m),tr(v,a),Or(m)&&(Ga(u,a,m),vg(u,m,a)),null!=s&&Ih(a,m),Wd}function ni(){let n=Sn();const i=Mt();return Cu()?xs():(n=n.parent,ur(n,!1)),i.firstCreatePass&&(fl(i,n),nl(n)&&i.queries.elementEnd(n)),ni}function Y_(){return ve()}function jg(n){return!!n&&"function"==typeof n.then}function Q_(n){return!!n&&"function"==typeof n.subscribe}const $g=Q_;function Gg(n,i,s,a){const u=ve(),h=Mt(),m=Sn();return function X_(n,i,s,a,u,h,m){const v=Or(a),b=n.firstCreatePass&&yc(n),M=i[tn],k=_c(i);let j=!0;if(3&a.type||m){const Ee=Gn(a,i),Be=m?m(Ee):Ee,Xe=k.length,gt=m?Et=>m(qt(Et[a.index])):a.index;let be=null;if(!m&&v&&(be=function sC(n,i,s,a){const u=n.cleanup;if(null!=u)for(let h=0;h<u.length-1;h+=2){const m=u[h];if(m===s&&u[h+1]===a){const v=i[Ti],E=u[h+2];return v.length>E?v[E]:null}"string"==typeof m&&(h+=2)}return null}(n,i,u,a.index)),null!==be)(be.__ngLastListenerFn__||be).__ngNextListenerFn__=h,be.__ngLastListenerFn__=h,j=!1;else{h=ty(a,i,M,h,!1);const Et=s.listen(Be,u,h);k.push(h,Et),b&&b.push(u,gt,Xe,Xe+1)}}else h=ty(a,i,M,h,!1);const Y=a.outputs;let ce;if(j&&null!==Y&&(ce=Y[u])){const Ee=ce.length;if(Ee)for(let Be=0;Be<Ee;Be+=2){const wn=i[ce[Be]][ce[Be+1]].subscribe(h),Un=k.length;k.push(h,wn),b&&b.push(u,a.index,Un,-(Un+1))}}}(h,u,u[Ct],m,n,i,a),Gg}function ey(n,i,s,a){try{return Ht(6,i,s),!1!==s(a)}catch(u){return vi(n,u),!1}finally{Ht(7,i,s)}}function ty(n,i,s,a,u){return function h(m){if(m===Function)return a;yi(n.componentOffset>-1?Tn(n.index,i):i);let E=ey(i,s,a,m),b=h.__ngNextListenerFn__;for(;b;)E=ey(i,s,b,m)&&E,b=b.__ngNextListenerFn__;return u&&!1===E&&(m.preventDefault(),m.returnValue=!1),E}}function ny(n=1){return function dl(n){return(at.lFrame.contextLView=function Zc(n,i){for(;n>0;)i=i[vs],n--;return i}(n,at.lFrame.contextLView))[tn]}(n)}function zd(n,i){return n<<17|i<<2}function Ya(n){return n>>17&32767}function zg(n){return 2|n}function eu(n){return(131068&n)>>2}function Zg(n,i){return-131069&n|i<<2}function Kg(n){return 1|n}function hy(n,i,s,a,u){const h=n[s+1],m=null===i;let v=a?Ya(h):eu(h),E=!1;for(;0!==v&&(!1===E||m);){const M=n[v+1];dC(n[v],i)&&(E=!0,n[v+1]=a?Kg(M):zg(M)),v=a?Ya(M):eu(M)}E&&(n[s+1]=a?zg(h):Kg(h))}function dC(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&Br(n,i)>=0}const Yn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function py(n){return n.substring(Yn.key,Yn.keyEnd)}function gy(n,i){const s=Yn.textEnd;return s===i?-1:(i=Yn.keyEnd=function _C(n,i,s){for(;i<s&&n.charCodeAt(i)>32;)i++;return i}(n,Yn.key=i,s),Dc(n,i,s))}function Dc(n,i,s){for(;i<s&&n.charCodeAt(i)<=32;)i++;return i}function Js(n,i){return function fs(n,i,s,a){const u=ve(),h=Mt(),m=Yr(2);h.firstUpdatePass&&Kd(h,n,m,a),i!==Dt&&Rr(u,m,i)&&Cy(h,h.data[Vn()],u,u[Ct],n,u[m+1]=function wy(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=oe(Vi(n)))),n}(i,s),a,m)}(n,i,null,!0),Js}function Xs(n,i){for(let s=function hC(n){return function mC(n){Yn.key=0,Yn.keyEnd=0,Yn.value=0,Yn.valueEnd=0,Yn.textEnd=n.length}(n),gy(n,Dc(n,0,Yn.textEnd))}(i);s>=0;s=gy(i,s))Nn(n,py(i),!0)}function yy(n,i){return i>=n.expandoStartIndex}function Kd(n,i,s,a){const u=n.data;if(null===u[s+1]){const h=u[Vn()],m=yy(n,s);Yg(h,a)&&null===i&&!m&&(i=!1),i=function EC(n,i,s,a){const u=function ha(n){const i=at.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let h=a?i.residualClasses:i.residualStyles;if(null===u)0===(a?i.classBindings:i.styleBindings)&&(s=tu(s=Hh(null,n,i,s,a),i.attrs,a),h=null);else{const m=i.directiveStylingLast;if(-1===m||n[m]!==u)if(s=Hh(u,n,i,s,a),null===h){let E=function CC(n,i,s){const a=s?i.classBindings:i.styleBindings;if(0!==eu(a))return n[Ya(a)]}(n,i,a);void 0!==E&&Array.isArray(E)&&(E=Hh(null,n,i,E[1],a),E=tu(E,i.attrs,a),function vy(n,i,s,a){n[Ya(s?i.classBindings:i.styleBindings)]=a}(n,i,a,E))}else h=function IC(n,i,s){let a;const u=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<u;h++)a=tu(a,n[h].hostAttrs,s);return tu(a,i.attrs,s)}(n,i,a)}return void 0!==h&&(a?i.residualClasses=h:i.residualStyles=h),s}(u,h,i,a),function fy(n,i,s,a,u,h){let m=h?i.classBindings:i.styleBindings,v=Ya(m),E=eu(m);n[a]=s;let M,b=!1;if(Array.isArray(s)?(M=s[1],(null===M||Br(s,M)>0)&&(b=!0)):M=s,u)if(0!==E){const j=Ya(n[v+1]);n[a+1]=zd(j,v),0!==j&&(n[j+1]=Zg(n[j+1],a)),n[v+1]=function uC(n,i){return 131071&n|i<<17}(n[v+1],a)}else n[a+1]=zd(v,0),0!==v&&(n[v+1]=Zg(n[v+1],a)),v=a;else n[a+1]=zd(E,0),0===v?v=a:n[E+1]=Zg(n[E+1],a),E=a;b&&(n[a+1]=zg(n[a+1])),hy(n,M,a,!0),hy(n,M,a,!1),function cC(n,i,s,a,u){const h=u?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&Br(h,i)>=0&&(s[a+1]=Kg(s[a+1]))}(i,M,n,a,h),m=zd(v,E),h?i.classBindings=m:i.styleBindings=m}(u,h,i,s,m,a)}}function Hh(n,i,s,a,u){let h=null;const m=s.directiveEnd;let v=s.directiveStylingLast;for(-1===v?v=s.directiveStart:v++;v<m&&(h=i[v],a=tu(a,h.hostAttrs,u),h!==n);)v++;return null!==n&&(s.directiveStylingLast=v),a}function tu(n,i,s){const a=s?1:2;let u=-1;if(null!==i)for(let h=0;h<i.length;h++){const m=i[h];"number"==typeof m?u=m:u===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Nn(n,m,!!s||i[++h]))}return void 0===n?null:n}function Cy(n,i,s,a,u,h,m,v){if(!(3&i.type))return;const E=n.data,b=E[v+1],M=function dy(n){return 1==(1&n)}(b)?Iy(E,i,s,u,eu(b),m):void 0;jh(M)||(jh(h)||function cy(n){return 2==(2&n)}(b)&&(h=Iy(E,null,s,u,v,m)),function Fa(n,i,s,a,u){if(i)u?n.addClass(s,a):n.removeClass(s,a);else{let h=-1===a.indexOf("-")?void 0:Ur.DashCase;null==u?n.removeStyle(s,a,h):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),h|=Ur.Important),n.setStyle(s,a,u,h))}}(a,m,ci(Vn(),s),u,h))}function Iy(n,i,s,a,u,h){const m=null===i;let v;for(;u>0;){const E=n[u],b=Array.isArray(E),M=b?E[1]:E,k=null===M;let j=s[u+1];j===Dt&&(j=k?Ue:void 0);let Y=k?Vr(j,a):M===a?j:void 0;if(b&&!jh(Y)&&(Y=Vr(E,a)),jh(Y)&&(v=Y,m))return v;const ce=n[u+1];u=m?Ya(ce):eu(ce)}if(null!==i){let E=h?i.residualClasses:i.residualStyles;null!=E&&(v=Vr(E,a))}return v}function jh(n){return void 0!==n}function Yg(n,i){return 0!=(n.flags&(i?8:16))}function $h(n,i=""){const s=ve(),a=Mt(),u=n+St,h=a.firstCreatePass?dc(a,u,1,i,null):a.data[u],m=s[u]=function hd(n,i){return n.createText(i)}(s[Ct],i);Nl(a,s,m,h),ur(h,!1)}function qd(n){return nu("",n,""),qd}function nu(n,i,s){const a=ve(),u=Yl(a,n,i,s);return u!==Dt&&function Wo(n,i,s){const a=ci(i,n);!function pd(n,i,s){n.setValue(i,s)}(n[Ct],a,s)}(a,Vn(),u),nu}function AC(n,i,s){!function hs(n,i,s,a){const u=Mt(),h=Yr(2);u.firstUpdatePass&&Kd(u,null,h,a);const m=ve();if(s!==Dt&&Rr(m,h,s)){const v=u.data[Vn()];if(Yg(v,a)&&!yy(u,h)){let E=a?v.classesWithoutHost:v.stylesWithoutHost;null!==E&&(s=ue(E,s||"")),Xl(u,v,m,s,a)}else!function DC(n,i,s,a,u,h,m,v){u===Dt&&(u=Ue);let E=0,b=0,M=0<u.length?u[0]:null,k=0<h.length?h[0]:null;for(;null!==M||null!==k;){const j=E<u.length?u[E+1]:void 0,Y=b<h.length?h[b+1]:void 0;let Ee,ce=null;M===k?(E+=2,b+=2,j!==Y&&(ce=k,Ee=Y)):null===k||null!==M&&M<k?(E+=2,ce=M):(b+=2,ce=k,Ee=Y),null!==ce&&Cy(n,i,s,a,ce,Ee,m,v),M=E<u.length?u[E]:null,k=b<h.length?h[b]:null}}(u,v,m,m[Ct],m[h+1],m[h+1]=function wC(n,i,s){if(null==s||""===s)return Ue;const a=[],u=Vi(s);if(Array.isArray(u))for(let h=0;h<u.length;h++)n(a,u[h],!0);else if("object"==typeof u)for(const h in u)u.hasOwnProperty(h)&&n(a,h,u[h]);else"string"==typeof u&&i(a,u);return a}(n,i,s),a,h)}}(Nn,Xs,Yl(ve(),n,i,s),!0)}const qo=void 0;var kC=["en",[["a","p"],["AM","PM"],qo],[["AM","PM"],qo,qo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qo,"{1} 'at' {0}",qo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function OC(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let bc={};function tm(n){const i=function LC(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Jd(i);if(s)return s;const a=i.split("-")[0];if(s=Jd(a),s)return s;if("en"===a)return kC;throw new se(701,!1)}function nm(n){return tm(n)[lt.PluralCase]}function Jd(n){return n in bc||(bc[n]=yt.ng&&yt.ng.common&&yt.ng.common.locales&&yt.ng.common.locales[n]),bc[n]}var lt=(()=>((lt=lt||{})[lt.LocaleId=0]="LocaleId",lt[lt.DayPeriodsFormat=1]="DayPeriodsFormat",lt[lt.DayPeriodsStandalone=2]="DayPeriodsStandalone",lt[lt.DaysFormat=3]="DaysFormat",lt[lt.DaysStandalone=4]="DaysStandalone",lt[lt.MonthsFormat=5]="MonthsFormat",lt[lt.MonthsStandalone=6]="MonthsStandalone",lt[lt.Eras=7]="Eras",lt[lt.FirstDayOfWeek=8]="FirstDayOfWeek",lt[lt.WeekendRange=9]="WeekendRange",lt[lt.DateFormat=10]="DateFormat",lt[lt.TimeFormat=11]="TimeFormat",lt[lt.DateTimeFormat=12]="DateTimeFormat",lt[lt.NumberSymbols=13]="NumberSymbols",lt[lt.NumberFormats=14]="NumberFormats",lt[lt.CurrencyCode=15]="CurrencyCode",lt[lt.CurrencySymbol=16]="CurrencySymbol",lt[lt.CurrencyName=17]="CurrencyName",lt[lt.Currencies=18]="Currencies",lt[lt.Directionality=19]="Directionality",lt[lt.PluralCase=20]="PluralCase",lt[lt.ExtraData=21]="ExtraData",lt))();const ru="en-US";let Ny=ru;function np(n,i,s,a,u){if(n=K(n),Array.isArray(n))for(let h=0;h<n.length;h++)np(n[h],i,s,a,u);else{const h=Mt(),m=ve();let v=Ha(n)?n:K(n.provide),E=u_(n);const b=Sn(),M=1048575&b.providerIndexes,k=b.directiveStart,j=b.providerIndexes>>20;if(Ha(n)||!n.multi){const Y=new ga(E,u,Wl),ce=rp(v,i,u?M:M+j,k);-1===ce?(ns(di(b,m),h,v),iu(h,n,i.length),i.push(v),b.directiveStart++,b.directiveEnd++,u&&(b.providerIndexes+=1048576),s.push(Y),m.push(Y)):(s[ce]=Y,m[ce]=Y)}else{const Y=rp(v,i,M+j,k),ce=rp(v,i,M,M+j),Be=ce>=0&&s[ce];if(u&&!Be||!u&&!(Y>=0&&s[Y])){ns(di(b,m),h,v);const Xe=function av(n,i,s,a,u){const h=new ga(n,s,Wl);return h.multi=[],h.index=i,h.componentProviders=0,ov(h,u,a&&!s),h}(u?sI:iI,s.length,u,a,E);!u&&Be&&(s[ce].providerFactory=Xe),iu(h,n,i.length,0),i.push(v),b.directiveStart++,b.directiveEnd++,u&&(b.providerIndexes+=1048576),s.push(Xe),m.push(Xe)}else iu(h,n,Y>-1?Y:ce,ov(s[u?ce:Y],E,!u&&a));!u&&a&&Be&&s[ce].componentProviders++}}}function iu(n,i,s,a){const u=Ha(i),h=function o_(n){return!!n.useClass}(i);if(u||h){const E=(h?K(i.useClass):i).prototype.ngOnDestroy;if(E){const b=n.destroyHooks||(n.destroyHooks=[]);if(!u&&i.multi){const M=b.indexOf(s);-1===M?b.push(s,[a,E]):b[M+1].push(a,E)}else b.push(s,E)}}}function ov(n,i,s){return s&&n.componentProviders++,n.multi.push(i)-1}function rp(n,i,s,a){for(let u=s;u<a;u++)if(i[u]===n)return u;return-1}function iI(n,i,s,a){return ip(this.multi,[])}function sI(n,i,s,a){const u=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,v=Ri(s,s[Ye],this.providerFactory.index,a);h=v.slice(0,m),ip(u,h);for(let E=m;E<v.length;E++)h.push(v[E])}else h=[],ip(u,h);return h}function ip(n,i){for(let s=0;s<n.length;s++)i.push((0,n[s])());return i}function mm(n,i=[]){return s=>{s.providersResolver=(a,u)=>function sv(n,i,s){const a=Mt();if(a.firstCreatePass){const u=vn(n);np(s,a.data,a.blueprint,u,!0),np(i,a.data,a.blueprint,u,!1)}}(a,u?u(n):n,i)}}class Pc{}class oI{}function aI(n,i){return new lv(n,i??null)}class lv extends Pc{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new F_(this);const a=function ir(n,i){const s=n[en]||null;if(!s&&!0===i)throw new Error(`Type ${oe(n)} does not have '\u0275mod' property.`);return s}(i);this._bootstrapComponents=function Ho(n){return n instanceof Function?n():n}(a.bootstrap),this._r3Injector=yh(i,s,[{provide:Pc,useValue:this},{provide:dh,useValue:this.componentFactoryResolver}],oe(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class _m extends oI{constructor(i){super(),this.moduleType=i}create(i){return new lv(this.moduleType,i)}}function Er(n,i,s,a,u,h){const m=i+s;return Rr(n,m,u)?function Ui(n,i,s){return n[i]=s}(n,m+1,h?a.call(h,u):a(u)):function Nc(n,i){const s=n[i];return s===Dt?void 0:s}(n,m+1)}function Em(n,i){const s=Mt();let a;const u=n+St;s.firstCreatePass?(a=function yv(n,i){if(i)for(let s=i.length-1;s>=0;s--){const a=i[s];if(n===a.name)return a}}(i,s.pipeRegistry),s.data[u]=a,a.onDestroy&&(s.destroyHooks??(s.destroyHooks=[])).push(u,a.onDestroy)):a=s.data[u];const h=a.factory||(a.factory=lr(a.type)),m=dn(Wl);try{const v=Ls(!1),E=h();return Ls(v),function iC(n,i,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),i[s]=a}(s,ve(),u,E),E}finally{dn(m)}}function Cm(n,i,s){const a=n+St,u=ve(),h=Kr(u,a);return function Oc(n,i){return n[Ye].data[i].pure}(u,a)?Er(u,function ln(){const n=at.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}(),i,h.transform,s,h):h.transform(s)}function ap(n){return i=>{setTimeout(n,void 0,i)}}const ps=class Iv extends f.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,a){let u=i,h=s||(()=>null),m=a;if(i&&"object"==typeof i){const E=i;u=E.next?.bind(E),h=E.error?.bind(E),m=E.complete?.bind(E)}this.__isAsync&&(h=ap(h),u&&(u=ap(u)),m&&(m=ap(m)));const v=super.subscribe({next:u,error:h,complete:m});return i instanceof J.w0&&i.add(v),v}};let kc=(()=>{class n{}return n.__NG_ELEMENT_ID__=wm,n})();const Im=kc,wv=class extends Im{constructor(i,s,a){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(i,s){const a=this._declarationTContainer.tView,u=Ch(this._declarationLView,a,i,16,null,a.declTNode,null,null,null,null,s||null);u[Es]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[Nr];return null!==m&&(u[Nr]=m.createEmbeddedView(a)),yg(a,u,i),new vr(u)}};function wm(){return of(Sn(),ve())}function of(n,i){return 4&n.type?new wv(i,n,oc(n,i)):null}let af=(()=>{class n{}return n.__NG_ELEMENT_ID__=Dv,n})();function Dv(){return function Tm(n,i){let s;const a=i[n.index];if(ar(a))s=a;else{let u;if(8&n.type)u=qt(a);else{const h=i[Ct];u=h.createComment("");const m=Gn(n,i);Mr(h,Fi(h,m),u,function Zu(n,i){return n.nextSibling(i)}(h,m),!1)}i[n.index]=s=R_(a,i,u,n),Wa(i,s)}return new lf(s,n,i)}(Sn(),ve())}const Dm=af,lf=class extends Dm{constructor(i,s,a){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=a}get element(){return oc(this._hostTNode,this._hostLView)}get injector(){return new Bn(this._hostTNode,this._hostLView)}get parentInjector(){const i=Bs(this._hostTNode,this._hostLView);if(ml(i)){const s=Fs(i,this._hostLView),a=ts(i);return new Bn(s[Ye].data[a+8],s)}return new Bn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=bm(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-$n}createEmbeddedView(i,s,a){let u,h;"number"==typeof a?u=a:null!=a&&(u=a.index,h=a.injector);const m=i.createEmbeddedView(s||{},h);return this.insert(m,u),m}createComponent(i,s,a,u,h){const m=i&&!function So(n){return"function"==typeof n}(i);let v;if(m)v=s;else{const k=s||{};v=k.index,a=k.injector,u=k.projectableNodes,h=k.environmentInjector||k.ngModuleRef}const E=m?i:new Hd(kt(i)),b=a||this.parentInjector;if(!h&&null==E.ngModule){const j=(m?b:this.parentInjector).get(Bo,null);j&&(h=j)}const M=E.create(b,u,void 0,h);return this.insert(M.hostView,v),M}insert(i,s){const a=i._lView,u=a[Ye];if(function aa(n){return ar(n[ht])}(a)){const M=this.indexOf(i);if(-1!==M)this.detach(M);else{const k=a[ht],j=new lf(k,k[yn],k[ht]);j.detach(j.indexOf(i))}}const h=this._adjustIndex(s),m=this._lContainer;!function $p(n,i,s,a){const u=$n+a,h=s.length;a>0&&(s[u-1][br]=i),a<h-$n?(i[br]=s[u],nd(s,$n+a,i)):(s.push(i),i[br]=null),i[ht]=s;const m=i[Es];null!==m&&s!==m&&function gd(n,i){const s=n[Si];i[Pn]!==i[ht][ht][Pn]&&(n[ra]=!0),null===s?n[Si]=[i]:s.push(i)}(m,i);const v=i[Nr];null!==v&&v.insertView(n),i[vt]|=64}(u,a,m,h);const v=yd(h,m),E=a[Ct],b=Fi(E,m[oi]);return null!==b&&function jp(n,i,s,a,u,h){a[Dr]=u,a[yn]=i,ka(n,a,s,1,u,h)}(u,m[yn],E,a,b,v),i.attachToViewContainerRef(),nd(up(m),h,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=bm(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),a=Rl(this._lContainer,s);a&&(Ao(up(this._lContainer),s),Gf(a[Ye],a))}detach(i){const s=this._adjustIndex(i,-1),a=Rl(this._lContainer,s);return a&&null!=Ao(up(this._lContainer),s)?new vr(a):null}_adjustIndex(i,s=0){return i??this.length+s}};function bm(n){return n[Tr]}function up(n){return n[Tr]||(n[Tr]=[])}function Rm(n,i){return of(n,i)}function _p(...n){}const Hv=new jt("Application Initializer");let yf=(()=>{class n{constructor(s){this.appInits=s,this.resolve=_p,this.reject=_p,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const h=this.appInits[u]();if(jg(h))s.push(h);else if($g(h)){const m=new Promise((v,E)=>{h.subscribe({complete:v,error:E})});s.push(m)}}Promise.all(s).then(()=>{a()}).catch(u=>{this.reject(u)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(Ne(Hv,8))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vf=new jt("AppId",{providedIn:"root",factory:function yp(){return`${vp()}${vp()}${vp()}`}});function vp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jv=new jt("Platform Initializer"),fw=new jt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ef=new jt("LocaleId",{providedIn:"root",factory:()=>Ze(Ef,tt.Optional|tt.SkipSelf)||function ZI(){return typeof $localize<"u"&&$localize.locale||ru}()}),$v=new jt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),Wv=(()=>Promise.resolve(0))();function Hm(n){typeof Zone>"u"?Wv.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class $i{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ps(!1),this.onMicrotaskEmpty=new ps(!1),this.onStable=new ps(!1),this.onError=new ps(!1),typeof Zone>"u")throw new se(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&s,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function Ep(){let n=yt.requestAnimationFrame,i=yt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function $m(n){const i=()=>{!function yw(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(yt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Cp(n),n.isCheckStableRunning=!0,jm(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Cp(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,u,h,m,v)=>{try{return Gm(n),s.invokeTask(u,h,m,v)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),Wm(n)}},onInvoke:(s,a,u,h,m,v,E)=>{try{return Gm(n),s.invoke(u,h,m,v,E)}finally{n.shouldCoalesceRunChangeDetection&&i(),Wm(n)}},onHasTask:(s,a,u,h)=>{s.hasTask(u,h),a===u&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,Cp(n),jm(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,u,h)=>(s.handleError(u,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$i.isInAngularZone())throw new se(909,!1)}static assertNotInAngularZone(){if($i.isInAngularZone())throw new se(909,!1)}run(i,s,a){return this._inner.run(i,s,a)}runTask(i,s,a,u){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+u,i,zv,_p,_p);try{return h.runTask(m,s,a)}finally{h.cancelTask(m)}}runGuarded(i,s,a){return this._inner.runGuarded(i,s,a)}runOutsideAngular(i){return this._outer.run(i)}}const zv={};function jm(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Cp(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Gm(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Wm(n){n._nesting--,jm(n)}class lu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ps,this.onMicrotaskEmpty=new ps,this.onStable=new ps,this.onError=new ps}run(i,s,a){return i.apply(s,a)}runGuarded(i,s,a){return i.apply(s,a)}runOutsideAngular(i){return i()}runTask(i,s,a,u){return i.apply(s,a)}}const Zv=new jt(""),zm=new jt("");let Km,QI=(()=>{class n{constructor(s,a,u){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Km||(function JI(n){Km=n}(u),u.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$i.assertNotInAngularZone(),Hm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Hm(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,u){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:u})}whenStable(s,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,u){return[]}}return n.\u0275fac=function(s){return new(s||n)(Ne($i),Ne(Zm),Ne(zm))},n.\u0275prov=it({token:n,factory:n.\u0275fac}),n})(),Zm=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return Km?.findTestabilityInTree(this,s,a)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const wi=!1;let Jo=null;const Kv=new jt("AllowMultipleToken"),Ip=new jt("PlatformDestroyListeners"),XI=new jt("appBootstrapListener");function Jv(n,i,s=[]){const a=`Platform: ${i}`,u=new jt(a);return(h=[])=>{let m=Xv();if(!m||m.injector.get(Kv,!1)){const v=[...s,...h,{provide:u,useValue:!0}];n?n(v):function Qv(n){if(Jo&&!Jo.get(Kv,!1))throw new se(400,!1);Jo=n;const i=n.get(r0);(function e0(n){const i=n.get(jv,null);i&&i.forEach(s=>s())})(n)}(function n0(n=[],i){return $l.create({name:i,providers:[{provide:nc,useValue:"platform"},{provide:Ip,useValue:new Set([()=>Jo=null])},...n]})}(v,a))}return function t0(n){const i=Xv();if(!i)throw new se(401,!1);return i}()}}function Xv(){return Jo?.get(r0)??null}let r0=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const u=function o0(n,i){let s;return s="noop"===n?new lu:("zone.js"===n?void 0:n)||new $i(i),s}(a?.ngZone,function s0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),h=[{provide:$i,useValue:u}];return u.run(()=>{const m=$l.create({providers:h,parent:this.injector,name:s.moduleType.name}),v=s.create(m),E=v.injector.get(lc,null);if(!E)throw new se(402,!1);return u.runOutsideAngular(()=>{const b=u.onError.subscribe({next:M=>{E.handleError(M)}});v.onDestroy(()=>{wp(this._modules,v),b.unsubscribe()})}),function a0(n,i,s){try{const a=s();return jg(a)?a.catch(u=>{throw i.runOutsideAngular(()=>n.handleError(u)),u}):a}catch(a){throw i.runOutsideAngular(()=>n.handleError(a)),a}}(E,u,()=>{const b=v.injector.get(yf);return b.runInitializers(),b.donePromise.then(()=>(function Yh(n){Je(n,"Expected localeId to be defined"),"string"==typeof n&&(Ny=n.toLowerCase().replace(/_/g,"-"))}(v.injector.get(Ef,ru)||ru),this._moduleDoBootstrap(v),v))})})}bootstrapModule(s,a=[]){const u=eE({},a);return function qv(n,i,s){const a=new _m(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,u))}_moduleDoBootstrap(s){const a=s.injector.get(tE);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!s.instance.ngDoBootstrap)throw new se(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new se(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(Ip,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(Ne($l))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function eE(n,i){return Array.isArray(i)?i.reduce(eE,n):{...n,...i}}let tE=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(s,a,u){this._zone=s,this._injector=a,this._exceptionHandler=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new N.y(v=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{v.next(this._stable),v.complete()})}),m=new N.y(v=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{$i.assertNotInAngularZone(),Hm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,v.next(!0))})})});const b=this._zone.onUnstable.subscribe(()=>{$i.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{v.next(!1)}))});return()=>{E.unsubscribe(),b.unsubscribe()}});this.isStable=(0,re.T)(h,m.pipe((0,ee.B)()))}bootstrap(s,a){const u=s instanceof sc;if(!this._injector.get(yf).done){!u&&function bi(n){const i=kt(n)||_n(n)||bn(n);return null!==i&&i.standalone}(s);throw new se(405,wi)}let m;m=u?s:this._injector.get(dh).resolveComponentFactory(s),this.componentTypes.push(m.componentType);const v=function Yv(n){return n.isBoundToModule}(m)?void 0:this._injector.get(Pc),b=m.create($l.NULL,[],a||m.selector,v),M=b.location.nativeElement,k=b.injector.get(Zv,null);return k?.registerApplication(M),b.onDestroy(()=>{this.detachView(b.hostView),wp(this.components,b),k?.unregisterApplication(M)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new se(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;wp(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(XI,[]);a.push(...this._bootstrapListeners),a.forEach(u=>u(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>wp(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new se(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(Ne($i),Ne(Bo),Ne(lc))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wp(n,i){const s=n.indexOf(i);s>-1&&n.splice(s,1)}function u0(){return!1}let c0=(()=>{class n{}return n.__NG_ELEMENT_ID__=d0,n})();function d0(n){return function f0(n,i,s){if(Is(n)&&!s){const a=Tn(n.index,i);return new vr(a,a)}return 47&n.type?new vr(i[Pn],i):null}(Sn(),ve(),16==(16&n))}class Qm{constructor(){}supports(i){return Oh(i)}create(i){return new Ja(i)}}const Sp=(n,i)=>i;class Ja{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||Sp}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,a=this._removalsHead,u=0,h=null;for(;s||a;){const m=!a||s&&s.currentIndex<Jm(a,u,h)?s:a,v=Jm(m,u,h),E=m.currentIndex;if(m===a)u--,a=a._nextRemoved;else if(s=s._next,null==m.previousIndex)u++;else{h||(h=[]);const b=v-u,M=E-u;if(b!=M){for(let j=0;j<b;j++){const Y=j<h.length?h[j]:h[j]=0,ce=Y+j;M<=ce&&ce<b&&(h[j]=Y+1)}h[m.previousIndex]=M-b}}v!==E&&i(m,v,E)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!Oh(i))throw new se(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let u,h,m,s=this._itHead,a=!1;if(Array.isArray(i)){this.length=i.length;for(let v=0;v<this.length;v++)h=i[v],m=this._trackByFn(v,h),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,h,m,v)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,m,v),a=!0),s=s._next}else u=0,function W_(n,i){if(Array.isArray(n))for(let s=0;s<n.length;s++)i(n[s]);else{const s=n[Symbol.iterator]();let a;for(;!(a=s.next()).done;)i(a.value)}}(i,v=>{m=this._trackByFn(u,v),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,v,m,u)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,m,u),a=!0),s=s._next,u++}),this.length=u;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,a,u){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,h,u)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,h,u)):i=this._addAfter(new Ow(s,a),h,u),i}_verifyReinsertion(i,s,a,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?i=this._reinsertAfter(h,i._prev,u):i.currentIndex!=u&&(i.currentIndex=u,this._addToMoves(i,u)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const u=i._prevRemoved,h=i._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(i,s,a),this._addToMoves(i,a),i}_moveAfter(i,s,a){return this._unlink(i),this._insertAfter(i,s,a),this._addToMoves(i,a),i}_addAfter(i,s,a){return this._insertAfter(i,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,a){const u=null===s?this._itHead:s._next;return i._next=u,i._prev=s,null===u?this._itTail=i:u._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new oE),this._linkedRecords.put(i),i.currentIndex=a,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,a=i._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new oE),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Ow{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class m0{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,i))return a;return null}remove(i){const s=i._prevDup,a=i._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class oE{constructor(){this.map=new Map}put(i){const s=i.trackById;let a=this.map.get(s);a||(a=new m0,this.map.set(s,a)),a.add(i)}get(i,s){const u=this.map.get(i);return u?u.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Jm(n,i,s){const a=n.previousIndex;if(null===a)return a;let u=0;return s&&a<s.length&&(u=s[a]),a+i+u}class Xm{constructor(){}supports(i){return i instanceof Map||kh(i)}create(){return new aE}}class aE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||kh(i)))throw new se(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(a,u)=>{if(s&&s.key===u)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(u,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const a=i._prev;return s._next=i,s._prev=a,i._prev=s,a&&(a._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const u=this._records.get(i);this._maybeAddToChanges(u,s);const h=u._prev,m=u._next;return h&&(h._next=m),m&&(m._prev=h),u._next=null,u._prev=null,u}const a=new _0(i);return this._records.set(i,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(a=>s(i[a],a))}}class _0{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Bc(){return new xn([new Qm])}let xn=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const u=a.factories.slice();s=s.concat(u)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||Bc()),deps:[[n,new hi,new Ta]]}}find(s){const a=this.factories.find(u=>u.supports(s));if(null!=a)return a;throw new se(901,!1)}}return n.\u0275prov=it({token:n,providedIn:"root",factory:Bc}),n})();function Ap(){return new Uc([new Xm])}let Uc=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const u=a.factories.slice();s=s.concat(u)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||Ap()),deps:[[n,new hi,new Ta]]}}find(s){const a=this.factories.find(u=>u.supports(s));if(a)return a;throw new se(901,!1)}}return n.\u0275prov=it({token:n,providedIn:"root",factory:Ap}),n})();const v0=Jv(null,"core",[]);let E0=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(Ne(tE))},n.\u0275mod=_s({type:n}),n.\u0275inj=Wt({}),n})();function C0(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},3942:(nt,De,O)=>{O.d(De,{Z:()=>dt});var f=O(2090),J=O(4859),N=O(9681),re=O(1877);class ee{constructor(se,we){this._delegate=se,this.firebase=we,(0,N._addComponent)(se,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=se.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(se){this._delegate.automaticDataCollectionEnabled=se}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(se=>{this._delegate.checkDestroyed(),se()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(se,we=N._DEFAULT_ENTRY_NAME){var _e;this._delegate.checkDestroyed();const Me=this._delegate.container.getProvider(se);return!Me.isInitialized()&&"EXPLICIT"===(null===(_e=Me.getComponent())||void 0===_e?void 0:_e.instantiationMode)&&Me.initialize(),Me.getImmediate({identifier:we})}_removeServiceInstance(se,we=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(se).clearInstance(we)}_addComponent(se){(0,N._addComponent)(this._delegate,se)}_addOrOverwriteComponent(se){(0,N._addOrOverwriteComponent)(this._delegate,se)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function ue(){const $e=function oe($e){const se={},we={__esModule:!0,initializeApp:function Te(Se,ie={}){const H=N.initializeApp(Se,ie);if((0,f.r3)(se,H.name))return se[H.name];const Oe=new $e(H,we);return se[H.name]=Oe,Oe},app:Me,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function he(Se){const ie=Se.name,H=ie.replace("-compat","");if(N._registerComponent(Se)&&"PUBLIC"===Se.type){const Oe=(Fe=Me())=>{if("function"!=typeof Fe[H])throw ge.create("invalid-app-argument",{appName:ie});return Fe[H]()};void 0!==Se.serviceProps&&(0,f.ZB)(Oe,Se.serviceProps),we[H]=Oe,$e.prototype[H]=function(...Fe){return this._getService.bind(this,ie).apply(this,Se.multipleInstances?Fe:[])}}return"PUBLIC"===Se.type?we[H]:null},removeApp:function _e(Se){delete se[Se]},useAsService:function Le(Se,ie){return"serverAuth"===ie?null:ie},modularAPIs:N}};function Me(Se){if(!(0,f.r3)(se,Se=Se||N._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:Se});return se[Se]}return we.default=we,Object.defineProperty(we,"apps",{get:function de(){return Object.keys(se).map(Se=>se[Se])}}),Me.App=$e,we}(ee);return $e.INTERNAL=Object.assign(Object.assign({},$e.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function se(we){(0,f.ZB)($e,we)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),$e}(),U=new re.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const $e=self.firebase.SDK_VERSION;$e&&$e.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const dt=B;!function Ae($e){(0,N.registerVersion)("@firebase/app-compat","0.2.8",$e)}()},9681:(nt,De,O)=>{O.r(De),O.d(De,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>Hn,_DEFAULT_ENTRY_NAME:()=>Re,_addComponent:()=>rt,_addOrOverwriteComponent:()=>Ge,_apps:()=>Je,_clearComponents:()=>Wt,_components:()=>ze,_getProvider:()=>it,_registerComponent:()=>Pt,_removeServiceInstance:()=>Vt,deleteApp:()=>Wr,getApp:()=>Jn,getApps:()=>Gr,initializeApp:()=>Gi,onLog:()=>tt,registerVersion:()=>jn,setLogLevel:()=>Wi});var f=O(5861),J=O(4859),N=O(1877),re=O(2090),ee=O(8766);class ne{constructor(pe){this.container=pe}getPlatformInfoString(){return this.container.getProviders().map(Ze=>{if(function ge(Ne){return"VERSION"===Ne.getComponent()?.type}(Ze)){const ft=Ze.getImmediate();return`${ft.library}/${ft.version}`}return null}).filter(Ze=>Ze).join(" ")}}const oe="@firebase/app",B=new N.Yd("@firebase/app"),Re="[DEFAULT]",ke={[oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Je=new Map,ze=new Map;function rt(Ne,pe){try{Ne.container.addComponent(pe)}catch(Ze){B.debug(`Component ${pe.name} failed to register with FirebaseApp ${Ne.name}`,Ze)}}function Ge(Ne,pe){Ne.container.addOrOverwriteComponent(pe)}function Pt(Ne){const pe=Ne.name;if(ze.has(pe))return B.debug(`There were multiple attempts to register component ${pe}.`),!1;ze.set(pe,Ne);for(const Ze of Je.values())rt(Ze,Ne);return!0}function it(Ne,pe){const Ze=Ne.container.getProvider("heartbeat").getImmediate({optional:!0});return Ze&&Ze.triggerHeartbeat(),Ne.container.getProvider(pe)}function Vt(Ne,pe,Ze=Re){it(Ne,pe).clearInstance(Ze)}function Wt(){ze.clear()}const sn=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Qn{constructor(pe,Ze,ft){this._isDeleted=!1,this._options=Object.assign({},pe),this._config=Object.assign({},Ze),this._name=Ze.name,this._automaticDataCollectionEnabled=Ze.automaticDataCollectionEnabled,this._container=ft,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(pe){this._isDeleted=pe}checkDestroyed(){if(this.isDeleted)throw sn.create("app-deleted",{appName:this._name})}}const Hn="9.20.0";function Gi(Ne,pe={}){let Ze=Ne;"object"!=typeof pe&&(pe={name:pe});const ft=Object.assign({name:Re,automaticDataCollectionEnabled:!1},pe),st=ft.name;if("string"!=typeof st||!st)throw sn.create("bad-app-name",{appName:String(st)});if(Ze||(Ze=(0,re.aH)()),!Ze)throw sn.create("no-options");const Ot=Je.get(st);if(Ot){if((0,re.vZ)(Ze,Ot.options)&&(0,re.vZ)(ft,Ot.config))return Ot;throw sn.create("duplicate-app",{appName:st})}const on=new J.H0(st);for(const F of ze.values())on.addComponent(F);const L=new Qn(Ze,ft,on);return Je.set(st,L),L}function Jn(Ne=Re){const pe=Je.get(Ne);if(!pe&&Ne===Re)return Gi();if(!pe)throw sn.create("no-app",{appName:Ne});return pe}function Gr(){return Array.from(Je.values())}function Wr(Ne){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,f.Z)(function*(Ne){const pe=Ne.name;Je.has(pe)&&(Je.delete(pe),yield Promise.all(Ne.container.getProviders().map(Ze=>Ze.delete())),Ne.isDeleted=!0)})).apply(this,arguments)}function jn(Ne,pe,Ze){var ft;let st=null!==(ft=ke[Ne])&&void 0!==ft?ft:Ne;Ze&&(st+=`-${Ze}`);const Ot=st.match(/\s|\//),on=pe.match(/\s|\//);if(Ot||on){const L=[`Unable to register library "${st}" with version "${pe}":`];return Ot&&L.push(`library name "${st}" contains illegal characters (whitespace or "/")`),Ot&&on&&L.push("and"),on&&L.push(`version name "${pe}" contains illegal characters (whitespace or "/")`),void B.warn(L.join(" "))}Pt(new J.wA(`${st}-version`,()=>({library:st,version:pe}),"VERSION"))}function tt(Ne,pe){if(null!==Ne&&"function"!=typeof Ne)throw sn.create("invalid-log-argument");(0,N.Am)(Ne,pe)}function Wi(Ne){(0,N.Ub)(Ne)}const ri="firebase-heartbeat-database",dn=1,Dn="firebase-heartbeat-store";let Pr=null;function yt(){return Pr||(Pr=(0,ee.X3)(ri,dn,{upgrade:(Ne,pe)=>{0===pe&&Ne.createObjectStore(Dn)}}).catch(Ne=>{throw sn.create("idb-open",{originalErrorMessage:Ne.message})})),Pr}function ct(){return(ct=(0,f.Z)(function*(Ne){try{return(yield yt()).transaction(Dn).objectStore(Dn).get(pn(Ne))}catch(pe){if(pe instanceof re.ZR)B.warn(pe.message);else{const Ze=sn.create("idb-get",{originalErrorMessage:pe?.message});B.warn(Ze.message)}}})).apply(this,arguments)}function zi(Ne,pe){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,f.Z)(function*(Ne,pe){try{const ft=(yield yt()).transaction(Dn,"readwrite");return yield ft.objectStore(Dn).put(pe,pn(Ne)),ft.done}catch(Ze){if(Ze instanceof re.ZR)B.warn(Ze.message);else{const ft=sn.create("idb-set",{originalErrorMessage:Ze?.message});B.warn(ft.message)}}})).apply(this,arguments)}function pn(Ne){return`${Ne.name}!${Ne.options.appId}`}class ro{constructor(pe){this.container=pe,this._heartbeatsCache=null;const Ze=this.container.getProvider("app").getImmediate();this._storage=new Nt(Ze),this._heartbeatsCachePromise=this._storage.read().then(ft=>(this._heartbeatsCache=ft,ft))}triggerHeartbeat(){var pe=this;return(0,f.Z)(function*(){const ft=pe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),st=Gt();if(null===pe._heartbeatsCache&&(pe._heartbeatsCache=yield pe._heartbeatsCachePromise),pe._heartbeatsCache.lastSentHeartbeatDate!==st&&!pe._heartbeatsCache.heartbeats.some(Ot=>Ot.date===st))return pe._heartbeatsCache.heartbeats.push({date:st,agent:ft}),pe._heartbeatsCache.heartbeats=pe._heartbeatsCache.heartbeats.filter(Ot=>{const on=new Date(Ot.date).valueOf();return Date.now()-on<=2592e6}),pe._storage.overwrite(pe._heartbeatsCache)})()}getHeartbeatsHeader(){var pe=this;return(0,f.Z)(function*(){if(null===pe._heartbeatsCache&&(yield pe._heartbeatsCachePromise),null===pe._heartbeatsCache||0===pe._heartbeatsCache.heartbeats.length)return"";const Ze=Gt(),{heartbeatsToSend:ft,unsentEntries:st}=function Di(Ne,pe=1024){const Ze=[];let ft=Ne.slice();for(const st of Ne){const Ot=Ze.find(on=>on.agent===st.agent);if(Ot){if(Ot.dates.push(st.date),Ir(Ze)>pe){Ot.dates.pop();break}}else if(Ze.push({agent:st.agent,dates:[st.date]}),Ir(Ze)>pe){Ze.pop();break}ft=ft.slice(1)}return{heartbeatsToSend:Ze,unsentEntries:ft}}(pe._heartbeatsCache.heartbeats),Ot=(0,re.L)(JSON.stringify({version:2,heartbeats:ft}));return pe._heartbeatsCache.lastSentHeartbeatDate=Ze,st.length>0?(pe._heartbeatsCache.heartbeats=st,yield pe._storage.overwrite(pe._heartbeatsCache)):(pe._heartbeatsCache.heartbeats=[],pe._storage.overwrite(pe._heartbeatsCache)),Ot})()}}function Gt(){return(new Date).toISOString().substring(0,10)}class Nt{constructor(pe){this.app=pe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var pe=this;return(0,f.Z)(function*(){return(yield pe._canUseIndexedDBPromise)&&(yield function et(Ne){return ct.apply(this,arguments)}(pe.app))||{heartbeats:[]}})()}overwrite(pe){var Ze=this;return(0,f.Z)(function*(){var ft;if(yield Ze._canUseIndexedDBPromise){const Ot=yield Ze.read();return zi(Ze.app,{lastSentHeartbeatDate:null!==(ft=pe.lastSentHeartbeatDate)&&void 0!==ft?ft:Ot.lastSentHeartbeatDate,heartbeats:pe.heartbeats})}})()}add(pe){var Ze=this;return(0,f.Z)(function*(){var ft;if(yield Ze._canUseIndexedDBPromise){const Ot=yield Ze.read();return zi(Ze.app,{lastSentHeartbeatDate:null!==(ft=pe.lastSentHeartbeatDate)&&void 0!==ft?ft:Ot.lastSentHeartbeatDate,heartbeats:[...Ot.heartbeats,...pe.heartbeats]})}})()}}function Ir(Ne){return(0,re.L)(JSON.stringify({version:2,heartbeats:Ne})).length}!function wr(Ne){Pt(new J.wA("platform-logger",pe=>new ne(pe),"PRIVATE")),Pt(new J.wA("heartbeat",pe=>new ro(pe),"PRIVATE")),jn(oe,"0.9.8",Ne),jn(oe,"0.9.8","esm2017"),jn("fire-js","")}("")},4859:(nt,De,O)=>{O.d(De,{H0:()=>oe,wA:()=>N,zt:()=>ee});var f=O(5861),J=O(2090);class N{constructor(B,U,K){this.name=B,this.instanceFactory=U,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const re="[DEFAULT]";class ee{constructor(B,U){this.name=B,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const U=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(U)){const K=new J.BH;if(this.instancesDeferred.set(U,K),this.isInitialized(U)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:U});je&&K.resolve(je)}catch{}}return this.instancesDeferred.get(U).promise}getImmediate(B){var U;const K=this.normalizeInstanceIdentifier(B?.identifier),je=null!==(U=B?.optional)&&void 0!==U&&U;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Ae){if(je)return null;throw Ae}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function ge(ue){return"EAGER"===ue.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[U,K]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(U);try{const Ae=this.getOrInitializeService({instanceIdentifier:je});K.resolve(Ae)}catch{}}}}clearInstance(B=re){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,f.Z)(function*(){const U=Array.from(B.instances.values());yield Promise.all([...U.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...U.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=re){return this.instances.has(B)}getOptions(B=re){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:U={}}=B,K=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:K,options:U});for(const[Ae,dt]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(Ae)&&dt.resolve(je);return je}onInit(B,U){var K;const je=this.normalizeInstanceIdentifier(U),Ae=null!==(K=this.onInitCallbacks.get(je))&&void 0!==K?K:new Set;Ae.add(B),this.onInitCallbacks.set(je,Ae);const dt=this.instances.get(je);return dt&&B(dt,je),()=>{Ae.delete(B)}}invokeOnInitCallbacks(B,U){const K=this.onInitCallbacks.get(U);if(K)for(const je of K)try{je(B,U)}catch{}}getOrInitializeService({instanceIdentifier:B,options:U={}}){let K=this.instances.get(B);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(ue=B,ue===re?void 0:ue),options:U}),this.instances.set(B,K),this.instancesOptions.set(B,U),this.invokeOnInitCallbacks(K,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,K)}catch{}var ue;return K||null}normalizeInstanceIdentifier(B=re){return this.component?this.component.multipleInstances?B:re:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oe{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const U=this.getProvider(B.name);if(U.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);U.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const U=new ee(B,this);return this.providers.set(B,U),U}getProviders(){return Array.from(this.providers.values())}}},1877:(nt,De,O)=>{O.d(De,{Am:()=>ue,Ub:()=>oe,Yd:()=>ge,in:()=>J});const f=[];var J=(()=>{return(B=J||(J={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",J;var B})();const N={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},re=J.INFO,ee={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},ne=(B,U,...K)=>{if(U<B.logLevel)return;const je=(new Date).toISOString(),Ae=ee[U];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[Ae](`[${je}]  ${B.name}:`,...K)};class ge{constructor(U){this.name=U,this._logLevel=re,this._logHandler=ne,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in J))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?N[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...U),this._logHandler(this,J.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...U),this._logHandler(this,J.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,J.INFO,...U),this._logHandler(this,J.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,J.WARN,...U),this._logHandler(this,J.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...U),this._logHandler(this,J.ERROR,...U)}}function oe(B){f.forEach(U=>{U.setLogLevel(B)})}function ue(B,U){for(const K of f){let je=null;U&&U.level&&(je=N[U.level]),K.userLogHandler=null===B?null:(Ae,dt,...$e)=>{const se=$e.map(we=>{if(null==we)return null;if("string"==typeof we)return we;if("number"==typeof we||"boolean"==typeof we)return we.toString();if(we instanceof Error)return we.message;try{return JSON.stringify(we)}catch{return null}}).filter(we=>we).join(" ");dt>=(je??Ae.logLevel)&&B({level:J[dt].toLowerCase(),message:se,args:$e,type:Ae.name})}}}},259:(nt,De,O)=>{O.d(De,{C6:()=>f.getApps,Mq:()=>f.getApp,ZF:()=>f.initializeApp});var f=O(9681);(0,f.registerVersion)("firebase","9.20.0","app")},9260:(nt,De,O)=>{O.d(De,{Z:()=>f.Z});var f=O(3942);f.Z.registerVersion("firebase","9.20.0","app-compat")},6689:(nt,De,O)=>{O.r(De);var f=O(5861),J=O(3942),N=O(2090),re=O(9681),ee=O(655),ne=O(1877),ge=O(4859);const ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},K_EMAIL_SIGNIN="EMAIL_SIGNIN",K_PASSWORD_RESET="PASSWORD_RESET",K_RECOVER_EMAIL="RECOVER_EMAIL",K_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",K_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",K_VERIFY_EMAIL="VERIFY_EMAIL";const dt=function je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},$e=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},se=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_e=new ne.Yd("@firebase/auth");function Te(g,...c){_e.logLevel<=ne.in.ERROR&&_e.error(`Auth (${re.SDK_VERSION}): ${g}`,...c)}function de(g,...c){throw ie(g,...c)}function he(g,...c){return ie(g,...c)}function Le(g,c,d){const _=Object.assign(Object.assign({},$e()),{[c]:d});return new N.LL("auth","Firebase",_).create(c,{appName:g.name})}function Se(g,c,d){if(!(c instanceof d))throw d.name!==c.constructor.name&&de(g,"argument-error"),Le(g,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ie(g,...c){if("string"!=typeof g){const d=c[0],_=[...c.slice(1)];return _[0]&&(_[0].appName=g.name),g._errorFactory.create(d,..._)}return se.create(g,...c)}function H(g,c,...d){if(!g)throw ie(c,...d)}function Oe(g){const c="INTERNAL ASSERTION FAILED: "+g;throw Te(c),new Error(c)}function Fe(g,c){g||Oe(c)}function ot(){var g;return typeof self<"u"&&(null===(g=self.location)||void 0===g?void 0:g.href)||""}function We(){return"http:"===te()||"https:"===te()}function te(){var g;return typeof self<"u"&&(null===(g=self.location)||void 0===g?void 0:g.protocol)||null}class Ce{constructor(c,d){this.shortDelay=c,this.longDelay=d,Fe(d>c,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function ae(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(We()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Re(g,c){Fe(g.emulator,"Emulator should always be set here");const{url:d}=g.emulator;return c?`${d}${c.startsWith("/")?c.slice(1):c}`:d}class ke{static initialize(c,d,_){this.fetchImpl=c,d&&(this.headersImpl=d),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Oe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Oe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Oe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Je={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ze=new Ce(3e4,6e4);function rt(g,c){return g.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:g.tenantId}):c}function Ge(g,c,d,_){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,f.Z)(function*(g,c,d,_,D={}){return it(g,D,(0,f.Z)(function*(){let A={},V={};_&&("GET"===c?V=_:A={body:JSON.stringify(_)});const Z=(0,N.xO)(Object.assign({key:g.config.apiKey},V)).slice(1),Ie=yield g._getAdditionalHeaders();return Ie["Content-Type"]="application/json",g.languageCode&&(Ie["X-Firebase-Locale"]=g.languageCode),ke.fetch()(sn(g,g.config.apiHost,d,Z),Object.assign({method:c,headers:Ie,referrerPolicy:"no-referrer"},A))}))})).apply(this,arguments)}function it(g,c,d){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,f.Z)(function*(g,c,d){g._canInitEmulator=!1;const _=Object.assign(Object.assign({},Je),c);try{const D=new Qn(g),A=yield Promise.race([d(),D.promise]);D.clearNetworkTimeout();const V=yield A.json();if("needConfirmation"in V)throw Hn(g,"account-exists-with-different-credential",V);if(A.ok&&!("errorMessage"in V))return V;{const Z=A.ok?V.errorMessage:V.error.message,[Ie,Pe]=Z.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ie)throw Hn(g,"credential-already-in-use",V);if("EMAIL_EXISTS"===Ie)throw Hn(g,"email-already-in-use",V);if("USER_DISABLED"===Ie)throw Hn(g,"user-disabled",V);const Qe=_[Ie]||Ie.toLowerCase().replace(/[_\s]+/g,"-");if(Pe)throw Le(g,Qe,Pe);de(g,Qe)}}catch(D){if(D instanceof N.ZR)throw D;de(g,"network-request-failed",{message:String(D)})}})).apply(this,arguments)}function Wt(g,c,d,_){return $t.apply(this,arguments)}function $t(){return($t=(0,f.Z)(function*(g,c,d,_,D={}){const A=yield Ge(g,c,d,_,D);return"mfaPendingCredential"in A&&de(g,"multi-factor-auth-required",{_serverResponse:A}),A})).apply(this,arguments)}function sn(g,c,d,_){const D=`${c}${d}?${_}`;return g.config.emulator?Re(g.config,D):`${g.config.apiScheme}://${D}`}class Qn{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((d,_)=>{this.timer=setTimeout(()=>_(he(this.auth,"network-request-failed")),ze.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hn(g,c,d){const _={appName:g.name};d.email&&(_.email=d.email),d.phoneNumber&&(_.phoneNumber=d.phoneNumber);const D=he(g,c,_);return D.customData._tokenResponse=d,D}function Jn(){return(Jn=(0,f.Z)(function*(g,c){return Ge(g,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function Wr(){return(Wr=(0,f.Z)(function*(g,c){return Ge(g,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function jn(){return(jn=(0,f.Z)(function*(g,c){return Ge(g,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function tt(g){if(g)try{const c=new Date(Number(g));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function dn(){return(dn=(0,f.Z)(function*(g,c=!1){const d=(0,N.m9)(g),_=yield d.getIdToken(c),D=Pr(_);H(D&&D.exp&&D.auth_time&&D.iat,d.auth,"internal-error");const A="object"==typeof D.firebase?D.firebase:void 0,V=A?.sign_in_provider;return{claims:D,token:_,authTime:tt(Dn(D.auth_time)),issuedAtTime:tt(Dn(D.iat)),expirationTime:tt(Dn(D.exp)),signInProvider:V||null,signInSecondFactor:A?.sign_in_second_factor||null}})).apply(this,arguments)}function Dn(g){return 1e3*Number(g)}function Pr(g){const[c,d,_]=g.split(".");if(void 0===c||void 0===d||void 0===_)return Te("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,N.tV)(d);return D?JSON.parse(D):(Te("Failed to decode base64 JWT payload"),null)}catch(D){return Te("Caught error parsing JWT payload as JSON",D?.toString()),null}}function et(g,c){return ct.apply(this,arguments)}function ct(){return(ct=(0,f.Z)(function*(g,c,d=!1){if(d)return c;try{return yield c}catch(_){throw _ instanceof N.ZR&&function zi({code:g}){return"auth/user-disabled"===g||"auth/user-token-expired"===g}(_)&&g.auth.currentUser===g&&(yield g.auth.signOut()),_}})).apply(this,arguments)}class Ln{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var d;if(c){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const D=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(c=!1){var d=this;if(!this.isRunning)return;const _=this.getInterval(c);this.timerId=setTimeout((0,f.Z)(function*(){yield d.iteration()}),_)}iteration(){var c=this;return(0,f.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&c.schedule(!0))}c.schedule()})()}}class pn{constructor(c,d){this.createdAt=c,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=tt(this.lastLoginAt),this.creationTime=tt(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function gn(g){return Rn.apply(this,arguments)}function Rn(){return Rn=(0,f.Z)(function*(g){var c;const d=g.auth,_=yield g.getIdToken(),D=yield et(g,function Xt(g,c){return jn.apply(this,arguments)}(d,{idToken:_}));H(D?.users.length,d,"internal-error");const A=D.users[0];g._notifyReloadListener(A);const V=null!==(c=A.providerUserInfo)&&void 0!==c&&c.length?function Nt(g){return g.map(c=>{var{providerId:d}=c,_=(0,ee._T)(c,["providerId"]);return{providerId:d,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}(A.providerUserInfo):[],Z=function Di(g,c){return[...g.filter(_=>!c.some(D=>D.providerId===_.providerId)),...c]}(g.providerData,V),Qe=!!g.isAnonymous&&!(g.email&&A.passwordHash||Z?.length),Ke={uid:A.localId,displayName:A.displayName||null,photoURL:A.photoUrl||null,email:A.email||null,emailVerified:A.emailVerified||!1,phoneNumber:A.phoneNumber||null,tenantId:A.tenantId||null,providerData:Z,metadata:new pn(A.createdAt,A.lastLoginAt),isAnonymous:Qe};Object.assign(g,Ke)}),Rn.apply(this,arguments)}function Gt(){return(Gt=(0,f.Z)(function*(g){const c=(0,N.m9)(g);yield gn(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function wr(){return(wr=(0,f.Z)(function*(g,c){const d=yield it(g,{},(0,f.Z)(function*(){const _=(0,N.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:D,apiKey:A}=g.config,V=sn(g,D,"/v1/token",`key=${A}`),Z=yield g._getAdditionalHeaders();return Z["Content-Type"]="application/x-www-form-urlencoded",ke.fetch()(V,{method:"POST",headers:Z,body:_})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}class Ne{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){H(c.idToken,"internal-error"),H(typeof c.idToken<"u","internal-error"),H(typeof c.refreshToken<"u","internal-error");const d="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function yt(g){const c=Pr(g);return H(c,"internal-error"),H(typeof c.exp<"u","internal-error"),H(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,d)}getToken(c,d=!1){var _=this;return(0,f.Z)(function*(){return H(!_.accessToken||_.refreshToken,c,"user-token-expired"),d||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(c,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,d){var _=this;return(0,f.Z)(function*(){const{accessToken:D,refreshToken:A,expiresIn:V}=yield function Ir(g,c){return wr.apply(this,arguments)}(c,d);_.updateTokensAndExpiration(D,A,Number(V))})()}updateTokensAndExpiration(c,d,_){this.refreshToken=d||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(c,d){const{refreshToken:_,accessToken:D,expirationTime:A}=d,V=new Ne;return _&&(H("string"==typeof _,"internal-error",{appName:c}),V.refreshToken=_),D&&(H("string"==typeof D,"internal-error",{appName:c}),V.accessToken=D),A&&(H("number"==typeof A,"internal-error",{appName:c}),V.expirationTime=A),V}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new Ne,this.toJSON())}_performRefresh(){return Oe("not implemented")}}function pe(g,c){H("string"==typeof g||typeof g>"u","internal-error",{appName:c})}class Ze{constructor(c){var{uid:d,auth:_,stsTokenManager:D}=c,A=(0,ee._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ln(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=_,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=A.displayName||null,this.email=A.email||null,this.emailVerified=A.emailVerified||!1,this.phoneNumber=A.phoneNumber||null,this.photoURL=A.photoURL||null,this.isAnonymous=A.isAnonymous||!1,this.tenantId=A.tenantId||null,this.providerData=A.providerData?[...A.providerData]:[],this.metadata=new pn(A.createdAt||void 0,A.lastLoginAt||void 0)}getIdToken(c){var d=this;return(0,f.Z)(function*(){const _=yield et(d,d.stsTokenManager.getToken(d.auth,c));return H(_,d.auth,"internal-error"),d.accessToken!==_&&(d.accessToken=_,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),_})()}getIdTokenResult(c){return function ri(g){return dn.apply(this,arguments)}(this,c)}reload(){return function ro(g){return Gt.apply(this,arguments)}(this)}_assign(c){this!==c&&(H(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(d=>Object.assign({},d)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const d=new Ze(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(c){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,d=!1){var _=this;return(0,f.Z)(function*(){let D=!1;c.idToken&&c.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(c),D=!0),d&&(yield gn(_)),yield _.auth._persistUserIfCurrent(_),D&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var c=this;return(0,f.Z)(function*(){const d=yield c.getIdToken();return yield et(c,function Gi(g,c){return Jn.apply(this,arguments)}(c.auth,{idToken:d})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,d){var _,D,A,V,Z,Ie,Pe,Qe;const Ke=null!==(_=d.displayName)&&void 0!==_?_:void 0,cn=null!==(D=d.email)&&void 0!==D?D:void 0,Rt=null!==(A=d.phoneNumber)&&void 0!==A?A:void 0,Vo=null!==(V=d.photoURL)&&void 0!==V?V:void 0,oh=null!==(Z=d.tenantId)&&void 0!==Z?Z:void 0,Ys=null!==(Ie=d._redirectEventId)&&void 0!==Ie?Ie:void 0,Ju=null!==(Pe=d.createdAt)&&void 0!==Pe?Pe:void 0,Zt=null!==(Qe=d.lastLoginAt)&&void 0!==Qe?Qe:void 0,{uid:gi,emailVerified:Ba,isAnonymous:_t,providerData:Xu,stsTokenManager:Ua}=d;H(gi&&Ua,c,"internal-error");const Yp=Ne.fromJSON(this.name,Ua);H("string"==typeof gi,c,"internal-error"),pe(Ke,c.name),pe(cn,c.name),H("boolean"==typeof Ba,c,"internal-error"),H("boolean"==typeof _t,c,"internal-error"),pe(Rt,c.name),pe(Vo,c.name),pe(oh,c.name),pe(Ys,c.name),pe(Ju,c.name),pe(Zt,c.name);const Jt=new Ze({uid:gi,auth:c,email:cn,emailVerified:Ba,displayName:Ke,isAnonymous:_t,photoURL:Vo,phoneNumber:Rt,tenantId:oh,stsTokenManager:Yp,createdAt:Ju,lastLoginAt:Zt});return Xu&&Array.isArray(Xu)&&(Jt.providerData=Xu.map(Id=>Object.assign({},Id))),Ys&&(Jt._redirectEventId=Ys),Jt}static _fromIdTokenResponse(c,d,_=!1){return(0,f.Z)(function*(){const D=new Ne;D.updateFromServerResponse(d);const A=new Ze({uid:d.localId,auth:c,stsTokenManager:D,isAnonymous:_});return yield gn(A),A})()}}const ft=new Map;function st(g){Fe(g instanceof Function,"Expected a class definition");let c=ft.get(g);return c?(Fe(c instanceof g,"Instance stored in cache mismatched with class"),c):(c=new g,ft.set(g,c),c)}const on=(()=>{class g{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(d,_){var D=this;return(0,f.Z)(function*(){D.storage[d]=_})()}_get(d){var _=this;return(0,f.Z)(function*(){const D=_.storage[d];return void 0===D?null:D})()}_remove(d){var _=this;return(0,f.Z)(function*(){delete _.storage[d]})()}_addListener(d,_){}_removeListener(d,_){}}return g.type="NONE",g})();function L(g,c,d){return`firebase:${g}:${c}:${d}`}class F{constructor(c,d,_){this.persistence=c,this.auth=d,this.userKey=_;const{config:D,name:A}=this.auth;this.fullUserKey=L(this.userKey,D.apiKey,A),this.fullPersistenceKey=L("persistence",D.apiKey,A),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,f.Z)(function*(){const d=yield c.persistence._get(c.fullUserKey);return d?Ze._fromJSON(c.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var d=this;return(0,f.Z)(function*(){if(d.persistence===c)return;const _=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=c,_?d.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,d,_="authUser"){return(0,f.Z)(function*(){if(!d.length)return new F(st(on),c,_);const D=(yield Promise.all(d.map(function(){var Pe=(0,f.Z)(function*(Qe){if(yield Qe._isAvailable())return Qe});return function(Qe){return Pe.apply(this,arguments)}}()))).filter(Pe=>Pe);let A=D[0]||st(on);const V=L(_,c.config.apiKey,c.name);let Z=null;for(const Pe of d)try{const Qe=yield Pe._get(V);if(Qe){const Ke=Ze._fromJSON(c,Qe);Pe!==A&&(Z=Ke),A=Pe;break}}catch{}const Ie=D.filter(Pe=>Pe._shouldAllowMigration);return A._shouldAllowMigration&&Ie.length?(A=Ie[0],Z&&(yield A._set(V,Z.toJSON())),yield Promise.all(d.map(function(){var Pe=(0,f.Z)(function*(Qe){if(Qe!==A)try{yield Qe._remove(V)}catch{}});return function(Qe){return Pe.apply(this,arguments)}}())),new F(A,c,_)):new F(A,c,_)})()}}function $(g){const c=g.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(Ue(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(le(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(mn(c))return"Blackberry";if(an(c))return"Webos";if(Q(c))return"Safari";if((c.includes("chrome/")||qe(c))&&!c.includes("edge/"))return"Chrome";if(Bt(c))return"Android";{const _=g.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===_?.length)return _[1]}return"Other"}function le(g=(0,N.z$)()){return/firefox\//i.test(g)}function Q(g=(0,N.z$)()){const c=g.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function qe(g=(0,N.z$)()){return/crios\//i.test(g)}function Ue(g=(0,N.z$)()){return/iemobile/i.test(g)}function Bt(g=(0,N.z$)()){return/android/i.test(g)}function mn(g=(0,N.z$)()){return/blackberry/i.test(g)}function an(g=(0,N.z$)()){return/webos/i.test(g)}function en(g=(0,N.z$)()){return/iphone|ipad|ipod/i.test(g)||/macintosh/i.test(g)&&/mobile/i.test(g)}function io(g=(0,N.z$)()){return en(g)||Bt(g)||an(g)||mn(g)||/windows phone/i.test(g)||Ue(g)}function Xo(g,c=[]){let d;switch(g){case"Browser":d=$((0,N.z$)());break;case"Worker":d=`${$((0,N.z$)())}-${g}`;break;default:d=g}const _=c.length?c.join(","):"FirebaseCore-web";return`${d}/JsCore/${re.SDK_VERSION}/${_}`}function _s(){return(_s=(0,f.Z)(function*(g){return(yield Ge(g,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function cu(g,c){return ys.apply(this,arguments)}function ys(){return(ys=(0,f.Z)(function*(g,c){return Ge(g,"GET","/v2/recaptchaConfig",rt(g,c))})).apply(this,arguments)}function el(g){return void 0!==g&&void 0!==g.getResponse}function tl(g){return void 0!==g&&void 0!==g.enterprise}class kt{constructor(c){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.emailPasswordEnabled=c.recaptchaEnforcementState.some(d=>"EMAIL_PASSWORD_PROVIDER"===d.provider&&"OFF"!==d.enforcementState)}}function bn(g){return new Promise((c,d)=>{const _=document.createElement("script");_.setAttribute("src",g),_.onload=c,_.onerror=D=>{const A=he("internal-error");A.customData=D,d(A)},_.type="text/javascript",_.charset="UTF-8",function _n(){var g,c;return null!==(c=null===(g=document.getElementsByTagName("head"))||void 0===g?void 0:g[0])&&void 0!==c?c:document}().appendChild(_)})}function bi(g){return`__${g}${Math.floor(1e6*Math.random())}`}class ea{constructor(c){this.type="recaptcha-enterprise",this.auth=ht(c)}verify(c="verify",d=!1){var _=this;return(0,f.Z)(function*(){function A(){return A=(0,f.Z)(function*(Z){if(!d){if(null==Z.tenantId&&null!=Z._agentRecaptchaConfig)return Z._agentRecaptchaConfig.siteKey;if(null!=Z.tenantId&&void 0!==Z._tenantRecaptchaConfigs[Z.tenantId])return Z._tenantRecaptchaConfigs[Z.tenantId].siteKey}return new Promise(function(){var Ie=(0,f.Z)(function*(Pe,Qe){cu(Z,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ke=>{if(void 0!==Ke.recaptchaKey){const cn=new kt(Ke);return null==Z.tenantId?Z._agentRecaptchaConfig=cn:Z._tenantRecaptchaConfigs[Z.tenantId]=cn,Pe(cn.siteKey)}Qe(new Error("recaptcha Enterprise site key undefined"))}).catch(Ke=>{Qe(Ke)})});return function(Pe,Qe){return Ie.apply(this,arguments)}}())}),A.apply(this,arguments)}function V(Z,Ie,Pe){const Qe=window.grecaptcha;tl(Qe)?Qe.enterprise.ready(()=>{try{Qe.enterprise.execute(Z,{action:c}).then(Ke=>{Ie(Ke)}).catch(Ke=>{Pe(Ke)})}catch(Ke){Pe(Ke)}}):Pe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Z,Ie)=>{(function D(Z){return A.apply(this,arguments)})(_.auth).then(Pe=>{if(!d&&tl(window.grecaptcha))V(Pe,Z,Ie);else{if(typeof window>"u")return void Ie(new Error("RecaptchaVerifier is only supported in browser"));bn("https://www.google.com/recaptcha/enterprise.js?render="+Pe).then(()=>{V(Pe,Z,Ie)}).catch(Qe=>{Ie(Qe)})}}).catch(Pe=>{Ie(Pe)})})})()}}function sr(g,c,d){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,f.Z)(function*(g,c,d,_=!1){const D=new ea(g);let A;try{A=yield D.verify(d)}catch{A=yield D.verify(d,!0)}const V=Object.assign({},c);return Object.assign(V,_?{captchaResp:A}:{captchaResponse:A}),Object.assign(V,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(V,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),V})).apply(this,arguments)}class Ye{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,d){const _=A=>new Promise((V,Z)=>{try{V(c(A))}catch(Ie){Z(Ie)}});_.onAbort=d,this.queue.push(_);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(c){var d=this;return(0,f.Z)(function*(){if(d.auth.currentUser===c)return;const _=[];try{for(const D of d.queue)yield D(c),D.onAbort&&_.push(D.onAbort)}catch(D){_.reverse();for(const A of _)try{A()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:D?.message})}})()}}class vt{constructor(c,d,_,D){this.app=c,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=_,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new br(this),this.idTokenSubscription=new br(this),this.beforeStateQueue=new Ye(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=se,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(c,d){var _=this;return d&&(this._popupRedirectResolver=st(d)),this._initializationPromise=this.queue((0,f.Z)(function*(){var D,A;if(!_._deleted&&(_.persistenceManager=yield F.create(_,c),!_._deleted)){if(null!==(D=_._popupRedirectResolver)&&void 0!==D&&D._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch{}yield _.initializeCurrentUser(d),_.lastNotifiedUid=(null===(A=_.currentUser)||void 0===A?void 0:A.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,f.Z)(function*(){if(c._deleted)return;const d=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||d){if(c.currentUser&&d&&c.currentUser.uid===d.uid)return c._currentUser._assign(d),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(d,!0)}})()}initializeCurrentUser(c){var d=this;return(0,f.Z)(function*(){var _;const D=yield d.assertedPersistence.getCurrentUser();let A=D,V=!1;if(c&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const Z=null===(_=d.redirectUser)||void 0===_?void 0:_._redirectEventId,Ie=A?._redirectEventId,Pe=yield d.tryRedirectSignIn(c);(!Z||Z===Ie)&&Pe?.user&&(A=Pe.user,V=!0)}if(!A)return d.directlySetCurrentUser(null);if(!A._redirectEventId){if(V)try{yield d.beforeStateQueue.runMiddleware(A)}catch(Z){A=D,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(Z))}return A?d.reloadAndSetCurrentUserOrClear(A):d.directlySetCurrentUser(null)}return H(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===A._redirectEventId?d.directlySetCurrentUser(A):d.reloadAndSetCurrentUserOrClear(A)})()}tryRedirectSignIn(c){var d=this;return(0,f.Z)(function*(){let _=null;try{_=yield d._popupRedirectResolver._completeRedirectFn(d,c,!0)}catch{yield d._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(c){var d=this;return(0,f.Z)(function*(){try{yield gn(c)}catch(_){if("auth/network-request-failed"!==_?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function fe(){if(typeof navigator>"u")return null;const g=navigator;return g.languages&&g.languages[0]||g.language||null}()}_delete(){var c=this;return(0,f.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var d=this;return(0,f.Z)(function*(){const _=c?(0,N.m9)(c):null;return _&&H(_.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(_&&_._clone(d))})()}_updateCurrentUser(c,d=!1){var _=this;return(0,f.Z)(function*(){if(!_._deleted)return c&&H(_.tenantId===c.tenantId,_,"tenant-id-mismatch"),d||(yield _.beforeStateQueue.runMiddleware(c)),_.queue((0,f.Z)(function*(){yield _.directlySetCurrentUser(c),_.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,f.Z)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var d=this;return this.queue((0,f.Z)(function*(){yield d.assertedPersistence.setPersistence(st(c))}))}initializeRecaptchaConfig(){var c=this;return(0,f.Z)(function*(){const d=yield cu(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),_=new kt(d);null==c.tenantId?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,_.emailPasswordEnabled&&new ea(c).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new N.LL("auth","Firebase",c())}onAuthStateChanged(c,d,_){return this.registerStateListener(this.authStateSubscription,c,d,_)}beforeAuthStateChanged(c,d){return this.beforeStateQueue.pushCallback(c,d)}onIdTokenChanged(c,d,_){return this.registerStateListener(this.idTokenSubscription,c,d,_)}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,d){var _=this;return(0,f.Z)(function*(){const D=yield _.getOrInitRedirectPersistenceManager(d);return null===c?D.removeCurrentUser():D.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var d=this;return(0,f.Z)(function*(){if(!d.redirectPersistenceManager){const _=c&&st(c)||d._popupRedirectResolver;H(_,d,"argument-error"),d.redirectPersistenceManager=yield F.create(d,[st(_._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(c){var d=this;return(0,f.Z)(function*(){var _,D;return d._isInitialized&&(yield d.queue((0,f.Z)(function*(){}))),(null===(_=d._currentUser)||void 0===_?void 0:_._redirectEventId)===c?d._currentUser:(null===(D=d.redirectUser)||void 0===D?void 0:D._redirectEventId)===c?d.redirectUser:null})()}_persistUserIfCurrent(c){var d=this;return(0,f.Z)(function*(){if(c===d.currentUser)return d.queue((0,f.Z)(function*(){return d.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(d=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,d,_,D){if(this._deleted)return()=>{};const A="function"==typeof d?d:d.next.bind(d),V=this._isInitialized?Promise.resolve():this._initializationPromise;return H(V,this,"internal-error"),V.then(()=>A(this.currentUser)),"function"==typeof d?c.addObserver(d,_,D):c.addObserver(d)}directlySetCurrentUser(c){var d=this;return(0,f.Z)(function*(){d.currentUser&&d.currentUser!==c&&d._currentUser._stopProactiveRefresh(),c&&d.isProactiveRefreshEnabled&&c._startProactiveRefresh(),d.currentUser=c,c?yield d.assertedPersistence.setCurrentUser(c):yield d.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=Xo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,f.Z)(function*(){var d;const _={"X-Client-Version":c.clientVersion};c.app.options.appId&&(_["X-Firebase-gmpid"]=c.app.options.appId);const D=yield null===(d=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();D&&(_["X-Firebase-Client"]=D);const A=yield c._getAppCheckToken();return A&&(_["X-Firebase-AppCheck"]=A),_})()}_getAppCheckToken(){var c=this;return(0,f.Z)(function*(){var d;const _=yield null===(d=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return _?.error&&function Me(g,...c){_e.logLevel<=ne.in.WARN&&_e.warn(`Auth (${re.SDK_VERSION}): ${g}`,...c)}(`Error while retrieving App Check token: ${_.error}`),_?.token})()}}function ht(g){return(0,N.m9)(g)}class br{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,N.ne)(d=>this.observer=d)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function tn(g){const c=g.indexOf(":");return c<0?"":g.substr(0,c+1)}function ta(g){if(!g)return null;const c=Number(g);return isNaN(c)?null:c}class si{constructor(c,d){this.providerId=c,this.signInMethod=d}toJSON(){return Oe("not implemented")}_getIdTokenResponse(c){return Oe("not implemented")}_linkToIdToken(c,d){return Oe("not implemented")}_getReauthenticationResolver(c){return Oe("not implemented")}}function Ki(g,c){return qi.apply(this,arguments)}function qi(){return(qi=(0,f.Z)(function*(g,c){return Ge(g,"POST","/v1/accounts:resetPassword",rt(g,c))})).apply(this,arguments)}function vs(g,c){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,f.Z)(function*(g,c){return Ge(g,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Yi(){return(Yi=(0,f.Z)(function*(g,c){return Ge(g,"POST","/v1/accounts:update",rt(g,c))})).apply(this,arguments)}function Nr(g,c){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,f.Z)(function*(g,c){return Wt(g,"POST","/v1/accounts:signInWithPassword",rt(g,c))})).apply(this,arguments)}function na(g,c){return St.apply(this,arguments)}function St(){return(St=(0,f.Z)(function*(g,c){return Ge(g,"POST","/v1/accounts:sendOobCode",rt(g,c))})).apply(this,arguments)}function so(){return(so=(0,f.Z)(function*(g,c){return na(g,c)})).apply(this,arguments)}function ra(g,c){return oi.apply(this,arguments)}function oi(){return(oi=(0,f.Z)(function*(g,c){return na(g,c)})).apply(this,arguments)}function Tr(g,c){return Si.apply(this,arguments)}function Si(){return(Si=(0,f.Z)(function*(g,c){return na(g,c)})).apply(this,arguments)}function du(){return(du=(0,f.Z)(function*(g,c){return na(g,c)})).apply(this,arguments)}function ar(){return(ar=(0,f.Z)(function*(g,c){return Wt(g,"POST","/v1/accounts:signInWithEmailLink",rt(g,c))})).apply(this,arguments)}function Is(){return(Is=(0,f.Z)(function*(g,c){return Wt(g,"POST","/v1/accounts:signInWithEmailLink",rt(g,c))})).apply(this,arguments)}class Or extends si{constructor(c,d,_,D=null){super("password",_),this._email=c,this._password=d,this._tenantId=D}static _fromEmailAndPassword(c,d){return new Or(c,d,"password")}static _fromEmailAndCode(c,d,_=null){return new Or(c,d,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(c){var d=this;return(0,f.Z)(function*(){var _;switch(d.signInMethod){case"password":const D={returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(_=c._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const A=yield sr(c,D,"signInWithPassword");return Nr(c,A)}return Nr(c,D).catch(function(){var A=(0,f.Z)(function*(V){if("auth/missing-recaptcha-token"===V.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Z=yield sr(c,D,"signInWithPassword");return Nr(c,Z)}return Promise.reject(V)});return function(V){return A.apply(this,arguments)}}());case"emailLink":return function or(g,c){return ar.apply(this,arguments)}(c,{email:d._email,oobCode:d._password});default:de(c,"internal-error")}})()}_linkToIdToken(c,d){var _=this;return(0,f.Z)(function*(){switch(_.signInMethod){case"password":return vs(c,{idToken:d,returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function nl(g,c){return Is.apply(this,arguments)}(c,{idToken:d,email:_._email,oobCode:_._password});default:de(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function vn(g,c){return oo.apply(this,arguments)}function oo(){return(oo=(0,f.Z)(function*(g,c){return Wt(g,"POST","/v1/accounts:signInWithIdp",rt(g,c))})).apply(this,arguments)}class Zr extends si{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const d=new Zr(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(d.idToken=c.idToken),c.accessToken&&(d.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(d.nonce=c.nonce),c.pendingToken&&(d.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(d.accessToken=c.oauthToken,d.secret=c.oauthTokenSecret):de("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:_,signInMethod:D}=d,A=(0,ee._T)(d,["providerId","signInMethod"]);if(!_||!D)return null;const V=new Zr(_,D);return V.idToken=A.idToken||void 0,V.accessToken=A.accessToken||void 0,V.secret=A.secret,V.nonce=A.nonce,V.pendingToken=A.pendingToken||null,V}_getIdTokenResponse(c){return vn(c,this.buildRequest())}_linkToIdToken(c,d){const _=this.buildRequest();return _.idToken=d,vn(c,_)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,vn(c,d)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),c.postBody=(0,N.xO)(d)}return c}}function hu(){return(hu=(0,f.Z)(function*(g,c){return Ge(g,"POST","/v1/accounts:sendVerificationCode",rt(g,c))})).apply(this,arguments)}function gu(){return(gu=(0,f.Z)(function*(g,c){return Wt(g,"POST","/v1/accounts:signInWithPhoneNumber",rt(g,c))})).apply(this,arguments)}function mu(){return(mu=(0,f.Z)(function*(g,c){const d=yield Wt(g,"POST","/v1/accounts:signInWithPhoneNumber",rt(g,c));if(d.temporaryProof)throw Hn(g,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const Hc={USER_NOT_FOUND:"user-not-found"};function ai(){return(ai=(0,f.Z)(function*(g,c){return Wt(g,"POST","/v1/accounts:signInWithPhoneNumber",rt(g,Object.assign(Object.assign({},c),{operation:"REAUTH"})),Hc)})).apply(this,arguments)}class ao extends si{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,d){return new ao({verificationId:c,verificationCode:d})}static _fromTokenResponse(c,d){return new ao({phoneNumber:c,temporaryProof:d})}_getIdTokenResponse(c){return function pu(g,c){return gu.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,d){return function Tf(g,c){return mu.apply(this,arguments)}(c,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function Qi(g,c){return ai.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:d,verificationId:_,verificationCode:D}=this.params;return c&&d?{temporaryProof:c,phoneNumber:d}:{sessionInfo:_,code:D}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:d,verificationCode:_,phoneNumber:D,temporaryProof:A}=c;return _||d||D||A?new ao({verificationId:d,verificationCode:_,phoneNumber:D,temporaryProof:A}):null}}class lo{constructor(c){var d,_,D,A,V,Z;const Ie=(0,N.zd)((0,N.pd)(c)),Pe=null!==(d=Ie.apiKey)&&void 0!==d?d:null,Qe=null!==(_=Ie.oobCode)&&void 0!==_?_:null,Ke=function _u(g){switch(g){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Ie.mode)&&void 0!==D?D:null);H(Pe&&Qe&&Ke,"argument-error"),this.apiKey=Pe,this.operation=Ke,this.code=Qe,this.continueUrl=null!==(A=Ie.continueUrl)&&void 0!==A?A:null,this.languageCode=null!==(V=Ie.languageCode)&&void 0!==V?V:null,this.tenantId=null!==(Z=Ie.tenantId)&&void 0!==Z?Z:null}static parseLink(c){const d=function jc(g){const c=(0,N.zd)((0,N.pd)(g)).link,d=c?(0,N.zd)((0,N.pd)(c)).deep_link_id:null,_=(0,N.zd)((0,N.pd)(g)).deep_link_id;return(_?(0,N.zd)((0,N.pd)(_)).link:null)||_||d||c||g}(c);try{return new lo(d)}catch{return null}}}let ws=(()=>{class g{constructor(){this.providerId=g.PROVIDER_ID}static credential(d,_){return Or._fromEmailAndPassword(d,_)}static credentialWithLink(d,_){const D=lo.parseLink(_);return H(D,"argument-error"),Or._fromEmailAndCode(d,D.code,D.tenantId)}}return g.PROVIDER_ID="password",g.EMAIL_PASSWORD_SIGN_IN_METHOD="password",g.EMAIL_LINK_SIGN_IN_METHOD="emailLink",g})();class Ji{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class uo extends Ji{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class ia extends uo{static credentialFromJSON(c){const d="string"==typeof c?JSON.parse(c):c;return H("providerId"in d&&"signInMethod"in d,"argument-error"),Zr._fromParams(d)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return H(c.idToken||c.accessToken,"argument-error"),Zr._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return ia.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return ia.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:d,oauthAccessToken:_,oauthTokenSecret:D,pendingToken:A,nonce:V,providerId:Z}=c;if(!_&&!D&&!d&&!A||!Z)return null;try{return new ia(Z)._credential({idToken:d,accessToken:_,nonce:V,pendingToken:A})}catch{return null}}}let lr=(()=>{class g extends uo{constructor(){super("facebook.com")}static credential(d){return Zr._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return g.credentialFromTaggedObject(d)}static credentialFromError(d){return g.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return g.credential(d.oauthAccessToken)}catch{return null}}}return g.FACEBOOK_SIGN_IN_METHOD="facebook.com",g.PROVIDER_ID="facebook.com",g})(),rl=(()=>{class g extends uo{constructor(){super("google.com"),this.addScope("profile")}static credential(d,_){return Zr._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:_})}static credentialFromResult(d){return g.credentialFromTaggedObject(d)}static credentialFromError(d){return g.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:_,oauthAccessToken:D}=d;if(!_&&!D)return null;try{return g.credential(_,D)}catch{return null}}}return g.GOOGLE_SIGN_IN_METHOD="google.com",g.PROVIDER_ID="google.com",g})(),co=(()=>{class g extends uo{constructor(){super("github.com")}static credential(d){return Zr._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return g.credentialFromTaggedObject(d)}static credentialFromError(d){return g.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return g.credential(d.oauthAccessToken)}catch{return null}}}return g.GITHUB_SIGN_IN_METHOD="github.com",g.PROVIDER_ID="github.com",g})();class li extends si{constructor(c,d){super(c,c),this.pendingToken=d}_getIdTokenResponse(c){return vn(c,this.buildRequest())}_linkToIdToken(c,d){const _=this.buildRequest();return _.idToken=d,vn(c,_)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,vn(c,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:_,signInMethod:D,pendingToken:A}=d;return _&&D&&A&&_===D?new li(_,A):null}static _create(c,d){return new li(c,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ds extends Ji{constructor(c){H(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return Ds.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return Ds.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const d=li.fromJSON(c);return H(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:d,providerId:_}=c;if(!d||!_)return null;try{return li._create(_,d)}catch{return null}}}let sa=(()=>{class g extends uo{constructor(){super("twitter.com")}static credential(d,_){return Zr._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:_})}static credentialFromResult(d){return g.credentialFromTaggedObject(d)}static credentialFromError(d){return g.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:_,oauthTokenSecret:D}=d;if(!_||!D)return null;try{return g.credential(_,D)}catch{return null}}}return g.TWITTER_SIGN_IN_METHOD="twitter.com",g.PROVIDER_ID="twitter.com",g})();function fo(g,c){return ui.apply(this,arguments)}function ui(){return(ui=(0,f.Z)(function*(g,c){return Wt(g,"POST","/v1/accounts:signUp",rt(g,c))})).apply(this,arguments)}class kr{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,d,_,D=!1){return(0,f.Z)(function*(){const A=yield Ze._fromIdTokenResponse(c,_,D),V=Ht(_);return new kr({user:A,providerId:V,_tokenResponse:_,operationType:d})})()}static _forOperation(c,d,_){return(0,f.Z)(function*(){yield c._updateTokensIfNecessary(_,!0);const D=Ht(_);return new kr({user:c,providerId:D,_tokenResponse:_,operationType:d})})()}}function Ht(g){return g.providerId?g.providerId:"phoneNumber"in g?"phone":null}function bs(){return(bs=(0,f.Z)(function*(g){var c;const d=ht(g);if(yield d._initializationPromise,null!==(c=d.currentUser)&&void 0!==c&&c.isAnonymous)return new kr({user:d.currentUser,providerId:null,operationType:"signIn"});const _=yield fo(d,{returnSecureToken:!0}),D=yield kr._fromIdTokenResponse(d,"signIn",_,!0);return yield d._updateCurrentUser(D.user),D})).apply(this,arguments)}class qt extends N.ZR{constructor(c,d,_,D){var A;super(d.code,d.message),this.operationType=_,this.user=D,Object.setPrototypeOf(this,qt.prototype),this.customData={appName:c.name,tenantId:null!==(A=c.tenantId)&&void 0!==A?A:void 0,_serverResponse:d.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(c,d,_,D){return new qt(c,d,_,D)}}function oa(g,c,d,_){return("reauthenticate"===c?d._getReauthenticationResolver(g):d._getIdTokenResponse(g)).catch(A=>{throw"auth/multi-factor-auth-required"===A.code?qt._fromErrorAndOperation(g,A,c,_):A})}function ci(g){return new Set(g.map(({providerId:c})=>c).filter(c=>!!c))}function ho(){return ho=(0,f.Z)(function*(g,c){const d=(0,N.m9)(g);yield Tn(!0,d,c);const{providerUserInfo:_}=yield function Gr(g,c){return Wr.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[c]}),D=ci(_||[]);return d.providerData=d.providerData.filter(A=>D.has(A.providerId)),D.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),ho.apply(this,arguments)}function po(g,c){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,f.Z)(function*(g,c,d=!1){const _=yield et(g,c._linkToIdToken(g.auth,yield g.getIdToken()),d);return kr._forOperation(g,"link",_)})).apply(this,arguments)}function Tn(g,c,d){return sl.apply(this,arguments)}function sl(){return(sl=(0,f.Z)(function*(g,c,d){yield gn(c);const D=!1===g?"provider-already-linked":"no-such-provider";H(ci(c.providerData).has(d)===g,c.auth,D)})).apply(this,arguments)}function go(g,c){return aa.apply(this,arguments)}function aa(){return(aa=(0,f.Z)(function*(g,c,d=!1){const{auth:_}=g,D="reauthenticate";try{const A=yield et(g,oa(_,D,c,g),d);H(A.idToken,_,"internal-error");const V=Pr(A.idToken);H(V,_,"internal-error");const{sub:Z}=V;return H(g.uid===Z,_,"user-mismatch"),kr._forOperation(g,D,A)}catch(A){throw"auth/user-not-found"===A?.code&&de(_,"user-mismatch"),A}})).apply(this,arguments)}function qr(g,c){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,f.Z)(function*(g,c,d=!1){const _="signIn",D=yield oa(g,_,c),A=yield kr._fromIdTokenResponse(g,_,D);return d||(yield g._updateCurrentUser(A.user)),A})).apply(this,arguments)}function Ss(g,c){return at.apply(this,arguments)}function at(){return(at=(0,f.Z)(function*(g,c){return qr(ht(g),c)})).apply(this,arguments)}function ol(g,c){return la.apply(this,arguments)}function la(){return(la=(0,f.Z)(function*(g,c){const d=(0,N.m9)(g);return yield Tn(!1,d,c.providerId),po(d,c)})).apply(this,arguments)}function Eu(g,c){return mo.apply(this,arguments)}function mo(){return(mo=(0,f.Z)(function*(g,c){return go((0,N.m9)(g),c)})).apply(this,arguments)}function ua(){return(ua=(0,f.Z)(function*(g,c){return Wt(g,"POST","/v1/accounts:signInWithCustomToken",rt(g,c))})).apply(this,arguments)}function Yt(){return Yt=(0,f.Z)(function*(g,c){const d=ht(g),_=yield function Gc(g,c){return ua.apply(this,arguments)}(d,{token:c,returnSecureToken:!0}),D=yield kr._fromIdTokenResponse(d,"signIn",_);return yield d._updateCurrentUser(D.user),D}),Yt.apply(this,arguments)}class ve{constructor(c,d){this.factorId=c,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(c,d){return"phoneInfo"in d?Mt._fromServerResponse(c,d):"totpInfo"in d?ca._fromServerResponse(c,d):de(c,"internal-error")}}class Mt extends ve{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,d){return new Mt(d)}}class ca extends ve{constructor(c){super("totp",c)}static _fromServerResponse(c,d){return new ca(d)}}function As(g,c,d){var _;H((null===(_=d.url)||void 0===_?void 0:_.length)>0,g,"invalid-continue-uri"),H(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,g,"invalid-dynamic-link-domain"),c.continueUrl=d.url,c.dynamicLinkDomain=d.dynamicLinkDomain,c.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(H(d.iOS.bundleId.length>0,g,"missing-ios-bundle-id"),c.iOSBundleId=d.iOS.bundleId),d.android&&(H(d.android.packageName.length>0,g,"missing-android-pkg-name"),c.androidInstallApp=d.android.installApp,c.androidMinimumVersionCode=d.android.minimumVersion,c.androidPackageName=d.android.packageName)}function al(){return al=(0,f.Z)(function*(g,c,d){var _;const D=ht(g),A={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};if(null!==(_=D._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const V=yield sr(D,A,"getOobCode",!0);d&&As(D,V,d),yield ra(D,V)}else d&&As(D,A,d),yield ra(D,A).catch(function(){var V=(0,f.Z)(function*(Z){if("auth/missing-recaptcha-token"!==Z.code)return Promise.reject(Z);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ie=yield sr(D,A,"getOobCode",!0);d&&As(D,Ie,d),yield ra(D,Ie)}});return function(Z){return V.apply(this,arguments)}}())}),al.apply(this,arguments)}function ur(){return(ur=(0,f.Z)(function*(g,c,d){yield Ki((0,N.m9)(g),{oobCode:c,newPassword:d})})).apply(this,arguments)}function xs(){return xs=(0,f.Z)(function*(g,c){yield function Es(g,c){return Yi.apply(this,arguments)}((0,N.m9)(g),{oobCode:c})}),xs.apply(this,arguments)}function ll(g,c){return da.apply(this,arguments)}function da(){return(da=(0,f.Z)(function*(g,c){const d=(0,N.m9)(g),_=yield Ki(d,{oobCode:c}),D=_.requestType;switch(H(D,d,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":H(_.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":H(_.mfaInfo,d,"internal-error");default:H(_.email,d,"internal-error")}let A=null;return _.mfaInfo&&(A=ve._fromServerResponse(ht(d),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:A},operation:D}})).apply(this,arguments)}function ln(){return(ln=(0,f.Z)(function*(g,c){const{data:d}=yield ll((0,N.m9)(g),c);return d.email})).apply(this,arguments)}function _o(){return _o=(0,f.Z)(function*(g,c,d){var _;const D=ht(g),A={returnSecureToken:!0,email:c,password:d,clientType:"CLIENT_TYPE_WEB"};let V;if(null!==(_=D._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const Pe=yield sr(D,A,"signUpPassword");V=fo(D,Pe)}else V=fo(D,A).catch(function(){var Pe=(0,f.Z)(function*(Qe){if("auth/missing-recaptcha-token"===Qe.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ke=yield sr(D,A,"signUpPassword");return fo(D,Ke)}return Promise.reject(Qe)});return function(Qe){return Pe.apply(this,arguments)}}());const Z=yield V.catch(Pe=>Promise.reject(Pe)),Ie=yield kr._fromIdTokenResponse(D,"signIn",Z);return yield D._updateCurrentUser(Ie.user),Ie}),_o.apply(this,arguments)}function Rs(){return Rs=(0,f.Z)(function*(g,c,d){var _;const D=ht(g),A={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};function V(Z,Ie){H(Ie.handleCodeInApp,D,"argument-error"),Ie&&As(D,Z,Ie)}if(null!==(_=D._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const Z=yield sr(D,A,"getOobCode",!0);V(Z,d),yield Tr(D,Z)}else V(A,d),yield Tr(D,A).catch(function(){var Z=(0,f.Z)(function*(Ie){if("auth/missing-recaptcha-token"!==Ie.code)return Promise.reject(Ie);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Pe=yield sr(D,A,"getOobCode",!0);V(Pe,d),yield Tr(D,Pe)}});return function(Ie){return Z.apply(this,arguments)}}())}),Rs.apply(this,arguments)}function cl(){return(cl=(0,f.Z)(function*(g,c,d){const _=(0,N.m9)(g),D=ws.credentialWithLink(c,d||ot());return H(D._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),Ss(_,D)})).apply(this,arguments)}function ha(){return(ha=(0,f.Z)(function*(g,c){return Ge(g,"POST","/v1/accounts:createAuthUri",rt(g,c))})).apply(this,arguments)}function Ps(){return Ps=(0,f.Z)(function*(g,c){const _={identifier:c,continueUri:We()?ot():"http://localhost"},{signinMethods:D}=yield function fa(g,c){return ha.apply(this,arguments)}((0,N.m9)(g),_);return D||[]}),Ps.apply(this,arguments)}function vo(){return vo=(0,f.Z)(function*(g,c){const d=(0,N.m9)(g),D={requestType:"VERIFY_EMAIL",idToken:yield g.getIdToken()};c&&As(d.auth,D,c);const{email:A}=yield function Df(g,c){return so.apply(this,arguments)}(d.auth,D);A!==g.email&&(yield g.reload())}),vo.apply(this,arguments)}function bu(){return bu=(0,f.Z)(function*(g,c,d){const _=(0,N.m9)(g),A={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield g.getIdToken(),newEmail:c};d&&As(_.auth,A,d);const{email:V}=yield function $n(g,c){return du.apply(this,arguments)}(_.auth,A);V!==g.email&&(yield g.reload())}),bu.apply(this,arguments)}function Eo(){return(Eo=(0,f.Z)(function*(g,c){return Ge(g,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function pa(){return pa=(0,f.Z)(function*(g,{displayName:c,photoURL:d}){if(void 0===c&&void 0===d)return;const _=(0,N.m9)(g),A={idToken:yield _.getIdToken(),displayName:c,photoUrl:d,returnSecureToken:!0},V=yield et(_,function Af(g,c){return Eo.apply(this,arguments)}(_.auth,A));_.displayName=V.displayName||null,_.photoURL=V.photoUrl||null;const Z=_.providerData.find(({providerId:Ie})=>"password"===Ie);Z&&(Z.displayName=_.displayName,Z.photoURL=_.photoURL),yield _._updateTokensIfNecessary(V)}),pa.apply(this,arguments)}function Vn(g,c,d){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,f.Z)(function*(g,c,d){const{auth:_}=g,A={idToken:yield g.getIdToken(),returnSecureToken:!0};c&&(A.email=c),d&&(A.password=d);const V=yield et(g,vs(_,A));yield g._updateTokensIfNecessary(V,!0)})).apply(this,arguments)}class Xi{constructor(c,d,_={}){this.isNewUser=c,this.providerId=d,this.profile=_}}class An extends Xi{constructor(c,d,_,D){super(c,d,_),this.username=D}}class xf extends Xi{constructor(c,d){super(c,"facebook.com",d)}}class dr extends An{constructor(c,d){super(c,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class Rf extends Xi{constructor(c,d){super(c,"google.com",d)}}class Kc extends An{constructor(c,d,_){super(c,"twitter.com",d,_)}}function fl(g){const{user:c,_tokenResponse:d}=g;return c.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function nn(g){var c,d;if(!g)return null;const{providerId:_}=g,D=g.rawUserInfo?JSON.parse(g.rawUserInfo):{},A=g.isNewUser||"identitytoolkit#SignupNewUserResponse"===g.kind;if(!_&&g?.idToken){const V=null===(d=null===(c=Pr(g.idToken))||void 0===c?void 0:c.firebase)||void 0===d?void 0:d.sign_in_provider;if(V)return new Xi(A,"anonymous"!==V&&"custom"!==V?V:null)}if(!_)return null;switch(_){case"facebook.com":return new xf(A,D);case"github.com":return new dr(A,D);case"google.com":return new Rf(A,D);case"twitter.com":return new Kc(A,D,g.screenName||null);case"custom":case"anonymous":return new Xi(A,null);default:return new Xi(A,_,D)}}(d)}class Ns{constructor(c,d,_){this.type=c,this.credential=d,this.auth=_}static _fromIdtoken(c,d){return new Ns("enroll",c,d)}static _fromMfaPendingCredential(c){return new Ns("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var d,_;if(c?.multiFactorSession){if(null!==(d=c.multiFactorSession)&&void 0!==d&&d.pendingCredential)return Ns._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(_=c.multiFactorSession)&&void 0!==_&&_.idToken)return Ns._fromIdtoken(c.multiFactorSession.idToken)}return null}}class pl{constructor(c,d,_){this.session=c,this.hints=d,this.signInResolver=_}static _fromError(c,d){const _=ht(c),D=d.customData._serverResponse,A=(D.mfaInfo||[]).map(Z=>ve._fromServerResponse(_,Z));H(D.mfaPendingCredential,_,"internal-error");const V=Ns._fromMfaPendingCredential(D.mfaPendingCredential);return new pl(V,A,function(){var Z=(0,f.Z)(function*(Ie){const Pe=yield Ie._process(_,V);delete D.mfaInfo,delete D.mfaPendingCredential;const Qe=Object.assign(Object.assign({},D),{idToken:Pe.idToken,refreshToken:Pe.refreshToken});switch(d.operationType){case"signIn":const Ke=yield kr._fromIdTokenResponse(_,d.operationType,Qe);return yield _._updateCurrentUser(Ke.user),Ke;case"reauthenticate":return H(d.user,_,"internal-error"),kr._forOperation(d.user,d.operationType,Qe);default:de(_,"internal-error")}});return function(Ie){return Z.apply(this,arguments)}}())}resolveSignIn(c){var d=this;return(0,f.Z)(function*(){return d.signInResolver(c)})()}}class Jr{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(_=>ve._fromServerResponse(c.auth,_)))})}static _fromUser(c){return new Jr(c)}getSession(){var c=this;return(0,f.Z)(function*(){return Ns._fromIdtoken(yield c.user.getIdToken(),c.user.auth)})()}enroll(c,d){var _=this;return(0,f.Z)(function*(){const D=c,A=yield _.getSession(),V=yield et(_.user,D._process(_.user.auth,A,d));return yield _.user._updateTokensIfNecessary(V),_.user.reload()})()}unenroll(c){var d=this;return(0,f.Z)(function*(){const _="string"==typeof c?c:c.uid,D=yield d.user.getIdToken();try{const A=yield et(d.user,function ks(g,c){return Ge(g,"POST","/v2/accounts/mfaEnrollment:withdraw",rt(g,c))}(d.user.auth,{idToken:D,mfaEnrollmentId:_}));d.enrolledFactors=d.enrolledFactors.filter(({uid:V})=>V!==_),yield d.user._updateTokensIfNecessary(A),yield d.user.reload()}catch(A){throw A}})()}}const es=new WeakMap,ts="__sak";class Su{constructor(c,d){this.storageRetriever=c,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(ts,"1"),this.storage.removeItem(ts),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,d){return this.storage.setItem(c,JSON.stringify(d)),Promise.resolve()}_get(c){const d=this.storage.getItem(c);return Promise.resolve(d?JSON.parse(d):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const xi=(()=>{class g extends Su{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,_)=>this.onStorageEvent(d,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Fs(){const g=(0,N.z$)();return Q(g)||en(g)}()&&function wf(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=io(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const _ of Object.keys(this.listeners)){const D=this.storage.getItem(_),A=this.localCache[_];D!==A&&d(_,A,D)}}onStorageEvent(d,_=!1){if(!d.key)return void this.forAllChangedKeys((Z,Ie,Pe)=>{this.notifyListeners(Z,Pe)});const D=d.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Z=this.storage.getItem(D);if(d.newValue!==Z)null!==d.newValue?this.storage.setItem(D,d.newValue):this.storage.removeItem(D);else if(this.localCache[D]===d.newValue&&!_)return}const A=()=>{const Z=this.storage.getItem(D);!_&&this.localCache[D]===Z||this.notifyListeners(D,Z)},V=this.storage.getItem(D);!function zr(){return(0,N.w1)()&&10===document.documentMode}()||V===d.newValue||d.newValue===d.oldValue?A():setTimeout(A,10)}notifyListeners(d,_){this.localCache[d]=_;const D=this.listeners[d];if(D)for(const A of Array.from(D))A(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,_,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:_,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(_)}_removeListener(d,_){this.listeners[d]&&(this.listeners[d].delete(_),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,_){var D=()=>super._set,A=this;return(0,f.Z)(function*(){yield D().call(A,d,_),A.localCache[d]=JSON.stringify(_)})()}_get(d){var _=()=>super._get,D=this;return(0,f.Z)(function*(){const A=yield _().call(D,d);return D.localCache[d]=JSON.stringify(A),A})()}_remove(d){var _=()=>super._remove,D=this;return(0,f.Z)(function*(){yield _().call(D,d),delete D.localCache[d]})()}}return g.type="LOCAL",g})(),Sr=(()=>{class g extends Su{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,_){}_removeListener(d,_){}}return g.type="SESSION",g})();let _l=(()=>{class g{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const _=this.receivers.find(A=>A.isListeningto(d));if(_)return _;const D=new g(d);return this.receivers.push(D),D}isListeningto(d){return this.eventTarget===d}handleEvent(d){var _=this;return(0,f.Z)(function*(){const D=d,{eventId:A,eventType:V,data:Z}=D.data,Ie=_.handlersMap[V];if(!Ie?.size)return;D.ports[0].postMessage({status:"ack",eventId:A,eventType:V});const Pe=Array.from(Ie).map(function(){var Ke=(0,f.Z)(function*(cn){return cn(D.origin,Z)});return function(cn){return Ke.apply(this,arguments)}}()),Qe=yield function Ar(g){return Promise.all(g.map(function(){var c=(0,f.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(_){return{fulfilled:!1,reason:_}}});return function(d){return c.apply(this,arguments)}}()))}(Pe);D.ports[0].postMessage({status:"done",eventId:A,eventType:V,response:Qe})})()}_subscribe(d,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(_)}_unsubscribe(d,_){this.handlersMap[d]&&_&&this.handlersMap[d].delete(_),(!_||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return g.receivers=[],g})();function di(g="",c=10){let d="";for(let _=0;_<c;_++)d+=Math.floor(10*Math.random());return g+d}class Vs{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,d,_=50){var D=this;return(0,f.Z)(function*(){const A=typeof MessageChannel<"u"?new MessageChannel:null;if(!A)throw new Error("connection_unavailable");let V,Z;return new Promise((Ie,Pe)=>{const Qe=di("",20);A.port1.start();const Ke=setTimeout(()=>{Pe(new Error("unsupported_event"))},_);Z={messageChannel:A,onMessage(cn){const Rt=cn;if(Rt.data.eventId===Qe)switch(Rt.data.status){case"ack":clearTimeout(Ke),V=setTimeout(()=>{Pe(new Error("timeout"))},3e3);break;case"done":clearTimeout(V),Ie(Rt.data.response);break;default:clearTimeout(Ke),clearTimeout(V),Pe(new Error("invalid_response"))}}},D.handlers.add(Z),A.port1.addEventListener("message",Z.onMessage),D.target.postMessage({eventType:c,eventId:Qe,data:d},[A.port2])}).finally(()=>{Z&&D.removeMessageHandler(Z)})})()}}function Qt(){return window}function ns(){return typeof Qt().WorkerGlobalScope<"u"&&"function"==typeof Qt().importScripts}function rs(){return(rs=(0,f.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const yl="firebaseLocalStorageDb",Fr=1,is="firebaseLocalStorage",Ri="fbase_key";class fi{constructor(c){this.request=c}toPromise(){return new Promise((c,d)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function bo(g,c){return g.transaction([is],c?"readwrite":"readonly").objectStore(is)}function Bn(){const g=indexedDB.open(yl,Fr);return new Promise((c,d)=>{g.addEventListener("error",()=>{d(g.error)}),g.addEventListener("upgradeneeded",()=>{const _=g.result;try{_.createObjectStore(is,{keyPath:Ri})}catch(D){d(D)}}),g.addEventListener("success",(0,f.Z)(function*(){const _=g.result;_.objectStoreNames.contains(is)?c(_):(_.close(),yield function vl(){const g=indexedDB.deleteDatabase(yl);return new fi(g).toPromise()}(),c(yield Bn()))}))})}function ya(g,c,d){return va.apply(this,arguments)}function va(){return(va=(0,f.Z)(function*(g,c,d){const _=bo(g,!0).put({[Ri]:c,value:d});return new fi(_).toPromise()})).apply(this,arguments)}function Ea(){return(Ea=(0,f.Z)(function*(g,c){const d=bo(g,!1).get(c),_=yield new fi(d).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function Cl(g,c){const d=bo(g,!0).delete(c);return new fi(d).toPromise()}const Xr=(()=>{class g{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,f.Z)(function*(){return d.db||(d.db=yield Bn()),d.db})()}_withRetries(d){var _=this;return(0,f.Z)(function*(){let D=0;for(;;)try{const A=yield _._openDb();return yield d(A)}catch(A){if(D++>3)throw A;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,f.Z)(function*(){return ns()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,f.Z)(function*(){d.receiver=_l._getInstance(function _a(){return ns()?self:null}()),d.receiver._subscribe("keyChanged",function(){var _=(0,f.Z)(function*(D,A){return{keyProcessed:(yield d._poll()).includes(A.key)}});return function(D,A){return _.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var _=(0,f.Z)(function*(D,A){return["keyChanged"]});return function(D,A){return _.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,f.Z)(function*(){var _,D;if(d.activeServiceWorker=yield function Qc(){return rs.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new Vs(d.activeServiceWorker);const A=yield d.sender._send("ping",{},800);A&&null!==(_=A[0])&&void 0!==_&&_.fulfilled&&null!==(D=A[0])&&void 0!==D&&D.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var _=this;return(0,f.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function Mu(){var g;return(null===(g=navigator?.serviceWorker)||void 0===g?void 0:g.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:d},_.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const d=yield Bn();return yield ya(d,ts,"1"),yield Cl(d,ts),!0}catch{}return!1})()}_withPendingWrite(d){var _=this;return(0,f.Z)(function*(){_.pendingWrites++;try{yield d()}finally{_.pendingWrites--}})()}_set(d,_){var D=this;return(0,f.Z)(function*(){return D._withPendingWrite((0,f.Z)(function*(){return yield D._withRetries(A=>ya(A,d,_)),D.localCache[d]=_,D.notifyServiceWorker(d)}))})()}_get(d){var _=this;return(0,f.Z)(function*(){const D=yield _._withRetries(A=>function El(g,c){return Ea.apply(this,arguments)}(A,d));return _.localCache[d]=D,D})()}_remove(d){var _=this;return(0,f.Z)(function*(){return _._withPendingWrite((0,f.Z)(function*(){return yield _._withRetries(D=>Cl(D,d)),delete _.localCache[d],_.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,f.Z)(function*(){const _=yield d._withRetries(V=>{const Z=bo(V,!1).getAll();return new fi(Z).toPromise()});if(!_)return[];if(0!==d.pendingWrites)return[];const D=[],A=new Set;for(const{fbase_key:V,value:Z}of _)A.add(V),JSON.stringify(d.localCache[V])!==JSON.stringify(Z)&&(d.notifyListeners(V,Z),D.push(V));for(const V of Object.keys(d.localCache))d.localCache[V]&&!A.has(V)&&(d.notifyListeners(V,null),D.push(V));return D})()}notifyListeners(d,_){this.localCache[d]=_;const D=this.listeners[d];if(D)for(const A of Array.from(D))A(_)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(_)}_removeListener(d,_){this.listeners[d]&&(this.listeners[d].delete(_),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return g.type="LOCAL",g})(),jt=1e12;class Xc{constructor(c){this.auth=c,this.counter=jt,this._widgets=new Map}render(c,d){const _=this.counter;return this._widgets.set(_,new Il(c,this.auth.name,d||{})),this.counter++,_}reset(c){var d;const _=c||jt;null===(d=this._widgets.get(_))||void 0===d||d.delete(),this._widgets.delete(_)}getResponse(c){var d;return(null===(d=this._widgets.get(c||jt))||void 0===d?void 0:d.getResponse())||""}execute(c){var d=this;return(0,f.Z)(function*(){var _;return null===(_=d._widgets.get(c||jt))||void 0===_||_.execute(),""})()}}class Il{constructor(c,d,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof c?document.getElementById(c):c;H(D,"argument-error",{appName:d}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ed(g){const c=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<g;_++)c.push(d.charAt(Math.floor(Math.random()*d.length)));return c.join("")}(50);const{callback:c,"expired-callback":d}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const td=bi("rcb"),Pp=new Ce(3e4,6e4);class kf{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=Qt().grecaptcha)||void 0===c||!c.render)}load(c,d=""){return H(function Ia(g){return g.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(g)}(d),c,"argument-error"),this.shouldResolveImmediately(d)&&el(Qt().grecaptcha)?Promise.resolve(Qt().grecaptcha):new Promise((_,D)=>{const A=Qt().setTimeout(()=>{D(he(c,"network-request-failed"))},Pp.get());Qt()[td]=()=>{Qt().clearTimeout(A),delete Qt()[td];const Z=Qt().grecaptcha;if(!Z||!el(Z))return void D(he(c,"internal-error"));const Ie=Z.render;Z.render=(Pe,Qe)=>{const Ke=Ie(Pe,Qe);return this.counter++,Ke},this.hostLanguage=d,_(Z)},bn(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:td,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(A),D(he(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var d;return!(null===(d=Qt().grecaptcha)||void 0===d||!d.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class t_{load(c){return(0,f.Z)(function*(){return new Xc(c)})()}clearedOneInstance(){}}const Ff="recaptcha",Mn={theme:"light",type:"image"};class xu{constructor(c,d=Object.assign({},Mn),_){this.parameters=d,this.type=Ff,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ht(_),this.isInvisible="invisible"===this.parameters.size,H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof c?document.getElementById(c):c;H(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new t_:new kf,this.validateStartingState()}verify(){var c=this;return(0,f.Z)(function*(){c.assertNotDestroyed();const d=yield c.render(),_=c.getAssertedRecaptcha();return _.getResponse(d)||new Promise(A=>{const V=Z=>{Z&&(c.tokenChangeListeners.delete(V),A(Z))};c.tokenChangeListeners.add(V),c.isInvisible&&_.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){H(!this.parameters.sitekey,this.auth,"argument-error"),H(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return d=>{if(this.tokenChangeListeners.forEach(_=>_(d)),"function"==typeof c)c(d);else if("string"==typeof c){const _=Qt()[c];"function"==typeof _&&_(d)}}}assertNotDestroyed(){H(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,f.Z)(function*(){if(yield c.init(),!c.widgetId){let d=c.container;if(!c.isInvisible){const _=document.createElement("div");d.appendChild(_),d=_}c.widgetId=c.getAssertedRecaptcha().render(d,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,f.Z)(function*(){H(We()&&!ns(),c.auth,"internal-error"),yield function So(){let g=null;return new Promise(c=>{"complete"!==document.readyState?(g=()=>c(),window.addEventListener("load",g)):c()}).catch(c=>{throw g&&window.removeEventListener("load",g),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const d=yield function Xa(g){return _s.apply(this,arguments)}(c.auth);H(d,c.auth,"internal-error"),c.parameters.sitekey=d})()}getAssertedRecaptcha(){return H(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ru{constructor(c,d){this.verificationId=c,this.onConfirmation=d}confirm(c){const d=ao._fromVerification(this.verificationId,c);return this.onConfirmation(d)}}function Ni(){return(Ni=(0,f.Z)(function*(g,c,d){const _=ht(g),D=yield Da(_,c,(0,N.m9)(d));return new Ru(D,A=>Ss(_,A))})).apply(this,arguments)}function Ao(){return(Ao=(0,f.Z)(function*(g,c,d){const _=(0,N.m9)(g);yield Tn(!1,_,"phone");const D=yield Da(_.auth,c,(0,N.m9)(d));return new Ru(D,A=>ol(_,A))})).apply(this,arguments)}function wa(){return(wa=(0,f.Z)(function*(g,c,d){const _=(0,N.m9)(g),D=yield Da(_.auth,c,(0,N.m9)(d));return new Ru(D,A=>Eu(_,A))})).apply(this,arguments)}function Da(g,c,d){return Mo.apply(this,arguments)}function Mo(){return Mo=(0,f.Z)(function*(g,c,d){var _;const D=yield d.verify();try{let A;if(H("string"==typeof D,g,"argument-error"),H(d.type===Ff,g,"argument-error"),A="string"==typeof c?{phoneNumber:c}:c,"session"in A){const V=A.session;if("phoneNumber"in A)return H("enroll"===V.type,g,"internal-error"),(yield function gl(g,c){return Ge(g,"POST","/v2/accounts/mfaEnrollment:start",rt(g,c))}(g,{idToken:V.credential,phoneEnrollmentInfo:{phoneNumber:A.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{H("signin"===V.type,g,"internal-error");const Z=(null===(_=A.multiFactorHint)||void 0===_?void 0:_.uid)||A.multiFactorUid;return H(Z,g,"missing-multi-factor-info"),(yield function Nf(g,c){return Ge(g,"POST","/v2/accounts/mfaSignIn:start",rt(g,c))}(g,{mfaPendingCredential:V.credential,mfaEnrollmentId:Z,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:V}=yield function fu(g,c){return hu.apply(this,arguments)}(g,{phoneNumber:A.phoneNumber,recaptchaToken:D});return V}}finally{d._reset()}}),Mo.apply(this,arguments)}function Nn(){return(Nn=(0,f.Z)(function*(g,c){yield po((0,N.m9)(g),c)})).apply(this,arguments)}let Vr=(()=>{class g{constructor(d){this.providerId=g.PROVIDER_ID,this.auth=ht(d)}verifyPhoneNumber(d,_){return Da(this.auth,d,(0,N.m9)(_))}static credential(d,_){return ao._fromVerification(d,_)}static credentialFromResult(d){return g.credentialFromTaggedObject(d)}static credentialFromError(d){return g.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:_,temporaryProof:D}=d;return _&&D?ao._fromTokenResponse(_,D):null}}return g.PROVIDER_ID="phone",g.PHONE_SIGN_IN_METHOD="phone",g})();function Br(g,c){return c?st(c):(H(g._popupRedirectResolver,g,"argument-error"),g._popupRedirectResolver)}class xo extends si{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return vn(c,this._buildIdpRequest())}_linkToIdToken(c,d){return vn(c,this._buildIdpRequest(d))}_getReauthenticationResolver(c){return vn(c,this._buildIdpRequest())}_buildIdpRequest(c){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(d.idToken=c),d}}function wl(g){return qr(g.auth,new xo(g),g.bypassAuthState)}function ba(g){const{auth:c,user:d}=g;return H(d,c,"internal-error"),go(d,new xo(g),g.bypassAuthState)}function $s(g){return ei.apply(this,arguments)}function ei(){return(ei=(0,f.Z)(function*(g){const{auth:c,user:d}=g;return H(d,c,"internal-error"),po(d,new xo(g),g.bypassAuthState)})).apply(this,arguments)}class On{constructor(c,d,_,D,A=!1){this.auth=c,this.resolver=_,this.user=D,this.bypassAuthState=A,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var c=this;return new Promise(function(){var d=(0,f.Z)(function*(_,D){c.pendingPromise={resolve:_,reject:D};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(A){c.reject(A)}});return function(_,D){return d.apply(this,arguments)}}())}onAuthEvent(c){var d=this;return(0,f.Z)(function*(){const{urlResponse:_,sessionId:D,postBody:A,tenantId:V,error:Z,type:Ie}=c;if(Z)return void d.reject(Z);const Pe={auth:d.auth,requestUri:_,sessionId:D,tenantId:V||void 0,postBody:A||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(Ie)(Pe))}catch(Qe){d.reject(Qe)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return wl;case"linkViaPopup":case"linkViaRedirect":return $s;case"reauthViaPopup":case"reauthViaRedirect":return ba;default:de(this.auth,"internal-error")}}resolve(c){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pu=new Ce(2e3,1e4);function En(){return(En=(0,f.Z)(function*(g,c,d){const _=ht(g);Se(g,c,Ji);const D=Br(_,d);return new hi(_,"signInViaPopup",c,D).executeNotNull()})).apply(this,arguments)}function Cn(){return(Cn=(0,f.Z)(function*(g,c,d){const _=(0,N.m9)(g);Se(_.auth,c,Ji);const D=Br(_.auth,d);return new hi(_.auth,"reauthViaPopup",c,D,_).executeNotNull()})).apply(this,arguments)}function Sa(){return(Sa=(0,f.Z)(function*(g,c,d){const _=(0,N.m9)(g);Se(_.auth,c,Ji);const D=Br(_.auth,d);return new hi(_.auth,"linkViaPopup",c,D,_).executeNotNull()})).apply(this,arguments)}let hi=(()=>{class g extends On{constructor(d,_,D,A,V){super(d,_,A,V),this.provider=D,this.authWindow=null,this.pollId=null,g.currentPopupAction&&g.currentPopupAction.cancel(),g.currentPopupAction=this}executeNotNull(){var d=this;return(0,f.Z)(function*(){const _=yield d.execute();return H(_,d.auth,"internal-error"),_})()}onExecution(){var d=this;return(0,f.Z)(function*(){Fe(1===d.filter.length,"Popup operations only handle one event");const _=di();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],_),d.authWindow.associatedEvent=_,d.resolver._originValidation(d.auth).catch(D=>{d.reject(D)}),d.resolver._isIframeWebStorageSupported(d.auth,D=>{D||d.reject(he(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(he(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,g.currentPopupAction=null}pollUserCancellation(){const d=()=>{var _,D;this.pollId=null!==(D=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(he(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(d,Pu.get())};d()}}return g.currentPopupAction=null,g})();const id="pendingRedirect",Gs=new Map;class Aa extends On{constructor(c,d,_=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,_),this.eventId=null}execute(){var c=()=>super.execute,d=this;return(0,f.Z)(function*(){let _=Gs.get(d.auth._key());if(!_){try{const A=(yield function C(g,c){return I.apply(this,arguments)}(d.resolver,d.auth))?yield c().call(d):null;_=()=>Promise.resolve(A)}catch(D){_=()=>Promise.reject(D)}Gs.set(d.auth._key(),_)}return d.bypassAuthState||Gs.set(d.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(c){var d=()=>super.onAuthEvent,_=this;return(0,f.Z)(function*(){if("signInViaRedirect"===c.type)return d().call(_,c);if("unknown"!==c.type){if(c.eventId){const D=yield _.auth._redirectUserForId(c.eventId);if(D)return _.user=D,d().call(_,c);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function I(){return(I=(0,f.Z)(function*(g,c){const d=He(c),_=ye(g);if(!(yield _._isAvailable()))return!1;const D="true"===(yield _._get(d));return yield _._remove(d),D})).apply(this,arguments)}function S(g,c){return P.apply(this,arguments)}function P(){return(P=(0,f.Z)(function*(g,c){return ye(g)._set(He(c),"true")})).apply(this,arguments)}function q(g,c){Gs.set(g._key(),c)}function ye(g){return st(g._redirectPersistence)}function He(g){return L(id,g.config.apiKey,g.name)}function Ve(g,c,d){return function x(g,c,d){return It.apply(this,arguments)}(g,c,d)}function It(){return(It=(0,f.Z)(function*(g,c,d){const _=ht(g);Se(g,c,Ji),yield _._initializationPromise;const D=Br(_,d);return yield S(D,_),D._openRedirect(_,c,"signInViaRedirect")})).apply(this,arguments)}function pt(g,c,d){return function fr(g,c,d){return un.apply(this,arguments)}(g,c,d)}function un(){return(un=(0,f.Z)(function*(g,c,d){const _=(0,N.m9)(g);Se(_.auth,c,Ji),yield _.auth._initializationPromise;const D=Br(_.auth,d);yield S(D,_.auth);const A=yield sd(_);return D._openRedirect(_.auth,c,"reauthViaRedirect",A)})).apply(this,arguments)}function Oi(g,c,d){return function Ma(g,c,d){return ss.apply(this,arguments)}(g,c,d)}function ss(){return(ss=(0,f.Z)(function*(g,c,d){const _=(0,N.m9)(g);Se(_.auth,c,Ji),yield _.auth._initializationPromise;const D=Br(_.auth,d);yield Tn(!1,_,c.providerId),yield S(D,_.auth);const A=yield sd(_);return D._openRedirect(_.auth,c,"linkViaRedirect",A)})).apply(this,arguments)}function zn(){return(zn=(0,f.Z)(function*(g,c){return yield ht(g)._initializationPromise,ki(g,c,!1)})).apply(this,arguments)}function ki(g,c){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,f.Z)(function*(g,c,d=!1){const _=ht(g),D=Br(_,c),V=yield new Aa(_,D,d).execute();return V&&!d&&(delete V.user._redirectEventId,yield _._persistUserIfCurrent(V.user),yield _._setRedirectUser(null,c)),V})).apply(this,arguments)}function sd(g){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,f.Z)(function*(g){const c=di(`${g.uid}:::`);return g._redirectEventId=c,yield g.auth._setRedirectUser(g),yield g.auth._persistUserIfCurrent(g),c})).apply(this,arguments)}class No{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let d=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(c,_)&&(d=!0,this.sendToConsumer(c,_),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function Zn(g){switch(g.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bl(g);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=c,d=!0)),d}sendToConsumer(c,d){var _;if(c.error&&!bl(c)){const D=(null===(_=c.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";d.onError(he(this.auth,D))}else d.onAuthEvent(c)}isEventForConsumer(c,d){const _=null===d.eventId||!!c.eventId&&c.eventId===d.eventId;return d.filter.includes(c.type)&&_}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lf(c))}saveEventToCache(c){this.cachedEventUids.add(Lf(c)),this.lastProcessedEventTime=Date.now()}}function Lf(g){return[g.type,g.eventId,g.sessionId,g.tenantId].filter(c=>c).join("-")}function bl({type:g,error:c}){return"unknown"===g&&"auth/no-auth-event"===c?.code}function Tl(g){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,f.Z)(function*(g,c={}){return Ge(g,"GET","/v1/projects",c)})).apply(this,arguments)}const os=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pr=/^https?/;function Oo(){return(Oo=(0,f.Z)(function*(g){if(g.config.emulator)return;const{authorizedDomains:c}=yield Tl(g);for(const d of c)try{if(od(d))return}catch{}de(g,"unauthorized-domain")})).apply(this,arguments)}function od(g){const c=ot(),{protocol:d,hostname:_}=new URL(c);if(g.startsWith("chrome-extension://")){const V=new URL(g);return""===V.hostname&&""===_?"chrome-extension:"===d&&g.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===d&&V.hostname===_}if(!pr.test(d))return!1;if(os.test(g))return _===g;const D=g.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(_)}const as=new Ce(3e4,6e4);function pi(){const g=Qt().___jsl;if(g?.H)for(const c of Object.keys(g.H))if(g.H[c].r=g.H[c].r||[],g.H[c].L=g.H[c].L||[],g.H[c].r=[...g.H[c].L],g.CP)for(let d=0;d<g.CP.length;d++)g.CP[d]=null}let Ur=null;const ad=new Ce(5e3,15e3),Vf="__/auth/iframe",kn="emulator/auth/iframe",ku={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fp(g){const c=g.config;H(c.authDomain,g,"auth-domain-config-required");const d=c.emulator?Re(c,kn):`https://${g.config.authDomain}/${Vf}`,_={apiKey:c.apiKey,appName:g.name,v:re.SDK_VERSION},D=kp.get(g.config.apiHost);D&&(_.eid=D);const A=g._getFrameworks();return A.length&&(_.fw=A.join(",")),`${d}?${(0,N.xO)(_).slice(1)}`}function Fu(){return Fu=(0,f.Z)(function*(g){const c=yield function Sl(g){return Ur=Ur||function Ws(g){return new Promise((c,d)=>{var _,D,A;function V(){pi(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{pi(),d(he(g,"network-request-failed"))},timeout:as.get()})}if(null!==(D=null===(_=Qt().gapi)||void 0===_?void 0:_.iframes)&&void 0!==D&&D.Iframe)c(gapi.iframes.getContext());else{if(null===(A=Qt().gapi)||void 0===A||!A.load){const Z=bi("iframefcb");return Qt()[Z]=()=>{gapi.load?V():d(he(g,"network-request-failed"))},bn(`https://apis.google.com/js/api.js?onload=${Z}`).catch(Ie=>d(Ie))}V()}}).catch(c=>{throw Ur=null,c})}(g),Ur}(g),d=Qt().gapi;return H(d,g,"internal-error"),c.open({where:document.body,url:Fp(g),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ku,dontclear:!0},_=>new Promise(function(){var D=(0,f.Z)(function*(A,V){yield _.restyle({setHideOnLeave:!1});const Z=he(g,"network-request-failed"),Ie=Qt().setTimeout(()=>{V(Z)},ad.get());function Pe(){Qt().clearTimeout(Ie),A(_)}_.ping(Pe).then(Pe,()=>{V(Z)})});return function(A,V){return D.apply(this,arguments)}}()))}),Fu.apply(this,arguments)}const Vp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bp=500,gr=600,zs="_blank",Bf="http://localhost";class Zs{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const xa="__/auth/handler",Ml="emulator/auth/handler",Uf=encodeURIComponent("fac");function xl(g,c,d,_,D,A){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,f.Z)(function*(g,c,d,_,D,A){H(g.config.authDomain,g,"auth-domain-config-required"),H(g.config.apiKey,g,"invalid-api-key");const V={apiKey:g.config.apiKey,appName:g.name,authType:d,redirectUrl:_,v:re.SDK_VERSION,eventId:D};if(c instanceof Ji){c.setDefaultLanguage(g.languageCode),V.providerId=c.providerId||"",(0,N.xb)(c.getCustomParameters())||(V.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Qe,Ke]of Object.entries(A||{}))V[Qe]=Ke}if(c instanceof uo){const Qe=c.getScopes().filter(Ke=>""!==Ke);Qe.length>0&&(V.scopes=Qe.join(","))}g.tenantId&&(V.tid=g.tenantId);const Z=V;for(const Qe of Object.keys(Z))void 0===Z[Qe]&&delete Z[Qe];const Ie=yield g._getAppCheckToken(),Pe=Ie?`#${Uf}=${encodeURIComponent(Ie)}`:"";return`${function ld({config:g}){return g.emulator?Re(g,Ml):`https://${g.authDomain}/${xa}`}(g)}?${(0,N.xO)(Z).slice(1)}${Pe}`})).apply(this,arguments)}const Vu="webStorageSupport",cd=class ud{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sr,this._completeRedirectFn=ki,this._overrideRedirectResult=q}_openPopup(c,d,_,D){var A=this;return(0,f.Z)(function*(){var V;Fe(null===(V=A.eventManagers[c._key()])||void 0===V?void 0:V.manager,"_initialize() not called before _openPopup()");const Z=yield xl(c,d,_,ot(),D);return function tr(g,c,d,_=Bp,D=gr){const A=Math.max((window.screen.availHeight-D)/2,0).toString(),V=Math.max((window.screen.availWidth-_)/2,0).toString();let Z="";const Ie=Object.assign(Object.assign({},Vp),{width:_.toString(),height:D.toString(),top:A,left:V}),Pe=(0,N.z$)().toLowerCase();d&&(Z=qe(Pe)?zs:d),le(Pe)&&(c=c||Bf,Ie.scrollbars="yes");const Qe=Object.entries(Ie).reduce((cn,[Rt,Vo])=>`${cn}${Rt}=${Vo},`,"");if(function Xn(g=(0,N.z$)()){var c;return en(g)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(Pe)&&"_self"!==Z)return function Al(g,c){const d=document.createElement("a");d.href=g,d.target=c;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(_)}(c||"",Z),new Zs(null);const Ke=window.open(c||"",Z,Qe);H(Ke,g,"popup-blocked");try{Ke.focus()}catch{}return new Zs(Ke)}(c,Z,di())})()}_openRedirect(c,d,_,D){var A=this;return(0,f.Z)(function*(){return yield A._originValidation(c),function Bs(g){Qt().location.href=g}(yield xl(c,d,_,ot(),D)),new Promise(()=>{})})()}_initialize(c){const d=c._key();if(this.eventManagers[d]){const{manager:D,promise:A}=this.eventManagers[d];return D?Promise.resolve(D):(Fe(A,"If manager is not set, promise should be"),A)}const _=this.initAndGetManager(c);return this.eventManagers[d]={promise:_},_.catch(()=>{delete this.eventManagers[d]}),_}initAndGetManager(c){var d=this;return(0,f.Z)(function*(){const _=yield function Lp(g){return Fu.apply(this,arguments)}(c),D=new No(c);return _.register("authEvent",A=>(H(A?.authEvent,c,"invalid-auth-event"),{status:D.onEvent(A.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[c._key()]={manager:D},d.iframes[c._key()]=_,D})()}_isIframeWebStorageSupported(c,d){this.iframes[c._key()].send(Vu,{type:Vu},D=>{var A;const V=null===(A=D?.[0])||void 0===A?void 0:A[Vu];void 0!==V&&d(!!V),de(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Op(g){return Oo.apply(this,arguments)}(c)),this.originValidationPromises[d]}get _shouldInitProactively(){return io()||Q()||en()}};class dd{constructor(c){this.factorId=c}_process(c,d,_){switch(d.type){case"enroll":return this._finalizeEnroll(c,d.credential,_);case"signin":return this._finalizeSignIn(c,d.credential);default:return Oe("unexpected MultiFactorSessionType")}}}class Ra extends dd{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new Ra(c)}_finalizeEnroll(c,d,_){return function Yc(g,c){return Ge(g,"POST","/v2/accounts/mfaEnrollment:finalize",rt(g,c))}(c,{idToken:d,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,d){return function Jc(g,c){return Ge(g,"POST","/v2/accounts/mfaSignIn:finalize",rt(g,c))}(c,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Bu=(()=>{class g{constructor(){}static assertion(d){return Ra._fromCredential(d)}}return g.FACTOR_ID="phone",g})();var Pa="@firebase/auth";class Hu{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var d=this;return(0,f.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const d=this.auth.onIdTokenChanged(_=>{c(_?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,d),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const d=this.internalListeners.get(c);d&&(this.internalListeners.delete(c),d(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ks(){return window}(0,N.Pz)("authIdTokenMaxAge"),function hd(g){(0,re._registerComponent)(new ge.wA("auth",(c,{options:d})=>{const _=c.getProvider("app").getImmediate(),D=c.getProvider("heartbeat"),A=c.getProvider("app-check-internal"),{apiKey:V,authDomain:Z}=_.options;H(V&&!V.includes(":"),"invalid-api-key",{appName:_.name}),H(!Z?.includes(":"),"argument-error",{appName:_.name});const Ie={apiKey:V,authDomain:Z,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xo(g)},Pe=new vt(_,D,A,Ie);return function yn(g,c){const d=c?.persistence||[],_=(Array.isArray(d)?d:[d]).map(st);c?.errorMap&&g._updateErrorMap(c.errorMap),g._initializeWithPersistence(_,c?.popupRedirectResolver)}(Pe,d),Pe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,d,_)=>{c.getProvider("auth-internal").initialize()})),(0,re._registerComponent)(new ge.wA("auth-internal",c=>{const d=ht(c.getProvider("auth").getImmediate());return new Hu(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,re.registerVersion)(Pa,"0.23.0",function Oa(g){switch(g){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(g)),(0,re.registerVersion)(Pa,"0.23.0","esm2017")}("Browser");const jf=2e3;function gd(){return gd=(0,f.Z)(function*(g,c,d){var _;const{BuildInfo:D}=Ks();Fe(c.sessionId,"AuthEvent did not contain a session ID");const A=yield function Wf(g){return Wu.apply(this,arguments)}(c.sessionId),V={};return en()?V.ibi=D.packageName:Bt()?V.apn=D.packageName:de(g,"operation-not-supported-in-this-environment"),D.displayName&&(V.appDisplayName=D.displayName),V.sessionId=A,xl(g,d,c.type,void 0,null!==(_=c.eventId)&&void 0!==_?_:void 0,V)}),gd.apply(this,arguments)}function Rl(){return(Rl=(0,f.Z)(function*(g){const{BuildInfo:c}=Ks(),d={};en()?d.iosBundleId=c.packageName:Bt()?d.androidPackageName=c.packageName:de(g,"operation-not-supported-in-this-environment"),yield Tl(g,d)})).apply(this,arguments)}function Gu(){return(Gu=(0,f.Z)(function*(g,c,d){const{cordova:_}=Ks();let D=()=>{};try{yield new Promise((A,V)=>{let Z=null;function Ie(){var Ke;A();const cn=null===(Ke=_.plugins.browsertab)||void 0===Ke?void 0:Ke.close;"function"==typeof cn&&cn(),"function"==typeof d?.close&&d.close()}function Pe(){Z||(Z=window.setTimeout(()=>{V(he(g,"redirect-cancelled-by-user"))},jf))}function Qe(){"visible"===document?.visibilityState&&Pe()}c.addPassiveListener(Ie),document.addEventListener("resume",Pe,!1),Bt()&&document.addEventListener("visibilitychange",Qe,!1),D=()=>{c.removePassiveListener(Ie),document.removeEventListener("resume",Pe,!1),document.removeEventListener("visibilitychange",Qe,!1),Z&&window.clearTimeout(Z)}})}finally{D()}})).apply(this,arguments)}function Wu(){return(Wu=(0,f.Z)(function*(g){const c=function Mr(g){if(Fe(/[0-9a-zA-Z]+/.test(g),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(g);const c=new ArrayBuffer(g.length),d=new Uint8Array(c);for(let _=0;_<g.length;_++)d[_]=g.charCodeAt(_);return d}(g),d=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(d)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const zu=20;class zf extends No{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(c)),super.onEvent(c)}initialized(){var c=this;return(0,f.Z)(function*(){yield c.initPromise})()}}function Fi(g){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,f.Z)(function*(g){const c=yield Ku()._get(Pl(g));return c&&(yield Ku()._remove(Pl(g))),c})).apply(this,arguments)}function Kf(){const g=[],c="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let d=0;d<zu;d++){const _=Math.floor(Math.random()*c.length);g.push(c.charAt(_))}return g.join("")}function Ku(){return st(xi)}function Pl(g){return L("authEvent",g.config.apiKey,g.name)}function Fo(g){if(!g?.includes("?"))return{};const[c,...d]=g.split("?");return(0,N.zd)(d.join("?"))}const Yu=class yd{constructor(){this._redirectPersistence=Sr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ki,this._overrideRedirectResult=q}_initialize(c){var d=this;return(0,f.Z)(function*(){const _=c._key();let D=d.eventManagers.get(_);return D||(D=new zf(c),d.eventManagers.set(_,D),d.attachCallbackListeners(c,D)),D})()}_openPopup(c){de(c,"operation-not-supported-in-this-environment")}_openRedirect(c,d,_,D){var A=this;return(0,f.Z)(function*(){!function Gp(g){var c,d,_,D,A,V,Z,Ie,Pe,Qe;const Ke=Ks();H("function"==typeof(null===(c=Ke?.universalLinks)||void 0===c?void 0:c.subscribe),g,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),H(typeof(null===(d=Ke?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),H("function"==typeof(null===(A=null===(D=null===(_=Ke?.cordova)||void 0===_?void 0:_.plugins)||void 0===D?void 0:D.browsertab)||void 0===A?void 0:A.openUrl),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(Ie=null===(Z=null===(V=Ke?.cordova)||void 0===V?void 0:V.plugins)||void 0===Z?void 0:Z.browsertab)||void 0===Ie?void 0:Ie.isAvailable),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(Qe=null===(Pe=Ke?.cordova)||void 0===Pe?void 0:Pe.InAppBrowser)||void 0===Qe?void 0:Qe.open),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const V=yield A._initialize(c);yield V.initialized(),V.resetRedirect(),function z(){Gs.clear()}(),yield A._originValidation(c);const Z=function Wp(g,c,d=null){return{type:c,eventId:d,urlResponse:null,sessionId:Kf(),postBody:null,tenantId:g.tenantId,error:he(g,"no-auth-event")}}(c,_,D);yield function md(g,c){return Ku()._set(Pl(g),c)}(c,Z);const Ie=yield function $p(g,c,d){return gd.apply(this,arguments)}(c,Z,d),Pe=yield function Gf(g){const{cordova:c}=Ks();return new Promise(d=>{c.plugins.browsertab.isAvailable(_=>{let D=null;_?c.plugins.browsertab.openUrl(g):D=c.InAppBrowser.open(g,function bt(g=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(g)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(g)}()?"_blank":"_system","location=yes"),d(D)})})}(Ie);return function $u(g,c,d){return Gu.apply(this,arguments)}(c,V,Pe)})()}_isIframeWebStorageSupported(c,d){throw new Error("Method not implemented.")}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function $f(g){return Rl.apply(this,arguments)}(c)),this.originValidationPromises[d]}attachCallbackListeners(c,d){const{universalLinks:_,handleOpenURL:D,BuildInfo:A}=Ks(),V=setTimeout((0,f.Z)(function*(){yield Fi(c),d.onEvent(Ol())}),500),Z=function(){var Qe=(0,f.Z)(function*(Ke){clearTimeout(V);const cn=yield Fi(c);let Rt=null;cn&&Ke?.url&&(Rt=function Zf(g,c){var d,_;const D=function Nl(g){const c=Fo(g),d=c.link?decodeURIComponent(c.link):void 0,_=Fo(d).link,D=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return Fo(D).link||D||_||d||g}(c);if(D.includes("/__/auth/callback")){const A=Fo(D),V=A.firebaseError?function qu(g){try{return JSON.parse(g)}catch{return null}}(decodeURIComponent(A.firebaseError)):null,Z=null===(_=null===(d=V?.code)||void 0===d?void 0:d.split("auth/"))||void 0===_?void 0:_[1],Ie=Z?he(Z):null;return Ie?{type:g.type,eventId:g.eventId,tenantId:g.tenantId,error:Ie,urlResponse:null,sessionId:null,postBody:null}:{type:g.type,eventId:g.eventId,tenantId:g.tenantId,sessionId:g.sessionId,urlResponse:D,postBody:null}}return null}(cn,Ke.url)),d.onEvent(Rt||Ol())});return function(cn){return Qe.apply(this,arguments)}}();typeof _<"u"&&"function"==typeof _.subscribe&&_.subscribe(null,Z);const Ie=D,Pe=`${A.packageName.toLowerCase()}://`;Ks().handleOpenURL=function(){var Qe=(0,f.Z)(function*(Ke){if(Ke.toLowerCase().startsWith(Pe)&&Z({url:Ke}),"function"==typeof Ie)try{Ie(Ke)}catch(cn){console.error(cn)}});return function(Ke){return Qe.apply(this,arguments)}}()}};function Ol(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:he("no-auth-event")}}const Qf=1e3;function Fa(){var g;return(null===(g=self?.location)||void 0===g?void 0:g.protocol)||null}function La(g=(0,N.z$)()){return!("file:"!==Fa()&&"ionic:"!==Fa()&&"capacitor:"!==Fa()||!g.toLowerCase().match(/iphone|ipad|ipod|android/))}function Tt(){try{const g=self.localStorage,c=di();if(g)return g.setItem(c,"1"),g.removeItem(c),!function xt(g=(0,N.z$)()){return function kl(){return(0,N.w1)()&&11===document?.documentMode}()||function Ut(g=(0,N.z$)()){return/Edge\/\d+/.test(g)}(g)}()||(0,N.hl)()}catch{return Li()&&(0,N.hl)()}return!1}function Li(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function zt(){return(function Jf(){return"http:"===Fa()||"https:"===Fa()}()||(0,N.ru)()||La())&&!function vd(){return(0,N.b$)()||(0,N.UG)()}()&&Tt()&&!Li()}function Qu(){return La()&&typeof document<"u"}function Lo(){return(Lo=(0,f.Z)(function*(){return!!Qu()&&new Promise(g=>{const c=setTimeout(()=>{g(!1)},Qf);document.addEventListener("deviceready",()=>{clearTimeout(c),g(!0)})})})).apply(this,arguments)}const At={LOCAL:"local",NONE:"none",SESSION:"session"},mt=H,Kn="persistence";function Va(g){return mr.apply(this,arguments)}function mr(){return(mr=(0,f.Z)(function*(g){yield g._initializationPromise;const c=eh(),d=L(Kn,g.config.apiKey,g.name);c&&c.setItem(d,g._getPersistence())})).apply(this,arguments)}function eh(){var g;try{return(null===(g=function Cd(){return typeof window<"u"?window:null}())||void 0===g?void 0:g.sessionStorage)||null}catch{return null}}const Zp=H;class ls{constructor(){this.browserResolver=st(cd),this.cordovaResolver=st(Yu),this.underlyingResolver=null,this._redirectPersistence=Sr,this._completeRedirectFn=ki,this._overrideRedirectResult=q}_initialize(c){var d=this;return(0,f.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,d,_,D){var A=this;return(0,f.Z)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._openPopup(c,d,_,D)})()}_openRedirect(c,d,_,D){var A=this;return(0,f.Z)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._openRedirect(c,d,_,D)})()}_isIframeWebStorageSupported(c,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,d)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return Qu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zp(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,f.Z)(function*(){if(c.underlyingResolver)return;const d=yield function Ed(){return Lo.apply(this,arguments)}();c.underlyingResolver=d?c.cordovaResolver:c.browserResolver})()}}function qs(g){return g.unwrap()}function us(g){return th(g)}function th(g){const{_tokenResponse:c}=g instanceof N.ZR?g.customData:g;if(!c)return null;if(!(g instanceof N.ZR)&&"temporaryProof"in c&&"phoneNumber"in c)return Vr.credentialFromResult(g);const d=c.providerId;if(!d||d===ue.PASSWORD)return null;let _;switch(d){case ue.GOOGLE:_=rl;break;case ue.FACEBOOK:_=lr;break;case ue.GITHUB:_=co;break;case ue.TWITTER:_=sa;break;default:const{oauthIdToken:D,oauthAccessToken:A,oauthTokenSecret:V,pendingToken:Z,nonce:Ie}=c;return A||V||D||Z?Z?d.startsWith("saml.")?li._create(d,Z):Zr._fromParams({providerId:d,signInMethod:d,pendingToken:Z,idToken:D,accessToken:A}):new ia(d).credential({idToken:D,accessToken:A,rawNonce:Ie}):null}return g instanceof N.ZR?_.credentialFromError(g):_.credentialFromResult(g)}function Hr(g,c){return c.catch(d=>{throw d instanceof N.ZR&&function Kp(g,c){var d;const _=null===(d=c.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===c?.code)c.resolver=new qp(g,function wo(g,c){var d;const _=(0,N.m9)(g),D=c;return H(c.customData.operationType,_,"argument-error"),H(null===(d=D.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,_,"argument-error"),pl._fromError(_,D)}(g,c));else if(_){const D=th(c),A=c;D&&(A.credential=D,A.tenantId=_.tenantId||void 0,A.email=_.email||void 0,A.phoneNumber=_.phoneNumber||void 0)}}(g,d),d}).then(d=>{const D=d.user;return{operationType:d.operationType,credential:us(d),additionalUserInfo:fl(d),user:nr.getOrCreate(D)}})}function nh(g,c){return rh.apply(this,arguments)}function rh(){return(rh=(0,f.Z)(function*(g,c){const d=yield c;return{verificationId:d.verificationId,confirm:_=>Hr(g,d.confirm(_))}})).apply(this,arguments)}class qp{constructor(c,d){this.resolver=d,this.auth=function Vi(g){return g.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return Hr(qs(this.auth),this.resolver.resolveSignIn(c))}}class nr{constructor(c){this._delegate=c,this.multiFactor=function ml(g){const c=(0,N.m9)(g);return es.has(c)||es.set(c,Jr._fromUser(c)),es.get(c)}(c)}static getOrCreate(c){return nr.USER_MAP.has(c)||nr.USER_MAP.set(c,new nr(c)),nr.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var d=this;return(0,f.Z)(function*(){return Hr(d.auth,ol(d._delegate,c))})()}linkWithPhoneNumber(c,d){var _=this;return(0,f.Z)(function*(){return nh(_.auth,function nd(g,c,d){return Ao.apply(this,arguments)}(_._delegate,c,d))})()}linkWithPopup(c){var d=this;return(0,f.Z)(function*(){return Hr(d.auth,function Ta(g,c,d){return Sa.apply(this,arguments)}(d._delegate,c,ls))})()}linkWithRedirect(c){var d=this;return(0,f.Z)(function*(){return yield Va(ht(d.auth)),Oi(d._delegate,c,ls)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var d=this;return(0,f.Z)(function*(){return Hr(d.auth,Eu(d._delegate,c))})()}reauthenticateWithPhoneNumber(c,d){return nh(this.auth,function js(g,c,d){return wa.apply(this,arguments)}(this._delegate,c,d))}reauthenticateWithPopup(c){return Hr(this.auth,function Wn(g,c,d){return Cn.apply(this,arguments)}(this._delegate,c,ls))}reauthenticateWithRedirect(c){var d=this;return(0,f.Z)(function*(){return yield Va(ht(d.auth)),pt(d._delegate,c,ls)})()}sendEmailVerification(c){return function Sf(g,c){return vo.apply(this,arguments)}(this._delegate,c)}unlink(c){var d=this;return(0,f.Z)(function*(){return yield function Gn(g,c){return ho.apply(this,arguments)}(d._delegate,c),d})()}updateEmail(c){return function dl(g,c){return Vn((0,N.m9)(g),c,null)}(this._delegate,c)}updatePassword(c){return function Zc(g,c){return Vn((0,N.m9)(g),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function rd(g,c){return Nn.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function Mf(g,c){return pa.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,d){return function Du(g,c,d){return bu.apply(this,arguments)}(this._delegate,c,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}nr.USER_MAP=new WeakMap;const wt=H;let Fl=(()=>{class g{constructor(d,_){if(this.app=d,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=d.options;wt(D,"invalid-api-key",{appName:d.name}),wt(D,"invalid-api-key",{appName:d.name});const A=typeof window<"u"?ls:void 0;this._delegate=_.initialize({options:{persistence:ih(D,d.name),popupRedirectResolver:A}}),this._delegate._updateErrorMap(dt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?nr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,_){!function Ti(g,c,d){const _=ht(g);H(_._canInitEmulator,_,"emulator-config-failed"),H(/^https?:\/\//.test(c),_,"invalid-emulator-scheme");const D=!!d?.disableWarnings,A=tn(c),{host:V,port:Z}=function ii(g){const c=tn(g),d=/(\/\/)?([^?#/]+)/.exec(g.substr(c.length));if(!d)return{host:"",port:null};const _=d[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(_);if(D){const A=D[1];return{host:A,port:ta(_.substr(A.length+1))}}{const[A,V]=_.split(":");return{host:A,port:ta(V)}}}(c);_.config.emulator={url:`${A}//${V}${null===Z?"":`:${Z}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:V,port:Z,protocol:A.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function Ct(){function g(){const c=document.createElement("p"),d=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}()}(this._delegate,d,_)}applyActionCode(d){return function Cu(g,c){return xs.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return ll(this._delegate,d)}confirmPasswordReset(d,_){return function Ms(g,c,d){return ur.apply(this,arguments)}(this._delegate,d,_)}createUserWithEmailAndPassword(d,_){var D=this;return(0,f.Z)(function*(){return Hr(D._delegate,function cr(g,c,d){return _o.apply(this,arguments)}(D._delegate,d,_))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function wu(g,c){return Ps.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function Iu(g,c){return"EMAIL_SIGNIN"===lo.parseLink(c)?.operation}(0,d)}getRedirectResult(){var d=this;return(0,f.Z)(function*(){wt(zt(),d._delegate,"operation-not-supported-in-this-environment");const _=yield function hr(g,c){return zn.apply(this,arguments)}(d._delegate,ls);return _?Hr(d._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function ka(g,c){ht(g)._logFramework(c)}(this._delegate,d)}onAuthStateChanged(d,_,D){const{next:A,error:V,complete:Z}=Ll(d,_,D);return this._delegate.onAuthStateChanged(A,V,Z)}onIdTokenChanged(d,_,D){const{next:A,error:V,complete:Z}=Ll(d,_,D);return this._delegate.onIdTokenChanged(A,V,Z)}sendSignInLinkToEmail(d,_){return function Yr(g,c,d){return Rs.apply(this,arguments)}(this._delegate,d,_)}sendPasswordResetEmail(d,_){return function Sn(g,c,d){return al.apply(this,arguments)}(this._delegate,d,_||void 0)}setPersistence(d){var _=this;return(0,f.Z)(function*(){let D;switch(function Xf(g,c){mt(Object.values(At).includes(c),g,"invalid-persistence-type"),(0,N.b$)()?mt(c!==At.SESSION,g,"unsupported-persistence-type"):(0,N.UG)()?mt(c===At.NONE,g,"unsupported-persistence-type"):Li()?mt(c===At.NONE||c===At.LOCAL&&(0,N.hl)(),g,"unsupported-persistence-type"):mt(c===At.NONE||Tt(),g,"unsupported-persistence-type")}(_._delegate,d),d){case At.SESSION:D=Sr;break;case At.LOCAL:D=(yield st(Xr)._isAvailable())?Xr:xi;break;case At.NONE:D=on;break;default:return de("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return Hr(this._delegate,function vu(g){return bs.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return Hr(this._delegate,Ss(this._delegate,d))}signInWithCustomToken(d){return Hr(this._delegate,function Wc(g,c){return Yt.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,_){return Hr(this._delegate,function yo(g,c,d){return Ss((0,N.m9)(g),ws.credential(c,d))}(this._delegate,d,_))}signInWithEmailLink(d,_){return Hr(this._delegate,function zc(g,c,d){return cl.apply(this,arguments)}(this._delegate,d,_))}signInWithPhoneNumber(d,_){return nh(this._delegate,function Lr(g,c,d){return Ni.apply(this,arguments)}(this._delegate,d,_))}signInWithPopup(d){var _=this;return(0,f.Z)(function*(){return wt(zt(),_._delegate,"operation-not-supported-in-this-environment"),Hr(_._delegate,function Dl(g,c,d){return En.apply(this,arguments)}(_._delegate,d,ls))})()}signInWithRedirect(d){var _=this;return(0,f.Z)(function*(){return wt(zt(),_._delegate,"operation-not-supported-in-this-environment"),yield Va(_._delegate),Ve(_._delegate,d,ls)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function ul(g,c){return ln.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return g.Persistence=At,g})();function Ll(g,c,d){let _=g;"function"!=typeof g&&({next:_,error:c,complete:d}=g);const D=_;return{next:V=>D(V&&nr.getOrCreate(V)),error:c,complete:d}}function ih(g,c){const d=function zp(g,c){const d=eh();if(!d)return[];const _=L(Kn,g,c);switch(d.getItem(_)){case At.NONE:return[on];case At.LOCAL:return[Xr,Sr];case At.SESSION:return[Sr];default:return[]}}(g,c);if(typeof self<"u"&&!d.includes(Xr)&&d.push(Xr),typeof window<"u")for(const _ of[xi,Sr])d.includes(_)||d.push(_);return d.includes(on)||d.push(on),d}class xr{constructor(){this.providerId="phone",this._delegate=new Vr(qs(J.Z.auth()))}static credential(c,d){return Vr.credential(c,d)}verifyPhoneNumber(c,d){return this._delegate.verifyPhoneNumber(c,d)}unwrap(){return this._delegate}}xr.PHONE_SIGN_IN_METHOD=Vr.PHONE_SIGN_IN_METHOD,xr.PROVIDER_ID=Vr.PROVIDER_ID;const ti=H;class _r{constructor(c,d,_=J.Z.app()){var D;ti(null===(D=_.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new xu(c,d,_.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function yr(g){g.INTERNAL.registerComponent(new ge.wA("auth-compat",c=>{const d=c.getProvider("app-compat").getImmediate(),_=c.getProvider("auth");return new Fl(d,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:K_EMAIL_SIGNIN,PASSWORD_RESET:K_PASSWORD_RESET,RECOVER_EMAIL:K_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:K_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:K_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:K_VERIFY_EMAIL}},EmailAuthProvider:ws,FacebookAuthProvider:lr,GithubAuthProvider:co,GoogleAuthProvider:rl,OAuthProvider:ia,SAMLAuthProvider:Ds,PhoneAuthProvider:xr,PhoneMultiFactorGenerator:Bu,RecaptchaVerifier:_r,TwitterAuthProvider:sa,Auth:Fl,AuthCredential:si,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),g.registerVersion("@firebase/auth-compat","0.4.0")}(J.Z)},8766:(nt,De,O)=>{O.d(De,{Lj:()=>Te,X3:()=>Me});var f=O(5861);const J=(ie,H)=>H.some(Oe=>ie instanceof Oe);let N,re;const ge=new WeakMap,oe=new WeakMap,ue=new WeakMap,B=new WeakMap,U=new WeakMap;let Ae={get(ie,H,Oe){if(ie instanceof IDBTransaction){if("done"===H)return oe.get(ie);if("objectStoreNames"===H)return ie.objectStoreNames||ue.get(ie);if("store"===H)return Oe.objectStoreNames[1]?void 0:Oe.objectStore(Oe.objectStoreNames[0])}return we(ie[H])},set:(ie,H,Oe)=>(ie[H]=Oe,!0),has:(ie,H)=>ie instanceof IDBTransaction&&("done"===H||"store"===H)||H in ie};function se(ie){return"function"==typeof ie?function $e(ie){return ie!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ne(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ie)?function(...H){return ie.apply(_e(this),H),we(ge.get(this))}:function(...H){return we(ie.apply(_e(this),H))}:function(H,...Oe){const Fe=ie.call(_e(this),H,...Oe);return ue.set(Fe,H.sort?H.sort():[H]),we(Fe)}}(ie):(ie instanceof IDBTransaction&&function je(ie){if(oe.has(ie))return;const H=new Promise((Oe,Fe)=>{const ot=()=>{ie.removeEventListener("complete",We),ie.removeEventListener("error",te),ie.removeEventListener("abort",te)},We=()=>{Oe(),ot()},te=()=>{Fe(ie.error||new DOMException("AbortError","AbortError")),ot()};ie.addEventListener("complete",We),ie.addEventListener("error",te),ie.addEventListener("abort",te)});oe.set(ie,H)}(ie),J(ie,function ee(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ie,Ae):ie)}function we(ie){if(ie instanceof IDBRequest)return function K(ie){const H=new Promise((Oe,Fe)=>{const ot=()=>{ie.removeEventListener("success",We),ie.removeEventListener("error",te)},We=()=>{Oe(we(ie.result)),ot()},te=()=>{Fe(ie.error),ot()};ie.addEventListener("success",We),ie.addEventListener("error",te)});return H.then(Oe=>{Oe instanceof IDBCursor&&ge.set(Oe,ie)}).catch(()=>{}),U.set(H,ie),H}(ie);if(B.has(ie))return B.get(ie);const H=se(ie);return H!==ie&&(B.set(ie,H),U.set(H,ie)),H}const _e=ie=>U.get(ie);function Me(ie,H,{blocked:Oe,upgrade:Fe,blocking:ot,terminated:We}={}){const te=indexedDB.open(ie,H),ae=we(te);return Fe&&te.addEventListener("upgradeneeded",fe=>{Fe(we(te.result),fe.oldVersion,fe.newVersion,we(te.transaction))}),Oe&&te.addEventListener("blocked",()=>Oe()),ae.then(fe=>{We&&fe.addEventListener("close",()=>We()),ot&&fe.addEventListener("versionchange",()=>ot())}).catch(()=>{}),ae}function Te(ie,{blocked:H}={}){const Oe=indexedDB.deleteDatabase(ie);return H&&Oe.addEventListener("blocked",()=>H()),we(Oe).then(()=>{})}const de=["get","getKey","getAll","getAllKeys","count"],he=["put","add","delete","clear"],Le=new Map;function Se(ie,H){if(!(ie instanceof IDBDatabase)||H in ie||"string"!=typeof H)return;if(Le.get(H))return Le.get(H);const Oe=H.replace(/FromIndex$/,""),Fe=H!==Oe,ot=he.includes(Oe);if(!(Oe in(Fe?IDBIndex:IDBObjectStore).prototype)||!ot&&!de.includes(Oe))return;const We=function(){var te=(0,f.Z)(function*(ae,...fe){const Ce=this.transaction(ae,ot?"readwrite":"readonly");let Re=Ce.store;return Fe&&(Re=Re.index(fe.shift())),(yield Promise.all([Re[Oe](...fe),ot&&Ce.done]))[0]});return function(fe){return te.apply(this,arguments)}}();return Le.set(H,We),We}!function dt(ie){Ae=ie(Ae)}(ie=>({...ie,get:(H,Oe,Fe)=>Se(H,Oe)||ie.get(H,Oe,Fe),has:(H,Oe)=>!!Se(H,Oe)||ie.has(H,Oe)}))},5861:(nt,De,O)=>{function f(N,re,ee,ne,ge,oe,ue){try{var B=N[oe](ue),U=B.value}catch(K){return void ee(K)}B.done?re(U):Promise.resolve(U).then(ne,ge)}function J(N){return function(){var re=this,ee=arguments;return new Promise(function(ne,ge){var oe=N.apply(re,ee);function ue(U){f(oe,ne,ge,ue,B,"next",U)}function B(U){f(oe,ne,ge,ue,B,"throw",U)}ue(void 0)})}}O.d(De,{Z:()=>J})}},nt=>{nt(nt.s=9130)}]);