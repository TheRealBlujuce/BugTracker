"use strict";(self.webpackChunkbug_tracker=self.webpackChunkbug_tracker||[]).push([[179],{2011:(nt,Ce,x)=>{x.d(Ce,{Dh:()=>oe,GT:()=>te,cc:()=>be,hO:()=>He,on:()=>B,pX:()=>X,xv:()=>le});var h=x(4650),Q=x(9260),N=x(7184);nt=x.hmd(nt);const re=["ngOnDestroy"],X=(Ee,ge,Te,_e={})=>new Proxy(Ee,{get:(fe,Ie)=>Te.runOutsideAngular(()=>{var Re;if(Ee[Ie])return!(null===(Re=_e?.spy)||void 0===Re)&&Re.get&&_e.spy.get(Ie,Ee[Ie]),Ee[Ie];if(re.indexOf(Ie)>-1)return()=>{};const Se=ge.toPromise().then(L=>{const ue=L&&L[Ie];return"function"==typeof ue?ue.bind(L):ue&&ue.then?ue.then(Ne=>Te.run(()=>Ne)):Te.run(()=>ue)});return new Proxy(()=>{},{get:(L,ue)=>Se[ue],apply:(L,ue,Ne)=>Se.then(Be=>{var et;const Ke=Be&&Be(...Ne);return!(null===(et=_e?.spy)||void 0===et)&&et.apply&&_e.spy.apply(Ie,Ne,Ke),Ke})})})}),te=(Ee,ge)=>{ge.forEach(Te=>{Object.getOwnPropertyNames(Te.prototype||Te).forEach(_e=>{Object.defineProperty(Ee.prototype,_e,Object.getOwnPropertyDescriptor(Te.prototype||Te,_e))})})};class he{constructor(ge){return ge}}const oe=new h.OlP("angularfire2.app.options"),le=new h.OlP("angularfire2.app.name");function B(Ee,ge,Te){const fe="object"==typeof Te&&Te||{};fe.name=fe.name||"string"==typeof Te&&Te||"[DEFAULT]";const Re=Q.Z.apps.filter(Se=>Se&&Se.name===fe.name)[0]||ge.runOutsideAngular(()=>Q.Z.initializeApp(Ee,fe));try{JSON.stringify(Ee)!==JSON.stringify(Re.options)&&U("error",`${Re.name} Firebase App already initialized with different options${nt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new he(Re)}const U=(Ee,...ge)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Ee](...ge)},Z={provide:he,useFactory:B,deps:[oe,h.R0b,[new h.FiY,le]]};let He=(()=>{class Ee{constructor(Te){Q.Z.registerVersion("angularfire",N.q4.full,"core"),Q.Z.registerVersion("angularfire",N.q4.full,"app-compat"),Q.Z.registerVersion("angular",h.q4F.full,Te.toString())}static initializeApp(Te,_e){return{ngModule:Ee,providers:[{provide:oe,useValue:Te},{provide:le,useValue:_e}]}}}return Ee.\u0275fac=function(Te){return new(Te||Ee)(h.LFG(h.Lbi))},Ee.\u0275mod=h.oAB({type:Ee}),Ee.\u0275inj=h.cJS({providers:[Z]}),Ee})();function be(Ee,ge,Te,_e,fe){const[,Ie,Re]=globalThis.\u0275AngularfireInstanceCache.find(Se=>Se[0]===Ee)||[];if(Ie)return function ft(Ee,ge){try{return Ee.toString()===ge.toString()}catch{return Ee===ge}}(fe,Re)||(ie("error",`${ge} was already initialized on the ${Te} Firebase App with different settings.${je?" You may need to reload as Firebase is not HMR aware.":""}`),ie("warn",{is:fe,was:Re})),Ie;{const Se=_e();return globalThis.\u0275AngularfireInstanceCache.push([Ee,Se,fe]),Se}}const je=!!nt.hot,ie=(Ee,...ge)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Ee](...ge)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7184:(nt,Ce,x)=>{x.d(Ce,{q4:()=>dl,iC:()=>Ji,HU:()=>mo,vb:()=>zr,JM:()=>pa});var h=x(4650),Q=x(259),N=x(5861),re=x(9681),X=x(2090),te=x(4859),he=x(1877),oe=x(8766);const le="@firebase/installations",B="0.6.4",U=1e4,Z=`w:${B}`,He="FIS_v2",be="https://firebaseinstallations.googleapis.com/v1",ft=36e5,ge=new X.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Te(C){return C instanceof X.ZR&&C.code.includes("request-failed")}function _e({projectId:C}){return`${be}/projects/${C}/installations`}function fe(C){return{token:C.token,requestStatus:2,expiresIn:Be(C.expiresIn),creationTime:Date.now()}}function Ie(C,I){return Re.apply(this,arguments)}function Re(){return(Re=(0,N.Z)(function*(C,I){const O=(yield I.json()).error;return ge.create("request-failed",{requestName:C,serverCode:O.code,serverMessage:O.message,serverStatus:O.status})})).apply(this,arguments)}function Se({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function ue(C){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,N.Z)(function*(C){const I=yield C();return I.status>=500&&I.status<600?C():I})).apply(this,arguments)}function Be(C){return Number(C.replace("s","000"))}function ee(){return(ee=(0,N.Z)(function*({appConfig:C,heartbeatServiceProvider:I},{fid:S}){const O=_e(C),z=Se(C),K=I.getImmediate({optional:!0});if(K){const P=yield K.getHeartbeatsHeader();P&&z.append("x-firebase-client",P)}const Ve={method:"POST",headers:z,body:JSON.stringify({fid:S,authVersion:He,appId:C.appId,sdkVersion:Z})},Fe=yield ue(()=>fetch(O,Ve));if(Fe.ok){const P=yield Fe.json();return{fid:P.fid||S,registrationStatus:2,refreshToken:P.refreshToken,authToken:fe(P.authToken)}}throw yield Ie("Create Installation",Fe)})).apply(this,arguments)}function se(C){return new Promise(I=>{setTimeout(I,C)})}const De=/^[cdef][\w-]{21}$/,Me="";function xe(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const S=function We(C){return function ce(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return De.test(S)?S:Me}catch{return Me}}function $e(C){return`${C.appName}!${C.appId}`}const Lt=new Map;function it(C,I){const S=$e(C);ot(S,I),function dn(C,I){const S=function Xt(){return!Ut&&"BroadcastChannel"in self&&(Ut=new BroadcastChannel("[Firebase] FID Change"),Ut.onmessage=C=>{ot(C.data.key,C.data.fid)}),Ut}();S&&S.postMessage({key:C,fid:I}),function en(){0===Lt.size&&Ut&&(Ut.close(),Ut=null)}()}(S,I)}function ot(C,I){const S=Lt.get(C);if(S)for(const O of S)O(I)}let Ut=null;const rr="firebase-installations-database",ui=1,Cr="firebase-installations-store";let Qn=null;function ci(){return Qn||(Qn=(0,oe.X3)(rr,ui,{upgrade:(C,I)=>{0===I&&C.createObjectStore(Cr)}})),Qn}function Gt(C,I){return ir.apply(this,arguments)}function ir(){return(ir=(0,N.Z)(function*(C,I){const S=$e(C),z=(yield ci()).transaction(Cr,"readwrite"),K=z.objectStore(Cr),me=yield K.get(S);return yield K.put(I,S),yield z.done,(!me||me.fid!==I.fid)&&it(C,I.fid),I})).apply(this,arguments)}function tt(C){return di.apply(this,arguments)}function di(){return(di=(0,N.Z)(function*(C){const I=$e(C),O=(yield ci()).transaction(Cr,"readwrite");yield O.objectStore(Cr).delete(I),yield O.done})).apply(this,arguments)}function xr(C,I){return tn.apply(this,arguments)}function tn(){return(tn=(0,N.Z)(function*(C,I){const S=$e(C),z=(yield ci()).transaction(Cr,"readwrite"),K=z.objectStore(Cr),me=yield K.get(S),Ve=I(me);return void 0===Ve?yield K.delete(S):yield K.put(Ve,S),yield z.done,Ve&&(!me||me.fid!==Ve.fid)&&it(C,Ve.fid),Ve})).apply(this,arguments)}function Ln(C){return fi.apply(this,arguments)}function fi(){return fi=(0,N.Z)(function*(C){let I;const S=yield xr(C.appConfig,O=>{const z=function mt(C){return Bn(C||{fid:xe(),registrationStatus:0})}(O),K=function rt(C,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(ge.create("app-offline"))};const S={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},O=function lt(C,I){return xi.apply(this,arguments)}(C,S);return{installationEntry:S,registrationPromise:O}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Wt(C)}:{installationEntry:I}}(C,z);return I=K.registrationPromise,K.installationEntry});return S.fid===Me?{installationEntry:yield I}:{installationEntry:S,registrationPromise:I}}),fi.apply(this,arguments)}function xi(){return xi=(0,N.Z)(function*(C,I){try{const S=yield function Ke(C,I){return ee.apply(this,arguments)}(C,I);return Gt(C.appConfig,S)}catch(S){throw Te(S)&&409===S.customData.serverCode?yield tt(C.appConfig):yield Gt(C.appConfig,{fid:I.fid,registrationStatus:0}),S}}),xi.apply(this,arguments)}function Wt(C){return fn.apply(this,arguments)}function fn(){return(fn=(0,N.Z)(function*(C){let I=yield Vn(C.appConfig);for(;1===I.registrationStatus;)yield se(100),I=yield Vn(C.appConfig);if(0===I.registrationStatus){const{installationEntry:S,registrationPromise:O}=yield Ln(C);return O||S}return I})).apply(this,arguments)}function Vn(C){return xr(C,I=>{if(!I)throw ge.create("installation-not-found");return Bn(I)})}function Bn(C){return function cs(C){return 1===C.registrationStatus&&C.registrationTime+U<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Vr(){return(Vr=(0,N.Z)(function*({appConfig:C,heartbeatServiceProvider:I},S){const O=function At(C,{fid:I}){return`${_e(C)}/${I}/authTokens:generate`}(C,S),z=function L(C,{refreshToken:I}){const S=Se(C);return S.append("Authorization",function et(C){return`${He} ${C}`}(I)),S}(C,S),K=I.getImmediate({optional:!0});if(K){const P=yield K.getHeartbeatsHeader();P&&z.append("x-firebase-client",P)}const Ve={method:"POST",headers:z,body:JSON.stringify({installation:{sdkVersion:Z,appId:C.appId}})},Fe=yield ue(()=>fetch(O,Ve));if(Fe.ok)return fe(yield Fe.json());throw yield Ie("Generate Auth Token",Fe)})).apply(this,arguments)}function Jn(C){return Br.apply(this,arguments)}function Br(){return Br=(0,N.Z)(function*(C,I=!1){let S;const O=yield xr(C.appConfig,K=>{if(!Et(K))throw ge.create("not-registered");const me=K.authToken;if(!I&&function Un(C){return 2===C.requestStatus&&!function V(C){const I=Date.now();return I<C.creationTime||C.creationTime+C.expiresIn<I+ft}(C)}(me))return K;if(1===me.requestStatus)return S=function ke(C,I){return ye.apply(this,arguments)}(C,I),K;{if(!navigator.onLine)throw ge.create("app-offline");const Ve=function F(C){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:I})}(K);return S=function at(C,I){return gt.apply(this,arguments)}(C,Ve),Ve}});return S?yield S:O.authToken}),Br.apply(this,arguments)}function ye(){return(ye=(0,N.Z)(function*(C,I){let S=yield Qe(C.appConfig);for(;1===S.authToken.requestStatus;)yield se(100),S=yield Qe(C.appConfig);const O=S.authToken;return 0===O.requestStatus?Jn(C,I):O})).apply(this,arguments)}function Qe(C){return xr(C,I=>{if(!Et(I))throw ge.create("not-registered");return function H(C){return 1===C.requestStatus&&C.requestTime+U<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function gt(){return gt=(0,N.Z)(function*(C,I){try{const S=yield function Vt(C,I){return Vr.apply(this,arguments)}(C,I),O=Object.assign(Object.assign({},I),{authToken:S});return yield Gt(C.appConfig,O),S}catch(S){if(!Te(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const O=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Gt(C.appConfig,O)}else yield tt(C.appConfig);throw S}}),gt.apply(this,arguments)}function Et(C){return void 0!==C&&2===C.registrationStatus}function Y(){return(Y=(0,N.Z)(function*(C){const I=C,{installationEntry:S,registrationPromise:O}=yield Ln(I);return O?O.catch(console.error):Jn(I).catch(console.error),S.fid})).apply(this,arguments)}function Ue(){return Ue=(0,N.Z)(function*(C,I=!1){const S=C;return yield function Bt(C){return nn.apply(this,arguments)}(S),(yield Jn(S,I)).token}),Ue.apply(this,arguments)}function nn(){return(nn=(0,N.Z)(function*(C){const{registrationPromise:I}=yield Ln(C);I&&(yield I)})).apply(this,arguments)}function Wo(C){return ge.create("missing-app-config-values",{valueName:C})}const zo="installations",an=C=>{const I=C.getProvider("app").getImmediate(),S=function Ba(C){if(!C||!C.options)throw Wo("App Configuration");if(!C.name)throw Wo("App Name");const I=["projectId","apiKey","appId"];for(const S of I)if(!C.options[S])throw Wo(S);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(I);return{app:I,appConfig:S,heartbeatServiceProvider:(0,re._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Ua=C=>{const I=C.getProvider("app").getImmediate(),S=(0,re._getProvider)(I,zo).getImmediate();return{getId:()=>function ae(C){return Y.apply(this,arguments)}(S),getToken:z=>function Ze(C){return Ue.apply(this,arguments)}(S,z)}};(function Ha(){(0,re._registerComponent)(new te.wA(zo,an,"PUBLIC")),(0,re._registerComponent)(new te.wA("installations-internal",Ua,"PRIVATE"))})(),(0,re.registerVersion)(le,B),(0,re.registerVersion)(le,B,"esm2017");const Mt="@firebase/remote-config",Hn=new X.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class hs{constructor(I,S,O,z){this.client=I,this.storage=S,this.storageCache=O,this.logger=z}isCachedDataFresh(I,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const O=Date.now()-S,z=O<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${O}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${z}.`),z}fetch(I){var S=this;return(0,N.Z)(function*(){const[O,z]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(z&&S.isCachedDataFresh(I.cacheMaxAgeMillis,O))return z;I.eTag=z&&z.eTag;const K=yield S.client.fetch(I),me=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===K.status&&me.push(S.storage.setLastSuccessfulFetchResponse(K)),yield Promise.all(me),K})()}}function Ui(C=navigator){return C.languages&&C.languages[0]||C.language}class or{constructor(I,S,O,z,K,me){this.firebaseInstallations=I,this.sdkVersion=S,this.namespace=O,this.projectId=z,this.apiKey=K,this.appId=me}fetch(I){var S=this;return(0,N.Z)(function*(){const[O,z]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,Ve={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Fe={sdk_version:S.sdkVersion,app_instance_id:O,app_instance_id_token:z,app_id:S.appId,language_code:Ui()},P={method:"POST",headers:Ve,body:JSON.stringify(Fe)},It=fetch(me,P),ht=new Promise((Zn,pr)=>{I.signal.addEventListener(()=>{const yo=new Error("The operation was aborted.");yo.name="AbortError",pr(yo)})});let tr;try{yield Promise.race([It,ht]),tr=yield It}catch(Zn){let pr="fetch-client-network";throw"AbortError"===Zn?.name&&(pr="fetch-timeout"),Hn.create(pr,{originalErrorMessage:Zn?.message})}let hn=tr.status;const ei=tr.headers.get("ETag")||void 0;let ya,ks;if(200===tr.status){let Zn;try{Zn=yield tr.json()}catch(pr){throw Hn.create("fetch-client-parse",{originalErrorMessage:pr?.message})}ya=Zn.entries,ks=Zn.state}if("INSTANCE_STATE_UNSPECIFIED"===ks?hn=500:"NO_CHANGE"===ks?hn=304:("NO_TEMPLATE"===ks||"EMPTY_CONFIG"===ks)&&(ya={}),304!==hn&&200!==hn)throw Hn.create("fetch-status",{httpStatus:hn});return{status:hn,eTag:ei,config:ya}})()}}class Tt{constructor(I,S){this.client=I,this.storage=S}fetch(I){var S=this;return(0,N.Z)(function*(){const O=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(I,O)})()}attemptFetch(I,{throttleEndTimeMillis:S,backoffCount:O}){var z=this;return(0,N.Z)(function*(){yield function Dr(C,I){return new Promise((S,O)=>{const z=Math.max(I-Date.now(),0),K=setTimeout(S,z);C.addEventListener(()=>{clearTimeout(K),O(Hn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,S);try{const K=yield z.client.fetch(I);return yield z.storage.deleteThrottleMetadata(),K}catch(K){if(!function ja(C){if(!(C instanceof X.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(K))throw K;const me={throttleEndTimeMillis:Date.now()+(0,X.$s)(O),backoffCount:O+1};return yield z.storage.setThrottleMetadata(me),z.attemptFetch(I,me)}})()}}class Zo{constructor(I,S,O,z,K){this.app=I,this._client=S,this._storageCache=O,this._storage=z,this._logger=K,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Hi(C,I){const S=C.target.error||void 0;return Hn.create(I,{originalErrorMessage:S&&S?.message})}const wr="app_namespace_store";class ar{constructor(I,S,O,z=function _f(){return new Promise((C,I)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=O=>{I(Hi(O,"storage-open"))},S.onsuccess=O=>{C(O.target.result)},S.onupgradeneeded=O=>{0===O.oldVersion&&O.target.result.createObjectStore(wr,{keyPath:"compositeKey"})}}catch(S){I(Hn.create("storage-open",{originalErrorMessage:S?.message}))}})}()){this.appId=I,this.appName=S,this.namespace=O,this.openDbPromise=z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var S=this;return(0,N.Z)(function*(){const O=yield S.openDbPromise;return new Promise((z,K)=>{const Ve=O.transaction([wr],"readonly").objectStore(wr),Fe=S.createCompositeKey(I);try{const P=Ve.get(Fe);P.onerror=It=>{K(Hi(It,"storage-get"))},P.onsuccess=It=>{const ht=It.target.result;z(ht?ht.value:void 0)}}catch(P){K(Hn.create("storage-get",{originalErrorMessage:P?.message}))}})})()}set(I,S){var O=this;return(0,N.Z)(function*(){const z=yield O.openDbPromise;return new Promise((K,me)=>{const Fe=z.transaction([wr],"readwrite").objectStore(wr),P=O.createCompositeKey(I);try{const It=Fe.put({compositeKey:P,value:S});It.onerror=ht=>{me(Hi(ht,"storage-set"))},It.onsuccess=()=>{K()}}catch(It){me(Hn.create("storage-set",{originalErrorMessage:It?.message}))}})})()}delete(I){var S=this;return(0,N.Z)(function*(){const O=yield S.openDbPromise;return new Promise((z,K)=>{const Ve=O.transaction([wr],"readwrite").objectStore(wr),Fe=S.createCompositeKey(I);try{const P=Ve.delete(Fe);P.onerror=It=>{K(Hi(It,"storage-delete"))},P.onsuccess=()=>{z()}}catch(P){K(Hn.create("storage-delete",{originalErrorMessage:P?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class lr{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,N.Z)(function*(){const S=I.storage.getLastFetchStatus(),O=I.storage.getLastSuccessfulFetchTimestampMillis(),z=I.storage.getActiveConfig(),K=yield S;K&&(I.lastFetchStatus=K);const me=yield O;me&&(I.lastSuccessfulFetchTimestampMillis=me);const Ve=yield z;Ve&&(I.activeConfig=Ve)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function jn(){return nu.apply(this,arguments)}function nu(){return(nu=(0,N.Z)(function*(){if(!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch{return!1}})).apply(this,arguments)}!function Kr(){(0,re._registerComponent)(new te.wA("remote-config",function C(I,{instanceIdentifier:S}){const O=I.getProvider("app").getImmediate(),z=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Hn.create("registration-window");if(!(0,X.hl)())throw Hn.create("indexed-db-unavailable");const{projectId:K,apiKey:me,appId:Ve}=O.options;if(!K)throw Hn.create("registration-project-id");if(!me)throw Hn.create("registration-api-key");if(!Ve)throw Hn.create("registration-app-id");const Fe=new ar(Ve,O.name,S=S||"firebase"),P=new lr(Fe),It=new he.Yd(Mt);It.logLevel=he.in.ERROR;const ht=new or(z,re.SDK_VERSION,S,K,me,Ve),tr=new Tt(ht,Fe),hn=new hs(tr,Fe,P,It),ei=new Zo(O,hn,P,Fe,It);return function Li(C){const I=(0,X.m9)(C);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(ei),ei},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(Mt,"0.4.4"),(0,re.registerVersion)(Mt,"0.4.4","esm2017")}();const ru="/firebase-messaging-sw.js",qr="/firebase-cloud-messaging-push-scope",$i="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ys="https://fcmregistrations.googleapis.com/v1",Ga="google.c.a.c_id",Rc="google.c.a.c_l",Nc="google.c.a.ts",yf="google.c.a.e";var Gi=(()=>{return(C=Gi||(Gi={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Gi;var C})();function jr(C){const I=new Uint8Array(C);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function vf(C){const S=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),O=atob(S),z=new Uint8Array(O.length);for(let K=0;K<O.length;++K)z[K]=O.charCodeAt(K);return z}const Wa="fcm_token_details_db",za=5,br="fcm_token_object_Store";function qo(){return qo=(0,N.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(K=>K.name).includes(Wa))return null;let I=null;return(yield(0,oe.X3)(Wa,za,{upgrade:(O=(0,N.Z)(function*(z,K,me,Ve){var Fe;if(K<2||!z.objectStoreNames.contains(br))return;const P=Ve.objectStore(br),It=yield P.index("fcmSenderId").get(C);if(yield P.clear(),It)if(2===K){const ht=It;if(!ht.auth||!ht.p256dh||!ht.endpoint)return;I={token:ht.fcmToken,createTime:null!==(Fe=ht.createTime)&&void 0!==Fe?Fe:Date.now(),subscriptionOptions:{auth:ht.auth,p256dh:ht.p256dh,endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:"string"==typeof ht.vapidKey?ht.vapidKey:jr(ht.vapidKey)}}}else if(3===K){const ht=It;I={token:ht.fcmToken,createTime:ht.createTime,subscriptionOptions:{auth:jr(ht.auth),p256dh:jr(ht.p256dh),endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:jr(ht.vapidKey)}}}else if(4===K){const ht=It;I={token:ht.fcmToken,createTime:ht.createTime,subscriptionOptions:{auth:jr(ht.auth),p256dh:jr(ht.p256dh),endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:jr(ht.vapidKey)}}}}),function(K,me,Ve,Fe){return O.apply(this,arguments)})})).close(),yield(0,oe.Lj)(Wa),yield(0,oe.Lj)("fcm_vapid_details_db"),yield(0,oe.Lj)("undefined"),function Oc(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:I}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}(I)?I:null;var O}),qo.apply(this,arguments)}const Ka="firebase-messaging-database",Ef=1,ur="firebase-messaging-store";let iu=null;function ms(){return iu||(iu=(0,oe.X3)(Ka,Ef,{upgrade:(C,I)=>{0===I&&C.createObjectStore(ur)}})),iu}function Yo(C){return _s.apply(this,arguments)}function _s(){return _s=(0,N.Z)(function*(C){const I=hi(C),O=yield(yield ms()).transaction(ur).objectStore(ur).get(I);if(O)return O;{const z=yield function Za(C){return qo.apply(this,arguments)}(C.appConfig.senderId);if(z)return yield ys(C,z),z}}),_s.apply(this,arguments)}function ys(C,I){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,N.Z)(function*(C,I){const S=hi(C),z=(yield ms()).transaction(ur,"readwrite");return yield z.objectStore(ur).put(I,S),yield z.done,I})).apply(this,arguments)}function Jo(){return(Jo=(0,N.Z)(function*(C){const I=hi(C),O=(yield ms()).transaction(ur,"readwrite");yield O.objectStore(ur).delete(I),yield O.done})).apply(this,arguments)}function hi({appConfig:C}){return C.appId}const kt=new X.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Xo(C,I){return Js.apply(this,arguments)}function Js(){return(Js=(0,N.Z)(function*(C,I){const S=yield qa(C),O=Tn(I),z={method:"POST",headers:S,body:JSON.stringify(O)};let K;try{K=yield(yield fetch(Xs(C.appConfig),z)).json()}catch(me){throw kt.create("token-subscribe-failed",{errorInfo:me?.toString()})}if(K.error)throw kt.create("token-subscribe-failed",{errorInfo:K.error.message});if(!K.token)throw kt.create("token-subscribe-no-token");return K.token})).apply(this,arguments)}function ea(){return(ea=(0,N.Z)(function*(C,I){const S=yield qa(C),O=Tn(I.subscriptionOptions),z={method:"PATCH",headers:S,body:JSON.stringify(O)};let K;try{K=yield(yield fetch(`${Xs(C.appConfig)}/${I.token}`,z)).json()}catch(me){throw kt.create("token-update-failed",{errorInfo:me?.toString()})}if(K.error)throw kt.create("token-update-failed",{errorInfo:K.error.message});if(!K.token)throw kt.create("token-update-no-token");return K.token})).apply(this,arguments)}function $r(C,I){return $n.apply(this,arguments)}function $n(){return($n=(0,N.Z)(function*(C,I){const O={method:"DELETE",headers:yield qa(C)};try{const K=yield(yield fetch(`${Xs(C.appConfig)}/${I}`,O)).json();if(K.error)throw kt.create("token-unsubscribe-failed",{errorInfo:K.error.message})}catch(z){throw kt.create("token-unsubscribe-failed",{errorInfo:z?.toString()})}})).apply(this,arguments)}function Xs({projectId:C}){return`${Ys}/projects/${C}/registrations`}function qa(C){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,N.Z)(function*({appConfig:C,installations:I}){const S=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function Tn({p256dh:C,auth:I,endpoint:S,vapidKey:O}){const z={web:{endpoint:S,auth:I,p256dh:C}};return O!==$i&&(z.web.applicationPubKey=O),z}const Ya=6048e5;function eo(){return eo=(0,N.Z)(function*(C){const I=yield function au(C,I){return to.apply(this,arguments)}(C.swRegistration,C.vapidKey),S={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:I.endpoint,auth:jr(I.getKey("auth")),p256dh:jr(I.getKey("p256dh"))},O=yield Yo(C.firebaseDependencies);if(O){if(function xc(C,I){return I.vapidKey===C.vapidKey&&I.endpoint===C.endpoint&&I.auth===C.auth&&I.p256dh===C.p256dh}(O.subscriptionOptions,S))return Date.now()>=O.createTime+Ya?function Qa(C,I){return ut.apply(this,arguments)}(C,{token:O.token,createTime:Date.now(),subscriptionOptions:S}):O.token;try{yield $r(C.firebaseDependencies,O.token)}catch(z){console.warn(z)}return ou(C.firebaseDependencies,S)}return ou(C.firebaseDependencies,S)}),eo.apply(this,arguments)}function Es(){return Es=(0,N.Z)(function*(C){const I=yield Yo(C.firebaseDependencies);I&&(yield $r(C.firebaseDependencies,I.token),yield function Qo(C){return Jo.apply(this,arguments)}(C.firebaseDependencies));const S=yield C.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()}),Es.apply(this,arguments)}function ut(){return ut=(0,N.Z)(function*(C,I){try{const S=yield function rn(C,I){return ea.apply(this,arguments)}(C.firebaseDependencies,I),O=Object.assign(Object.assign({},I),{token:S,createTime:Date.now()});return yield ys(C.firebaseDependencies,O),S}catch(S){throw yield function Yr(C){return Es.apply(this,arguments)}(C),S}}),ut.apply(this,arguments)}function ou(C,I){return ta.apply(this,arguments)}function ta(){return(ta=(0,N.Z)(function*(C,I){const O={token:yield Xo(C,I),createTime:Date.now(),subscriptionOptions:I};return yield ys(C,O),O.token})).apply(this,arguments)}function to(){return(to=(0,N.Z)(function*(C,I){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:vf(I)})})).apply(this,arguments)}function na(C){const I={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function kc(C,I){if(!I.notification)return;C.notification={};const S=I.notification.title;S&&(C.notification.title=S);const O=I.notification.body;O&&(C.notification.body=O);const z=I.notification.image;z&&(C.notification.image=z);const K=I.notification.icon;K&&(C.notification.icon=K)}(I,C),function Yt(C,I){I.data&&(C.data=I.data)}(I,C),function ve(C,I){var S,O,z,K,me;if(!(I.fcmOptions||null!==(S=I.notification)&&void 0!==S&&S.click_action))return;C.fcmOptions={};const Ve=null!==(z=null===(O=I.fcmOptions)||void 0===O?void 0:O.link)&&void 0!==z?z:null===(K=I.notification)||void 0===K?void 0:K.click_action;Ve&&(C.fcmOptions.link=Ve);const Fe=null===(me=I.fcmOptions)||void 0===me?void 0:me.analytics_label;Fe&&(C.fcmOptions.analyticsLabel=Fe)}(I,C),I}function ra(C,I){const S=[];for(let O=0;O<C.length;O++)S.push(C.charAt(O)),O<I.length&&S.push(I.charAt(O));return S.join("")}function Sn(C){return kt.create("missing-app-config-values",{valueName:C})}ra("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ra("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ja{constructor(I,S,O){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const z=function Fc(C){if(!C||!C.options)throw Sn("App Configuration Object");if(!C.name)throw Sn("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:S}=C;for(const O of I)if(!S[O])throw Sn(O);return{appName:C.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:z,installations:S,analyticsProvider:O}}_delete(){return Promise.resolve()}}function Cs(C){return cr.apply(this,arguments)}function cr(){return(cr=(0,N.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(ru,{scope:qr}),C.swRegistration.update().catch(()=>{})}catch(I){throw kt.create("failed-service-worker-registration",{browserErrorMessage:I?.message})}})).apply(this,arguments)}function Is(){return(Is=(0,N.Z)(function*(C,I){if(!I&&!C.swRegistration&&(yield Cs(C)),I||!C.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw kt.create("invalid-sw-registration");C.swRegistration=I}})).apply(this,arguments)}function ia(){return(ia=(0,N.Z)(function*(C,I){I?C.vapidKey=I:C.vapidKey||(C.vapidKey=$i)})).apply(this,arguments)}function un(){return un=(0,N.Z)(function*(C,I){if(!navigator)throw kt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw kt.create("permission-blocked");return yield function uu(C,I){return ia.apply(this,arguments)}(C,I?.vapidKey),yield function lu(C,I){return Is.apply(this,arguments)}(C,I?.serviceWorkerRegistration),function vs(C){return eo.apply(this,arguments)}(C)}),un.apply(this,arguments)}function no(){return(no=(0,N.Z)(function*(C,I,S){const O=function ro(C){switch(C){case Gi.NOTIFICATION_CLICKED:return"notification_open";case Gi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(I);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(O,{message_id:S[Ga],message_name:S[Rc],message_time:S[Nc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function sa(){return sa=(0,N.Z)(function*(C,I){const S=I.data;if(!S.isFirebaseMessaging)return;C.onMessageHandler&&S.messageType===Gi.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(na(S)):C.onMessageHandler.next(na(S)));const O=S.data;(function Pt(C){return"object"==typeof C&&!!C&&Ga in C})(O)&&"1"===O[yf]&&(yield function dr(C,I,S){return no.apply(this,arguments)}(C,S.messageType,O))}),sa.apply(this,arguments)}const cu="@firebase/messaging",el=C=>{const I=new Ja(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function Tr(C,I){return sa.apply(this,arguments)}(I,S)),I},oa=C=>{const I=C.getProvider("messaging").getImmediate();return{getToken:O=>function Xa(C,I){return un.apply(this,arguments)}(I,O)}};function tl(){return aa.apply(this,arguments)}function aa(){return(aa=(0,N.Z)(function*(){try{yield(0,X.eu)()}catch{return!1}return typeof window<"u"&&(0,X.hl)()&&(0,X.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Wi(){(0,re._registerComponent)(new te.wA("messaging",el,"PUBLIC")),(0,re._registerComponent)(new te.wA("messaging-internal",oa,"PRIVATE")),(0,re.registerVersion)(cu,"0.12.4"),(0,re.registerVersion)(cu,"0.12.4","esm2017")}();const hu="analytics",wf="firebase_id",er="origin",io=6e4,zt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pi="https://www.googletagmanager.com/gtag/js",yn=new he.Yd("@firebase/analytics"),fr=new X.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Tf(C){if(!C.startsWith(pi)){const I=fr.create("invalid-gtag-resource",{gtagURL:C});return yn.warn(I.message),""}return C}function Sf(C){return Promise.all(C.map(I=>I.catch(S=>S)))}function gi(){return(gi=(0,N.Z)(function*(C,I,S,O,z,K){const me=O[z];try{if(me)yield I[me];else{const Fe=(yield Sf(S)).find(P=>P.measurementId===z);Fe&&(yield I[Fe.appId])}}catch(Ve){yn.error(Ve)}C("config",z,K)})).apply(this,arguments)}function Sr(){return(Sr=(0,N.Z)(function*(C,I,S,O,z){try{let K=[];if(z&&z.send_to){let me=z.send_to;Array.isArray(me)||(me=[me]);const Ve=yield Sf(S);for(const Fe of me){const P=Ve.find(ht=>ht.measurementId===Fe),It=P&&I[P.appId];if(!It){K=[];break}K.push(It)}}0===K.length&&(K=Object.values(I)),yield Promise.all(K),C("event",O,z||{})}catch(K){yn.error(K)}})).apply(this,arguments)}const gu=30,Ar=new class Mf{constructor(I={},S=1e3){this.throttleMetadata=I,this.intervalMillis=S}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,S){this.throttleMetadata[I]=S}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function al(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Wr(){return(Wr=(0,N.Z)(function*(C){var I;const{appId:S,apiKey:O}=C,z={method:"GET",headers:al(O)},K=zt.replace("{app-id}",S),me=yield fetch(K,z);if(200!==me.status&&304!==me.status){let Ve="";try{const Fe=yield me.json();null!==(I=Fe.error)&&void 0!==I&&I.message&&(Ve=Fe.error.message)}catch{}throw fr.create("config-fetch-failed",{httpStatus:me.status,responseMessage:Ve})}return me.json()})).apply(this,arguments)}function Zt(){return(Zt=(0,N.Z)(function*(C,I=Ar,S){const{appId:O,apiKey:z,measurementId:K}=C.options;if(!O)throw fr.create("no-app-id");if(!z){if(K)return{measurementId:K,appId:O};throw fr.create("no-api-key")}const me=I.getThrottleMetadata(O)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ve=new Bc;return setTimeout((0,N.Z)(function*(){Ve.abort()}),void 0!==S?S:io),mi({appId:O,apiKey:z,measurementId:K},me,Ve,I)})).apply(this,arguments)}function mi(C,I,S){return Zi.apply(this,arguments)}function Zi(){return Zi=(0,N.Z)(function*(C,{throttleEndTimeMillis:I,backoffCount:S},O,z=Ar){var K;const{appId:me,measurementId:Ve}=C;try{yield function ll(C,I){return new Promise((S,O)=>{const z=Math.max(I-Date.now(),0),K=setTimeout(S,z);C.addEventListener(()=>{clearTimeout(K),O(fr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(O,I)}catch(Fe){if(Ve)return yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ve} provided in the "measurementId" field in the local Firebase config. [${Fe?.message}]`),{appId:me,measurementId:Ve};throw Fe}try{const Fe=yield function Vc(C){return Wr.apply(this,arguments)}(C);return z.deleteThrottleMetadata(me),Fe}catch(Fe){const P=Fe;if(!function bs(C){if(!(C instanceof X.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(P)){if(z.deleteThrottleMetadata(me),Ve)return yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ve} provided in the "measurementId" field in the local Firebase config. [${P?.message}]`),{appId:me,measurementId:Ve};throw Fe}const It=503===Number(null===(K=P?.customData)||void 0===K?void 0:K.httpStatus)?(0,X.$s)(S,z.intervalMillis,gu):(0,X.$s)(S,z.intervalMillis),ht={throttleEndTimeMillis:Date.now()+It,backoffCount:S+1};return z.setThrottleMetadata(me,ht),yn.debug(`Calling attemptFetch again in ${It} millis`),mi(C,ht,O,z)}}),Zi.apply(this,arguments)}class Bc{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let Ts,ua;function Ss(){return(Ss=(0,N.Z)(function*(C,I,S,O,z){if(z&&z.global)C("event",S,O);else{const K=yield I;C("event",S,Object.assign(Object.assign({},O),{send_to:K}))}})).apply(this,arguments)}function lo(){return(lo=(0,N.Z)(function*(){if(!(0,X.hl)())return yn.warn(fr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,X.eu)()}catch(C){return yn.warn(fr.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function Qr(){return Qr=(0,N.Z)(function*(C,I,S,O,z,K,me){var Ve;const Fe=function ws(C){return Zt.apply(this,arguments)}(C);Fe.then(hn=>{S[hn.measurementId]=hn.appId,C.options.measurementId&&hn.measurementId!==C.options.measurementId&&yn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${hn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(hn=>yn.error(hn)),I.push(Fe);const P=function Uc(){return lo.apply(this,arguments)}().then(hn=>{if(hn)return O.getId()}),[It,ht]=yield Promise.all([Fe,P]);(function Af(C){const I=window.document.getElementsByTagName("script");for(const S of Object.values(I))if(S.src&&S.src.includes(pi)&&S.src.includes(C))return S;return null})(K)||function sl(C,I){const S=function il(C,I){let S;return window.trustedTypes&&(S=window.trustedTypes.createPolicy(C,I)),S}("firebase-js-sdk-policy",{createScriptURL:Tf}),O=document.createElement("script"),z=`${pi}?l=${C}&id=${I}`;O.src=S?S?.createScriptURL(z):z,O.async=!0,document.head.appendChild(O)}(K,It.measurementId),ua&&(z("consent","default",ua),function vi(C){ua=C}(void 0)),z("js",new Date);const tr=null!==(Ve=me?.config)&&void 0!==Ve?Ve:{};return tr[er]="firebase",tr.update=!0,null!=ht&&(tr[wf]=ht),z("config",It.measurementId,tr),Ts&&(z("set",Ts),function Ps(C){Ts=C}(void 0)),It.measurementId}),Qr.apply(this,arguments)}class mu{constructor(I){this.app=I}_delete(){return delete kr[this.app.options.appId],Promise.resolve()}}let kr={},ca=[];const qi={};let da,Gn,Yi="dataLayer",_u="gtag",cl=!1;function vu(C,I,S){!function Rs(){const C=[];if((0,X.ru)()&&C.push("This is a browser extension environment."),(0,X.zI)()||C.push("Cookies are not available."),C.length>0){const I=C.map((O,z)=>`(${z+1}) ${O}`).join(" "),S=fr.create("invalid-analytics-context",{errorInfo:I});yn.warn(S.message)}}();const O=C.options.appId;if(!O)throw fr.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw fr.create("no-api-key");yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=kr[O])throw fr.create("already-exists",{id:O});if(!cl){!function Ds(C){let I=[];Array.isArray(window[C])?I=window[C]:window[C]=I}(Yi);const{wrappedGtag:K,gtagCore:me}=function pu(C,I,S,O,z){let K=function(...me){window[O].push(arguments)};return window[z]&&"function"==typeof window[z]&&(K=window[z]),window[z]=function so(C,I,S,O){function K(){return K=(0,N.Z)(function*(me,Ve,Fe){try{"event"===me?yield function la(C,I,S,O,z){return Sr.apply(this,arguments)}(C,I,S,Ve,Fe):"config"===me?yield function zi(C,I,S,O,z,K){return gi.apply(this,arguments)}(C,I,S,O,Ve,Fe):"consent"===me?C("consent","update",Fe):C("set",Ve)}catch(P){yn.error(P)}}),K.apply(this,arguments)}return function z(me,Ve,Fe){return K.apply(this,arguments)}}(K,C,I,S),{gtagCore:K,wrappedGtag:window[z]}}(kr,ca,qi,Yi,_u);Gn=K,da=me,cl=!0}return kr[O]=function Hc(C,I,S,O,z,K,me){return Qr.apply(this,arguments)}(C,ca,qi,I,da,Yi,S),new mu(C)}function Ei(){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,N.Z)(function*(){if((0,X.ru)()||!(0,X.zI)()||!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch{return!1}})).apply(this,arguments)}const Gc="@firebase/analytics";!function Wc(){(0,re._registerComponent)(new te.wA(hu,(I,{options:S})=>vu(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,re._registerComponent)(new te.wA("analytics-internal",function C(I){try{const S=I.getProvider(hu).getImmediate();return{logEvent:(O,z,K)=>function Ci(C,I,S,O){C=(0,X.m9)(C),function oo(C,I,S,O,z){return Ss.apply(this,arguments)}(Gn,kr[C.app.options.appId],I,S,O).catch(z=>yn.error(z))}(S,O,z,K)}}catch(S){throw fr.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,re.registerVersion)(Gc,"0.9.5"),(0,re.registerVersion)(Gc,"0.9.5","esm2017")}();var zc=x(4408),Zc=x(7565);const Ns=new class Rf extends Zc.v{}(class Mp extends zc.o{constructor(I,S){super(I,S),this.scheduler=I,this.work=S}schedule(I,S=0){return S>0?super.schedule(I,S):(this.delay=S,this.state=I,this.scheduler.flush(this),this)}execute(I,S){return S>0||this.closed?super.execute(I,S):this._execute(I,S)}requestAsyncId(I,S,O=0){return null!=O&&O>0||null==O&&this.delay>0?super.requestAsyncId(I,S,O):(I.flush(this),0)}});var qc=x(4986),An=x(576),ha=x(4482),Jr=x(5403),Os=x(4671),xs=x(9468),Yc=x(5363);const dl=new h.GfV("7.5.0"),Ii="__angularfire_symbol__analyticsIsSupportedValue",fl="__angularfire_symbol__analyticsIsSupported",Qc="__angularfire_symbol__remoteConfigIsSupportedValue",hl="__angularfire_symbol__remoteConfigIsSupported",pl="__angularfire_symbol__messagingIsSupportedValue",Wn="__angularfire_symbol__messagingIsSupported";function pa(C,I,S){if(I){if(1===I.length)return I[0];const K=I.filter(me=>me.app===S);if(1===K.length)return K[0]}return S.container.getProvider(C).getImmediate({optional:!0})}globalThis[fl]||(globalThis[fl]=Ei().then(C=>globalThis[Ii]=C).catch(()=>globalThis[Ii]=!1)),globalThis[Wn]||(globalThis[Wn]=tl().then(C=>globalThis[pl]=C).catch(()=>globalThis[pl]=!1)),globalThis[hl]||(globalThis[hl]=jn().then(C=>globalThis[Qc]=C).catch(()=>globalThis[Qc]=!1));const zr=(C,I)=>{const S=I?[I]:(0,Q.C6)(),O=[];return S.forEach(z=>{z.container.getProvider(C).instances.forEach(me=>{O.includes(me)||O.push(me)})}),O};function Di(){}class xn{constructor(I,S=Ns){this.zone=I,this.delegate=S}now(){return this.delegate.now()}schedule(I,S,O){const z=this.zone;return this.delegate.schedule(function(me){z.runGuarded(()=>{I.apply(this,[me])})},S,O)}}class ga{constructor(I){this.zone=I,this.task=null}call(I,S){const O=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Di,{},Di,Di)),S.pipe(function hr(C,I,S){const O=(0,An.m)(C)||I||S?{next:C,error:I,complete:S}:C;return O?(0,ha.e)((z,K)=>{var me;null===(me=O.subscribe)||void 0===me||me.call(O);let Ve=!0;z.subscribe((0,Jr.x)(K,Fe=>{var P;null===(P=O.next)||void 0===P||P.call(O,Fe),K.next(Fe)},()=>{var Fe;Ve=!1,null===(Fe=O.complete)||void 0===Fe||Fe.call(O),K.complete()},Fe=>{var P;Ve=!1,null===(P=O.error)||void 0===P||P.call(O,Fe),K.error(Fe)},()=>{var Fe,P;Ve&&(null===(Fe=O.unsubscribe)||void 0===Fe||Fe.call(O)),null===(P=O.finalize)||void 0===P||P.call(O)}))}):Os.y}({next:O,complete:O,error:O})).subscribe(I).add(O)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let mo=(()=>{class C{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new xn(Zone.current)),this.insideAngular=S.run(()=>new xn(Zone.current,qc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(S){return new(S||C)(h.LFG(h.R0b))},C.\u0275prov=h.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function vn(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Ji(C){return vn(),function Jc(C){return function(S){return(S=S.lift(new ga(C.ngZone))).pipe((0,xs.R)(C.outsideAngular),(0,Yc.Q)(C.insideAngular))}}(vn())(C)}},2090:(nt,Ce,x)=>{x.d(Ce,{$s:()=>at,BH:()=>Ie,DV:()=>Qn,Dv:()=>fn,GJ:()=>ui,L:()=>le,LL:()=>it,P0:()=>Te,Pz:()=>fe,Sg:()=>Re,UG:()=>ue,UI:()=>Gt,US:()=>te,Wj:()=>cs,Wl:()=>dn,Yr:()=>ce,ZB:()=>Z,ZR:()=>Lt,aH:()=>_e,b$:()=>et,cI:()=>ot,dS:()=>Vr,eu:()=>xe,g5:()=>N,gK:()=>Vn,gQ:()=>fi,h$:()=>oe,hl:()=>Me,hu:()=>Q,jU:()=>Ne,lb:()=>Vt,m9:()=>Un,ne:()=>mt,p$:()=>U,pd:()=>Ln,r3:()=>Cr,ru:()=>Be,tV:()=>B,uI:()=>L,ug:()=>At,vZ:()=>ir,w1:()=>ee,w9:()=>rr,xO:()=>xr,xb:()=>ci,z$:()=>Se,zI:()=>We,zd:()=>tn});const h={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Q=function(V,F){if(!V)throw N(F)},N=function(V){return new Error("Firebase Database ("+h.SDK_VERSION+") INTERNAL ASSERT FAILED: "+V)},re=function(V){const F=[];let H=0;for(let ae=0;ae<V.length;ae++){let Y=V.charCodeAt(ae);Y<128?F[H++]=Y:Y<2048?(F[H++]=Y>>6|192,F[H++]=63&Y|128):55296==(64512&Y)&&ae+1<V.length&&56320==(64512&V.charCodeAt(ae+1))?(Y=65536+((1023&Y)<<10)+(1023&V.charCodeAt(++ae)),F[H++]=Y>>18|240,F[H++]=Y>>12&63|128,F[H++]=Y>>6&63|128,F[H++]=63&Y|128):(F[H++]=Y>>12|224,F[H++]=Y>>6&63|128,F[H++]=63&Y|128)}return F},te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,F){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,ae=[];for(let Y=0;Y<V.length;Y+=3){const Ze=V[Y],Ue=Y+1<V.length,Bt=Ue?V[Y+1]:0,nn=Y+2<V.length,on=nn?V[Y+2]:0;let Xn=(15&Bt)<<2|on>>6,Ur=63&on;nn||(Ur=64,Ue||(Xn=64)),ae.push(H[Ze>>2],H[(3&Ze)<<4|Bt>>4],H[Xn],H[Ur])}return ae.join("")},encodeString(V,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(V):this.encodeByteArray(re(V),F)},decodeString(V,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(V):function(V){const F=[];let H=0,ae=0;for(;H<V.length;){const Y=V[H++];if(Y<128)F[ae++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Ze=V[H++];F[ae++]=String.fromCharCode((31&Y)<<6|63&Ze)}else if(Y>239&&Y<365){const nn=((7&Y)<<18|(63&V[H++])<<12|(63&V[H++])<<6|63&V[H++])-65536;F[ae++]=String.fromCharCode(55296+(nn>>10)),F[ae++]=String.fromCharCode(56320+(1023&nn))}else{const Ze=V[H++],Ue=V[H++];F[ae++]=String.fromCharCode((15&Y)<<12|(63&Ze)<<6|63&Ue)}}return F.join("")}(this.decodeStringToByteArray(V,F))},decodeStringToByteArray(V,F){this.init_();const H=F?this.charToByteMapWebSafe_:this.charToByteMap_,ae=[];for(let Y=0;Y<V.length;){const Ze=H[V.charAt(Y++)],Bt=Y<V.length?H[V.charAt(Y)]:0;++Y;const on=Y<V.length?H[V.charAt(Y)]:64;++Y;const _t=Y<V.length?H[V.charAt(Y)]:64;if(++Y,null==Ze||null==Bt||null==on||null==_t)throw new he;ae.push(Ze<<2|Bt>>4),64!==on&&(ae.push(Bt<<4&240|on>>2),64!==_t&&ae.push(on<<6&192|_t))}return ae},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}};class he extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oe=function(V){const F=re(V);return te.encodeByteArray(F,!0)},le=function(V){return oe(V).replace(/\./g,"")},B=function(V){try{return te.decodeString(V,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function U(V){return Z(void 0,V)}function Z(V,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return F}for(const H in F)!F.hasOwnProperty(H)||!He(H)||(V[H]=Z(V[H],F[H]));return V}function He(V){return"__proto__"!==V}const Ee=()=>{try{return function be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const V=process.env.__FIREBASE_DEFAULTS__;return V?JSON.parse(V):void 0})()||(()=>{if(typeof document>"u")return;let V;try{V=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=V&&B(V[1]);return F&&JSON.parse(F)})()}catch(V){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${V}`)}},Te=V=>{const F=(V=>{var F,H;return null===(H=null===(F=Ee())||void 0===F?void 0:F.emulatorHosts)||void 0===H?void 0:H[V]})(V);if(!F)return;const H=F.lastIndexOf(":");if(H<=0||H+1===F.length)throw new Error(`Invalid host ${F} with no separate hostname and port!`);const ae=parseInt(F.substring(H+1),10);return"["===F[0]?[F.substring(1,H-1),ae]:[F.substring(0,H),ae]},_e=()=>{var V;return null===(V=Ee())||void 0===V?void 0:V.config},fe=V=>{var F;return null===(F=Ee())||void 0===F?void 0:F[`_${V}`]};class Ie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,H)=>{this.resolve=F,this.reject=H})}wrapCallback(F){return(H,ae)=>{H?this.reject(H):this.resolve(ae),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F(H):F(H,ae))}}}function Re(V,F){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ae=F||"demo-project",Y=V.iat||0,Ze=V.sub||V.user_id;if(!Ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ue=Object.assign({iss:`https://securetoken.google.com/${ae}`,aud:ae,iat:Y,exp:Y+3600,auth_time:Y,sub:Ze,user_id:Ze,firebase:{sign_in_provider:"custom",identities:{}}},V);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(Ue)),""].join(".")}function Se(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function L(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Se())}function ue(){var V;const F=null===(V=Ee())||void 0===V?void 0:V.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ne(){return"object"==typeof self&&self.self===self}function Be(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function et(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ee(){const V=Se();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function ce(){return!0===h.NODE_CLIENT||!0===h.NODE_ADMIN}function Me(){try{return"object"==typeof indexedDB}catch{return!1}}function xe(){return new Promise((V,F)=>{try{let H=!0;const ae="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(ae);Y.onsuccess=()=>{Y.result.close(),H||self.indexedDB.deleteDatabase(ae),V(!0)},Y.onupgradeneeded=()=>{H=!1},Y.onerror=()=>{var Ze;F((null===(Ze=Y.error)||void 0===Ze?void 0:Ze.message)||"")}}catch(H){F(H)}})}function We(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Lt extends Error{constructor(F,H,ae){super(H),this.code=F,this.customData=ae,this.name="FirebaseError",Object.setPrototypeOf(this,Lt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,it.prototype.create)}}class it{constructor(F,H,ae){this.service=F,this.serviceName=H,this.errors=ae}create(F,...H){const ae=H[0]||{},Y=`${this.service}/${F}`,Ze=this.errors[F],Ue=Ze?function Rt(V,F){return V.replace(ze,(H,ae)=>{const Y=F[ae];return null!=Y?String(Y):`<${ae}?>`})}(Ze,ae):"Error";return new Lt(Y,`${this.serviceName}: ${Ue} (${Y}).`,ae)}}const ze=/\{\$([^}]+)}/g;function ot(V){return JSON.parse(V)}function dn(V){return JSON.stringify(V)}const Ut=function(V){let F={},H={},ae={},Y="";try{const Ze=V.split(".");F=ot(B(Ze[0])||""),H=ot(B(Ze[1])||""),Y=Ze[2],ae=H.d||{},delete H.d}catch{}return{header:F,claims:H,data:ae,signature:Y}},rr=function(V){const H=Ut(V).claims;return!!H&&"object"==typeof H&&H.hasOwnProperty("iat")},ui=function(V){const F=Ut(V).claims;return"object"==typeof F&&!0===F.admin};function Cr(V,F){return Object.prototype.hasOwnProperty.call(V,F)}function Qn(V,F){if(Object.prototype.hasOwnProperty.call(V,F))return V[F]}function ci(V){for(const F in V)if(Object.prototype.hasOwnProperty.call(V,F))return!1;return!0}function Gt(V,F,H){const ae={};for(const Y in V)Object.prototype.hasOwnProperty.call(V,Y)&&(ae[Y]=F.call(H,V[Y],Y,V));return ae}function ir(V,F){if(V===F)return!0;const H=Object.keys(V),ae=Object.keys(F);for(const Y of H){if(!ae.includes(Y))return!1;const Ze=V[Y],Ue=F[Y];if(tt(Ze)&&tt(Ue)){if(!ir(Ze,Ue))return!1}else if(Ze!==Ue)return!1}for(const Y of ae)if(!H.includes(Y))return!1;return!0}function tt(V){return null!==V&&"object"==typeof V}function xr(V){const F=[];for(const[H,ae]of Object.entries(V))Array.isArray(ae)?ae.forEach(Y=>{F.push(encodeURIComponent(H)+"="+encodeURIComponent(Y))}):F.push(encodeURIComponent(H)+"="+encodeURIComponent(ae));return F.length?"&"+F.join("&"):""}function tn(V){const F={};return V.replace(/^\?/,"").split("&").forEach(ae=>{if(ae){const[Y,Ze]=ae.split("=");F[decodeURIComponent(Y)]=decodeURIComponent(Ze)}}),F}function Ln(V){const F=V.indexOf("?");if(!F)return"";const H=V.indexOf("#",F);return V.substring(F,H>0?H:void 0)}class fi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let F=1;F<this.blockSize;++F)this.pad_[F]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(F,H){H||(H=0);const ae=this.W_;if("string"==typeof F)for(let _t=0;_t<16;_t++)ae[_t]=F.charCodeAt(H)<<24|F.charCodeAt(H+1)<<16|F.charCodeAt(H+2)<<8|F.charCodeAt(H+3),H+=4;else for(let _t=0;_t<16;_t++)ae[_t]=F[H]<<24|F[H+1]<<16|F[H+2]<<8|F[H+3],H+=4;for(let _t=16;_t<80;_t++){const Xn=ae[_t-3]^ae[_t-8]^ae[_t-14]^ae[_t-16];ae[_t]=4294967295&(Xn<<1|Xn>>>31)}let on,wn,Y=this.chain_[0],Ze=this.chain_[1],Ue=this.chain_[2],Bt=this.chain_[3],nn=this.chain_[4];for(let _t=0;_t<80;_t++){_t<40?_t<20?(on=Bt^Ze&(Ue^Bt),wn=1518500249):(on=Ze^Ue^Bt,wn=1859775393):_t<60?(on=Ze&Ue|Bt&(Ze|Ue),wn=2400959708):(on=Ze^Ue^Bt,wn=3395469782);const Xn=(Y<<5|Y>>>27)+on+nn+wn+ae[_t]&4294967295;nn=Bt,Bt=Ue,Ue=4294967295&(Ze<<30|Ze>>>2),Ze=Y,Y=Xn}this.chain_[0]=this.chain_[0]+Y&4294967295,this.chain_[1]=this.chain_[1]+Ze&4294967295,this.chain_[2]=this.chain_[2]+Ue&4294967295,this.chain_[3]=this.chain_[3]+Bt&4294967295,this.chain_[4]=this.chain_[4]+nn&4294967295}update(F,H){if(null==F)return;void 0===H&&(H=F.length);const ae=H-this.blockSize;let Y=0;const Ze=this.buf_;let Ue=this.inbuf_;for(;Y<H;){if(0===Ue)for(;Y<=ae;)this.compress_(F,Y),Y+=this.blockSize;if("string"==typeof F){for(;Y<H;)if(Ze[Ue]=F.charCodeAt(Y),++Ue,++Y,Ue===this.blockSize){this.compress_(Ze),Ue=0;break}}else for(;Y<H;)if(Ze[Ue]=F[Y],++Ue,++Y,Ue===this.blockSize){this.compress_(Ze),Ue=0;break}}this.inbuf_=Ue,this.total_+=H}digest(){const F=[];let H=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Y=this.blockSize-1;Y>=56;Y--)this.buf_[Y]=255&H,H/=256;this.compress_(this.buf_);let ae=0;for(let Y=0;Y<5;Y++)for(let Ze=24;Ze>=0;Ze-=8)F[ae]=this.chain_[Y]>>Ze&255,++ae;return F}}function mt(V,F){const H=new rt(V,F);return H.subscribe.bind(H)}class rt{constructor(F,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{F(this)}).catch(ae=>{this.error(ae)})}next(F){this.forEachObserver(H=>{H.next(F)})}error(F){this.forEachObserver(H=>{H.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,H,ae){let Y;if(void 0===F&&void 0===H&&void 0===ae)throw new Error("Missing Observer.");Y=function xi(V,F){if("object"!=typeof V||null===V)return!1;for(const H of F)if(H in V&&"function"==typeof V[H])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:H,complete:ae},void 0===Y.next&&(Y.next=Wt),void 0===Y.error&&(Y.error=Wt),void 0===Y.complete&&(Y.complete=Wt);const Ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),Ze}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,F)}sendOne(F,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{H(this.observers[F])}catch(ae){typeof console<"u"&&console.error&&console.error(ae)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wt(){}const fn=function(V,F,H,ae){let Y;if(ae<F?Y="at least "+F:ae>H&&(Y=0===H?"none":"no more than "+H),Y)throw new Error(V+" failed: Was called with "+ae+(1===ae?" argument.":" arguments.")+" Expects "+Y+".")};function Vn(V,F){return`${V} failed: ${F} argument `}function cs(V,F,H,ae){if((!ae||H)&&"function"!=typeof H)throw new Error(Vn(V,F)+"must be a valid function.")}function Vt(V,F,H,ae){if((!ae||H)&&("object"!=typeof H||null===H))throw new Error(Vn(V,F)+"must be a valid context object.")}const Vr=function(V){const F=[];let H=0;for(let ae=0;ae<V.length;ae++){let Y=V.charCodeAt(ae);if(Y>=55296&&Y<=56319){const Ze=Y-55296;ae++,Q(ae<V.length,"Surrogate pair missing trail surrogate."),Y=65536+(Ze<<10)+(V.charCodeAt(ae)-56320)}Y<128?F[H++]=Y:Y<2048?(F[H++]=Y>>6|192,F[H++]=63&Y|128):Y<65536?(F[H++]=Y>>12|224,F[H++]=Y>>6&63|128,F[H++]=63&Y|128):(F[H++]=Y>>18|240,F[H++]=Y>>12&63|128,F[H++]=Y>>6&63|128,F[H++]=63&Y|128)}return F},At=function(V){let F=0;for(let H=0;H<V.length;H++){const ae=V.charCodeAt(H);ae<128?F++:ae<2048?F+=2:ae>=55296&&ae<=56319?(F+=4,H++):F+=3}return F},Br=1e3,ke=2,ye=144e5,Qe=.5;function at(V,F=Br,H=ke){const ae=F*Math.pow(H,V),Y=Math.round(Qe*ae*(Math.random()-.5)*2);return Math.min(ye,ae+Y)}function Un(V){return V&&V._delegate?V._delegate:V}},3579:(nt,Ce,x)=>{var h=x(4650);let Q=null;function N(){return Q}class X{}const te=new h.OlP("DocumentToken");var Ne=(()=>((Ne=Ne||{})[Ne.Format=0]="Format",Ne[Ne.Standalone=1]="Standalone",Ne))(),Be=(()=>((Be=Be||{})[Be.Narrow=0]="Narrow",Be[Be.Abbreviated=1]="Abbreviated",Be[Be.Wide=2]="Wide",Be[Be.Short=3]="Short",Be))(),et=(()=>((et=et||{})[et.Short=0]="Short",et[et.Medium=1]="Medium",et[et.Long=2]="Long",et[et.Full=3]="Full",et))(),Ke=(()=>((Ke=Ke||{})[Ke.Decimal=0]="Decimal",Ke[Ke.Group=1]="Group",Ke[Ke.List=2]="List",Ke[Ke.PercentSign=3]="PercentSign",Ke[Ke.PlusSign=4]="PlusSign",Ke[Ke.MinusSign=5]="MinusSign",Ke[Ke.Exponential=6]="Exponential",Ke[Ke.SuperscriptingExponent=7]="SuperscriptingExponent",Ke[Ke.PerMille=8]="PerMille",Ke[Ke.Infinity=9]="Infinity",Ke[Ke.NaN=10]="NaN",Ke[Ke.TimeSeparator=11]="TimeSeparator",Ke[Ke.CurrencyDecimal=12]="CurrencyDecimal",Ke[Ke.CurrencyGroup=13]="CurrencyGroup",Ke))();function Lt(r,t){return Gt((0,h.cg1)(r)[h.wAp.DateFormat],t)}function it(r,t){return Gt((0,h.cg1)(r)[h.wAp.TimeFormat],t)}function Rt(r,t){return Gt((0,h.cg1)(r)[h.wAp.DateTimeFormat],t)}function ze(r,t){const e=(0,h.cg1)(r),o=e[h.wAp.NumberSymbols][t];if(typeof o>"u"){if(t===Ke.CurrencyDecimal)return e[h.wAp.NumberSymbols][Ke.Decimal];if(t===Ke.CurrencyGroup)return e[h.wAp.NumberSymbols][Ke.Group]}return o}function ui(r){if(!r[h.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${r[h.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Gt(r,t){for(let e=t;e>-1;e--)if(typeof r[e]<"u")return r[e];throw new Error("Locale data API: locale data undefined")}function ir(r){const[t,e]=r.split(":");return{hours:+t,minutes:+e}}const tn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ln={},fi=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var mt=(()=>((mt=mt||{})[mt.Short=0]="Short",mt[mt.ShortGMT=1]="ShortGMT",mt[mt.Long=2]="Long",mt[mt.Extended=3]="Extended",mt))(),rt=(()=>((rt=rt||{})[rt.FullYear=0]="FullYear",rt[rt.Month=1]="Month",rt[rt.Date=2]="Date",rt[rt.Hours=3]="Hours",rt[rt.Minutes=4]="Minutes",rt[rt.Seconds=5]="Seconds",rt[rt.FractionalSeconds=6]="FractionalSeconds",rt[rt.Day=7]="Day",rt))(),lt=(()=>((lt=lt||{})[lt.DayPeriods=0]="DayPeriods",lt[lt.Days=1]="Days",lt[lt.Months=2]="Months",lt[lt.Eras=3]="Eras",lt))();function xi(r,t,e,o){let l=function Y(r){if(Ue(r))return r;if("number"==typeof r&&!isNaN(r))return new Date(r);if("string"==typeof r){if(r=r.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(r)){const[l,p=1,y=1]=r.split("-").map(D=>+D);return Wt(l,p-1,y)}const e=parseFloat(r);if(!isNaN(r-e))return new Date(e);let o;if(o=r.match(tn))return function Ze(r){const t=new Date(0);let e=0,o=0;const l=r[8]?t.setUTCFullYear:t.setFullYear,p=r[8]?t.setUTCHours:t.setHours;r[9]&&(e=Number(r[9]+r[10]),o=Number(r[9]+r[11])),l.call(t,Number(r[1]),Number(r[2])-1,Number(r[3]));const y=Number(r[4]||0)-e,D=Number(r[5]||0)-o,T=Number(r[6]||0),R=Math.floor(1e3*parseFloat("0."+(r[7]||0)));return p.call(t,y,D,T,R),t}(o)}const t=new Date(r);if(!Ue(t))throw new Error(`Unable to convert "${r}" into a date`);return t}(r);t=fn(e,t)||t;let D,y=[];for(;t;){if(D=fi.exec(t),!D){y.push(t);break}{y=y.concat(D.slice(1));const W=y.pop();if(!W)break;t=W}}let T=l.getTimezoneOffset();o&&(T=F(o,T),l=function ae(r,t,e){const o=e?-1:1,l=r.getTimezoneOffset();return function H(r,t){return(r=new Date(r.getTime())).setMinutes(r.getMinutes()+t),r}(r,o*(F(t,l)-l))}(l,o,!0));let R="";return y.forEach(W=>{const G=function V(r){if(Un[r])return Un[r];let t;switch(r){case"G":case"GG":case"GGG":t=At(lt.Eras,Be.Abbreviated);break;case"GGGG":t=At(lt.Eras,Be.Wide);break;case"GGGGG":t=At(lt.Eras,Be.Narrow);break;case"y":t=Vt(rt.FullYear,1,0,!1,!0);break;case"yy":t=Vt(rt.FullYear,2,0,!0,!0);break;case"yyy":t=Vt(rt.FullYear,3,0,!1,!0);break;case"yyyy":t=Vt(rt.FullYear,4,0,!1,!0);break;case"Y":t=Et(1);break;case"YY":t=Et(2,!0);break;case"YYY":t=Et(3);break;case"YYYY":t=Et(4);break;case"M":case"L":t=Vt(rt.Month,1,1);break;case"MM":case"LL":t=Vt(rt.Month,2,1);break;case"MMM":t=At(lt.Months,Be.Abbreviated);break;case"MMMM":t=At(lt.Months,Be.Wide);break;case"MMMMM":t=At(lt.Months,Be.Narrow);break;case"LLL":t=At(lt.Months,Be.Abbreviated,Ne.Standalone);break;case"LLLL":t=At(lt.Months,Be.Wide,Ne.Standalone);break;case"LLLLL":t=At(lt.Months,Be.Narrow,Ne.Standalone);break;case"w":t=gt(1);break;case"ww":t=gt(2);break;case"W":t=gt(1,!0);break;case"d":t=Vt(rt.Date,1);break;case"dd":t=Vt(rt.Date,2);break;case"c":case"cc":t=Vt(rt.Day,1);break;case"ccc":t=At(lt.Days,Be.Abbreviated,Ne.Standalone);break;case"cccc":t=At(lt.Days,Be.Wide,Ne.Standalone);break;case"ccccc":t=At(lt.Days,Be.Narrow,Ne.Standalone);break;case"cccccc":t=At(lt.Days,Be.Short,Ne.Standalone);break;case"E":case"EE":case"EEE":t=At(lt.Days,Be.Abbreviated);break;case"EEEE":t=At(lt.Days,Be.Wide);break;case"EEEEE":t=At(lt.Days,Be.Narrow);break;case"EEEEEE":t=At(lt.Days,Be.Short);break;case"a":case"aa":case"aaa":t=At(lt.DayPeriods,Be.Abbreviated);break;case"aaaa":t=At(lt.DayPeriods,Be.Wide);break;case"aaaaa":t=At(lt.DayPeriods,Be.Narrow);break;case"b":case"bb":case"bbb":t=At(lt.DayPeriods,Be.Abbreviated,Ne.Standalone,!0);break;case"bbbb":t=At(lt.DayPeriods,Be.Wide,Ne.Standalone,!0);break;case"bbbbb":t=At(lt.DayPeriods,Be.Narrow,Ne.Standalone,!0);break;case"B":case"BB":case"BBB":t=At(lt.DayPeriods,Be.Abbreviated,Ne.Format,!0);break;case"BBBB":t=At(lt.DayPeriods,Be.Wide,Ne.Format,!0);break;case"BBBBB":t=At(lt.DayPeriods,Be.Narrow,Ne.Format,!0);break;case"h":t=Vt(rt.Hours,1,-12);break;case"hh":t=Vt(rt.Hours,2,-12);break;case"H":t=Vt(rt.Hours,1);break;case"HH":t=Vt(rt.Hours,2);break;case"m":t=Vt(rt.Minutes,1);break;case"mm":t=Vt(rt.Minutes,2);break;case"s":t=Vt(rt.Seconds,1);break;case"ss":t=Vt(rt.Seconds,2);break;case"S":t=Vt(rt.FractionalSeconds,1);break;case"SS":t=Vt(rt.FractionalSeconds,2);break;case"SSS":t=Vt(rt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Br(mt.Short);break;case"ZZZZZ":t=Br(mt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Br(mt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Br(mt.Long);break;default:return null}return Un[r]=t,t}(W);R+=G?G(l,e,T):"''"===W?"'":W.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),R}function Wt(r,t,e){const o=new Date(0);return o.setFullYear(r,t,e),o.setHours(0,0,0),o}function fn(r,t){const e=function se(r){return(0,h.cg1)(r)[h.wAp.LocaleId]}(r);if(Ln[e]=Ln[e]||{},Ln[e][t])return Ln[e][t];let o="";switch(t){case"shortDate":o=Lt(r,et.Short);break;case"mediumDate":o=Lt(r,et.Medium);break;case"longDate":o=Lt(r,et.Long);break;case"fullDate":o=Lt(r,et.Full);break;case"shortTime":o=it(r,et.Short);break;case"mediumTime":o=it(r,et.Medium);break;case"longTime":o=it(r,et.Long);break;case"fullTime":o=it(r,et.Full);break;case"short":const l=fn(r,"shortTime"),p=fn(r,"shortDate");o=Vn(Rt(r,et.Short),[l,p]);break;case"medium":const y=fn(r,"mediumTime"),D=fn(r,"mediumDate");o=Vn(Rt(r,et.Medium),[y,D]);break;case"long":const T=fn(r,"longTime"),R=fn(r,"longDate");o=Vn(Rt(r,et.Long),[T,R]);break;case"full":const W=fn(r,"fullTime"),G=fn(r,"fullDate");o=Vn(Rt(r,et.Full),[W,G])}return o&&(Ln[e][t]=o),o}function Vn(r,t){return t&&(r=r.replace(/\{([^}]+)}/g,function(e,o){return null!=t&&o in t?t[o]:e})),r}function Bn(r,t,e="-",o,l){let p="";(r<0||l&&r<=0)&&(l?r=1-r:(r=-r,p=e));let y=String(r);for(;y.length<t;)y="0"+y;return o&&(y=y.slice(y.length-t)),p+y}function Vt(r,t,e=0,o=!1,l=!1){return function(p,y){let D=function Vr(r,t){switch(r){case rt.FullYear:return t.getFullYear();case rt.Month:return t.getMonth();case rt.Date:return t.getDate();case rt.Hours:return t.getHours();case rt.Minutes:return t.getMinutes();case rt.Seconds:return t.getSeconds();case rt.FractionalSeconds:return t.getMilliseconds();case rt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${r}".`)}}(r,p);if((e>0||D>-e)&&(D+=e),r===rt.Hours)0===D&&-12===e&&(D=12);else if(r===rt.FractionalSeconds)return function cs(r,t){return Bn(r,3).substring(0,t)}(D,t);const T=ze(y,Ke.MinusSign);return Bn(D,t,T,o,l)}}function At(r,t,e=Ne.Format,o=!1){return function(l,p){return function Jn(r,t,e,o,l,p){switch(e){case lt.Months:return function Me(r,t,e){const o=(0,h.cg1)(r),p=Gt([o[h.wAp.MonthsFormat],o[h.wAp.MonthsStandalone]],t);return Gt(p,e)}(t,l,o)[r.getMonth()];case lt.Days:return function De(r,t,e){const o=(0,h.cg1)(r),p=Gt([o[h.wAp.DaysFormat],o[h.wAp.DaysStandalone]],t);return Gt(p,e)}(t,l,o)[r.getDay()];case lt.DayPeriods:const y=r.getHours(),D=r.getMinutes();if(p){const R=function Cr(r){const t=(0,h.cg1)(r);return ui(t),(t[h.wAp.ExtraData][2]||[]).map(o=>"string"==typeof o?ir(o):[ir(o[0]),ir(o[1])])}(t),W=function Qn(r,t,e){const o=(0,h.cg1)(r);ui(o);const p=Gt([o[h.wAp.ExtraData][0],o[h.wAp.ExtraData][1]],t)||[];return Gt(p,e)||[]}(t,l,o),G=R.findIndex(J=>{if(Array.isArray(J)){const[pe,Ae]=J,dt=y>=pe.hours&&D>=pe.minutes,Ot=y<Ae.hours||y===Ae.hours&&D<Ae.minutes;if(pe.hours<Ae.hours){if(dt&&Ot)return!0}else if(dt||Ot)return!0}else if(J.hours===y&&J.minutes===D)return!0;return!1});if(-1!==G)return W[G]}return function ce(r,t,e){const o=(0,h.cg1)(r),p=Gt([o[h.wAp.DayPeriodsFormat],o[h.wAp.DayPeriodsStandalone]],t);return Gt(p,e)}(t,l,o)[y<12?0:1];case lt.Eras:return function xe(r,t){return Gt((0,h.cg1)(r)[h.wAp.Eras],t)}(t,o)[r.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(l,p,r,t,e,o)}}function Br(r){return function(t,e,o){const l=-1*o,p=ze(e,Ke.MinusSign),y=l>0?Math.floor(l/60):Math.ceil(l/60);switch(r){case mt.Short:return(l>=0?"+":"")+Bn(y,2,p)+Bn(Math.abs(l%60),2,p);case mt.ShortGMT:return"GMT"+(l>=0?"+":"")+Bn(y,1,p);case mt.Long:return"GMT"+(l>=0?"+":"")+Bn(y,2,p)+":"+Bn(Math.abs(l%60),2,p);case mt.Extended:return 0===o?"Z":(l>=0?"+":"")+Bn(y,2,p)+":"+Bn(Math.abs(l%60),2,p);default:throw new Error(`Unknown zone width "${r}"`)}}}const ke=0,ye=4;function at(r){return Wt(r.getFullYear(),r.getMonth(),r.getDate()+(ye-r.getDay()))}function gt(r,t=!1){return function(e,o){let l;if(t){const p=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,y=e.getDate();l=1+Math.floor((y+p)/7)}else{const p=at(e),y=function Qe(r){const t=Wt(r,ke,1).getDay();return Wt(r,0,1+(t<=ye?ye:ye+7)-t)}(p.getFullYear()),D=p.getTime()-y.getTime();l=1+Math.round(D/6048e5)}return Bn(l,r,ze(o,Ke.MinusSign))}}function Et(r,t=!1){return function(e,o){return Bn(at(e).getFullYear(),r,ze(o,Ke.MinusSign),t)}}const Un={};function F(r,t){r=r.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+r)/6e4;return isNaN(e)?t:e}function Ue(r){return r instanceof Date&&!isNaN(r.valueOf())}function Zs(r,t){t=encodeURIComponent(t);for(const e of r.split(";")){const o=e.indexOf("="),[l,p]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(l.trim()===t)return decodeURIComponent(p)}return null}class Hr{constructor(t,e,o,l){this.$implicit=t,this.ngForOf=e,this.index=o,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ln=(()=>{class r{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,o,l){this._viewContainer=e,this._template=o,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=this._viewContainer;e.forEachOperation((l,p,y)=>{if(null==l.previousIndex)o.createEmbeddedView(this._template,new Hr(l.item,this._ngForOf,-1,-1),null===y?void 0:y);else if(null==y)o.remove(null===p?void 0:p);else if(null!==p){const D=o.get(p);o.move(D,y),Li(D,l)}});for(let l=0,p=o.length;l<p;l++){const D=o.get(l).context;D.index=l,D.count=p,D.ngForOf=this._ngForOf}e.forEachIdentityChange(l=>{Li(o.get(l.currentIndex),l)})}static ngTemplateContextGuard(e,o){return!0}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},r.\u0275dir=h.lG2({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),r})();function Li(r,t){r.context.$implicit=t.item}let Vi=(()=>{class r{constructor(e,o){this._viewContainer=e,this._context=new Ks,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ct("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ct("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.s_b),h.Y36(h.Rgc))},r.\u0275dir=h.lG2({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),r})();class Ks{constructor(){this.$implicit=null,this.ngIf=null}}function Ct(r,t){if(t&&!t.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,h.AaK)(t)}'.`)}const Kr=new h.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Ko=new h.OlP("DATE_PIPE_DEFAULT_OPTIONS");let ji=(()=>{class r{constructor(e,o,l){this.locale=e,this.defaultTimezone=o,this.defaultOptions=l}transform(e,o,l,p){if(null==e||""===e||e!=e)return null;try{return xi(e,o??this.defaultOptions?.dateFormat??"mediumDate",p||this.locale,l??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(y){throw function Tt(r,t){return new h.vHH(2100,!1)}()}}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.soG,16),h.Y36(Kr,24),h.Y36(Ko,24))},r.\u0275pipe=h.Yjl({name:"date",type:r,pure:!0,standalone:!0}),r})(),Wa=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({}),r})();class Qo{}class Ds extends X{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class zi extends Ds{static makeCurrent(){!function re(r){Q||(Q=r)}(new zi)}onAndCancel(t,e,o){return t.addEventListener(e,o,!1),()=>{t.removeEventListener(e,o,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function la(){return gi=gi||document.querySelector("base"),gi?gi.getAttribute("href"):null}();return null==e?null:function so(r){Sr=Sr||document.createElement("a"),Sr.setAttribute("href",r);const t=Sr.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){gi=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Zs(document.cookie,t)}}let Sr,gi=null;const pu=new h.OlP("TRANSITION_ID"),gu=[{provide:h.ip1,useFactory:function Af(r,t,e){return()=>{e.get(h.CZH).donePromise.then(()=>{const o=N(),l=t.querySelectorAll(`style[ng-transition="${r}"]`);for(let p=0;p<l.length;p++)o.remove(l[p])})}},deps:[pu,te,h.zs3],multi:!0}];let Mf=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();const Ar=new h.OlP("EventManagerPlugins");let al=(()=>{class r{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(l=>{l.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,o,l){return this._findPluginFor(o).addEventListener(e,o,l)}addGlobalEventListener(e,o,l){return this._findPluginFor(o).addGlobalEventListener(e,o,l)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const l=this._plugins;for(let p=0;p<l.length;p++){const y=l[p];if(y.supports(e))return this._eventNameToPlugin.set(e,y),y}throw new Error(`No event manager plugin found for event ${e}`)}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(Ar),h.LFG(h.R0b))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();class Vc{constructor(t){this._doc=t}addGlobalEventListener(t,e,o){const l=N().getGlobalEventTarget(this._doc,t);if(!l)throw new Error(`Unsupported event target ${l} for event ${e}`);return this.addEventListener(l,e,o)}}let Wr=(()=>{class r{constructor(){this.usageCount=new Map}addStyles(e){for(const o of e)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(e){for(const o of e)0===this.changeUsageCount(o,-1)&&this.onStyleRemoved(o)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,o){const l=this.usageCount;let p=l.get(e)??0;return p+=o,p>0?l.set(e,p):l.delete(e),p}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})(),ws=(()=>{class r extends Wr{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const o of this.hostNodes)this.addStyleToHost(o,e)}onStyleRemoved(e){const o=this.styleRef;o.get(e)?.forEach(p=>p.remove()),o.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const o of this.getAllStyles())this.addStyleToHost(e,o)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,o){const l=this.doc.createElement("style");l.textContent=o,e.appendChild(l);const p=this.styleRef.get(o);p?p.push(l):this.styleRef.set(o,[l])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(te))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();const Zt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mi=/%COMP%/g,oo=new h.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function As(r,t){return t.flat(100).map(e=>e.replace(mi,r))}function Ki(r){return t=>{if("__ngUnwrap__"===t)return r;!1===r(t)&&(t.preventDefault(),t.returnValue=!1)}}let _i=(()=>{class r{constructor(e,o,l,p){this.eventManager=e,this.sharedStylesHost=o,this.appId=l,this.removeStylesOnCompDestory=p,this.rendererByCompId=new Map,this.defaultRenderer=new Mr(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;const l=this.getOrCreateRenderer(e,o);return l instanceof Ps?l.applyToHost(e):l instanceof vi&&l.applyStyles(),l}getOrCreateRenderer(e,o){const l=this.rendererByCompId;let p=l.get(o.id);if(!p){const y=this.eventManager,D=this.sharedStylesHost,T=this.removeStylesOnCompDestory;switch(o.encapsulation){case h.ifc.Emulated:p=new Ps(y,D,o,this.appId,T);break;case h.ifc.ShadowDom:return new ua(y,D,e,o);default:p=new vi(y,D,o,T)}p.onDestroy=()=>l.delete(o.id),l.set(o.id,p)}return p}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(al),h.LFG(ws),h.LFG(h.AFp),h.LFG(oo))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();class Mr{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Zt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(yi(t)?t.content:t).appendChild(e)}insertBefore(t,e,o){t&&(yi(t)?t.content:t).insertBefore(e,o)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let o="string"==typeof t?document.querySelector(t):t;if(!o)throw new Error(`The selector "${t}" did not match any elements`);return e||(o.textContent=""),o}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,o,l){if(l){e=l+":"+e;const p=Zt[l];p?t.setAttributeNS(p,e,o):t.setAttribute(e,o)}else t.setAttribute(e,o)}removeAttribute(t,e,o){if(o){const l=Zt[o];l?t.removeAttributeNS(l,e):t.removeAttribute(`${o}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,o,l){l&(h.JOm.DashCase|h.JOm.Important)?t.style.setProperty(e,o,l&h.JOm.Important?"important":""):t.style[e]=o}removeStyle(t,e,o){o&h.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,o){t[e]=o}setValue(t,e){t.nodeValue=e}listen(t,e,o){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ki(o)):this.eventManager.addEventListener(t,e,Ki(o))}}function yi(r){return"TEMPLATE"===r.tagName&&void 0!==r.content}class ua extends Mr{constructor(t,e,o,l){super(t),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const p=As(l.id,l.styles);for(const y of p){const D=document.createElement("style");D.textContent=y,this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,o){return super.insertBefore(this.nodeOrShadowRoot(t),e,o)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class vi extends Mr{constructor(t,e,o,l,p=o.id){super(t),this.sharedStylesHost=e,this.removeStylesOnCompDestory=l,this.rendererUsageCount=0,this.styles=As(p,o.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Ps extends vi{constructor(t,e,o,l,p){const y=l+"-"+o.id;super(t,e,o,p,y),this.contentAttr=function Ss(r){return"_ngcontent-%COMP%".replace(mi,r)}(y),this.hostAttr=function ul(r){return"_nghost-%COMP%".replace(mi,r)}(y)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const o=super.createElement(t,e);return super.setAttribute(o,this.contentAttr,""),o}}let Uc=(()=>{class r extends Vc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,l){return e.addEventListener(o,l,!1),()=>this.removeEventListener(e,o,l)}removeEventListener(e,o,l){return e.removeEventListener(o,l)}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(te))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();const lo=["alt","control","meta","shift"],Hc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qr={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let mu=(()=>{class r extends Vc{constructor(e){super(e)}supports(e){return null!=r.parseEventName(e)}addEventListener(e,o,l){const p=r.parseEventName(o),y=r.eventCallback(p.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(e,p.domEventName,y))}static parseEventName(e){const o=e.toLowerCase().split("."),l=o.shift();if(0===o.length||"keydown"!==l&&"keyup"!==l)return null;const p=r._normalizeKey(o.pop());let y="",D=o.indexOf("code");if(D>-1&&(o.splice(D,1),y="code."),lo.forEach(R=>{const W=o.indexOf(R);W>-1&&(o.splice(W,1),y+=R+".")}),y+=p,0!=o.length||0===p.length)return null;const T={};return T.domEventName=l,T.fullKey=y,T}static matchEventFullKeyCode(e,o){let l=Hc[e.key]||e.key,p="";return o.indexOf("code.")>-1&&(l=e.code,p="code."),!(null==l||!l)&&(l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),lo.forEach(y=>{y!==l&&(0,Qr[y])(e)&&(p+=y+".")}),p+=l,p===o)}static eventCallback(e,o,l){return p=>{r.matchEventFullKeyCode(p,e)&&l.runGuarded(()=>o(p))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(te))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();const Rs=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function da(){zi.makeCurrent()},multi:!0},{provide:te,useFactory:function cl(){return(0,h.RDi)(document),document},deps:[]}]),vu=new h.OlP(""),Eu=[{provide:h.rWj,useClass:class ol{addToWindow(t){h.dqk.getAngularTestability=(o,l=!0)=>{const p=t.findTestabilityInTree(o,l);if(null==p)throw new Error("Could not find testability for element.");return p},h.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(o=>{const l=h.dqk.getAllAngularTestabilities();let p=l.length,y=!1;const D=function(T){y=y||T,p--,0==p&&o(y)};l.forEach(function(T){T.whenStable(D)})})}findTestabilityInTree(t,e,o){return null==e?null:t.getTestability(e)??(o?N().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],fa=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Gn(){return new h.qLn},deps:[]},{provide:Ar,useClass:Uc,multi:!0,deps:[te,h.R0b,h.Lbi]},{provide:Ar,useClass:mu,multi:!0,deps:[te]},{provide:_i,useClass:_i,deps:[al,ws,h.AFp,oo]},{provide:h.FYo,useExisting:_i},{provide:Wr,useExisting:ws},{provide:ws,useClass:ws,deps:[te]},{provide:al,useClass:al,deps:[Ar,h.R0b]},{provide:Qo,useClass:Mf,deps:[]},[]];let Ei=(()=>{class r{constructor(e){}static withServerTransition(e){return{ngModule:r,providers:[{provide:h.AFp,useValue:e.appId},{provide:pu,useExisting:h.AFp},gu]}}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(vu,12))},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({providers:[...fa,...Eu],imports:[Wa,h.hGG]}),r})();typeof window<"u"&&window;var Wn=x(727),Xr=x(7579),ho=x(4986),po=x(8306),go=x(7669),pa=x(8996);function zr(...r){const t=(0,go.yG)(r);return(0,pa.D)(r,t)}var Di=x(266),xn=x(4004),ga=x(3099),mo=x(8421),vn=x(4482),zn=x(5403);function En(r,t){return(0,vn.e)((e,o)=>{let l=null,p=0,y=!1;const D=()=>y&&!l&&o.complete();e.subscribe((0,zn.x)(o,T=>{l?.unsubscribe();let R=0;const W=p++;(0,mo.Xf)(r(T,W)).subscribe(l=(0,zn.x)(o,G=>o.next(t?t(T,G,W,R++):G),()=>{l=null,D()}))},()=>{y=!0,D()}))})}function gl(r,t){return(0,vn.e)(function _o(r,t,e,o,l){return(p,y)=>{let D=e,T=t,R=0;p.subscribe((0,zn.x)(y,W=>{const G=R++;T=D?r(T,W,G):(D=!0,W),o&&y.next(T)},l&&(()=>{D&&y.next(T),y.complete()})))}}(r,t,arguments.length>=2,!0))}var Ji=x(4671);function ma(r,t){return r===t}var _a=x(5032),S=x(7184),O=x(2011),K=(x(9800),x(3942)),me=x(4859),Ve=x(5861),Fe=x(9681),P=x(2090),It=x(1877);const ht="@firebase/database";let hn="";function ei(r){hn=r}class ya{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,P.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,P.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class ks{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,P.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Zn=function(r){try{if(typeof window<"u"&&typeof window[r]<"u"){const t=window[r];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ya(t)}}catch{}return new ks},pr=Zn("localStorage"),yo=Zn("sessionStorage"),ml=new It.Yd("@firebase/database"),Cu=function(){let r=1;return function(){return r++}}(),Nf=function(r){const t=(0,P.dS)(r),e=new P.gQ;e.update(t);const o=e.digest();return P.US.encodeByteArray(o)},vo=function(...r){let t="";for(let e=0;e<r.length;e++){const o=r[e];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?t+=vo.apply(null,o):t+="object"==typeof o?(0,P.Wl)(o):o,t+=" "}return t};let Eo=null,Pp=!0;const Co=function(r,t){(0,P.hu)(!t||!0===r||!1===r,"Can't turn on custom loggers persistently."),!0===r?(ml.logLevel=It.in.VERBOSE,Eo=ml.log.bind(ml),t&&yo.set("logging_enabled",!0)):"function"==typeof r?Eo=r:(Eo=null,yo.remove("logging_enabled"))},Kn=function(...r){if(!0===Pp&&(Pp=!1,null===Eo&&!0===yo.get("logging_enabled")&&Co(!0)),Eo){const t=vo.apply(null,r);Eo(t)}},Iu=function(r){return function(...t){Kn(r,...t)}},Of=function(...r){const t="FIREBASE INTERNAL ERROR: "+vo(...r);ml.error(t)},Xi=function(...r){const t=`FIREBASE FATAL ERROR: ${vo(...r)}`;throw ml.error(t),new Error(t)},gr=function(...r){const t="FIREBASE WARNING: "+vo(...r);ml.warn(t)},_l=function(r){return"number"==typeof r&&(r!=r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},ti="[MIN_NAME]",wi="[MAX_NAME]",Fs=function(r,t){if(r===t)return 0;if(r===ti||t===wi)return-1;if(t===ti||r===wi)return 1;{const e=nr(r),o=nr(t);return null!==e?null!==o?e-o==0?r.length-t.length:e-o:-1:null!==o?1:r<t?-1:1}},bi=function(r,t){return r===t?0:r<t?-1:1},yl=function(r,t){if(t&&r in t)return t[r];throw new Error("Missing required key ("+r+") in object: "+(0,P.Wl)(t))},ed=function(r){if("object"!=typeof r||null===r)return(0,P.Wl)(r);const t=[];for(const o in r)t.push(o);t.sort();let e="{";for(let o=0;o<t.length;o++)0!==o&&(e+=","),e+=(0,P.Wl)(t[o]),e+=":",e+=ed(r[t[o]]);return e+="}",e},td=function(r,t){const e=r.length;if(e<=t)return[r];const o=[];for(let l=0;l<e;l+=t)o.push(r.substring(l,l+t>e?e:l+t));return o};function On(r,t){for(const e in r)r.hasOwnProperty(e)&&t(e,r[e])}const Du=function(r){(0,P.hu)(!_l(r),"Invalid JSON number");const o=1023;let l,p,y,D,T;0===r?(p=0,y=0,l=1/r==-1/0?1:0):(l=r<0,(r=Math.abs(r))>=Math.pow(2,1-o)?(D=Math.min(Math.floor(Math.log(r)/Math.LN2),o),p=D+o,y=Math.round(r*Math.pow(2,52-D)-Math.pow(2,52))):(p=0,y=Math.round(r/Math.pow(2,-1074))));const R=[];for(T=52;T;T-=1)R.push(y%2?1:0),y=Math.floor(y/2);for(T=11;T;T-=1)R.push(p%2?1:0),p=Math.floor(p/2);R.push(l?1:0),R.reverse();const W=R.join("");let G="";for(T=0;T<64;T+=8){let J=parseInt(W.substr(T,8),2).toString(16);1===J.length&&(J="0"+J),G+=J}return G.toLowerCase()},xf=new RegExp("^-?(0*)\\d{1,10}$"),nr=function(r){if(xf.test(r)){const t=Number(r);if(t>=-2147483648&&t<=2147483647)return t}return null},Ls=function(r){try{r()}catch(t){setTimeout(()=>{throw gr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},wu=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Io=function(r,t){const e=setTimeout(r,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class mr{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,o):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){gr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Do{constructor(t,e,o){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Kn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,o):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gr(t)}}let wo=(()=>{class r{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return r.OWNER="owner",r})();const Ff=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Su="websocket",ad="long_polling";class es{constructor(t,e,o,l,p=!1,y="",D=!1,T=!1){this.secure=e,this.namespace=o,this.webSocketOnly=l,this.nodeAdmin=p,this.persistenceKey=y,this.includeNamespaceInQueryParams=D,this.isUsingEmulator=T,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=pr.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&pr.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Vf(r,t,e){let o;if((0,P.hu)("string"==typeof t,"typeof type must == string"),(0,P.hu)("object"==typeof e,"typeof params must == object"),t===Su)o=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else{if(t!==ad)throw new Error("Unknown connection type: "+t);o=(r.secure?"https://":"http://")+r.internalHost+"/.lp?"}(function vl(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams})(r)&&(e.ns=r.namespace);const l=[];return On(e,(p,y)=>{l.push(p+"="+y)}),o+l.join("&")}class ld{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,P.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,P.p$)(this.counters_)}}const El={},bo={};function Au(r){const t=r.toString();return El[t]||(El[t]=new ld),El[t]}class Cl{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<o.length;++l)o[l]&&Ls(()=>{this.onMessage_(o[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Pr{constructor(t,e,o,l,p,y,D){this.connId=t,this.repoInfo=e,this.applicationId=o,this.appCheckToken=l,this.authToken=p,this.transportSessionId=y,this.lastSessionId=D,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Iu(t),this.stats_=Au(e),this.urlFn=T=>(this.appCheckToken&&(T.ac=this.appCheckToken),Vf(e,ad,T))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Cl(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(r){if((0,P.Yr)()||"complete"===document.readyState)r();else{let t=!1;const e=function(){document.body?t||(t=!0,r()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ru((...p)=>{const[y,D,T,R,W]=p;if(this.incrementIncomingBytes_(p),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===y)this.id=D,this.password=T;else{if("close"!==y)throw new Error("Unrecognized command received: "+y);D?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(D,()=>{this.onClosed_()})):this.onClosed_()}},(...p)=>{const[y,D]=p;this.incrementIncomingBytes_(p),this.myPacketOrderer.handleResponse(y,D)},()=>{this.onClosed_()},this.urlFn);const o={start:"t"};o.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(o.cb=this.scriptTagHolder.uniqueCallbackIdentifier),o.v="5",this.transportSessionId&&(o.s=this.transportSessionId),this.lastSessionId&&(o.ls=this.lastSessionId),this.applicationId&&(o.p=this.applicationId),this.appCheckToken&&(o.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Ff.test(location.hostname)&&(o.r="f");const l=this.urlFn(o);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Pr.forceAllow_=!0}static forceDisallow(){Pr.forceDisallow_=!0}static isAvailable(){return!((0,P.Yr)()||!Pr.forceAllow_&&(Pr.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,P.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const o=(0,P.h$)(e),l=td(o,1840);for(let p=0;p<l.length;p++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[p]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,P.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const o={dframe:"t"};o.id=t,o.pw=e,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,P.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Ru{constructor(t,e,o,l){if(this.onDisconnect=o,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,P.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Cu(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Ru.createIFrame_();let p="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(p='<script>document.domain="'+document.domain+'";<\/script>');const y="<html><body>"+p+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(y),this.myIFrame.doc.close()}catch(D){Kn("frame writing exception"),D.stack&&Kn(D.stack),Kn(D)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Kn("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),o="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+o.length<=1870;){const y=this.pendingSegs.shift();o=o+"&seg"+l+"="+y.seg+"&ts"+l+"="+y.ts+"&d"+l+"="+y.d,l++}return e+=o,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,o){this.pendingSegs.push({seg:t,ts:e,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const o=()=>{this.outstandingRequests.delete(e),this.newRequest_()},l=setTimeout(o,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(l),o()})}addTag(t,e){(0,P.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const l=o.readyState;(!l||"loaded"===l||"complete"===l)&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),e())},o.onerror=()=>{Kn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}let dd=null;typeof MozWebSocket<"u"?dd=MozWebSocket:typeof WebSocket<"u"&&(dd=WebSocket);let ts=(()=>{class r{constructor(e,o,l,p,y,D,T){this.connId=e,this.applicationId=l,this.appCheckToken=p,this.authToken=y,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Iu(this.connId),this.stats_=Au(o),this.connURL=r.connectionURL_(o,D,T,p,l),this.nodeAdmin=o.nodeAdmin}static connectionURL_(e,o,l,p,y){const D={v:"5"};return!(0,P.Yr)()&&typeof location<"u"&&location.hostname&&Ff.test(location.hostname)&&(D.r="f"),o&&(D.s=o),l&&(D.ls=l),p&&(D.ac=p),y&&(D.p=y),Vf(e,Su,D)}open(e,o){this.onDisconnect=o,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,pr.set("previous_websocket_failure",!0);try{let l;if((0,P.Yr)()){l={headers:{"User-Agent":`Firebase/5/${hn}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(l.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(l.headers["X-Firebase-AppCheck"]=this.appCheckToken);const y=process.env,D=0===this.connURL.indexOf("wss://")?y.HTTPS_PROXY||y.https_proxy:y.HTTP_PROXY||y.http_proxy;D&&(l.proxy={origin:D})}this.mySock=new dd(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const p=l.message||l.data;return p&&this.log_(p),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const p=l.message||l.data;p&&this.log_(p),this.onClosed_()}}start(){}static forceDisallow(){r.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);l&&l.length>1&&parseFloat(l[1])<4.4&&(e=!0)}return!e&&null!==dd&&!r.forceDisallow_}static previouslyFailed(){return pr.isInMemoryStorage||!0===pr.get("previous_websocket_failure")}markConnectionHealthy(){pr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const o=this.frames.join("");this.frames=null;const l=(0,P.cI)(o);this.onMessage(l)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,P.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const o=Number(e);if(!isNaN(o))return this.handleNewFrameCount_(o),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const o=e.data;if(this.bytesReceived+=o.length,this.stats_.incrementCounter("bytes_received",o.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(o);else{const l=this.extractFrameCount_(o);null!==l&&this.appendFrame_(l)}}send(e){this.resetKeepAlive();const o=(0,P.Wl)(e);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const l=td(o,16384);l.length>1&&this.sendString_(String(l.length));for(let p=0;p<l.length;p++)this.sendString_(l[p])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(o){this.log_("Exception thrown from WebSocket.send():",o.message||o.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return r.responsesRequiredToBeHealthy=2,r.healthyTimeout=3e4,r})(),Zf=(()=>{class r{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Pr,ts]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const o=ts&&ts.isAvailable();let l=o&&!ts.previouslyFailed();if(e.webSocketOnly&&(o||gr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[ts];else{const p=this.transports_=[];for(const y of r.ALL_TRANSPORTS)y&&y.isAvailable()&&p.push(y);r.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return r.globalTransportInitialized_=!1,r})();class Qf{constructor(t,e,o,l,p,y,D,T,R,W){this.id=t,this.repoInfo_=e,this.applicationId_=o,this.appCheckToken_=l,this.authToken_=p,this.onMessage_=y,this.onReady_=D,this.onDisconnect_=T,this.onKill_=R,this.lastSessionId=W,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Iu("c:"+this.id+":"),this.transportManager_=new Zf(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,o)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=Io(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=yl("t",t),o=yl("d",t);if("c"===e)this.onSecondaryControl_(o);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(o)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=yl("t",t),o=yl("d",t);"c"===e?this.onControl_(o):"d"===e&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=yl("t",t);if("d"in t){const o=t.d;if("h"===e){const l=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(o):"r"===e?this.onReset_(o):"e"===e?Of("Server Error: "+o):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Of("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,o=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==o&&gr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,o),Io(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Io(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(pr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Rr{put(t,e,o,l){}merge(t,e,o,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,o){}onDisconnectMerge(t,e,o){}onDisconnectCancel(t,e){}reportStats(t){}}class wa{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,P.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let l=0;l<o.length;l++)o[l].callback.apply(o[l].context,e)}}on(t,e,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:o});const l=this.getInitialEvent(t);l&&e.apply(o,l)}off(t,e,o){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let p=0;p<l.length;p++)if(l[p].callback===e&&(!o||o===l[p].context))return void l.splice(p,1)}validateEventType_(t){(0,P.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class ba extends wa{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,P.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ba}getInitialEvent(t){return(0,P.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const hd=32,So=768;class Nt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let o=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[o]=this.pieces_[l],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function St(){return new Nt("")}function bt(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function Bs(r){return r.pieces_.length-r.pieceNum_}function Ft(r){let t=r.pieceNum_;return t<r.pieces_.length&&t++,new Nt(r.pieces_,t)}function Lu(r){return r.pieceNum_<r.pieces_.length?r.pieces_[r.pieces_.length-1]:null}function bl(r,t=0){return r.pieces_.slice(r.pieceNum_+t)}function gd(r){if(r.pieceNum_>=r.pieces_.length)return null;const t=[];for(let e=r.pieceNum_;e<r.pieces_.length-1;e++)t.push(r.pieces_[e]);return new Nt(t,0)}function Ht(r,t){const e=[];for(let o=r.pieceNum_;o<r.pieces_.length;o++)e.push(r.pieces_[o]);if(t instanceof Nt)for(let o=t.pieceNum_;o<t.pieces_.length;o++)e.push(t.pieces_[o]);else{const o=t.split("/");for(let l=0;l<o.length;l++)o[l].length>0&&e.push(o[l])}return new Nt(e,0)}function st(r){return r.pieceNum_>=r.pieces_.length}function kn(r,t){const e=bt(r),o=bt(t);if(null===e)return t;if(e===o)return kn(Ft(r),Ft(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+r+")")}function Vu(r,t){const e=bl(r,0),o=bl(t,0);for(let l=0;l<e.length&&l<o.length;l++){const p=Fs(e[l],o[l]);if(0!==p)return p}return e.length===o.length?0:e.length<o.length?-1:1}function Bu(r,t){if(Bs(r)!==Bs(t))return!1;for(let e=r.pieceNum_,o=t.pieceNum_;e<=r.pieces_.length;e++,o++)if(r.pieces_[e]!==t.pieces_[o])return!1;return!0}function Cn(r,t){let e=r.pieceNum_,o=t.pieceNum_;if(Bs(r)>Bs(t))return!1;for(;e<r.pieces_.length;){if(r.pieces_[e]!==t.pieces_[o])return!1;++e,++o}return!0}class Tl{constructor(t,e){this.errorPrefix_=e,this.parts_=bl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=(0,P.ug)(this.parts_[o]);eh(this)}}function eh(r){if(r.byteLength_>So)throw new Error(r.errorPrefix_+"has a key path longer than "+So+" bytes ("+r.byteLength_+").");if(r.parts_.length>hd)throw new Error(r.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+hd+") or object contains a cycle "+ns(r))}function ns(r){return 0===r.parts_.length?"":"in property '"+r.parts_.join(".")+"'"}class Ti extends wa{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}static getInstance(){return new Ti}getInitialEvent(t){return(0,P.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const rs=1e3;let ne,w=(()=>{class r extends Rr{constructor(e,o,l,p,y,D,T,R){if(super(),this.repoInfo_=e,this.applicationId_=o,this.onDataUpdate_=l,this.onConnectStatus_=p,this.onServerInfoUpdate_=y,this.authTokenProvider_=D,this.appCheckTokenProvider_=T,this.authOverride_=R,this.id=r.nextPersistentConnectionId_++,this.log_=Iu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=rs,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,R&&!(0,P.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ti.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&ba.getInstance().on("online",this.onOnline_,this)}sendRequest(e,o,l){const p=++this.requestNumber_,y={r:p,a:e,b:o};this.log_((0,P.Wl)(y)),(0,P.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(y),l&&(this.requestCBHash_[p]=l)}get(e){this.initConnection_();const o=new P.BH,p={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:D=>{const T=D.d;"ok"===D.s?o.resolve(T):o.reject(T)}};return this.outstandingGets_.push(p),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),o.promise}listen(e,o,l,p){this.initConnection_();const y=e._queryIdentifier,D=e._path.toString();this.log_("Listen called for "+D+" "+y),this.listens.has(D)||this.listens.set(D,new Map),(0,P.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,P.hu)(!this.listens.get(D).has(y),"listen() called twice for same path/queryId.");const T={onComplete:p,hashFn:o,query:e,tag:l};this.listens.get(D).set(y,T),this.connected_&&this.sendListen_(T)}sendGet_(e){const o=this.outstandingGets_[e];this.sendRequest("g",o.request,l=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),o.onComplete&&o.onComplete(l)})}sendListen_(e){const o=e.query,l=o._path.toString(),p=o._queryIdentifier;this.log_("Listen on "+l+" for "+p);const y={p:l};e.tag&&(y.q=o._queryObject,y.t=e.tag),y.h=e.hashFn(),this.sendRequest("q",y,T=>{const R=T.d,W=T.s;r.warnOnListenWarnings_(R,o),(this.listens.get(l)&&this.listens.get(l).get(p))===e&&(this.log_("listen response",T),"ok"!==W&&this.removeListen_(l,p),e.onComplete&&e.onComplete(W,R))})}static warnOnListenWarnings_(e,o){if(e&&"object"==typeof e&&(0,P.r3)(e,"w")){const l=(0,P.DV)(e,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const p='".indexOn": "'+o._queryParams.getIndex().toString()+'"',y=o._path.toString();gr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${p} at ${y} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,P.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,o=(0,P.w9)(e)?"auth":"gauth",l={cred:e};null===this.authOverride_?l.noauth=!0:"object"==typeof this.authOverride_&&(l.authvar=this.authOverride_),this.sendRequest(o,l,p=>{const y=p.s,D=p.d||"error";this.authToken_===e&&("ok"===y?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(y,D))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const o=e.s,l=e.d||"error";"ok"===o?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(o,l)})}unlisten(e,o){const l=e._path.toString(),p=e._queryIdentifier;this.log_("Unlisten called for "+l+" "+p),(0,P.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,p)&&this.connected_&&this.sendUnlisten_(l,p,e._queryObject,o)}sendUnlisten_(e,o,l,p){this.log_("Unlisten on "+e+" for "+o);const y={p:e};p&&(y.q=l,y.t=p),this.sendRequest("n",y)}onDisconnectPut(e,o,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,o,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:o,onComplete:l})}onDisconnectMerge(e,o,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,o,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:o,onComplete:l})}onDisconnectCancel(e,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:o})}sendOnDisconnect_(e,o,l,p){const y={p:o,d:l};this.log_("onDisconnect "+e,y),this.sendRequest(e,y,D=>{p&&setTimeout(()=>{p(D.s,D.d)},Math.floor(0))})}put(e,o,l,p){this.putInternal("p",e,o,l,p)}merge(e,o,l,p){this.putInternal("m",e,o,l,p)}putInternal(e,o,l,p,y){this.initConnection_();const D={p:o,d:l};void 0!==y&&(D.h=y),this.outstandingPuts_.push({action:e,request:D,onComplete:p}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+o)}sendPut_(e){const o=this.outstandingPuts_[e].action,l=this.outstandingPuts_[e].request,p=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(o,l,y=>{this.log_(o+" response",y),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),p&&p(y.s,y.d)})}reportStats(e){if(this.connected_){const o={c:e};this.log_("reportStats",o),this.sendRequest("s",o,l=>{"ok"!==l.s&&this.log_("reportStats","Error sending stats: "+l.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,P.Wl)(e));const o=e.r,l=this.requestCBHash_[o];l&&(delete this.requestCBHash_[o],l(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,o){this.log_("handleServerMessage",e,o),"d"===e?this.onDataUpdate_(o.p,o.d,!1,o.t):"m"===e?this.onDataUpdate_(o.p,o.d,!0,o.t):"c"===e?this.onListenRevoked_(o.p,o.q):"ac"===e?this.onAuthRevoked_(o.s,o.d):"apc"===e?this.onAppCheckRevoked_(o.s,o.d):"sd"===e?this.onSecurityDebugPacket_(o):Of("Unrecognized action received from server: "+(0,P.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,P.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=rs,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=rs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=rs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let o=Math.max(0,this.reconnectDelay_-e);o=Math.random()*o,this.log_("Trying to reconnect in "+o+"ms"),this.scheduleConnect_(o),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Ve.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const o=e.onDataMessage_.bind(e),l=e.onReady_.bind(e),p=e.onRealtimeDisconnect_.bind(e),y=e.id+":"+r.nextConnectionId_++,D=e.lastSessionId;let T=!1,R=null;const W=function(){R?R.close():(T=!0,p())};e.realtime_={close:W,sendRequest:function(pe){(0,P.hu)(R,"sendRequest call when we're not connected not allowed."),R.sendRequest(pe)}};const J=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[pe,Ae]=yield Promise.all([e.authTokenProvider_.getToken(J),e.appCheckTokenProvider_.getToken(J)]);T?Kn("getToken() completed but was canceled"):(Kn("getToken() completed. Creating connection."),e.authToken_=pe&&pe.accessToken,e.appCheckToken_=Ae&&Ae.token,R=new Qf(y,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,o,l,p,dt=>{gr(dt+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},D))}catch(pe){e.log_("Failed to get token: "+pe),T||(e.repoInfo_.nodeAdmin&&gr(pe),W())}}})()}interrupt(e){Kn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Kn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,P.xb)(this.interruptReasons_)&&(this.reconnectDelay_=rs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const o=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:o})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const o=this.outstandingPuts_[e];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,o){let l;l=o?o.map(y=>ed(y)).join("$"):"default";const p=this.removeListen_(e,l);p&&p.onComplete&&p.onComplete("permission_denied")}removeListen_(e,o){const l=new Nt(e).toString();let p;if(this.listens.has(l)){const y=this.listens.get(l);p=y.get(o),y.delete(o),0===y.size&&this.listens.delete(l)}else p=void 0;return p}onAuthRevoked_(e,o){Kn("Auth token revoked: "+e+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,o){Kn("App check token revoked: "+e+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const o of e.values())this.sendListen_(o);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let o="js";(0,P.Yr)()&&(o=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+o+"."+hn.replace(/\./g,"-")]=1,(0,P.uI)()?e["framework.cordova"]=1:(0,P.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ba.getInstance().currentlyOnline();return(0,P.xb)(this.interruptReasons_)&&e}}return r.nextPersistentConnectionId_=0,r.nextConnectionId_=0,r})();class A{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new A(t,e)}}class j{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const o=new A(ti,t),l=new A(ti,e);return 0!==this.compare(o,l)}minPost(){return A.MIN}}class Oe extends j{static get __EMPTY_NODE(){return ne}static set __EMPTY_NODE(t){ne=t}compare(t,e){return Fs(t.name,e.name)}isDefinedOn(t){throw(0,P.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return A.MIN}maxPost(){return new A(wi,ne)}makePost(t,e){return(0,P.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new A(t,ne)}toString(){return".key"}}const Le=new Oe;class Xe{constructor(t,e,o,l,p=null){this.isReverse_=l,this.resultGenerator_=p,this.nodeStack_=[];let y=1;for(;!t.isEmpty();)if(y=e?o(t.key,e):1,l&&(y*=-1),y<0)t=this.isReverse_?t.left:t.right;else{if(0===y){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Uu,Ye=(()=>{class r{constructor(e,o,l,p,y){this.key=e,this.value=o,this.color=l??r.RED,this.left=p??Qt.EMPTY_NODE,this.right=y??Qt.EMPTY_NODE}copy(e,o,l,p,y){return new r(e??this.key,o??this.value,l??this.color,p??this.left,y??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,o,l){let p=this;const y=l(e,p.key);return p=y<0?p.copy(null,null,null,p.left.insert(e,o,l),null):0===y?p.copy(null,o,null,null,null):p.copy(null,null,null,null,p.right.insert(e,o,l)),p.fixUp_()}removeMin_(){if(this.left.isEmpty())return Qt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,o){let l,p;if(l=this,o(e,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(e,o),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),0===o(e,l.key)){if(l.right.isEmpty())return Qt.EMPTY_NODE;p=l.right.min_(),l=l.copy(p.key,p.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(e,o))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,o)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return r.RED=!0,r.BLACK=!1,r})();class Qt{constructor(t,e=Qt.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Qt(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Ye.BLACK,null,null))}remove(t){return new Qt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ye.BLACK,null,null))}get(t){let e,o=this.root_;for(;!o.isEmpty();){if(e=this.comparator_(t,o.key),0===e)return o.value;e<0?o=o.left:e>0&&(o=o.right)}return null}getPredecessorKey(t){let e,o=this.root_,l=null;for(;!o.isEmpty();){if(e=this.comparator_(t,o.key),0===e){if(o.left.isEmpty())return l?l.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}e<0?o=o.left:e>0&&(l=o,o=o.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Xe(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Xe(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Xe(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Xe(this.root_,null,this.comparator_,!0,t)}}function Sl(r,t){return Fs(r.name,t.name)}function md(r,t){return Fs(r,t)}Qt.EMPTY_NODE=new class Mn{copy(t,e,o,l,p){return this}insert(t,e,o){return new Ye(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Al=function(r){return"number"==typeof r?"number:"+Du(r):"string:"+r},Ta=function(r){if(r.isLeafNode()){const t=r.val();(0,P.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,P.r3)(t,".sv"),"Priority must be a string or number.")}else(0,P.hu)(r===Uu||r.isEmpty(),"priority of unexpected type.");(0,P.hu)(r===Uu||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let th,Ml,_d,Sa=(()=>{class r{constructor(e,o=r.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=o,this.lazyHash_=null,(0,P.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ta(this.priorityNode_)}static set __childrenNodeConstructor(e){th=e}static get __childrenNodeConstructor(){return th}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new r(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:r.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return st(e)?this:".priority"===bt(e)?this.priorityNode_:r.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,o){return null}updateImmediateChild(e,o){return".priority"===e?this.updatePriority(o):o.isEmpty()&&".priority"!==e?this:r.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,o).updatePriority(this.priorityNode_)}updateChild(e,o){const l=bt(e);return null===l?o:o.isEmpty()&&".priority"!==l?this:((0,P.hu)(".priority"!==l||1===Bs(e),".priority must be the last token in a path"),this.updateImmediateChild(l,r.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ft(e),o)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,o){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Al(this.priorityNode_.val())+":");const o=typeof this.value_;e+=o+":",e+="number"===o?Du(this.value_):this.value_,this.lazyHash_=Nf(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===r.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof r.__childrenNodeConstructor?-1:((0,P.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const o=typeof e.value_,l=typeof this.value_,p=r.VALUE_TYPE_ORDER.indexOf(o),y=r.VALUE_TYPE_ORDER.indexOf(l);return(0,P.hu)(p>=0,"Unknown leaf type: "+o),(0,P.hu)(y>=0,"Unknown leaf type: "+l),p===y?"object"===l?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:y-p}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return r.VALUE_TYPE_ORDER=["object","boolean","number","string"],r})();const Jt=new class $p extends j{compare(t,e){const o=t.node.getPriority(),l=e.node.getPriority(),p=o.compareTo(l);return 0===p?Fs(t.name,e.name):p}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return A.MIN}maxPost(){return new A(wi,new Sa("[PRIORITY-POST]",_d))}makePost(t,e){const o=Ml(t);return new A(e,new Sa("[PRIORITY-POST]",o))}toString(){return".priority"}},nh=Math.log(2);class cE{constructor(t){this.count=parseInt(Math.log(t+1)/nh,10),this.current_=this.count-1;const l=(p=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Hu=function(r,t,e,o){r.sort(t);const l=function(T,R){const W=R-T;let G,J;if(0===W)return null;if(1===W)return G=r[T],J=e?e(G):G,new Ye(J,G.node,Ye.BLACK,null,null);{const pe=parseInt(W/2,10)+T,Ae=l(T,pe),dt=l(pe+1,R);return G=r[pe],J=e?e(G):G,new Ye(J,G.node,Ye.BLACK,Ae,dt)}},D=function(T){let R=null,W=null,G=r.length;const J=function(Ae,dt){const Ot=G-Ae,xt=G;G-=Ae;const gn=l(Ot+1,xt),Lr=r[Ot],mn=e?e(Lr):Lr;pe(new Ye(mn,Lr.node,dt,null,gn))},pe=function(Ae){R?(R.left=Ae,R=Ae):(W=Ae,R=Ae)};for(let Ae=0;Ae<T.count;++Ae){const dt=T.nextBitIsOne(),Ot=Math.pow(2,T.count-(Ae+1));dt?J(Ot,Ye.BLACK):(J(Ot,Ye.BLACK),J(Ot,Ye.RED))}return W}(new cE(r.length));return new Qt(o||t,D)};let Gp;const cn={};class Ao{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,P.hu)(cn&&Jt,"ChildrenNode.ts has not been loaded"),Gp=Gp||new Ao({".priority":cn},{".priority":Jt}),Gp}get(t){const e=(0,P.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Qt?e:null}hasIndex(t){return(0,P.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,P.hu)(t!==Le,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let l=!1;const p=e.getIterator(A.Wrap);let D,y=p.getNext();for(;y;)l=l||t.isDefinedOn(y.node),o.push(y),y=p.getNext();D=l?Hu(o,t.getCompare()):cn;const T=t.toString(),R=Object.assign({},this.indexSet_);R[T]=t;const W=Object.assign({},this.indexes_);return W[T]=D,new Ao(W,R)}addToIndexes(t,e){const o=(0,P.UI)(this.indexes_,(l,p)=>{const y=(0,P.DV)(this.indexSet_,p);if((0,P.hu)(y,"Missing index implementation for "+p),l===cn){if(y.isDefinedOn(t.node)){const D=[],T=e.getIterator(A.Wrap);let R=T.getNext();for(;R;)R.name!==t.name&&D.push(R),R=T.getNext();return D.push(t),Hu(D,y.getCompare())}return cn}{const D=e.get(t.name);let T=l;return D&&(T=T.remove(new A(t.name,D))),T.insert(t,t.node)}});return new Ao(o,this.indexSet_)}removeFromIndexes(t,e){const o=(0,P.UI)(this.indexes_,l=>{if(l===cn)return l;{const p=e.get(t.name);return p?l.remove(new A(t.name,p)):l}});return new Ao(o,this.indexSet_)}}let vd,Dt=(()=>{class r{constructor(e,o,l){this.children_=e,this.priorityNode_=o,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&Ta(this.priorityNode_),this.children_.isEmpty()&&(0,P.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return vd||(vd=new r(new Qt(md),null,Ao.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||vd}updatePriority(e){return this.children_.isEmpty()?this:new r(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const o=this.children_.get(e);return null===o?vd:o}}getChild(e){const o=bt(e);return null===o?this:this.getImmediateChild(o).getChild(Ft(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,o){if((0,P.hu)(o,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(o);{const l=new A(e,o);let p,y;o.isEmpty()?(p=this.children_.remove(e),y=this.indexMap_.removeFromIndexes(l,this.children_)):(p=this.children_.insert(e,o),y=this.indexMap_.addToIndexes(l,this.children_));const D=p.isEmpty()?vd:this.priorityNode_;return new r(p,D,y)}}updateChild(e,o){const l=bt(e);if(null===l)return o;{(0,P.hu)(".priority"!==bt(e)||1===Bs(e),".priority must be the last token in a path");const p=this.getImmediateChild(l).updateChild(Ft(e),o);return this.updateImmediateChild(l,p)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const o={};let l=0,p=0,y=!0;if(this.forEachChild(Jt,(D,T)=>{o[D]=T.val(e),l++,y&&r.INTEGER_REGEXP_.test(D)?p=Math.max(p,Number(D)):y=!1}),!e&&y&&p<2*l){const D=[];for(const T in o)D[T]=o[T];return D}return e&&!this.getPriority().isEmpty()&&(o[".priority"]=this.getPriority().val()),o}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Al(this.getPriority().val())+":"),this.forEachChild(Jt,(o,l)=>{const p=l.hash();""!==p&&(e+=":"+o+":"+p)}),this.lazyHash_=""===e?"":Nf(e)}return this.lazyHash_}getPredecessorChildName(e,o,l){const p=this.resolveIndex_(l);if(p){const y=p.getPredecessorKey(new A(e,o));return y?y.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const o=this.resolveIndex_(e);if(o){const l=o.minKey();return l&&l.name}return this.children_.minKey()}getFirstChild(e){const o=this.getFirstChildName(e);return o?new A(o,this.children_.get(o)):null}getLastChildName(e){const o=this.resolveIndex_(e);if(o){const l=o.maxKey();return l&&l.name}return this.children_.maxKey()}getLastChild(e){const o=this.getLastChildName(e);return o?new A(o,this.children_.get(o)):null}forEachChild(e,o){const l=this.resolveIndex_(e);return l?l.inorderTraversal(p=>o(p.name,p.node)):this.children_.inorderTraversal(o)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,o){const l=this.resolveIndex_(o);if(l)return l.getIteratorFrom(e,p=>p);{const p=this.children_.getIteratorFrom(e.name,A.Wrap);let y=p.peek();for(;null!=y&&o.compare(y,e)<0;)p.getNext(),y=p.peek();return p}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,o){const l=this.resolveIndex_(o);if(l)return l.getReverseIteratorFrom(e,p=>p);{const p=this.children_.getReverseIteratorFrom(e.name,A.Wrap);let y=p.peek();for(;null!=y&&o.compare(y,e)>0;)p.getNext(),y=p.peek();return p}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ed?-1:0}withIndex(e){if(e===Le||this.indexMap_.hasIndex(e))return this;{const o=this.indexMap_.addIndex(e,this.children_);return new r(this.children_,this.priorityNode_,o)}}isIndexed(e){return e===Le||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const o=e;if(this.getPriority().equals(o.getPriority())){if(this.children_.count()===o.children_.count()){const l=this.getIterator(Jt),p=o.getIterator(Jt);let y=l.getNext(),D=p.getNext();for(;y&&D;){if(y.name!==D.name||!y.node.equals(D.node))return!1;y=l.getNext(),D=p.getNext()}return null===y&&null===D}return!1}return!1}}resolveIndex_(e){return e===Le?null:this.indexMap_.get(e.toString())}}return r.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,r})();const Ed=new class qm extends Dt{constructor(){super(new Qt(md),Dt.EMPTY_NODE,Ao.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Dt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(A,{MIN:{value:new A(ti,Dt.EMPTY_NODE)},MAX:{value:new A(wi,Ed)}}),Oe.__EMPTY_NODE=Dt.EMPTY_NODE,Sa.__childrenNodeConstructor=Dt,function Hp(r){Uu=r}(Ed),function yd(r){_d=r}(Ed);const dE=!0;function In(r,t=null){if(null===r)return Dt.EMPTY_NODE;if("object"==typeof r&&".priority"in r&&(t=r[".priority"]),(0,P.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof r&&".value"in r&&null!==r[".value"]&&(r=r[".value"]),"object"!=typeof r||".sv"in r)return new Sa(r,In(t));if(r instanceof Array||!dE){let e=Dt.EMPTY_NODE;return On(r,(o,l)=>{if((0,P.r3)(r,o)&&"."!==o.substring(0,1)){const p=In(l);(p.isLeafNode()||!p.isEmpty())&&(e=e.updateImmediateChild(o,p))}}),e.updatePriority(In(t))}{const e=[];let o=!1;if(On(r,(y,D)=>{if("."!==y.substring(0,1)){const T=In(D);T.isEmpty()||(o=o||!T.getPriority().isEmpty(),e.push(new A(y,T)))}}),0===e.length)return Dt.EMPTY_NODE;const p=Hu(e,Sl,y=>y.name,md);if(o){const y=Hu(e,Jt.getCompare());return new Dt(p,In(t),new Ao({".priority":y},{".priority":Jt}))}return new Dt(p,In(t),Ao.Default)}}!function jp(r){Ml=r}(In);class Wp extends j{constructor(t){super(),this.indexPath_=t,(0,P.hu)(!st(t)&&".priority"!==bt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const o=this.extractChild(t.node),l=this.extractChild(e.node),p=o.compareTo(l);return 0===p?Fs(t.name,e.name):p}makePost(t,e){const o=In(t),l=Dt.EMPTY_NODE.updateChild(this.indexPath_,o);return new A(e,l)}maxPost(){const t=Dt.EMPTY_NODE.updateChild(this.indexPath_,Ed);return new A(wi,t)}toString(){return bl(this.indexPath_,0).join("/")}}const Ym=new class fE extends j{compare(t,e){const o=t.node.compareTo(e.node);return 0===o?Fs(t.name,e.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return A.MIN}maxPost(){return A.MAX}makePost(t,e){const o=In(t);return new A(e,o)}toString(){return".value"}};function hE(r){return{type:"value",snapshotNode:r}}function Us(r,t){return{type:"child_added",snapshotNode:t,childName:r}}function ju(r,t){return{type:"child_removed",snapshotNode:t,childName:r}}function $u(r,t,e){return{type:"child_changed",snapshotNode:t,childName:r,oldSnap:e}}class rh{constructor(t){this.index_=t}updateChild(t,e,o,l,p,y){(0,P.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const D=t.getImmediateChild(e);return D.getChild(l).equals(o.getChild(l))&&D.isEmpty()===o.isEmpty()||(null!=y&&(o.isEmpty()?t.hasChild(e)?y.trackChildChange(ju(e,D)):(0,P.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):D.isEmpty()?y.trackChildChange(Us(e,o)):y.trackChildChange($u(e,o,D))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(e,o).withIndex(this.index_)}updateFullNode(t,e,o){return null!=o&&(t.isLeafNode()||t.forEachChild(Jt,(l,p)=>{e.hasChild(l)||o.trackChildChange(ju(l,p))}),e.isLeafNode()||e.forEachChild(Jt,(l,p)=>{if(t.hasChild(l)){const y=t.getImmediateChild(l);y.equals(p)||o.trackChildChange($u(l,p,y))}else o.trackChildChange(Us(l,p))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Dt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Cd{constructor(t){this.indexedFilter_=new rh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Cd.getStartPost_(t),this.endPost_=Cd.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&o}updateChild(t,e,o,l,p,y){return this.matches(new A(e,o))||(o=Dt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,o,l,p,y)}updateFullNode(t,e,o){e.isLeafNode()&&(e=Dt.EMPTY_NODE);let l=e.withIndex(this.index_);l=l.updatePriority(Dt.EMPTY_NODE);const p=this;return e.forEachChild(Jt,(y,D)=>{p.matches(new A(y,D))||(l=l.updateImmediateChild(y,Dt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,o)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class pE{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=e=>{const o=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new Cd(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,o,l,p,y){return this.rangedFilter_.matches(new A(e,o))||(o=Dt.EMPTY_NODE),t.getImmediateChild(e).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,o,l,p,y):this.fullLimitUpdateChild_(t,e,o,p,y)}updateFullNode(t,e,o){let l;if(e.isLeafNode()||e.isEmpty())l=Dt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let p;l=Dt.EMPTY_NODE.withIndex(this.index_),p=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let y=0;for(;p.hasNext()&&y<this.limit_;){const D=p.getNext();if(this.withinDirectionalStart(D)){if(!this.withinDirectionalEnd(D))break;l=l.updateImmediateChild(D.name,D.node),y++}}}else{let p;l=e.withIndex(this.index_),l=l.updatePriority(Dt.EMPTY_NODE),p=this.reverse_?l.getReverseIterator(this.index_):l.getIterator(this.index_);let y=0;for(;p.hasNext();){const D=p.getNext();y<this.limit_&&this.withinDirectionalStart(D)&&this.withinDirectionalEnd(D)?y++:l=l.updateImmediateChild(D.name,Dt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,o)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,o,l,p){let y;if(this.reverse_){const G=this.index_.getCompare();y=(J,pe)=>G(pe,J)}else y=this.index_.getCompare();const D=t;(0,P.hu)(D.numChildren()===this.limit_,"");const T=new A(e,o),R=this.reverse_?D.getFirstChild(this.index_):D.getLastChild(this.index_),W=this.rangedFilter_.matches(T);if(D.hasChild(e)){const G=D.getImmediateChild(e);let J=l.getChildAfterChild(this.index_,R,this.reverse_);for(;null!=J&&(J.name===e||D.hasChild(J.name));)J=l.getChildAfterChild(this.index_,J,this.reverse_);const pe=null==J?1:y(J,T);if(W&&!o.isEmpty()&&pe>=0)return p?.trackChildChange($u(e,o,G)),D.updateImmediateChild(e,o);{p?.trackChildChange(ju(e,G));const dt=D.updateImmediateChild(e,Dt.EMPTY_NODE);return null!=J&&this.rangedFilter_.matches(J)?(p?.trackChildChange(Us(J.name,J.node)),dt.updateImmediateChild(J.name,J.node)):dt}}return o.isEmpty()?t:W&&y(R,T)>=0?(null!=p&&(p.trackChildChange(ju(R.name,R.node)),p.trackChildChange(Us(e,o))),D.updateImmediateChild(e,o).updateImmediateChild(R.name,Dt.EMPTY_NODE)):t}}class Id{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Jt}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ti}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:wi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,P.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Jt}copy(){const t=new Id;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Dd(r,t,e){const o=r.copy();return o.startSet_=!0,void 0===t&&(t=null),o.indexStartValue_=t,null!=e?(o.startNameSet_=!0,o.indexStartName_=e):(o.startNameSet_=!1,o.indexStartName_=""),o}function wd(r,t,e){const o=r.copy();return o.endSet_=!0,void 0===t&&(t=null),o.indexEndValue_=t,void 0!==e?(o.endNameSet_=!0,o.indexEndName_=e):(o.endNameSet_=!1,o.indexEndName_=""),o}function bd(r,t){const e=r.copy();return e.index_=t,e}function Aa(r){const t={};if(r.isDefault())return t;let e;if(r.index_===Jt?e="$priority":r.index_===Ym?e="$value":r.index_===Le?e="$key":((0,P.hu)(r.index_ instanceof Wp,"Unrecognized index type!"),e=r.index_.toString()),t.orderBy=(0,P.Wl)(e),r.startSet_){const o=r.startAfterSet_?"startAfter":"startAt";t[o]=(0,P.Wl)(r.indexStartValue_),r.startNameSet_&&(t[o]+=","+(0,P.Wl)(r.indexStartName_))}if(r.endSet_){const o=r.endBeforeSet_?"endBefore":"endAt";t[o]=(0,P.Wl)(r.indexEndValue_),r.endNameSet_&&(t[o]+=","+(0,P.Wl)(r.indexEndName_))}return r.limitSet_&&(r.isViewFromLeft()?t.limitToFirst=r.limit_:t.limitToLast=r.limit_),t}function e_(r){const t={};if(r.startSet_&&(t.sp=r.indexStartValue_,r.startNameSet_&&(t.sn=r.indexStartName_),t.sin=!r.startAfterSet_),r.endSet_&&(t.ep=r.indexEndValue_,r.endNameSet_&&(t.en=r.indexEndName_),t.ein=!r.endBeforeSet_),r.limitSet_){t.l=r.limit_;let e=r.viewFrom_;""===e&&(e=r.isViewFromLeft()?"l":"r"),t.vf=e}return r.index_!==Jt&&(t.i=r.index_.toString()),t}class Gu extends Rr{constructor(t,e,o,l){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.log_=Iu("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,P.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,o,l){const p=t._path.toString();this.log_("Listen called for "+p+" "+t._queryIdentifier);const y=Gu.getListenId_(t,o),D={};this.listens_[y]=D;const T=Aa(t._queryParams);this.restRequest_(p+".json",T,(R,W)=>{let G=W;if(404===R&&(G=null,R=null),null===R&&this.onDataUpdate_(p,G,!1,o),(0,P.DV)(this.listens_,y)===D){let J;J=R?401===R?"permission_denied":"rest_error:"+R:"ok",l(J,null)}})}unlisten(t,e){const o=Gu.getListenId_(t,e);delete this.listens_[o]}get(t){const e=Aa(t._queryParams),o=t._path.toString(),l=new P.BH;return this.restRequest_(o+".json",e,(p,y)=>{let D=y;404===p&&(D=null,p=null),null===p?(this.onDataUpdate_(o,D,!1,null),l.resolve(D)):l.reject(new Error(D))}),l.promise}refreshAuthToken(t){}restRequest_(t,e={},o){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,p])=>{l&&l.accessToken&&(e.auth=l.accessToken),p&&p.token&&(e.ac=p.token);const y=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,P.xO)(e);this.log_("Sending REST request for "+y);const D=new XMLHttpRequest;D.onreadystatechange=()=>{if(o&&4===D.readyState){this.log_("REST Response for "+y+" received. status:",D.status,"response:",D.responseText);let T=null;if(D.status>=200&&D.status<300){try{T=(0,P.cI)(D.responseText)}catch{gr("Failed to parse JSON response for "+y+": "+D.responseText)}o(null,T)}else 401!==D.status&&404!==D.status&&gr("Got unsuccessful REST response for "+y+" Status: "+D.status),o(D.status);o=null}},D.open("GET",y,!0),D.send()})}}class ih{constructor(){this.rootNode_=Dt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function sh(){return{value:null,children:new Map}}function Ma(r,t,e){if(st(t))r.value=e,r.children.clear();else if(null!==r.value)r.value=r.value.updateChild(t,e);else{const o=bt(t);r.children.has(o)||r.children.set(o,sh()),Ma(r.children.get(o),t=Ft(t),e)}}function Wu(r,t){if(st(t))return r.value=null,r.children.clear(),!0;if(null!==r.value){if(r.value.isLeafNode())return!1;{const e=r.value;return r.value=null,e.forEachChild(Jt,(o,l)=>{Ma(r,new Nt(o),l)}),Wu(r,t)}}if(r.children.size>0){const e=bt(t);return t=Ft(t),r.children.has(e)&&Wu(r.children.get(e),t)&&r.children.delete(e),0===r.children.size}return!0}function Mo(r,t,e){null!==r.value?e(t,r.value):function t_(r,t){r.children.forEach((e,o)=>{t(o,e)})}(r,(o,l)=>{Mo(l,new Nt(t.toString()+"/"+o),e)})}class Zp{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&On(this.last_,(o,l)=>{e[o]=e[o]-l}),this.last_=t,e}}class zu{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Zp(t);const o=1e4+2e4*Math.random();Io(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),e={};let o=!1;On(t,(l,p)=>{p>0&&(0,P.r3)(this.statsToReport_,l)&&(e[l]=p,o=!0)}),o&&this.server_.reportStats(e),Io(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Si=(()=>{return(r=Si||(Si={}))[r.OVERWRITE=0]="OVERWRITE",r[r.MERGE=1]="MERGE",r[r.ACK_USER_WRITE=2]="ACK_USER_WRITE",r[r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Si;var r})();function Td(r){return{fromUser:!1,fromServer:!0,queryId:r,tagged:!0}}class oh{constructor(t,e,o){this.path=t,this.affectedTree=e,this.revert=o,this.type=Si.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(st(this.path)){if(null!=this.affectedTree.value)return(0,P.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Nt(t));return new oh(St(),e,this.revert)}}return(0,P.hu)(bt(this.path)===t,"operationForChild called for unrelated child."),new oh(Ft(this.path),this.affectedTree,this.revert)}}class Zu{constructor(t,e){this.source=t,this.path=e,this.type=Si.LISTEN_COMPLETE}operationForChild(t){return st(this.path)?new Zu(this.source,St()):new Zu(this.source,Ft(this.path))}}class Pl{constructor(t,e,o){this.source=t,this.path=e,this.snap=o,this.type=Si.OVERWRITE}operationForChild(t){return st(this.path)?new Pl(this.source,St(),this.snap.getImmediateChild(t)):new Pl(this.source,Ft(this.path),this.snap)}}class Rl{constructor(t,e,o){this.source=t,this.path=e,this.children=o,this.type=Si.MERGE}operationForChild(t){if(st(this.path)){const e=this.children.subtree(new Nt(t));return e.isEmpty()?null:e.value?new Pl(this.source,St(),e.value):new Rl(this.source,St(),e)}return(0,P.hu)(bt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Rl(this.source,Ft(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Nl{constructor(t,e,o){this.node_=t,this.fullyInitialized_=e,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(st(t))return this.isFullyInitialized()&&!this.filtered_;const e=bt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class _E{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Sd(r,t,e,o,l,p){const y=o.filter(D=>D.type===e);y.sort((D,T)=>function Ad(r,t,e){if(null==t.childName||null==e.childName)throw(0,P.g5)("Should only compare child_ events.");const o=new A(t.childName,t.snapshotNode),l=new A(e.childName,e.snapshotNode);return r.index_.compare(o,l)}(r,D,T)),y.forEach(D=>{const T=function Ku(r,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,r.index_)),t}(r,D,p);l.forEach(R=>{R.respondsTo(D.type)&&t.push(R.createEvent(T,r.query_))})})}function lh(r,t){return{eventCache:r,serverCache:t}}function qu(r,t,e,o){return lh(new Nl(t,e,o),r.serverCache)}function i_(r,t,e,o){return lh(r.eventCache,new Nl(t,e,o))}function uh(r){return r.eventCache.isFullyInitialized()?r.eventCache.getNode():null}function Ol(r){return r.serverCache.isFullyInitialized()?r.serverCache.getNode():null}let ch;class Kt{constructor(t,e=(()=>(ch||(ch=new Qt(bi)),ch))()){this.value=t,this.children=e}static fromObject(t){let e=new Kt(null);return On(t,(o,l)=>{e=e.set(new Nt(o),l)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:St(),value:this.value};if(st(t))return null;{const o=bt(t),l=this.children.get(o);if(null!==l){const p=l.findRootMostMatchingPathAndValue(Ft(t),e);return null!=p?{path:Ht(new Nt(o),p.path),value:p.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(st(t))return this;{const e=bt(t),o=this.children.get(e);return null!==o?o.subtree(Ft(t)):new Kt(null)}}set(t,e){if(st(t))return new Kt(e,this.children);{const o=bt(t),p=(this.children.get(o)||new Kt(null)).set(Ft(t),e),y=this.children.insert(o,p);return new Kt(this.value,y)}}remove(t){if(st(t))return this.children.isEmpty()?new Kt(null):new Kt(null,this.children);{const e=bt(t),o=this.children.get(e);if(o){const l=o.remove(Ft(t));let p;return p=l.isEmpty()?this.children.remove(e):this.children.insert(e,l),null===this.value&&p.isEmpty()?new Kt(null):new Kt(this.value,p)}return this}}get(t){if(st(t))return this.value;{const e=bt(t),o=this.children.get(e);return o?o.get(Ft(t)):null}}setTree(t,e){if(st(t))return e;{const o=bt(t),p=(this.children.get(o)||new Kt(null)).setTree(Ft(t),e);let y;return y=p.isEmpty()?this.children.remove(o):this.children.insert(o,p),new Kt(this.value,y)}}fold(t){return this.fold_(St(),t)}fold_(t,e){const o={};return this.children.inorderTraversal((l,p)=>{o[l]=p.fold_(Ht(t,l),e)}),e(t,this.value,o)}findOnPath(t,e){return this.findOnPath_(t,St(),e)}findOnPath_(t,e,o){const l=!!this.value&&o(e,this.value);if(l)return l;if(st(t))return null;{const p=bt(t),y=this.children.get(p);return y?y.findOnPath_(Ft(t),Ht(e,p),o):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,St(),e)}foreachOnPath_(t,e,o){if(st(t))return this;{this.value&&o(e,this.value);const l=bt(t),p=this.children.get(l);return p?p.foreachOnPath_(Ft(t),Ht(e,l),o):new Kt(null)}}foreach(t){this.foreach_(St(),t)}foreach_(t,e){this.children.inorderTraversal((o,l)=>{l.foreach_(Ht(t,o),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,o)=>{o.value&&t(e,o.value)})}}class ni{constructor(t){this.writeTree_=t}static empty(){return new ni(new Kt(null))}}function Md(r,t,e){if(st(t))return new ni(new Kt(e));{const o=r.writeTree_.findRootMostValueAndPath(t);if(null!=o){const l=o.path;let p=o.value;const y=kn(l,t);return p=p.updateChild(y,e),new ni(r.writeTree_.set(l,p))}{const l=new Kt(e),p=r.writeTree_.setTree(t,l);return new ni(p)}}}function Pd(r,t,e){let o=r;return On(e,(l,p)=>{o=Md(o,Ht(t,l),p)}),o}function Yu(r,t){if(st(t))return ni.empty();{const e=r.writeTree_.setTree(t,new Kt(null));return new ni(e)}}function Yp(r,t){return null!=xl(r,t)}function xl(r,t){const e=r.writeTree_.findRootMostValueAndPath(t);return null!=e?r.writeTree_.get(e.path).getChild(kn(e.path,t)):null}function o_(r){const t=[],e=r.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Jt,(o,l)=>{t.push(new A(o,l))}):r.writeTree_.children.inorderTraversal((o,l)=>{null!=l.value&&t.push(new A(o,l.value))}),t}function Pa(r,t){if(st(t))return r;{const e=xl(r,t);return new ni(null!=e?new Kt(e):r.writeTree_.subtree(t))}}function Qp(r){return r.writeTree_.isEmpty()}function Qu(r,t){return a_(St(),r.writeTree_,t)}function a_(r,t,e){if(null!=t.value)return e.updateChild(r,t.value);{let o=null;return t.children.inorderTraversal((l,p)=>{".priority"===l?((0,P.hu)(null!==p.value,"Priority writes must always be leaf nodes"),o=p.value):e=a_(Ht(r,l),p,e)}),!e.getChild(r).isEmpty()&&null!==o&&(e=e.updateChild(Ht(r,".priority"),o)),e}}function Po(r,t){return f_(t,r)}function ED(r,t){if(r.snap)return Cn(r.path,t);for(const e in r.children)if(r.children.hasOwnProperty(e)&&Cn(Ht(r.path,e),t))return!0;return!1}function CD(r){return r.visible}function Jp(r,t,e){let o=ni.empty();for(let l=0;l<r.length;++l){const p=r[l];if(t(p)){const y=p.path;let D;if(p.snap)Cn(e,y)?(D=kn(e,y),o=Md(o,D,p.snap)):Cn(y,e)&&(D=kn(y,e),o=Md(o,St(),p.snap.getChild(D)));else{if(!p.children)throw(0,P.g5)("WriteRecord should have .snap or .children");if(Cn(e,y))D=kn(e,y),o=Pd(o,D,p.children);else if(Cn(y,e))if(D=kn(y,e),st(D))o=Pd(o,St(),p.children);else{const T=(0,P.DV)(p.children,bt(D));if(T){const R=T.getChild(Ft(D));o=Md(o,St(),R)}}}}}return o}function Xp(r,t,e,o,l){if(o||l){const p=Pa(r.visibleWrites,t);return!l&&Qp(p)?e:l||null!=e||Yp(p,St())?Qu(Jp(r.allWrites,function(R){return(R.visible||l)&&(!o||!~o.indexOf(R.writeId))&&(Cn(R.path,t)||Cn(t,R.path))},t),e||Dt.EMPTY_NODE):null}{const p=xl(r.visibleWrites,t);if(null!=p)return p;{const y=Pa(r.visibleWrites,t);return Qp(y)?e:null!=e||Yp(y,St())?Qu(y,e||Dt.EMPTY_NODE):null}}}function Rd(r,t,e,o){return Xp(r.writeTree,r.treePath,t,e,o)}function eg(r,t){return function EE(r,t,e){let o=Dt.EMPTY_NODE;const l=xl(r.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(Jt,(p,y)=>{o=o.updateImmediateChild(p,y)}),o;if(e){const p=Pa(r.visibleWrites,t);return e.forEachChild(Jt,(y,D)=>{const T=Qu(Pa(p,new Nt(y)),D);o=o.updateImmediateChild(y,T)}),o_(p).forEach(y=>{o=o.updateImmediateChild(y.name,y.node)}),o}return o_(Pa(r.visibleWrites,t)).forEach(y=>{o=o.updateImmediateChild(y.name,y.node)}),o}(r.writeTree,r.treePath,t)}function c_(r,t,e,o){return function u_(r,t,e,o,l){(0,P.hu)(o||l,"Either existingEventSnap or existingServerSnap must exist");const p=Ht(t,e);if(Yp(r.visibleWrites,p))return null;{const y=Pa(r.visibleWrites,p);return Qp(y)?l.getChild(e):Qu(y,l.getChild(e))}}(r.writeTree,r.treePath,t,e,o)}function dh(r,t){return function IE(r,t){return xl(r.visibleWrites,t)}(r.writeTree,Ht(r.treePath,t))}function fh(r,t,e){return function CE(r,t,e,o){const l=Ht(t,e),p=xl(r.visibleWrites,l);return null!=p?p:o.isCompleteForChild(e)?Qu(Pa(r.visibleWrites,l),o.getNode().getImmediateChild(e)):null}(r.writeTree,r.treePath,t,e)}function d_(r,t){return f_(Ht(r.treePath,t),r.writeTree)}function f_(r,t){return{treePath:r,writeTree:t}}class bE{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,o=t.childName;(0,P.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,P.hu)(".priority"!==o,"Only non-priority child changes can be tracked.");const l=this.changeMap.get(o);if(l){const p=l.type;if("child_added"===e&&"child_removed"===p)this.changeMap.set(o,$u(o,t.snapshotNode,l.snapshotNode));else if("child_removed"===e&&"child_added"===p)this.changeMap.delete(o);else if("child_removed"===e&&"child_changed"===p)this.changeMap.set(o,ju(o,l.oldSnap));else if("child_changed"===e&&"child_added"===p)this.changeMap.set(o,Us(o,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==p)throw(0,P.g5)("Illegal combination of changes: "+t+" occurred after "+l);this.changeMap.set(o,$u(o,t.snapshotNode,l.oldSnap))}}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}const tg=new class wt{getCompleteChild(t){return null}getChildAfterChild(t,e,o){return null}};class hh{constructor(t,e,o=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=o}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const o=null!=this.optCompleteServerCache_?new Nl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fh(this.writes_,t,o)}}getChildAfterChild(t,e,o){const l=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ol(this.viewCache_),p=function wE(r,t,e,o,l,p){return function is(r,t,e,o,l,p,y){let D;const T=Pa(r.visibleWrites,t),R=xl(T,St());if(null!=R)D=R;else{if(null==e)return[];D=Qu(T,e)}if(D=D.withIndex(y),D.isEmpty()||D.isLeafNode())return[];{const W=[],G=y.getCompare(),J=p?D.getReverseIteratorFrom(o,y):D.getIteratorFrom(o,y);let pe=J.getNext();for(;pe&&W.length<l;)0!==G(pe,o)&&W.push(pe),pe=J.getNext();return W}}(r.writeTree,r.treePath,t,e,o,l,p)}(this.writes_,l,e,1,o,t);return 0===p.length?null:p[0]}}function g_(r,t,e,o,l,p){const y=t.eventCache;if(null!=dh(o,e))return t;{let D,T;if(st(e))if((0,P.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const R=Ol(t),G=eg(o,R instanceof Dt?R:Dt.EMPTY_NODE);D=r.filter.updateFullNode(t.eventCache.getNode(),G,p)}else{const R=Rd(o,Ol(t));D=r.filter.updateFullNode(t.eventCache.getNode(),R,p)}else{const R=bt(e);if(".priority"===R){(0,P.hu)(1===Bs(e),"Can't have a priority with additional path components");const W=y.getNode();T=t.serverCache.getNode();const G=c_(o,e,W,T);D=null!=G?r.filter.updatePriority(W,G):y.getNode()}else{const W=Ft(e);let G;if(y.isCompleteForChild(R)){T=t.serverCache.getNode();const J=c_(o,e,y.getNode(),T);G=null!=J?y.getNode().getImmediateChild(R).updateChild(W,J):y.getNode().getImmediateChild(R)}else G=fh(o,R,t.serverCache);D=null!=G?r.filter.updateChild(y.getNode(),R,G,W,l,p):y.getNode()}}return qu(t,D,y.isFullyInitialized()||st(e),r.filter.filtersNodes())}}function Nd(r,t,e,o,l,p,y,D){const T=t.serverCache;let R;const W=y?r.filter:r.filter.getIndexedFilter();if(st(e))R=W.updateFullNode(T.getNode(),o,null);else if(W.filtersNodes()&&!T.isFiltered()){const pe=T.getNode().updateChild(e,o);R=W.updateFullNode(T.getNode(),pe,null)}else{const pe=bt(e);if(!T.isCompleteForPath(e)&&Bs(e)>1)return t;const Ae=Ft(e),Ot=T.getNode().getImmediateChild(pe).updateChild(Ae,o);R=".priority"===pe?W.updatePriority(T.getNode(),Ot):W.updateChild(T.getNode(),pe,Ot,Ae,tg,null)}const G=i_(t,R,T.isFullyInitialized()||st(e),W.filtersNodes());return g_(r,G,e,l,new hh(l,G,p),D)}function ng(r,t,e,o,l,p,y){const D=t.eventCache;let T,R;const W=new hh(l,t,p);if(st(e))R=r.filter.updateFullNode(t.eventCache.getNode(),o,y),T=qu(t,R,!0,r.filter.filtersNodes());else{const G=bt(e);if(".priority"===G)R=r.filter.updatePriority(t.eventCache.getNode(),o),T=qu(t,R,D.isFullyInitialized(),D.isFiltered());else{const J=Ft(e),pe=D.getNode().getImmediateChild(G);let Ae;if(st(J))Ae=o;else{const dt=W.getCompleteChild(G);Ae=null!=dt?".priority"===Lu(J)&&dt.getChild(gd(J)).isEmpty()?dt:dt.updateChild(J,o):Dt.EMPTY_NODE}T=pe.equals(Ae)?t:qu(t,r.filter.updateChild(D.getNode(),G,Ae,J,W,y),D.isFullyInitialized(),r.filter.filtersNodes())}}return T}function m_(r,t){return r.eventCache.isCompleteForChild(t)}function rg(r,t,e){return e.foreach((o,l)=>{t=t.updateChild(o,l)}),t}function ph(r,t,e,o,l,p,y,D){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let R,T=t;R=st(e)?o:new Kt(null).setTree(e,o);const W=t.serverCache.getNode();return R.children.inorderTraversal((G,J)=>{if(W.hasChild(G)){const Ae=rg(0,t.serverCache.getNode().getImmediateChild(G),J);T=Nd(r,T,new Nt(G),Ae,l,p,y,D)}}),R.children.inorderTraversal((G,J)=>{const pe=!t.serverCache.isCompleteForChild(G)&&null===J.value;if(!W.hasChild(G)&&!pe){const dt=rg(0,t.serverCache.getNode().getImmediateChild(G),J);T=Nd(r,T,new Nt(G),dt,l,p,y,D)}}),T}class sg{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,l=new rh(o.getIndex()),p=function Jm(r){return r.loadsAllData()?new rh(r.getIndex()):r.hasLimit()?new pE(r):new Cd(r)}(o);this.processor_=function h_(r){return{filter:r}}(p);const y=e.serverCache,D=e.eventCache,T=l.updateFullNode(Dt.EMPTY_NODE,y.getNode(),null),R=p.updateFullNode(Dt.EMPTY_NODE,D.getNode(),null),W=new Nl(T,y.isFullyInitialized(),l.filtersNodes()),G=new Nl(R,D.isFullyInitialized(),p.filtersNodes());this.viewCache_=lh(G,W),this.eventGenerator_=new _E(this.query_)}get query(){return this.query_}}function wD(r,t){const e=Ol(r.viewCache_);return e&&(r.query._queryParams.loadsAllData()||!st(t)&&!e.getImmediateChild(bt(t)).isEmpty())?e.getChild(t):null}function PE(r){return 0===r.eventRegistrations_.length}function og(r,t,e){const o=[];if(e){(0,P.hu)(null==t,"A cancel should cancel all event registrations.");const l=r.query._path;r.eventRegistrations_.forEach(p=>{const y=p.createCancelEvent(e,l);y&&o.push(y)})}if(t){let l=[];for(let p=0;p<r.eventRegistrations_.length;++p){const y=r.eventRegistrations_[p];if(y.matches(t)){if(t.hasAnyCallback()){l=l.concat(r.eventRegistrations_.slice(p+1));break}}else l.push(y)}r.eventRegistrations_=l}else r.eventRegistrations_=[];return o}function NE(r,t,e,o){t.type===Si.MERGE&&null!==t.source.queryId&&((0,P.hu)(Ol(r.viewCache_),"We should always have a full cache before handling merges"),(0,P.hu)(uh(r.viewCache_),"Missing event cache, even though we have a server cache"));const l=r.viewCache_,p=function SE(r,t,e,o,l){const p=new bE;let y,D;if(e.type===Si.OVERWRITE){const R=e;R.source.fromUser?y=ng(r,t,R.path,R.snap,o,l,p):((0,P.hu)(R.source.fromServer,"Unknown source."),D=R.source.tagged||t.serverCache.isFiltered()&&!st(R.path),y=Nd(r,t,R.path,R.snap,o,l,D,p))}else if(e.type===Si.MERGE){const R=e;R.source.fromUser?y=function ID(r,t,e,o,l,p,y){let D=t;return o.foreach((T,R)=>{const W=Ht(e,T);m_(t,bt(W))&&(D=ng(r,D,W,R,l,p,y))}),o.foreach((T,R)=>{const W=Ht(e,T);m_(t,bt(W))||(D=ng(r,D,W,R,l,p,y))}),D}(r,t,R.path,R.children,o,l,p):((0,P.hu)(R.source.fromServer,"Unknown source."),D=R.source.tagged||t.serverCache.isFiltered(),y=ph(r,t,R.path,R.children,o,l,D,p))}else if(e.type===Si.ACK_USER_WRITE){const R=e;y=R.revert?function ig(r,t,e,o,l,p){let y;if(null!=dh(o,e))return t;{const D=new hh(o,t,l),T=t.eventCache.getNode();let R;if(st(e)||".priority"===bt(e)){let W;if(t.serverCache.isFullyInitialized())W=Rd(o,Ol(t));else{const G=t.serverCache.getNode();(0,P.hu)(G instanceof Dt,"serverChildren would be complete if leaf node"),W=eg(o,G)}R=r.filter.updateFullNode(T,W,p)}else{const W=bt(e);let G=fh(o,W,t.serverCache);null==G&&t.serverCache.isCompleteForChild(W)&&(G=T.getImmediateChild(W)),R=null!=G?r.filter.updateChild(T,W,G,Ft(e),D,p):t.eventCache.getNode().hasChild(W)?r.filter.updateChild(T,W,Dt.EMPTY_NODE,Ft(e),D,p):T,R.isEmpty()&&t.serverCache.isFullyInitialized()&&(y=Rd(o,Ol(t)),y.isLeafNode()&&(R=r.filter.updateFullNode(R,y,p)))}return y=t.serverCache.isFullyInitialized()||null!=dh(o,St()),qu(t,R,y,r.filter.filtersNodes())}}(r,t,R.path,o,l,p):function kl(r,t,e,o,l,p,y){if(null!=dh(l,e))return t;const D=t.serverCache.isFiltered(),T=t.serverCache;if(null!=o.value){if(st(e)&&T.isFullyInitialized()||T.isCompleteForPath(e))return Nd(r,t,e,T.getNode().getChild(e),l,p,D,y);if(st(e)){let R=new Kt(null);return T.getNode().forEachChild(Le,(W,G)=>{R=R.set(new Nt(W),G)}),ph(r,t,e,R,l,p,D,y)}return t}{let R=new Kt(null);return o.foreach((W,G)=>{const J=Ht(e,W);T.isCompleteForPath(J)&&(R=R.set(W,T.getNode().getChild(J)))}),ph(r,t,e,R,l,p,D,y)}}(r,t,R.path,R.affectedTree,o,l,p)}else{if(e.type!==Si.LISTEN_COMPLETE)throw(0,P.g5)("Unknown operation type: "+e.type);y=function AE(r,t,e,o,l){const p=t.serverCache;return g_(r,i_(t,p.getNode(),p.isFullyInitialized()||st(e),p.isFiltered()),e,o,tg,l)}(r,t,e.path,o,p)}const T=p.getChanges();return function p_(r,t,e){const o=t.eventCache;if(o.isFullyInitialized()){const l=o.getNode().isLeafNode()||o.getNode().isEmpty(),p=uh(r);(e.length>0||!r.eventCache.isFullyInitialized()||l&&!o.getNode().equals(p)||!o.getNode().getPriority().equals(p.getPriority()))&&e.push(hE(uh(t)))}}(t,y,T),{viewCache:y,changes:T}}(r.processor_,l,t,e,o);return function TE(r,t){(0,P.hu)(t.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),(0,P.hu)(t.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed")}(r.processor_,p.viewCache),(0,P.hu)(p.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),r.viewCache_=p.viewCache,Fl(r,p.changes,p.viewCache.eventCache.getNode(),null)}function Fl(r,t,e,o){return function ah(r,t,e,o){const l=[],p=[];return t.forEach(y=>{"child_changed"===y.type&&r.index_.indexedValueChanged(y.oldSnap,y.snapshotNode)&&p.push(function Qm(r,t){return{type:"child_moved",snapshotNode:t,childName:r}}(y.childName,y.snapshotNode))}),Sd(r,l,"child_removed",t,o,e),Sd(r,l,"child_added",t,o,e),Sd(r,l,"child_moved",p,o,e),Sd(r,l,"child_changed",t,o,e),Sd(r,l,"value",t,o,e),l}(r.eventGenerator_,t,e,o?[o]:r.eventRegistrations_)}let gh,cg;class ag{constructor(){this.views=new Map}}function lg(r,t,e,o){const l=t.source.queryId;if(null!==l){const p=r.views.get(l);return(0,P.hu)(null!=p,"SyncTree gave us an op for an invalid query."),NE(p,t,e,o)}{let p=[];for(const y of r.views.values())p=p.concat(NE(y,t,e,o));return p}}function y_(r,t,e,o,l){const y=r.views.get(t._queryIdentifier);if(!y){let D=Rd(e,l?o:null),T=!1;D?T=!0:o instanceof Dt?(D=eg(e,o),T=!1):(D=Dt.EMPTY_NODE,T=!1);const R=lh(new Nl(D,T,!1),new Nl(o,l,!1));return new sg(t,R)}return y}function v_(r){const t=[];for(const e of r.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function No(r,t){let e=null;for(const o of r.views.values())e=e||wD(o,t);return e}function E_(r,t){return t._queryParams.loadsAllData()?Ju(r):r.views.get(t._queryIdentifier)}function ug(r,t){return null!=E_(r,t)}function Oo(r){return null!=Ju(r)}function Ju(r){for(const t of r.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let bD=1;class Ll{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Kt(null),this.pendingWriteTree_=function DE(){return{visibleWrites:ni.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function fg(r,t,e,o,l){return function Ro(r,t,e,o,l){(0,P.hu)(o>r.lastWriteId,"Stacking an older write on top of newer ones"),void 0===l&&(l=!0),r.allWrites.push({path:t,snap:e,writeId:o,visible:l}),l&&(r.visibleWrites=Md(r.visibleWrites,t,e)),r.lastWriteId=o}(r.pendingWriteTree_,t,e,o,l),l?Ra(r,new Pl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function xo(r,t,e=!1){const o=function vE(r,t){for(let e=0;e<r.allWrites.length;e++){const o=r.allWrites[e];if(o.writeId===t)return o}return null}(r.pendingWriteTree_,t);if(function vD(r,t){const e=r.allWrites.findIndex(D=>D.writeId===t);(0,P.hu)(e>=0,"removeWrite called with nonexistent writeId.");const o=r.allWrites[e];r.allWrites.splice(e,1);let l=o.visible,p=!1,y=r.allWrites.length-1;for(;l&&y>=0;){const D=r.allWrites[y];D.visible&&(y>=e&&ED(D,o.path)?l=!1:Cn(o.path,D.path)&&(p=!0)),y--}return!!l&&(p?(function l_(r){r.visibleWrites=Jp(r.allWrites,CD,St()),r.lastWriteId=r.allWrites.length>0?r.allWrites[r.allWrites.length-1].writeId:-1}(r),!0):(o.snap?r.visibleWrites=Yu(r.visibleWrites,o.path):On(o.children,T=>{r.visibleWrites=Yu(r.visibleWrites,Ht(o.path,T))}),!0))}(r.pendingWriteTree_,t)){let p=new Kt(null);return null!=o.snap?p=p.set(St(),!0):On(o.children,y=>{p=p.set(new Nt(y),!0)}),Ra(r,new oh(o.path,p,e))}return[]}function Od(r,t,e){return Ra(r,new Pl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function ec(r,t,e,o,l=!1){const p=t._path,y=r.syncPointTree_.get(p);let D=[];if(y&&("default"===t._queryIdentifier||ug(y,t))){const T=function FE(r,t,e,o){const l=t._queryIdentifier,p=[];let y=[];const D=Oo(r);if("default"===l)for(const[T,R]of r.views.entries())y=y.concat(og(R,e,o)),PE(R)&&(r.views.delete(T),R.query._queryParams.loadsAllData()||p.push(R.query));else{const T=r.views.get(l);T&&(y=y.concat(og(T,e,o)),PE(T)&&(r.views.delete(l),T.query._queryParams.loadsAllData()||p.push(T.query)))}return D&&!Oo(r)&&p.push(new(function xE(){return(0,P.hu)(gh,"Reference.ts has not been loaded"),gh}())(t._repo,t._path)),{removed:p,events:y}}(y,t,e,o);(function __(r){return 0===r.views.size})(y)&&(r.syncPointTree_=r.syncPointTree_.remove(p));const R=T.removed;if(D=T.events,!l){const W=-1!==R.findIndex(J=>J._queryParams.loadsAllData()),G=r.syncPointTree_.findOnPath(p,(J,pe)=>Oo(pe));if(W&&!G){const J=r.syncPointTree_.subtree(p);if(!J.isEmpty()){const pe=function C_(r){return r.fold((t,e,o)=>{if(e&&Oo(e))return[Ju(e)];{let l=[];return e&&(l=v_(e)),On(o,(p,y)=>{l=l.concat(y)}),l}})}(J);for(let Ae=0;Ae<pe.length;++Ae){const dt=pe[Ae],Ot=dt.query,xt=vh(r,dt);r.listenProvider_.startListening(Fd(Ot),kd(r,Ot),xt.hashFn,xt.onComplete)}}}!G&&R.length>0&&!o&&(W?r.listenProvider_.stopListening(Fd(t),null):R.forEach(J=>{const pe=r.queryToTagMap.get(Eh(J));r.listenProvider_.stopListening(Fd(J),pe)}))}!function UE(r,t){for(let e=0;e<t.length;++e){const o=t[e];if(!o._queryParams.loadsAllData()){const l=Eh(o),p=r.queryToTagMap.get(l);r.queryToTagMap.delete(l),r.tagToQueryMap.delete(p)}}}(r,R)}return D}function tc(r,t,e,o){const l=Ch(r,o);if(null!=l){const p=mg(l),y=p.path,D=p.queryId,T=kn(y,t);return Ih(r,y,new Pl(Td(D),T,e))}return[]}function nc(r,t,e,o=!1){const l=t._path;let p=null,y=!1;r.syncPointTree_.foreachOnPath(l,(J,pe)=>{const Ae=kn(J,l);p=p||No(pe,Ae),y=y||Oo(pe)});let T,D=r.syncPointTree_.get(l);D?(y=y||Oo(D),p=p||No(D,St())):(D=new ag,r.syncPointTree_=r.syncPointTree_.set(l,D)),null!=p?T=!0:(T=!1,p=Dt.EMPTY_NODE,r.syncPointTree_.subtree(l).foreachChild((pe,Ae)=>{const dt=No(Ae,St());dt&&(p=p.updateImmediateChild(pe,dt))}));const R=ug(D,t);if(!R&&!t._queryParams.loadsAllData()){const J=Eh(t);(0,P.hu)(!r.queryToTagMap.has(J),"View does not exist, but we have a tag");const pe=function ri(){return bD++}();r.queryToTagMap.set(J,pe),r.tagToQueryMap.set(pe,J)}let G=function kE(r,t,e,o,l,p){const y=y_(r,t,o,l,p);return r.views.has(t._queryIdentifier)||r.views.set(t._queryIdentifier,y),function RE(r,t){r.eventRegistrations_.push(t)}(y,e),function OE(r,t){const e=r.viewCache_.eventCache,o=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Jt,(p,y)=>{o.push(Us(p,y))}),e.isFullyInitialized()&&o.push(hE(e.getNode())),Fl(r,o,e.getNode(),t)}(y,e)}(D,t,e,Po(r.pendingWriteTree_,l),p,T);if(!R&&!y&&!o){const J=E_(D,t);G=G.concat(function I_(r,t,e){const o=t._path,l=kd(r,t),p=vh(r,e),y=r.listenProvider_.startListening(Fd(t),l,p.hashFn,p.onComplete),D=r.syncPointTree_.subtree(o);if(l)(0,P.hu)(!Oo(D.value),"If we're adding a query, it shouldn't be shadowed");else{const T=D.fold((R,W,G)=>{if(!st(R)&&W&&Oo(W))return[Ju(W).query];{let J=[];return W&&(J=J.concat(v_(W).map(pe=>pe.query))),On(G,(pe,Ae)=>{J=J.concat(Ae)}),J}});for(let R=0;R<T.length;++R){const W=T[R];r.listenProvider_.stopListening(Fd(W),kd(r,W))}}return y}(r,t,J))}return G}function xd(r,t,e){const l=r.pendingWriteTree_,p=r.syncPointTree_.findOnPath(t,(y,D)=>{const R=No(D,kn(y,t));if(R)return R});return Xp(l,t,p,e,!0)}function Ra(r,t){return yh(t,r.syncPointTree_,null,Po(r.pendingWriteTree_,St()))}function yh(r,t,e,o){if(st(r.path))return gg(r,t,e,o);{const l=t.get(St());null==e&&null!=l&&(e=No(l,St()));let p=[];const y=bt(r.path),D=r.operationForChild(y),T=t.children.get(y);if(T&&D){const R=e?e.getImmediateChild(y):null,W=d_(o,y);p=p.concat(yh(D,T,R,W))}return l&&(p=p.concat(lg(l,r,o,e))),p}}function gg(r,t,e,o){const l=t.get(St());null==e&&null!=l&&(e=No(l,St()));let p=[];return t.children.inorderTraversal((y,D)=>{const T=e?e.getImmediateChild(y):null,R=d_(o,y),W=r.operationForChild(y);W&&(p=p.concat(gg(W,D,T,R)))}),l&&(p=p.concat(lg(l,r,o,e))),p}function vh(r,t){const e=t.query,o=kd(r,e);return{hashFn:()=>(function ME(r){return r.viewCache_.serverCache.getNode()}(t)||Dt.EMPTY_NODE).hash(),onComplete:l=>{if("ok"===l)return o?function Xu(r,t,e){const o=Ch(r,e);if(o){const l=mg(o),p=l.path,y=l.queryId,D=kn(p,t);return Ih(r,p,new Zu(Td(y),D))}return[]}(r,e._path,o):function _h(r,t){return Ra(r,new Zu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(r,e._path);{const p=function nd(r,t){let e="Unknown Error";"too_big"===r?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===r?e="Client doesn't have permission to access the desired data.":"unavailable"===r&&(e="The service is unavailable");const o=new Error(r+" at "+t._path.toString()+": "+e);return o.code=r.toUpperCase(),o}(l,e);return ec(r,e,null,p)}}}}function kd(r,t){const e=Eh(t);return r.queryToTagMap.get(e)}function Eh(r){return r._path.toString()+"$"+r._queryIdentifier}function Ch(r,t){return r.tagToQueryMap.get(t)}function mg(r){const t=r.indexOf("$");return(0,P.hu)(-1!==t&&t<r.length-1,"Bad queryKey."),{queryId:r.substr(t+1),path:new Nt(r.substr(0,t))}}function Ih(r,t,e){const o=r.syncPointTree_.get(t);return(0,P.hu)(o,"Missing sync point for query tag that we're tracking"),lg(o,e,Po(r.pendingWriteTree_,t),null)}function Fd(r){return r._queryParams.loadsAllData()&&!r._queryParams.isDefault()?new(function LE(){return(0,P.hu)(cg,"Reference.ts has not been loaded"),cg}())(r._repo,r._path):r}class _g{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new _g(e)}node(){return this.node_}}class D_{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Ht(this.path_,t);return new D_(this.syncTree_,e)}node(){return xd(this.syncTree_,this.path_)}}const yg=function(r){return(r=r||{}).timestamp=r.timestamp||(new Date).getTime(),r},vg=function(r,t,e){return r&&"object"==typeof r?((0,P.hu)(".sv"in r,"Unexpected leaf node or priority contents"),"string"==typeof r[".sv"]?HE(r[".sv"],t,e):"object"==typeof r[".sv"]?jE(r[".sv"],t):void(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(r,null,2))):r},HE=function(r,t,e){if("timestamp"===r)return e.timestamp;(0,P.hu)(!1,"Unexpected server value: "+r)},jE=function(r,t,e){r.hasOwnProperty("increment")||(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(r,null,2));const o=r.increment;"number"!=typeof o&&(0,P.hu)(!1,"Unexpected increment value: "+o);const l=t.node();if((0,P.hu)(null!==l&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return o;const y=l.getValue();return"number"!=typeof y?o:y+o},w_=function(r,t,e,o){return Eg(t,new D_(e,r),o)},Dh=function(r,t,e){return Eg(r,new _g(t),e)};function Eg(r,t,e){const o=r.getPriority().val(),l=vg(o,t.getImmediateChild(".priority"),e);let p;if(r.isLeafNode()){const y=r,D=vg(y.getValue(),t,e);return D!==y.getValue()||l!==y.getPriority().val()?new Sa(D,In(l)):r}{const y=r;return p=y,l!==y.getPriority().val()&&(p=p.updatePriority(new Sa(l))),y.forEachChild(Jt,(D,T)=>{const R=Eg(T,t.getImmediateChild(D),e);R!==T&&(p=p.updateImmediateChild(D,R))}),p}}class Cg{constructor(t="",e=null,o={children:{},childCount:0}){this.name=t,this.parent=e,this.node=o}}function rc(r,t){let e=t instanceof Nt?t:new Nt(t),o=r,l=bt(e);for(;null!==l;){const p=(0,P.DV)(o.node.children,l)||{children:{},childCount:0};o=new Cg(l,o,p),e=Ft(e),l=bt(e)}return o}function Vl(r){return r.node.value}function Ig(r,t){r.node.value=t,wg(r)}function b_(r){return r.node.childCount>0}function wh(r,t){On(r.node.children,(e,o)=>{t(new Cg(e,r,o))})}function ss(r,t,e,o){e&&!o&&t(r),wh(r,l=>{ss(l,t,!0,o)}),e&&o&&t(r)}function Ld(r){return new Nt(null===r.parent?r.name:Ld(r.parent)+"/"+r.name)}function wg(r){null!==r.parent&&function T_(r,t,e){const o=function $E(r){return void 0===Vl(r)&&!b_(r)}(e),l=(0,P.r3)(r.node.children,t);o&&l?(delete r.node.children[t],r.node.childCount--,wg(r)):!o&&!l&&(r.node.children[t]=e.node,r.node.childCount++,wg(r))}(r.parent,r.name,r)}const GE=/[\[\].#$\/\u0000-\u001F\u007F]/,WE=/[\[\].#$\u0000-\u001F\u007F]/,bg=10485760,ic=function(r){return"string"==typeof r&&0!==r.length&&!GE.test(r)},S_=function(r){return"string"==typeof r&&0!==r.length&&!WE.test(r)},Na=function(r){return null===r||"string"==typeof r||"number"==typeof r&&!_l(r)||r&&"object"==typeof r&&(0,P.r3)(r,".sv")},Ai=function(r,t,e,o){o&&void 0===t||Oa((0,P.gK)(r,"value"),t,e)},Oa=function(r,t,e){const o=e instanceof Nt?new Tl(e,r):e;if(void 0===t)throw new Error(r+"contains undefined "+ns(o));if("function"==typeof t)throw new Error(r+"contains a function "+ns(o)+" with contents = "+t.toString());if(_l(t))throw new Error(r+"contains "+t.toString()+" "+ns(o));if("string"==typeof t&&t.length>bg/3&&(0,P.ug)(t)>bg)throw new Error(r+"contains a string greater than "+bg+" utf8 bytes "+ns(o)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let l=!1,p=!1;if(On(t,(y,D)=>{if(".value"===y)l=!0;else if(".priority"!==y&&".sv"!==y&&(p=!0,!ic(y)))throw new Error(r+" contains an invalid key ("+y+") "+ns(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Jf(r,t){r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(t),r.byteLength_+=(0,P.ug)(t),eh(r)})(o,y),Oa(r,D,o),function Xf(r){const t=r.parts_.pop();r.byteLength_-=(0,P.ug)(t),r.parts_.length>0&&(r.byteLength_-=1)}(o)}),l&&p)throw new Error(r+' contains ".value" child '+ns(o)+" in addition to actual children.")}},bh=function(r,t,e,o){if(o&&void 0===t)return;const l=(0,P.gK)(r,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(l+" must be an object containing the children to replace.");const p=[];On(t,(y,D)=>{const T=new Nt(y);if(Oa(l,D,Ht(e,T)),".priority"===Lu(T)&&!Na(D))throw new Error(l+"contains an invalid value for '"+T.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");p.push(T)}),function(r,t){let e,o;for(e=0;e<t.length;e++){o=t[e];const p=bl(o);for(let y=0;y<p.length;y++)if((".priority"!==p[y]||y!==p.length-1)&&!ic(p[y]))throw new Error(r+"contains an invalid key ("+p[y]+") in path "+o.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Vu);let l=null;for(e=0;e<t.length;e++){if(o=t[e],null!==l&&Cn(l,o))throw new Error(r+"contains a path "+l.toString()+" that is ancestor of another path "+o.toString());l=o}}(l,p)},A_=function(r,t,e){if(!e||void 0!==t){if(_l(t))throw new Error((0,P.gK)(r,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Na(t))throw new Error((0,P.gK)(r,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},sc=function(r,t,e,o){if(!(o&&void 0===e||ic(e)))throw new Error((0,P.gK)(r,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},oc=function(r,t,e,o){if(!(o&&void 0===e||S_(e)))throw new Error((0,P.gK)(r,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},M_=function(r,t,e,o){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),oc(r,t,e,o)},ii=function(r,t){if(".info"===bt(t))throw new Error(r+" failed = Can't modify data under /.info/")},Th=function(r,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!ic(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),S_(r)}(e))throw new Error((0,P.gK)(r,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ko{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Bl(r,t){let e=null;for(let o=0;o<t.length;o++){const l=t[o],p=l.getPath();null!==e&&!Bu(p,e.path)&&(r.eventLists_.push(e),e=null),null===e&&(e={events:[],path:p}),e.events.push(l)}e&&r.eventLists_.push(e)}function Vd(r,t,e){Bl(r,e),P_(r,o=>Bu(o,t))}function _r(r,t,e){Bl(r,e),P_(r,o=>Cn(o,t)||Cn(t,o))}function P_(r,t){r.recursionDepth_++;let e=!0;for(let o=0;o<r.eventLists_.length;o++){const l=r.eventLists_[o];l&&(t(l.path)?(R_(r.eventLists_[o]),r.eventLists_[o]=null):e=!1)}e&&(r.eventLists_=[]),r.recursionDepth_--}function R_(r){for(let t=0;t<r.events.length;t++){const e=r.events[t];if(null!==e){r.events[t]=null;const o=e.getEventRunner();Eo&&Kn("event: "+e.toString()),Ls(o)}}}const Tg="repo_interrupt",ZE=25;class KE{constructor(t,e,o,l){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=o,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ko,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=sh(),this.transactionQueueTree_=new Cg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function N_(r){const e=r.infoData_.getNode(new Nt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Sh(r){return yg({timestamp:N_(r)})}function O_(r,t,e,o,l){r.dataUpdateCount++;const p=new Nt(t);e=r.interceptServerDataCallback_?r.interceptServerDataCallback_(t,e):e;let y=[];if(l)if(o){const T=(0,P.UI)(e,R=>In(R));y=function hg(r,t,e,o){const l=Ch(r,o);if(l){const p=mg(l),y=p.path,D=p.queryId,T=kn(y,t),R=Kt.fromObject(e);return Ih(r,y,new Rl(Td(D),T,R))}return[]}(r.serverSyncTree_,p,T,l)}else{const T=In(e);y=tc(r.serverSyncTree_,p,T,l)}else if(o){const T=(0,P.UI)(e,R=>In(R));y=function BE(r,t,e){const o=Kt.fromObject(e);return Ra(r,new Rl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,o))}(r.serverSyncTree_,p,T)}else{const T=In(e);y=Od(r.serverSyncTree_,p,T)}let D=p;y.length>0&&(D=Ud(r,p)),_r(r.eventQueue_,D,y)}function x_(r,t){Sg(r,"connected",t),!1===t&&function Mg(r){ac(r,"onDisconnectEvents");const t=Sh(r),e=sh();Mo(r.onDisconnect_,St(),(l,p)=>{const y=w_(l,p,r.serverSyncTree_,t);Ma(e,l,y)});let o=[];Mo(e,St(),(l,p)=>{o=o.concat(Od(r.serverSyncTree_,l,p));const y=Mi(r,l);Ud(r,y)}),r.onDisconnect_=sh(),_r(r.eventQueue_,St(),o)}(r)}function Sg(r,t,e){const o=new Nt("/.info/"+t),l=In(e);r.infoData_.updateSnapshot(o,l);const p=Od(r.infoSyncTree_,o,l);_r(r.eventQueue_,o,p)}function Ah(r){return r.nextWriteId_++}function Ag(r,t,e,o,l){ac(r,"set",{path:t.toString(),value:e,priority:o});const p=Sh(r),y=In(e,o),D=xd(r.serverSyncTree_,t),T=Dh(y,D,p),R=Ah(r),W=fg(r.serverSyncTree_,t,T,R,!0);Bl(r.eventQueue_,W),r.server_.put(t.toString(),y.val(!0),(J,pe)=>{const Ae="ok"===J;Ae||gr("set at "+t+" failed: "+J);const dt=xo(r.serverSyncTree_,R,!Ae);_r(r.eventQueue_,t,dt),Fo(0,l,J,pe)});const G=Mi(r,t);Ud(r,G),_r(r.eventQueue_,G,[])}function QE(r,t,e){r.server_.onDisconnectCancel(t.toString(),(o,l)=>{"ok"===o&&Wu(r.onDisconnect_,t),Fo(0,e,o,l)})}function Mh(r,t,e,o){const l=In(e);r.server_.onDisconnectPut(t.toString(),l.val(!0),(p,y)=>{"ok"===p&&Ma(r.onDisconnect_,t,l),Fo(0,o,p,y)})}function Pg(r,t,e){let o;o=".info"===bt(t._path)?ec(r.infoSyncTree_,t,e):ec(r.serverSyncTree_,t,e),Vd(r.eventQueue_,t._path,o)}function F_(r){r.persistentConnection_&&r.persistentConnection_.interrupt(Tg)}function ac(r,...t){let e="";r.persistentConnection_&&(e=r.persistentConnection_.id+":"),Kn(e,...t)}function Fo(r,t,e,o){t&&Ls(()=>{if("ok"===e)t(null);else{const l=(e||"error").toUpperCase();let p=l;o&&(p+=": "+o);const y=new Error(p);y.code=l,t(y)}})}function Rg(r,t,e){return xd(r.serverSyncTree_,t,e)||Dt.EMPTY_NODE}function Ng(r,t=r.transactionQueueTree_){if(t||Nh(r,t),Vl(t)){const e=U_(r,t);(0,P.hu)(e.length>0,"Sending zero length transaction queue"),e.every(l=>0===l.status)&&function V_(r,t,e){const o=e.map(R=>R.currentWriteId),l=Rg(r,t,o);let p=l;const y=l.hash();for(let R=0;R<e.length;R++){const W=e[R];(0,P.hu)(0===W.status,"tryToSendTransactionQueue_: items in queue should all be run."),W.status=1,W.retryCount++;const G=kn(t,W.path);p=p.updateChild(G,W.currentOutputSnapshotRaw)}const D=p.val(!0),T=t;r.server_.put(T.toString(),D,R=>{ac(r,"transaction put response",{path:T.toString(),status:R});let W=[];if("ok"===R){const G=[];for(let J=0;J<e.length;J++)e[J].status=2,W=W.concat(xo(r.serverSyncTree_,e[J].currentWriteId)),e[J].onComplete&&G.push(()=>e[J].onComplete(null,!0,e[J].currentOutputSnapshotResolved)),e[J].unwatcher();Nh(r,rc(r.transactionQueueTree_,t)),Ng(r,r.transactionQueueTree_),_r(r.eventQueue_,t,W);for(let J=0;J<G.length;J++)Ls(G[J])}else{if("datastale"===R)for(let G=0;G<e.length;G++)e[G].status=3===e[G].status?4:0;else{gr("transaction at "+T.toString()+" failed: "+R);for(let G=0;G<e.length;G++)e[G].status=4,e[G].abortReason=R}Ud(r,t)}},y)}(r,Ld(t),e)}else b_(t)&&wh(t,e=>{Ng(r,e)})}function Ud(r,t){const e=B_(r,t),o=Ld(e);return function Ph(r,t,e){if(0===t.length)return;const o=[];let l=[];const y=t.filter(D=>0===D.status).map(D=>D.currentWriteId);for(let D=0;D<t.length;D++){const T=t[D],R=kn(e,T.path);let G,W=!1;if((0,P.hu)(null!==R,"rerunTransactionsUnderNode_: relativePath should not be null."),4===T.status)W=!0,G=T.abortReason,l=l.concat(xo(r.serverSyncTree_,T.currentWriteId,!0));else if(0===T.status)if(T.retryCount>=ZE)W=!0,G="maxretry",l=l.concat(xo(r.serverSyncTree_,T.currentWriteId,!0));else{const J=Rg(r,T.path,y);T.currentInputSnapshot=J;const pe=t[D].update(J.val());if(void 0!==pe){Oa("transaction failed: Data returned ",pe,T.path);let Ae=In(pe);"object"==typeof pe&&null!=pe&&(0,P.r3)(pe,".priority")||(Ae=Ae.updatePriority(J.getPriority()));const Ot=T.currentWriteId,xt=Sh(r),gn=Dh(Ae,J,xt);T.currentOutputSnapshotRaw=Ae,T.currentOutputSnapshotResolved=gn,T.currentWriteId=Ah(r),y.splice(y.indexOf(Ot),1),l=l.concat(fg(r.serverSyncTree_,T.path,gn,T.currentWriteId,T.applyLocally)),l=l.concat(xo(r.serverSyncTree_,Ot,!0))}else W=!0,G="nodata",l=l.concat(xo(r.serverSyncTree_,T.currentWriteId,!0))}_r(r.eventQueue_,e,l),l=[],W&&(t[D].status=2,setTimeout(t[D].unwatcher,Math.floor(0)),t[D].onComplete&&o.push("nodata"===G?()=>t[D].onComplete(null,!1,t[D].currentInputSnapshot):()=>t[D].onComplete(new Error(G),!1,null)))}Nh(r,r.transactionQueueTree_);for(let D=0;D<o.length;D++)Ls(o[D]);Ng(r,r.transactionQueueTree_)}(r,U_(r,e),o),o}function B_(r,t){let e,o=r.transactionQueueTree_;for(e=bt(t);null!==e&&void 0===Vl(o);)o=rc(o,e),e=bt(t=Ft(t));return o}function U_(r,t){const e=[];return Rh(r,t,e),e.sort((o,l)=>o.order-l.order),e}function Rh(r,t,e){const o=Vl(t);if(o)for(let l=0;l<o.length;l++)e.push(o[l]);wh(t,l=>{Rh(r,l,e)})}function Nh(r,t){const e=Vl(t);if(e){let o=0;for(let l=0;l<e.length;l++)2!==e[l].status&&(e[o]=e[l],o++);e.length=o,Ig(t,e.length>0?e:void 0)}wh(t,o=>{Nh(r,o)})}function Mi(r,t){const e=Ld(B_(r,t)),o=rc(r.transactionQueueTree_,t);return function Dg(r,t,e){let o=e?r:r.parent;for(;null!==o;){if(t(o))return!0;o=o.parent}}(o,l=>{Ul(r,l)}),Ul(r,o),ss(o,l=>{Ul(r,l)}),e}function Ul(r,t){const e=Vl(t);if(e){const o=[];let l=[],p=-1;for(let y=0;y<e.length;y++)3===e[y].status||(1===e[y].status?((0,P.hu)(p===y-1,"All SENT items should be at beginning of queue."),p=y,e[y].status=3,e[y].abortReason="set"):((0,P.hu)(0===e[y].status,"Unexpected transaction status in abort"),e[y].unwatcher(),l=l.concat(xo(r.serverSyncTree_,e[y].currentWriteId,!0)),e[y].onComplete&&o.push(e[y].onComplete.bind(null,new Error("set"),!1,null))));-1===p?Ig(t,void 0):e.length=p+1,_r(r.eventQueue_,Ld(t),l);for(let y=0;y<o.length;y++)Ls(o[y])}}const lc=function(r,t){const e=Pi(r),o=e.namespace;return"firebase.com"===e.domain&&Xi(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||"undefined"===o)&&"localhost"!==e.domain&&Xi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&gr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new es(e.host,e.secure,o,"ws"===e.scheme||"wss"===e.scheme,t,"",o!==e.subdomain),path:new Nt(e.pathString)}},Pi=function(r){let t="",e="",o="",l="",p="",y=!0,D="https",T=443;if("string"==typeof r){let R=r.indexOf("//");R>=0&&(D=r.substring(0,R-1),r=r.substring(R+2));let W=r.indexOf("/");-1===W&&(W=r.length);let G=r.indexOf("?");-1===G&&(G=r.length),t=r.substring(0,Math.min(W,G)),W<G&&(l=function Nr(r){let t="";const e=r.split("/");for(let o=0;o<e.length;o++)if(e[o].length>0){let l=e[o];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}t+="/"+l}return t}(r.substring(W,G)));const J=function Hl(r){const t={};"?"===r.charAt(0)&&(r=r.substring(1));for(const e of r.split("&")){if(0===e.length)continue;const o=e.split("=");2===o.length?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):gr(`Invalid query segment '${e}' in query '${r}'`)}return t}(r.substring(Math.min(r.length,G)));R=t.indexOf(":"),R>=0?(y="https"===D||"wss"===D,T=parseInt(t.substring(R+1),10)):R=t.length;const pe=t.slice(0,R);if("localhost"===pe.toLowerCase())e="localhost";else if(pe.split(".").length<=2)e=pe;else{const Ae=t.indexOf(".");o=t.substring(0,Ae).toLowerCase(),e=t.substring(Ae+1),p=o}"ns"in J&&(p=J.ns)}return{host:t,port:T,domain:e,subdomain:o,secure:y,scheme:D,pathString:l,namespace:p}},Oh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",uc=function(){let r=0;const t=[];return function(e){const o=e===r;let l;r=e;const p=new Array(8);for(l=7;l>=0;l--)p[l]=Oh.charAt(e%64),e=Math.floor(e/64);(0,P.hu)(0===e,"Cannot push at time == 0");let y=p.join("");if(o){for(l=11;l>=0&&63===t[l];l--)t[l]=0;t[l]++}else for(l=0;l<12;l++)t[l]=Math.floor(64*Math.random());for(l=0;l<12;l++)y+=Oh.charAt(t[l]);return(0,P.hu)(20===y.length,"nextPushId: Length should be 20."),y}}();class jl{constructor(t,e,o,l){this.eventType=t,this.eventRegistration=e,this.snapshot=o,this.prevName=l}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,P.Wl)(this.snapshot.exportVal())}}class $l{constructor(t,e,o){this.eventRegistration=t,this.error=e,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class xa{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,P.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Gl{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new P.BH;return QE(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){ii("OnDisconnect.remove",this._path);const t=new P.BH;return Mh(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){ii("OnDisconnect.set",this._path),Ai("OnDisconnect.set",t,this._path,!1);const e=new P.BH;return Mh(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){ii("OnDisconnect.setWithPriority",this._path),Ai("OnDisconnect.setWithPriority",t,this._path,!1),A_("OnDisconnect.setWithPriority",e,!1);const o=new P.BH;return function JE(r,t,e,o,l){const p=In(e,o);r.server_.onDisconnectPut(t.toString(),p.val(!0),(y,D)=>{"ok"===y&&Ma(r.onDisconnect_,t,p),Fo(0,l,y,D)})}(this._repo,this._path,t,e,o.wrapCallback(()=>{})),o.promise}update(t){ii("OnDisconnect.update",this._path),bh("OnDisconnect.update",t,this._path,!1);const e=new P.BH;return function XE(r,t,e,o){if((0,P.xb)(e))return Kn("onDisconnect().update() called with empty data.  Don't do anything."),void Fo(0,o,"ok",void 0);r.server_.onDisconnectMerge(t.toString(),e,(l,p)=>{"ok"===l&&On(e,(y,D)=>{const T=In(D);Ma(r.onDisconnect_,Ht(t,y),T)}),Fo(0,o,l,p)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class qn{constructor(t,e,o,l){this._repo=t,this._path=e,this._queryParams=o,this._orderByCalled=l}get key(){return st(this._path)?null:Lu(this._path)}get ref(){return new oi(this._repo,this._path)}get _queryIdentifier(){const t=e_(this._queryParams),e=ed(t);return"{}"===e?"default":e}get _queryObject(){return e_(this._queryParams)}isEqual(t){if(!((t=(0,P.m9)(t))instanceof qn))return!1;const e=this._repo===t._repo,o=Bu(this._path,t._path);return e&&o&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function pd(r){let t="";for(let e=r.pieceNum_;e<r.pieces_.length;e++)""!==r.pieces_[e]&&(t+="/"+encodeURIComponent(String(r.pieces_[e])));return t||"/"}(this._path)}}function Lo(r,t){if(!0===r._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function si(r){let t=null,e=null;if(r.hasStart()&&(t=r.getIndexStartValue()),r.hasEnd()&&(e=r.getIndexEndValue()),r.getIndex()===Le){const o="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",l="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(r.hasStart()){if(r.getIndexStartName()!==ti)throw new Error(o);if("string"!=typeof t)throw new Error(l)}if(r.hasEnd()){if(r.getIndexEndName()!==wi)throw new Error(o);if("string"!=typeof e)throw new Error(l)}}else if(r.getIndex()===Jt){if(null!=t&&!Na(t)||null!=e&&!Na(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,P.hu)(r.getIndex()instanceof Wp||r.getIndex()===Ym,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Vo(r){if(r.hasStart()&&r.hasEnd()&&r.hasLimit()&&!r.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class oi extends qn{constructor(t,e){super(t,e,new Id,!1)}get parent(){const t=gd(this._path);return null===t?null:new oi(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class ka{constructor(t,e,o){this._node=t,this.ref=e,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Nt(t),o=Fa(this.ref,t);return new ka(this._node.getChild(e),o,Jt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(o,l)=>t(new ka(l,Fa(this.ref,o),Jt)))}hasChild(t){const e=new Nt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Og(r,t){return(r=(0,P.m9)(r))._checkNotDeleted("ref"),void 0!==t?Fa(r._root,t):r._root}function xg(r,t){(r=(0,P.m9)(r))._checkNotDeleted("refFromURL");const e=lc(t,r._repo.repoInfo_.nodeAdmin);Th("refFromURL",e);const o=e.repoInfo;return!r._repo.repoInfo_.isCustomHost()&&o.host!==r._repo.repoInfo_.host&&Xi("refFromURL: Host name does not match the current database: (found "+o.host+" but expected "+r._repo.repoInfo_.host+")"),Og(r,e.path.toString())}function Fa(r,t){return null===bt((r=(0,P.m9)(r))._path)?M_("child","path",t,!1):oc("child","path",t,!1),new oi(r._repo,Ht(r._path,t))}function xh(r,t){r=(0,P.m9)(r),ii("set",r._path),Ai("set",t,r._path,!1);const e=new P.BH;return Ag(r._repo,r._path,t,null,e.wrapCallback(()=>{})),e.promise}function $_(r,t){bh("update",t,r._path,!1);const e=new P.BH;return function k_(r,t,e,o){ac(r,"update",{path:t.toString(),value:e});let l=!0;const p=Sh(r),y={};if(On(e,(D,T)=>{l=!1,y[D]=w_(Ht(t,D),In(T),r.serverSyncTree_,p)}),l)Kn("update() called with empty data.  Don't do anything."),Fo(0,o,"ok",void 0);else{const D=Ah(r),T=function VE(r,t,e,o){!function yE(r,t,e,o){(0,P.hu)(o>r.lastWriteId,"Stacking an older merge on top of newer ones"),r.allWrites.push({path:t,children:e,writeId:o,visible:!0}),r.visibleWrites=Pd(r.visibleWrites,t,e),r.lastWriteId=o}(r.pendingWriteTree_,t,e,o);const l=Kt.fromObject(e);return Ra(r,new Rl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,l))}(r.serverSyncTree_,t,y,D);Bl(r.eventQueue_,T),r.server_.merge(t.toString(),e,(R,W)=>{const G="ok"===R;G||gr("update at "+t+" failed: "+R);const J=xo(r.serverSyncTree_,D,!G),pe=J.length>0?Ud(r,t):t;_r(r.eventQueue_,pe,J),Fo(0,o,R,W)}),On(e,R=>{const W=Mi(r,Ht(t,R));Ud(r,W)}),_r(r.eventQueue_,t,[])}}(r._repo,r._path,t,e.wrapCallback(()=>{})),e.promise}function sC(r){r=(0,P.m9)(r);const t=new xa(()=>{}),e=new cc(t);return function YE(r,t,e){const o=function pg(r,t){const e=t._path;let o=null;r.syncPointTree_.foreachOnPath(e,(R,W)=>{const G=kn(R,e);o=o||No(W,G)});let l=r.syncPointTree_.get(e);l?o=o||No(l,St()):(l=new ag,r.syncPointTree_=r.syncPointTree_.set(e,l));const p=null!=o,y=p?new Nl(o,!0,!1):null;return function DD(r){return uh(r.viewCache_)}(y_(l,t,Po(r.pendingWriteTree_,t._path),p?y.getNode():Dt.EMPTY_NODE,p))}(r.serverSyncTree_,t);return null!=o?Promise.resolve(o):r.server_.get(t).then(l=>{const p=In(l).withIndex(t._queryParams.getIndex());let y;if(nc(r.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())y=Od(r.serverSyncTree_,t._path,p);else{const D=kd(r.serverSyncTree_,t);y=tc(r.serverSyncTree_,t._path,p,D)}return _r(r.eventQueue_,t._path,y),ec(r.serverSyncTree_,t,e,null,!0),p},l=>(ac(r,"get for query "+(0,P.Wl)(t)+" failed: "+l),Promise.reject(new Error(l))))}(r._repo,r,e).then(o=>new ka(o,new oi(r._repo,r._path),r._queryParams.getIndex()))}class cc{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const o=e._queryParams.getIndex();return new jl("value",this,new ka(t.snapshotNode,new oi(e._repo,e._path),o))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new $l(this,t,e):null}matches(t){return t instanceof cc&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class dc{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new $l(this,t,e):null}createEvent(t,e){(0,P.hu)(null!=t.childName,"Child events should have a childName.");const o=Fa(new oi(e._repo,e._path),t.childName),l=e._queryParams.getIndex();return new jl(t.type,this,new ka(t.snapshotNode,o,l),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof dc&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Wl(r,t,e,o,l){let p;if("object"==typeof o&&(p=void 0,l=o),"function"==typeof o&&(p=o),l&&l.onlyOnce){const T=e,R=(W,G)=>{Pg(r._repo,r,D),T(W,G)};R.userCallback=e.userCallback,R.context=e.context,e=R}const y=new xa(e,p||void 0),D="value"===t?new cc(y):new dc(t,y);return function eC(r,t,e){let o;o=".info"===bt(t._path)?nc(r.infoSyncTree_,t,e):nc(r.serverSyncTree_,t,e),Vd(r.eventQueue_,t._path,o)}(r._repo,r,D),()=>Pg(r._repo,r,D)}function kg(r,t,e,o){return Wl(r,"value",t,e,o)}function Hd(r,t,e,o){return Wl(r,"child_added",t,e,o)}function jd(r,t,e,o){return Wl(r,"child_changed",t,e,o)}function kh(r,t,e,o){return Wl(r,"child_moved",t,e,o)}function G_(r,t,e,o){return Wl(r,"child_removed",t,e,o)}function Fh(r,t,e){let o=null;const l=e?new xa(e):null;"value"===t?o=new cc(l):t&&(o=new dc(t,l)),Pg(r._repo,r,o)}class ai{}class Fg extends ai{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ai("endAt",this._value,t._path,!0);const e=wd(t._queryParams,this._value,this._key);if(Vo(e),si(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new qn(t._repo,t._path,e,t._orderByCalled)}}class Lg extends ai{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ai("endBefore",this._value,t._path,!1);const e=function Xm(r,t,e){let o;return o=wd(r,t,r.index_===Le||e?e:ti),o.endBeforeSet_=!0,o}(t._queryParams,this._value,this._key);if(Vo(e),si(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new qn(t._repo,t._path,e,t._orderByCalled)}}class Vg extends ai{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ai("startAt",this._value,t._path,!0);const e=Dd(t._queryParams,this._value,this._key);if(Vo(e),si(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new qn(t._repo,t._path,e,t._orderByCalled)}}class Z_ extends ai{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Ai("startAfter",this._value,t._path,!1);const e=function gE(r,t,e){let o;return o=Dd(r,t,r.index_===Le||e?e:wi),o.startAfterSet_=!0,o}(t._queryParams,this._value,this._key);if(Vo(e),si(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new qn(t._repo,t._path,e,t._orderByCalled)}}class K_ extends ai{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new qn(t._repo,t._path,function zp(r,t){const e=r.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Y_ extends ai{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new qn(t._repo,t._path,function yD(r,t){const e=r.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class aC extends ai{constructor(t){super(),this._path=t}_apply(t){Lo(t,"orderByChild");const e=new Nt(this._path);if(st(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const o=new Wp(e),l=bd(t._queryParams,o);return si(l),new qn(t._repo,t._path,l,!0)}}class uC extends ai{_apply(t){Lo(t,"orderByKey");const e=bd(t._queryParams,Le);return si(e),new qn(t._repo,t._path,e,!0)}}class Ug extends ai{_apply(t){Lo(t,"orderByPriority");const e=bd(t._queryParams,Jt);return si(e),new qn(t._repo,t._path,e,!0)}}class ey extends ai{_apply(t){Lo(t,"orderByValue");const e=bd(t._queryParams,Ym);return si(e),new qn(t._repo,t._path,e,!0)}}class ny extends ai{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Ai("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Fg(this._value,this._key)._apply(new Vg(this._value,this._key)._apply(t))}}function Ri(r,...t){let e=(0,P.m9)(r);for(const o of t)e=o._apply(e);return e}(function mh(r){(0,P.hu)(!gh,"__referenceConstructor has already been defined"),gh=r})(oi),function dg(r){(0,P.hu)(!cg,"__referenceConstructor has already been defined"),cg=r}(oi);const iy="FIREBASE_DATABASE_EMULATOR_HOST",Lh={};let $d=!1;function sy(r,t,e,o,l){let p=o||r.options.databaseURL;void 0===p&&(r.options.projectId||Xi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Kn("Using default host for project ",r.options.projectId),p=`${r.options.projectId}-default-rtdb.firebaseio.com`);let T,R,y=lc(p,l),D=y.repoInfo;typeof process<"u"&&process.env&&(R=process.env[iy]),R?(T=!0,p=`http://${R}?ns=${D.namespace}`,y=lc(p,l),D=y.repoInfo):T=!y.repoInfo.secure;const W=l&&T?new wo(wo.OWNER):new Do(r.name,r.options,t);Th("Invalid Firebase Database URL",y),st(y.path)||Xi("Database URL must point to the root of a Firebase Database (not including a child path).");const G=function Hg(r,t,e,o){let l=Lh[t.name];l||(l={},Lh[t.name]=l);let p=l[r.toURLString()];return p&&Xi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),p=new KE(r,$d,e,o),l[r.toURLString()]=p,p}(D,r,W,new mr(r.name,e));return new jg(G,r)}class jg{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Bd(r,t,e){if(r.stats_=Au(r.repoInfo_),r.forceRestClient_||wu())r.server_=new Gu(r.repoInfo_,(o,l,p,y)=>{O_(r,o,l,p,y)},r.authTokenProvider_,r.appCheckProvider_),setTimeout(()=>x_(r,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,P.Wl)(e)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}r.persistentConnection_=new w(r.repoInfo_,t,(o,l,p,y)=>{O_(r,o,l,p,y)},o=>{x_(r,o)},o=>{!function qE(r,t){On(t,(e,o)=>{Sg(r,e,o)})}(r,o)},r.authTokenProvider_,r.appCheckProvider_,e),r.server_=r.persistentConnection_}r.authTokenProvider_.addTokenChangeListener(o=>{r.server_.refreshAuthToken(o)}),r.appCheckProvider_.addTokenChangeListener(o=>{r.server_.refreshAppCheckToken(o.token)}),r.statsReporter_=function va(r,t){const e=r.toString();return bo[e]||(bo[e]=t()),bo[e]}(r.repoInfo_,()=>new zu(r.stats_,r.server_)),r.infoData_=new ih,r.infoSyncTree_=new Ll({startListening:(o,l,p,y)=>{let D=[];const T=r.infoData_.getNode(o._path);return T.isEmpty()||(D=Od(r.infoSyncTree_,o._path,T),setTimeout(()=>{y("ok")},0)),D},stopListening:()=>{}}),Sg(r,"connected",!1),r.serverSyncTree_=new Ll({startListening:(o,l,p,y)=>(r.server_.listen(o,p,l,(D,T)=>{const R=y(D,T);_r(r.eventQueue_,o._path,R)}),[]),stopListening:(o,l)=>{r.server_.unlisten(o,l)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new oi(this._repo,St())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function cC(r,t){const e=Lh[t];(!e||e[r.key]!==r)&&Xi(`Database ${t}(${r.repoInfo_}) has already been deleted.`),F_(r),delete e[r.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Xi("Cannot call "+t+" on a deleted database.")}}function oy(){Zf.IS_TRANSPORT_INITIALIZED&&gr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function $g(){oy(),Pr.forceDisallow()}function SD(){oy(),ts.forceDisallow(),Pr.forceAllow()}function ay(r,t,e,o={}){(r=(0,P.m9)(r))._checkNotDeleted("useEmulator"),r._instanceStarted&&Xi("Cannot call useEmulator() after instance has already been initialized.");const l=r._repoInternal;let p;if(l.repoInfo_.nodeAdmin)o.mockUserToken&&Xi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),p=new wo(wo.OWNER);else if(o.mockUserToken){const y="string"==typeof o.mockUserToken?o.mockUserToken:(0,P.Sg)(o.mockUserToken,r.app.options.projectId);p=new wo(y)}!function La(r,t,e,o){r.repoInfo_=new es(`${t}:${e}`,!1,r.repoInfo_.namespace,r.repoInfo_.webSocketOnly,r.repoInfo_.nodeAdmin,r.repoInfo_.persistenceKey,r.repoInfo_.includeNamespaceInQueryParams,!0),o&&(r.authTokenProvider_=o)}(l,t,e,p)}function fC(r,t){Co(r,t)}const uy={".sv":"timestamp"};class cy{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}w.prototype.simpleListen=function(r,t){this.sendRequest("q",{p:r},t)},w.prototype.echo=function(r,t){this.sendRequest("echo",{d:r},t)},function Yn(r){ei(Fe.SDK_VERSION),(0,Fe._registerComponent)(new me.wA("database",(t,{instanceIdentifier:e})=>sy(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Fe.registerVersion)(ht,"0.14.4",r),(0,Fe.registerVersion)(ht,"0.14.4","esm2017")}();const vC=new It.Yd("@firebase/database-compat"),Gg=function(r){vC.warn("FIREBASE WARNING: "+r)};class MD{constructor(t){this._delegate=t}cancel(t){(0,P.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,P.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),o=>t(o)),e}remove(t){(0,P.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,P.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),o=>t(o)),e}set(t,e){(0,P.Dv)("OnDisconnect.set",1,2,arguments.length),(0,P.Wj)("OnDisconnect.set","onComplete",e,!0);const o=this._delegate.set(t);return e&&o.then(()=>e(null),l=>e(l)),o}setWithPriority(t,e,o){(0,P.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,P.Wj)("OnDisconnect.setWithPriority","onComplete",o,!0);const l=this._delegate.setWithPriority(t,e);return o&&l.then(()=>o(null),p=>o(p)),l}update(t,e){if((0,P.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const l={};for(let p=0;p<t.length;++p)l[""+p]=t[p];t=l,Gg("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,P.Wj)("OnDisconnect.update","onComplete",e,!0);const o=this._delegate.update(t);return e&&o.then(()=>e(null),l=>e(l)),o}}class fy{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,P.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Hs{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,P.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,P.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,P.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,P.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,P.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),oc("DataSnapshot.child","path",t,!1),new Hs(this._database,this._delegate.child(t))}hasChild(t){return(0,P.Dv)("DataSnapshot.hasChild",1,1,arguments.length),oc("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,P.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,P.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,P.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Hs(this._database,e)))}hasChildren(){return(0,P.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,P.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,P.Dv)("DataSnapshot.ref",0,0,arguments.length),new li(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class sn{constructor(t,e){this.database=t,this._delegate=e}on(t,e,o,l){var p;(0,P.Dv)("Query.on",2,4,arguments.length),(0,P.Wj)("Query.on","callback",e,!1);const y=sn.getCancelAndContextArgs_("Query.on",o,l),D=(R,W)=>{e.call(y.context,new Hs(this.database,R),W)};D.userCallback=e,D.context=y.context;const T=null===(p=y.cancel)||void 0===p?void 0:p.bind(y.context);switch(t){case"value":return kg(this._delegate,D,T),e;case"child_added":return Hd(this._delegate,D,T),e;case"child_removed":return G_(this._delegate,D,T),e;case"child_changed":return jd(this._delegate,D,T),e;case"child_moved":return kh(this._delegate,D,T),e;default:throw new Error((0,P.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,o){if((0,P.Dv)("Query.off",0,3,arguments.length),function(r,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,P.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,P.Wj)("Query.off","callback",e,!0),(0,P.lb)("Query.off","context",o,!0),e){const l=()=>{};l.userCallback=e,l.context=o,Fh(this._delegate,t,l)}else Fh(this._delegate,t)}get(){return sC(this._delegate).then(t=>new Hs(this.database,t))}once(t,e,o,l){(0,P.Dv)("Query.once",1,4,arguments.length),(0,P.Wj)("Query.once","callback",e,!0);const p=sn.getCancelAndContextArgs_("Query.once",o,l),y=new P.BH,D=(R,W)=>{const G=new Hs(this.database,R);e&&e.call(p.context,G,W),y.resolve(G)};D.userCallback=e,D.context=p.context;const T=R=>{p.cancel&&p.cancel.call(p.context,R),y.reject(R)};switch(t){case"value":kg(this._delegate,D,T,{onlyOnce:!0});break;case"child_added":Hd(this._delegate,D,T,{onlyOnce:!0});break;case"child_removed":G_(this._delegate,D,T,{onlyOnce:!0});break;case"child_changed":jd(this._delegate,D,T,{onlyOnce:!0});break;case"child_moved":kh(this._delegate,D,T,{onlyOnce:!0});break;default:throw new Error((0,P.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return y.promise}limitToFirst(t){return(0,P.Dv)("Query.limitToFirst",1,1,arguments.length),new sn(this.database,Ri(this._delegate,function q_(r){if("number"!=typeof r||Math.floor(r)!==r||r<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new K_(r)}(t)))}limitToLast(t){return(0,P.Dv)("Query.limitToLast",1,1,arguments.length),new sn(this.database,Ri(this._delegate,function Q_(r){if("number"!=typeof r||Math.floor(r)!==r||r<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Y_(r)}(t)))}orderByChild(t){return(0,P.Dv)("Query.orderByChild",1,1,arguments.length),new sn(this.database,Ri(this._delegate,function lC(r){if("$key"===r)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===r)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===r)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return oc("orderByChild","path",r,!1),new aC(r)}(t)))}orderByKey(){return(0,P.Dv)("Query.orderByKey",0,0,arguments.length),new sn(this.database,Ri(this._delegate,function J_(){return new uC}()))}orderByPriority(){return(0,P.Dv)("Query.orderByPriority",0,0,arguments.length),new sn(this.database,Ri(this._delegate,function X_(){return new Ug}()))}orderByValue(){return(0,P.Dv)("Query.orderByValue",0,0,arguments.length),new sn(this.database,Ri(this._delegate,function ty(){return new ey}()))}startAt(t=null,e){return(0,P.Dv)("Query.startAt",0,2,arguments.length),new sn(this.database,Ri(this._delegate,function Bg(r=null,t){return sc("startAt","key",t,!0),new Vg(r,t)}(t,e)))}startAfter(t=null,e){return(0,P.Dv)("Query.startAfter",0,2,arguments.length),new sn(this.database,Ri(this._delegate,function oC(r,t){return sc("startAfter","key",t,!0),new Z_(r,t)}(t,e)))}endAt(t=null,e){return(0,P.Dv)("Query.endAt",0,2,arguments.length),new sn(this.database,Ri(this._delegate,function W_(r,t){return sc("endAt","key",t,!0),new Fg(r,t)}(t,e)))}endBefore(t=null,e){return(0,P.Dv)("Query.endBefore",0,2,arguments.length),new sn(this.database,Ri(this._delegate,function z_(r,t){return sc("endBefore","key",t,!0),new Lg(r,t)}(t,e)))}equalTo(t,e){return(0,P.Dv)("Query.equalTo",1,2,arguments.length),new sn(this.database,Ri(this._delegate,function ry(r,t){return sc("equalTo","key",t,!0),new ny(r,t)}(t,e)))}toString(){return(0,P.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,P.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,P.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof sn))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,o){const l={cancel:void 0,context:void 0};if(e&&o)l.cancel=e,(0,P.Wj)(t,"cancel",l.cancel,!0),l.context=o,(0,P.lb)(t,"context",l.context,!0);else if(e)if("object"==typeof e&&null!==e)l.context=e;else{if("function"!=typeof e)throw new Error((0,P.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");l.cancel=e}return l}get ref(){return new li(this.database,new oi(this._delegate._repo,this._delegate._path))}}class li extends sn{constructor(t,e){super(t,new qn(e._repo,e._path,new Id,!1)),this.database=t,this._delegate=e}getKey(){return(0,P.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,P.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new li(this.database,Fa(this._delegate,t))}getParent(){(0,P.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new li(this.database,t):null}getRoot(){return(0,P.Dv)("Reference.root",0,0,arguments.length),new li(this.database,this._delegate.root)}set(t,e){(0,P.Dv)("Reference.set",1,2,arguments.length),(0,P.Wj)("Reference.set","onComplete",e,!0);const o=xh(this._delegate,t);return e&&o.then(()=>e(null),l=>e(l)),o}update(t,e){if((0,P.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const l={};for(let p=0;p<t.length;++p)l[""+p]=t[p];t=l,Gg("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ii("Reference.update",this._delegate._path),(0,P.Wj)("Reference.update","onComplete",e,!0);const o=$_(this._delegate,t);return e&&o.then(()=>e(null),l=>e(l)),o}setWithPriority(t,e,o){(0,P.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,P.Wj)("Reference.setWithPriority","onComplete",o,!0);const l=function iC(r,t,e){if(ii("setWithPriority",r._path),Ai("setWithPriority",t,r._path,!1),A_("setWithPriority",e,!1),".length"===r.key||".keys"===r.key)throw"setWithPriority failed: "+r.key+" is a read-only object.";const o=new P.BH;return Ag(r._repo,r._path,t,e,o.wrapCallback(()=>{})),o.promise}(this._delegate,t,e);return o&&l.then(()=>o(null),p=>o(p)),l}remove(t){(0,P.Dv)("Reference.remove",0,1,arguments.length),(0,P.Wj)("Reference.remove","onComplete",t,!0);const e=function j_(r){return ii("remove",r._path),xh(r,null)}(this._delegate);return t&&e.then(()=>t(null),o=>t(o)),e}transaction(t,e,o){(0,P.Dv)("Reference.transaction",1,3,arguments.length),(0,P.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,P.Wj)("Reference.transaction","onComplete",e,!0),function(r,t,e,o){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,P.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,o);const l=function gC(r,t,e){var o;if(r=(0,P.m9)(r),ii("Reference.transaction",r._path),".length"===r.key||".keys"===r.key)throw"Reference.transaction failed: "+r.key+" is a read-only object.";const l=null===(o=e?.applyLocally)||void 0===o||o,p=new P.BH,D=kg(r,()=>{});return function L_(r,t,e,o,l,p){ac(r,"transaction on "+t);const y={path:t,update:e,onComplete:o,status:null,order:Cu(),applyLocally:p,retryCount:0,unwatcher:l,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},D=Rg(r,t,void 0);y.currentInputSnapshot=D;const T=y.update(D.val());if(void 0===T)y.unwatcher(),y.currentOutputSnapshotRaw=null,y.currentOutputSnapshotResolved=null,y.onComplete&&y.onComplete(null,!1,y.currentInputSnapshot);else{Oa("transaction failed: Data returned ",T,y.path),y.status=0;const R=rc(r.transactionQueueTree_,t),W=Vl(R)||[];let G;W.push(y),Ig(R,W),"object"==typeof T&&null!==T&&(0,P.r3)(T,".priority")?(G=(0,P.DV)(T,".priority"),(0,P.hu)(Na(G),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):G=(xd(r.serverSyncTree_,t)||Dt.EMPTY_NODE).getPriority().val();const J=Sh(r),pe=In(T,G),Ae=Dh(pe,D,J);y.currentOutputSnapshotRaw=pe,y.currentOutputSnapshotResolved=Ae,y.currentWriteId=Ah(r);const dt=fg(r.serverSyncTree_,t,Ae,y.currentWriteId,y.applyLocally);_r(r.eventQueue_,t,dt),Ng(r,r.transactionQueueTree_)}}(r._repo,r._path,t,(T,R,W)=>{let G=null;T?p.reject(T):(G=new ka(W,new oi(r._repo,r._path),Jt),p.resolve(new cy(R,G)))},D,l),p.promise}(this._delegate,t,{applyLocally:o}).then(p=>new fy(p.committed,new Hs(this.database,p.snapshot)));return e&&l.then(p=>e(null,p.committed,p.snapshot),p=>e(p,!1,null)),l}setPriority(t,e){(0,P.Dv)("Reference.setPriority",1,2,arguments.length),(0,P.Wj)("Reference.setPriority","onComplete",e,!0);const o=function rC(r,t){r=(0,P.m9)(r),ii("setPriority",r._path),A_("setPriority",t,!1);const e=new P.BH;return Ag(r._repo,Ht(r._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&o.then(()=>e(null),l=>e(l)),o}push(t,e){(0,P.Dv)("Reference.push",0,2,arguments.length),(0,P.Wj)("Reference.push","onComplete",e,!0);const o=function H_(r,t){r=(0,P.m9)(r),ii("push",r._path),Ai("push",t,r._path,!0);const e=N_(r._repo),o=uc(e),l=Fa(r,o),p=Fa(r,o);let y;return y=null!=t?xh(p,t).then(()=>p):Promise.resolve(p),l.then=y.then.bind(y),l.catch=y.then.bind(y,void 0),l}(this._delegate,t),l=o.then(y=>new li(this.database,y));e&&l.then(()=>e(null),y=>e(y));const p=new li(this.database,o);return p.then=l.then.bind(l),p.catch=l.catch.bind(l,void 0),p}onDisconnect(){return ii("Reference.onDisconnect",this._delegate._path),new MD(new Gl(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Gd{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:$g,forceLongPolling:SD}}useEmulator(t,e,o={}){ay(this._delegate,t,e,o)}ref(t){if((0,P.Dv)("database.ref",0,1,arguments.length),t instanceof li){const e=xg(this._delegate,t.toString());return new li(this,e)}{const e=Og(this._delegate,t);return new li(this,e)}}refFromURL(t){(0,P.Dv)("database.refFromURL",1,1,arguments.length);const o=xg(this._delegate,t);return new li(this,o)}goOffline(){return(0,P.Dv)("database.goOffline",0,0,arguments.length),function dC(r){(r=(0,P.m9)(r))._checkNotDeleted("goOffline"),F_(r._repo)}(this._delegate)}goOnline(){return(0,P.Dv)("database.goOnline",0,0,arguments.length),function ly(r){(r=(0,P.m9)(r))._checkNotDeleted("goOnline"),function tC(r){r.persistentConnection_&&r.persistentConnection_.resume(Tg)}(r._repo)}(this._delegate)}}Gd.ServerValue={TIMESTAMP:function hC(){return uy}(),increment:r=>function pC(r){return{".sv":{increment:r}}}(r)};var os=Object.freeze({__proto__:null,initStandalone:function js({app:r,url:t,version:e,customAuthImpl:o,namespace:l,nodeAdmin:p=!1}){ei(e);const y=new me.zt("auth-internal",new me.H0("database-standalone"));return y.setComponent(new me.wA("auth-internal",()=>o,"PRIVATE")),{instance:new Gd(sy(r,y,void 0,t,p),r),namespace:l}}});const as=Gd.ServerValue;!function hy(r){r.INTERNAL.registerComponent(new me.wA("database-compat",(t,{instanceIdentifier:e})=>{const o=t.getProvider("app-compat").getImmediate(),l=t.getProvider("database").getImmediate({identifier:e});return new Gd(l,o)},"PUBLIC").setServiceProps({Reference:li,Query:sn,Database:Gd,DataSnapshot:Hs,enableLogging:fC,INTERNAL:os,ServerValue:as}).setMultipleInstances(!0)),r.registerVersion("@firebase/database-compat","0.3.4")}(K.Z);var Wd=x(5363),CC=x(6063);class IC extends Xr.x{constructor(t=1/0,e=1/0,o=CC.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:o,_infiniteTimeWindow:l,_timestampProvider:p,_windowTime:y}=this;e||(o.push(t),!l&&o.push(p.now()+y)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:o,_buffer:l}=this,p=l.slice();for(let y=0;y<p.length&&!t.closed;y+=o?1:2)t.next(p[y]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:o,_infiniteTimeWindow:l}=this,p=(l?1:2)*t;if(t<1/0&&p<o.length&&o.splice(0,o.length-p),!l){const y=e.now();let D=0;for(let T=1;T<o.length&&o[T]<=y;T+=2)D=T;D&&o.splice(0,D+1)}}}function py(r,t,e){let o,l=!1;return r&&"object"==typeof r?({bufferSize:o=1/0,windowTime:t=1/0,refCount:l=!1,scheduler:e}=r):o=r??1/0,(0,ga.B)({connector:()=>new IC(o,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}const Vh=(0,x(3888).d)(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});function Zl(r,t){return(0,vn.e)((e,o)=>{let l=0;e.subscribe((0,zn.x)(o,p=>r.call(t,p,l++)&&o.next(p)))})}var wC=x(515);function my(r=_y){return(0,vn.e)((t,e)=>{let o=!1;t.subscribe((0,zn.x)(e,l=>{o=!0,e.next(l)},()=>o?e.complete():e.error(r())))})}function _y(){return new Vh}var yy=x(576);function Wg(r,t){return(0,yy.m)(t)?En(()=>r,t):En(()=>r)}var Uh=x(9468),zd=x(259);const zg=new Map,Dy={activated:!1,tokenObservers:[]},MC={initialized:!1,enabled:!1};function yr(r){return zg.get(r)||Object.assign({},Dy)}function jh(){return MC}const Zg="https://content-firebaseappcheck.googleapis.com/v1",OC="exchangeDebugToken",Kg={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class by{constructor(t,e,o,l,p){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=o,this.lowerBound=l,this.upperBound=p,this.pending=null,this.nextErrorWaitInterval=l,l>p)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ve.Z)(function*(){e.stop();try{e.pending=new P.BH,yield function Ty(r){return new Promise(t=>{setTimeout(t,r)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new P.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(o){e.retryPolicy(o)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Or=new P.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Gh(r,t){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,Ve.Z)(function*({url:r,body:t},e){const o={"Content-Type":"application/json"},l=e.getImmediate({optional:!0});if(l){const G=yield l.getHeartbeatsHeader();G&&(o["X-Firebase-Client"]=G)}const p={method:"POST",body:JSON.stringify(t),headers:o};let y,D;try{y=yield fetch(r,p)}catch(G){throw Or.create("fetch-network-error",{originalErrorMessage:G?.message})}if(200!==y.status)throw Or.create("fetch-status-error",{httpStatus:y.status});try{D=yield y.json()}catch(G){throw Or.create("fetch-parse-error",{originalErrorMessage:G?.message})}const T=D.ttl.match(/^([\d.]+)(s)$/);if(!T||!T[2]||isNaN(Number(T[1])))throw Or.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${D.ttl}`});const R=1e3*Number(T[1]),W=Date.now();return{token:D.token,expireTimeMillis:W+R,issuedAtTimeMillis:W}})).apply(this,arguments)}const VD="firebase-app-check-database",Yg=1,Wh="firebase-app-check-store";let qd=null;function ql(r,t){return Jg.apply(this,arguments)}function Jg(){return(Jg=(0,Ve.Z)(function*(r,t){const o=(yield function FC(){return qd||(qd=new Promise((r,t)=>{try{const e=indexedDB.open(VD,Yg);e.onsuccess=o=>{r(o.target.result)},e.onerror=o=>{var l;t(Or.create("storage-open",{originalErrorMessage:null===(l=o.target.error)||void 0===l?void 0:l.message}))},e.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(Wh,{keyPath:"compositeKey"})}}catch(e){t(Or.create("storage-open",{originalErrorMessage:e?.message}))}}),qd)}()).transaction(Wh,"readwrite"),p=o.objectStore(Wh).put({compositeKey:r,value:t});return new Promise((y,D)=>{p.onsuccess=T=>{y()},o.onerror=T=>{var R;D(Or.create("storage-set",{originalErrorMessage:null===(R=T.target.error)||void 0===R?void 0:R.message}))}})})).apply(this,arguments)}const zh=new It.Yd("@firebase/app-check");function Xg(r,t){return(0,P.hl)()?function LC(r,t){return ql(function Dn(r){return`${r.options.appId}-${r.name}`}(r),t)}(r,t).catch(e=>{zh.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function tm(){return nm.apply(this,arguments)}function nm(){return(nm=(0,Ve.Z)(function*(){const r=jh();if(r.enabled&&r.token)return r.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const HC={error:"UNKNOWN_ERROR"};function Qd(r){return P.US.encodeString(JSON.stringify(r),!1)}function qh(r){return rm.apply(this,arguments)}function rm(){return(rm=(0,Ve.Z)(function*(r,t=!1){const e=r.app;!function qg(r){if(!yr(r).activated)throw Or.create("use-before-activation",{appName:r.name})}(e);const o=yr(e);let p,l=o.token;if(l&&!mc(l)&&(o.token=void 0,l=void 0),!l){const T=yield o.cachedTokenPromise;T&&(mc(T)?l=T:yield Xg(e,void 0))}if(!t&&l&&mc(l))return{token:l.token};let D,y=!1;if(function em(){return jh().enabled}()){o.exchangeTokenPromise||(o.exchangeTokenPromise=Gh(function hc(r,t){const{projectId:e,appId:o,apiKey:l}=r.options;return{url:`${Zg}/projects/${e}/apps/${o}:${OC}?key=${l}`,body:{debug_token:t}}}(e,yield tm()),r.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),y=!0);const T=yield o.exchangeTokenPromise;return yield Xg(e,T),o.token=T,{token:T.token}}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),y=!0),l=yield yr(e).exchangeTokenPromise}catch(T){"appCheck/throttled"===T.code?zh.warn(T.message):zh.error(T),p=T}return l?p?D=mc(l)?{token:l.token,internalError:p}:_c(p):(D={token:l.token},o.token=l,yield Xg(e,l)):D=_c(p),y&&function om(r,t){const e=yr(r).tokenObservers;for(const o of e)try{"EXTERNAL"===o.type&&null!=t.error?o.error(t.error):o.next(t)}catch{}}(e,D),D})).apply(this,arguments)}function gc(r,t){const e=yr(r),o=e.tokenObservers.filter(l=>l.next!==t);0===o.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=o}function sm(r){const{app:t}=r,e=yr(t);let o=e.tokenRefresher;o||(o=function Py(r){const{app:t}=r;return new by((0,Ve.Z)(function*(){let o;if(o=yr(t).token?yield qh(r,!0):yield qh(r),o.error)throw o.error;if(o.internalError)throw o.internalError}),()=>!0,()=>{const e=yr(t);if(e.token){let o=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,e.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},Kg.RETRIAL_MIN_WAIT,Kg.RETRIAL_MAX_WAIT)}(r),e.tokenRefresher=o),!o.isRunning()&&e.isTokenAutoRefreshEnabled&&o.start()}function mc(r){return r.expireTimeMillis-Date.now()>0}function _c(r){return{token:Qd(HC),error:r}}class Jd{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=yr(this.app);for(const e of t)gc(this.app,e.next);return Promise.resolve()}}const jy="app-check-internal";!function KC(){(0,Fe._registerComponent)(new me.wA("app-check",r=>function jC(r,t){return new Jd(r,t)}(r.getProvider("app").getImmediate(),r.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,t,e)=>{r.getProvider(jy).initialize()})),(0,Fe._registerComponent)(new me.wA(jy,r=>function $C(r){return{getToken:t=>qh(r,t),addTokenListener:t=>function im(r,t,e,o){const{app:l}=r,p=yr(l);if(p.tokenObservers=[...p.tokenObservers,{next:e,error:o,type:t}],p.token&&mc(p.token)){const D=p.token;Promise.resolve().then(()=>{e({token:D.token}),sm(r)}).catch(()=>{})}p.cachedTokenPromise.then(()=>sm(r))}(r,"INTERNAL",t),removeTokenListener:t=>gc(r.app,t)}}(r.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Fe.registerVersion)("@firebase/app-check","0.6.4")}();class Qh{constructor(){return(0,S.vb)("app-check")}}typeof window<"u"&&window,x(9260);const Wy=new h.OlP("angularfire2.auth.use-emulator"),zy=new h.OlP("angularfire2.auth.settings"),Zy=new h.OlP("angularfire2.auth.tenant-id"),Ky=new h.OlP("angularfire2.auth.langugage-code"),qy=new h.OlP("angularfire2.auth.use-device-language"),Yy=new h.OlP("angularfire.auth.persistence"),cm=(r,t,e,o,l,p,y,D)=>(0,O.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const T=t.runOutsideAngular(()=>r.auth());if(e&&T.useEmulator(...e),o&&(T.tenantId=o),T.languageCode=l,p&&T.useDeviceLanguage(),y)for(const[R,W]of Object.entries(y))T.settings[R]=W;return D&&T.setPersistence(D),T},[e,o,l,p,y,D]);let dm=(()=>{class r{constructor(e,o,l,p,y,D,T,R,W,G,J,pe){const Ae=new Xr.x,dt=zr(void 0).pipe((0,Wd.Q)(y.outsideAngular),En(()=>p.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,9800)))),(0,xn.U)(()=>(0,O.on)(e,p,o)),(0,xn.U)(Ot=>cm(Ot,p,D,R,W,G,T,J)),py({bufferSize:1,refCount:!1}));if(function Ka(r){return"server"===r}(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=zr(null);else{dt.pipe(function Bh(r,t){const e=arguments.length>=2;return o=>o.pipe(r?Zl((l,p)=>r(l,p,o)):Ji.y,function gy(r){return r<=0?()=>wC.E:(0,vn.e)((t,e)=>{let o=0;t.subscribe((0,zn.x)(e,l=>{++o<=r&&(e.next(l),r<=o&&e.complete())}))})}(1),e?function bC(r){return(0,vn.e)((t,e)=>{let o=!1;t.subscribe((0,zn.x)(e,l=>{o=!0,e.next(l)},()=>{o||e.next(r),e.complete()}))})}(t):my(()=>new Vh))}()).subscribe();const xt=dt.pipe(En(mn=>mn.getRedirectResult().then(zs=>zs,()=>null)),S.iC,py({bufferSize:1,refCount:!1})),gn=dt.pipe(En(mn=>new po.y(zs=>({unsubscribe:p.runOutsideAngular(()=>mn.onAuthStateChanged(mf=>zs.next(mf),mf=>zs.error(mf),()=>zs.complete()))})))),Lr=dt.pipe(En(mn=>new po.y(zs=>({unsubscribe:p.runOutsideAngular(()=>mn.onIdTokenChanged(mf=>zs.next(mf),mf=>zs.error(mf),()=>zs.complete()))}))));this.authState=xt.pipe(Wg(gn),(0,Uh.R)(y.outsideAngular),(0,Wd.Q)(y.insideAngular)),this.user=xt.pipe(Wg(Lr),(0,Uh.R)(y.outsideAngular),(0,Wd.Q)(y.insideAngular)),this.idToken=this.user.pipe(En(mn=>mn?(0,pa.D)(mn.getIdToken()):zr(null))),this.idTokenResult=this.user.pipe(En(mn=>mn?(0,pa.D)(mn.getIdTokenResult()):zr(null))),this.credential=(0,Di.T)(xt,Ae,this.authState.pipe(Zl(mn=>!mn))).pipe((0,xn.U)(mn=>mn?.user?mn:null),(0,Uh.R)(y.outsideAngular),(0,Wd.Q)(y.insideAngular))}return(0,O.pX)(this,dt,p,{spy:{apply:(Ot,xt,gn)=>{(Ot.startsWith("signIn")||Ot.startsWith("createUser"))&&gn.then(Lr=>Ae.next(Lr))}}})}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(O.Dh),h.LFG(O.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(S.HU),h.LFG(Wy,8),h.LFG(zy,8),h.LFG(Zy,8),h.LFG(Ky,8),h.LFG(qy,8),h.LFG(Yy,8),h.LFG(Qh,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();function Jy(r){return null==r}function Xy(r){return"function"==typeof r.set}function ev(r,t){return Xy(t)?t:r.ref(t)}function Xh(r,t){if(function tI(r){return"string"==typeof r}(r))return t.stringCase();if(Xy(r))return t.firebaseCase();if(function Qy(r){return"function"==typeof r.exportVal}(r))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof r)}function Yl(r,t,e="on",o=ho.z){return new po.y(l=>{let p=null;return p=r[e](t,(y,D)=>{o.schedule(()=>{l.next({snapshot:y,prevKey:D})}),"once"===e&&o.schedule(()=>l.complete())},y=>{o.schedule(()=>l.error(y))}),"on"===e?{unsubscribe(){null!=p&&r.off(t,p)}}:{unsubscribe(){}}}).pipe((0,xn.U)(l=>{const{snapshot:p,prevKey:y}=l;let D=null;return p.exists()&&(D=p.key),{type:t,payload:p,prevKey:y,key:D}}),(0,ga.B)())}function ep(r,t){const e=r.length;for(let o=0;o<e;o++)if(r[o].payload.key===t)return o;return-1}function rI(r,t){const{payload:e,prevKey:o,key:l}=t,p=ep(r,l),y=function nI(r,t){if(Jy(t))return 0;{const e=ep(r,t);return-1===e?r.length:e+1}}(r,o);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let D=null;t.payload.forEach(T=>{const R={payload:T,type:"value",prevKey:D,key:T.key};return D=T.key,r=[...r,R],!1})}return r;case"child_added":if(p>-1){const D=r[p-1];(D&&D.key||null)!==o&&(r=r.filter(T=>T.payload.key!==e.key)).splice(y,0,t)}else{if(null==o)return[t,...r];(r=r.slice()).splice(y,0,t)}return r;case"child_removed":return r.filter(D=>D.payload.key!==e.key);case"child_changed":return r.map(D=>D.payload.key===l?t:D);case"child_moved":if(p>-1){const D=r.splice(p,1)[0];return(r=r.slice()).splice(y,0,D),r}return r;default:return r}}function tp(r){return(Jy(r)||0===r.length)&&(r=["child_added","child_removed","child_changed","child_moved"]),r}function nv(r,t,e){return function tv(r,t,e){return Yl(r,"value","once",e).pipe(En(o=>{const l=[zr(o)];return t.forEach(p=>l.push(Yl(r,p,"on",e))),(0,Di.T)(...l).pipe(gl(rI,[]))}),function Jc(r,t=Ji.y){return r=r??ma,(0,vn.e)((e,o)=>{let l,p=!0;e.subscribe((0,zn.x)(o,y=>{const D=t(y);(p||!r(l,D))&&(p=!1,l=D,o.next(y))}))})}())}(r,t=tp(t),e)}function fm(r,t,e){const o=(t=tp(t)).map(l=>Yl(r,l,"on",e));return(0,Di.T)(...o)}function oI(r,t){return function(o,l){return Xh(o,{stringCase:()=>r.child(o)[t](l),firebaseCase:()=>o[t](l),snapshotCase:()=>o.ref[t](l)})}}function rv(r){return function(e){return e?Xh(e,{stringCase:()=>r.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):r.remove()}}function iv(r,t){return function(){return Yl(r,"value","on",t)}}const aI=new h.OlP("angularfire2.realtimeDatabaseURL"),lI=new h.OlP("angularfire2.database.use-emulator");let pm=(()=>{class r{constructor(e,o,l,p,y,D,T,R,W,G,J,pe,Ae,dt,Ot){this.schedulers=D;const xt=T,gn=(0,O.on)(e,y,o);R&&cm(gn,y,W,J,pe,Ae,G,dt),this.database=(0,O.cc)(`${gn.name}.database.${l}`,"AngularFireDatabase",gn.name,()=>{const Lr=y.runOutsideAngular(()=>gn.database(l||void 0));return xt&&Lr.useEmulator(...xt),Lr},[xt])}list(e,o){const l=this.schedulers.ngZone.runOutsideAngular(()=>ev(this.database,e));let p=l;return o&&(p=o(l)),function hm(r,t){const e=t.schedulers.outsideAngular,o=t.schedulers.ngZone.run(()=>r.ref);return{query:r,update:oI(o,"update"),set:oI(o,"set"),push:l=>o.push(l),remove:rv(o),snapshotChanges:l=>nv(r,l,e).pipe(S.iC),stateChanges:l=>fm(r,l,e).pipe(S.iC),auditTrail:l=>function Ec(r,t,e){return function sI(r,t,e){return function iI(r,t){return Yl(r,"value","on",t).pipe((0,xn.U)(e=>{let o;return e.payload.forEach(l=>(o=l.key,!1)),{data:e,lastKeyToLoad:o}}))}(r,e).pipe(function C(...r){const t=(0,go.jO)(r);return(0,vn.e)((e,o)=>{const l=r.length,p=new Array(l);let y=r.map(()=>!1),D=!1;for(let T=0;T<l;T++)(0,mo.Xf)(r[T]).subscribe((0,zn.x)(o,R=>{p[T]=R,!D&&!y[T]&&(y[T]=!0,(D=y.every(Ji.y))&&(y=null))},_a.Z));e.subscribe((0,zn.x)(o,T=>{if(D){const R=[T,...p];o.next(t?t(...R):R)}}))})}(t),(0,xn.U)(([l,p])=>{const y=l.lastKeyToLoad,D=p.map(T=>T.key);return{actions:p,lastKeyToLoad:y,loadedKeys:D}}),function I(r){return(0,vn.e)((t,e)=>{let o=!1,l=0;t.subscribe((0,zn.x)(e,p=>(o||(o=!r(p,l++)))&&e.next(p)))})}(l=>-1===l.loadedKeys.indexOf(l.lastKeyToLoad)),(0,xn.U)(l=>l.actions))}(r,fm(r,t).pipe(gl((l,p)=>[...l,p],[])),e)}(r,l,e).pipe(S.iC),valueChanges:(l,p)=>nv(r,l,e).pipe((0,xn.U)(D=>D.map(T=>p&&p.idField?Object.assign(Object.assign({},T.payload.val()),{[p.idField]:T.key}):T.payload.val())),S.iC)}}(p,this)}object(e){return function sv(r,t){return{query:r,snapshotChanges:()=>iv(r,t.schedulers.outsideAngular)().pipe(S.iC),update:e=>r.ref.update(e),set:e=>r.ref.set(e),remove:()=>r.ref.remove(),valueChanges:()=>iv(r,t.schedulers.outsideAngular)().pipe(S.iC,(0,xn.U)(o=>o.payload.exists()?o.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>ev(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(O.Dh),h.LFG(O.xv,8),h.LFG(aI,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(S.HU),h.LFG(lI,8),h.LFG(dm,8),h.LFG(Wy,8),h.LFG(zy,8),h.LFG(Zy,8),h.LFG(Ky,8),h.LFG(qy,8),h.LFG(Yy,8),h.LFG(Qh,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),np=(()=>{class r{constructor(e){this.db=e,this.bugposts=[],this.bugChangedEvent=new Xr.x,this.bugsRef=e.list("bugs"),this.getBugs()}getBugs(){this.bugsRef.valueChanges().subscribe(e=>{this.bugposts=e,this.bugChangedEvent.next(this.bugposts)})}addBug(e){const o=this.db.createPushId();e.id=o.toString(),this.db.object(`bugs/${o}`).set(e)}updateBug(e,o){o.id=e.id,this.bugsRef.update(e.id,o)}deleteBug(e){this.db.object(`bugs/${e.id}`).remove()}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(pm))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function ov(r,t){if(1&r){const e=h.EpF();h.TgZ(0,"div",3),h.NdJ("click",function(){const p=h.CHM(e).$implicit,y=h.oxw();return h.KtG(y.onBugCardClick(p))}),h.TgZ(1,"h2"),h._uU(2),h.qZA(),h.TgZ(3,"p"),h._uU(4),h.ALo(5,"date"),h.qZA(),h.TgZ(6,"p"),h._uU(7),h.qZA()()}if(2&r){const e=t.$implicit;h.xp6(2),h.Oqu(e.title),h.xp6(2),h.hij("Created on: ",h.lcZ(5,3,e.dateCreated),""),h.xp6(3),h.hij("Priority: ",e.priority,"")}}let av=(()=>{class r{constructor(e){this.bugService=e,this.bugSelected=new h.vpe,this.bugs=[],this.bugSubscription=new Wn.w0}ngOnInit(){this.bugSubscription=this.bugService.bugChangedEvent.subscribe(e=>{this.bugs=e})}ngOnDestroy(){this.bugSubscription.unsubscribe()}onBugCardClick(e){this.bugSelected.emit(e)}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(np))},r.\u0275cmp=h.Xpm({type:r,selectors:[["app-bug-grid"]],outputs:{bugSelected:"bugSelected"},decls:5,vars:1,consts:[[1,"bug-grid-container"],[1,"bug-grid","clicked"],["class","bug-card",3,"click",4,"ngFor","ngForOf"],[1,"bug-card",3,"click"]],template:function(e,o){1&e&&(h.TgZ(0,"h1"),h._uU(1,"Current Bugs"),h.qZA(),h.TgZ(2,"div",0)(3,"div",1),h.YNc(4,ov,8,5,"div",2),h.qZA()()),2&e&&(h.xp6(4),h.Q6J("ngForOf",o.bugs))},dependencies:[ln,ji],styles:[".bug-grid-container[_ngcontent-%COMP%]{height:640px;margin-left:-64px;overflow-y:scroll}.bug-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,minmax(250px,1fr));grid-gap:1rem;padding:18px;margin-bottom:2rem}.bug-card[_ngcontent-%COMP%]{font-family:Noto Sans JP,sans-serif;transition:all,.35s ease-in-out;max-width:250px;height:150px;padding:12px;border-radius:24px;box-shadow:0 0 24px #3333332c;background-color:#fff;color:#000;z-index:0;justify-content:center;align-content:center}.bug-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{transition-duration:.7s;padding-left:8px;font-weight:500;font-style:italic;margin-top:6px;width:200px;font-size:1rem;color:#56595c}.bug-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding-left:8px;margin-top:6px;font-weight:900;font-size:1rem}.bug-card[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff;cursor:pointer;scale:1.12;z-index:100}.bug-card[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{transition-duration:.7s;color:#fff}h1[_ngcontent-%COMP%]{font-family:Noto Sans JP,sans-serif}"]}),r})();const{isArray:cI}=Array,{getPrototypeOf:dI,prototype:fI,keys:hI}=Object;const{isArray:uv}=Array;function e0(r,t){return r.reduce((e,o,l)=>(e[o]=t[l],e),{})}let cv=(()=>{class r{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.Qsj),h.Y36(h.SBq))},r.\u0275dir=h.lG2({type:r}),r})(),Ql=(()=>{class r extends cv{}return r.\u0275fac=function(){let t;return function(o){return(t||(t=h.n5z(r)))(o||r)}}(),r.\u0275dir=h.lG2({type:r,features:[h.qOj]}),r})();const $s=new h.OlP("NgValueAccessor"),yI={provide:$s,useExisting:(0,h.Gpc)(()=>rp),multi:!0},EI=new h.OlP("CompositionEventMode");let rp=(()=>{class r extends cv{constructor(e,o,l){super(e,o),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function vI(){const r=N()?N().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(EI,8))},r.\u0275dir=h.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&h.NdJ("input",function(p){return o._handleInput(p.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(p){return o._compositionEnd(p.target.value)})},features:[h._Bn([yI]),h.qOj]}),r})();const CI=!1;const vr=new h.OlP("NgValidators"),Uo=new h.OlP("NgAsyncValidators");function hv(r){return function Va(r){return null==r||("string"==typeof r||Array.isArray(r))&&0===r.length}(r.value)?{required:!0}:null}function ip(r){return null}function Ic(r){return null!=r}function _v(r){const t=(0,h.QGY)(r)?(0,pa.D)(r):r;if(CI&&!(0,h.CqO)(t)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof r&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new h.vHH(-1101,e)}return t}function sp(r){let t={};return r.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function ls(r,t){return t.map(e=>e(r))}function op(r){return r.map(t=>function wI(r){return!r.validate}(t)?t:e=>t.validate(e))}function ym(r){return null!=r?function Dc(r){if(!r)return null;const t=r.filter(Ic);return 0==t.length?null:function(e){return sp(ls(e,t))}}(op(r)):null}function yv(r){if(!r)return null;const t=r.filter(Ic);return 0==t.length?null:function(e){return function mI(...r){const t=(0,go.jO)(r),{args:e,keys:o}=function lv(r){if(1===r.length){const t=r[0];if(cI(t))return{args:t,keys:null};if(function XD(r){return r&&"object"==typeof r&&dI(r)===fI}(t)){const e=hI(t);return{args:e.map(o=>t[o]),keys:e}}}return{args:r,keys:null}}(r),l=new po.y(p=>{const{length:y}=e;if(!y)return void p.complete();const D=new Array(y);let T=y,R=y;for(let W=0;W<y;W++){let G=!1;(0,mo.Xf)(e[W]).subscribe((0,zn.x)(p,J=>{G||(G=!0,R--),D[W]=J},()=>T--,void 0,()=>{(!T||!G)&&(R||p.next(o?e0(o,D):D),p.complete())}))}});return t?l.pipe(function gI(r){return(0,xn.U)(t=>function pI(r,t){return uv(t)?r(...t):r(t)}(r,t))}(t)):l}(ls(e,t).map(_v)).pipe((0,xn.U)(sp))}}function vm(r){return null!=r?yv(op(r)):null}function ef(r,t){return null===r?[t]:Array.isArray(r)?[...r,t]:[r,t]}function Em(r){return r?Array.isArray(r)?r:[r]:[]}function nf(r,t){return Array.isArray(r)?r.includes(t):r===t}function Cm(r,t){const e=Em(t);return Em(r).forEach(l=>{nf(e,l)||e.push(l)}),e}function ap(r,t){return Em(t).filter(e=>!nf(r,e))}class Im{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ym(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=vm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Er extends Im{get formDirective(){return null}get path(){return null}}class Gs extends Im{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Dm{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Iv=(()=>{class r extends Dm{constructor(e){super(e)}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(Gs,2))},r.\u0275dir=h.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&h.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[h.qOj]}),r})(),Dv=(()=>{class r extends Dm{constructor(e){super(e)}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(Er,10))},r.\u0275dir=h.lG2({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,o){2&e&&h.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[h.qOj]}),r})();function Tv(r,t){return r?`with name: '${t}'`:`at index: ${t}`}const bm=!1,up="VALID",Tm="INVALID",Jl="PENDING",bc="DISABLED";function Xl(r){return(of(r)?r.validators:r)||null}function sf(r,t){return(of(t)?t.asyncValidators:r)||null}function of(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class Mv{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===up}get invalid(){return this.status===Tm}get pending(){return this.status==Jl}get disabled(){return this.status===bc}get enabled(){return this.status!==bc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Cm(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Cm(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(ap(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(ap(t,this._rawAsyncValidators))}hasValidator(t){return nf(this._rawValidators,t)}hasAsyncValidator(t){return nf(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Jl,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=bc,this.errors=null,this._forEachChild(o=>{o.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=up,this._forEachChild(o=>{o.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===up||this.status===Jl)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bc:up}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Jl,this._hasOwnPendingAsyncValidator=!0;const e=_v(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((o,l)=>o&&o._find(l),this)}getError(t,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?bc:this.errors?Tm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Jl)?Jl:this._anyControlsHaveStatus(Tm)?Tm:up}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){of(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function MI(r){return Array.isArray(r)?ym(r):r||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function PI(r){return Array.isArray(r)?vm(r):r||null}(this._rawAsyncValidators)}}class af extends Mv{constructor(t,e,o){super(Xl(e),sf(o,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,o={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,o={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function Av(r,t,e){r._forEachChild((o,l)=>{if(void 0===e[l])throw new h.vHH(1002,bm?function AI(r,t){return`Must supply a value for form control ${Tv(r,t)}`}(t,l):"")})})(this,!0,t),Object.keys(t).forEach(o=>{(function Sv(r,t,e){const o=r.controls;if(!(t?Object.keys(o):o).length)throw new h.vHH(1e3,bm?function Fr(r){return`\n    There are no form controls registered with this ${r?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!o[e])throw new h.vHH(1001,bm?function wc(r,t){return`Cannot find form control ${Tv(r,t)}`}(t,e):"")})(this,!0,o),this.controls[o].setValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(o=>{const l=this.controls[o];l&&l.patchValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((o,l)=>{o.reset(t[l],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,o)=>(t[o]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&t(o,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,o]of Object.entries(this.controls))if(this.contains(e)&&t(o))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,o,l)=>((o.enabled||this.disabled)&&(e[l]=o.value),e))}_reduceChildren(t,e){let o=t;return this._forEachChild((l,p)=>{o=e(o,l,p)}),o}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const lf=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>uf}),uf="always";function Tc(r,t,e=uf){cf(r,t),t.valueAccessor.writeValue(r.value),(r.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(r.disabled),function OI(r,t){t.valueAccessor.registerOnChange(e=>{r._pendingValue=e,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&Nv(r,t)})}(r,t),function xI(r,t){const e=(o,l)=>{t.valueAccessor.writeValue(o),l&&t.viewToModelUpdate(o)};r.registerOnChange(e),t._registerOnDestroy(()=>{r._unregisterOnChange(e)})}(r,t),function a0(r,t){t.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&Nv(r,t),"submit"!==r.updateOn&&r.markAsTouched()})}(r,t),function Rv(r,t){if(t.valueAccessor.setDisabledState){const e=o=>{t.valueAccessor.setDisabledState(o)};r.registerOnDisabledChange(e),t._registerOnDestroy(()=>{r._unregisterOnDisabledChange(e)})}}(r,t)}function fp(r,t){r.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function cf(r,t){const e=function tf(r){return r._rawValidators}(r);null!==t.validator?r.setValidators(ef(e,t.validator)):"function"==typeof e&&r.setValidators([e]);const o=function vv(r){return r._rawAsyncValidators}(r);null!==t.asyncValidator?r.setAsyncValidators(ef(o,t.asyncValidator)):"function"==typeof o&&r.setAsyncValidators([o]);const l=()=>r.updateValueAndValidity();fp(t._rawValidators,l),fp(t._rawAsyncValidators,l)}function Nv(r,t){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}const Vv={provide:Er,useExisting:(0,h.Gpc)(()=>gp)},df=(()=>Promise.resolve())();let gp=(()=>{class r extends Er{constructor(e,o,l){super(),this.callSetDisabledState=l,this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new af({},ym(e),vm(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){df.then(()=>{const o=this._findContainer(e.path);e.control=o.registerControl(e.name,e.control),Tc(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){df.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){df.then(()=>{const o=this._findContainer(e.path),l=new af({});(function Ov(r,t){cf(r,t)})(l,e),o.registerControl(e.name,l),l.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){df.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,o){df.then(()=>{this.form.get(e.path).setValue(o)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function Fv(r,t){r._syncPendingControls(),t.forEach(e=>{const o=e.control;"submit"===o.updateOn&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(vr,10),h.Y36(Uo,10),h.Y36(lf,8))},r.\u0275dir=h.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,o){1&e&&h.NdJ("submit",function(p){return o.onSubmit(p)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([Vv]),h.qOj]}),r})();function BI(r,t){const e=r.indexOf(t);e>-1&&r.splice(e,1)}function Mm(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}const UI=class extends Mv{constructor(t=null,e,o){super(Xl(e),sf(o,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),of(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Mm(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){BI(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){BI(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Mm(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Bv={provide:Gs,useExisting:(0,h.Gpc)(()=>_p)},ff=(()=>Promise.resolve())();let _p=(()=>{class r extends Gs{constructor(e,o,l,p,y,D){super(),this._changeDetectorRef=y,this.callSetDisabledState=D,this.control=new UI,this._registered=!1,this.update=new h.vpe,this._parent=e,this._setValidators(o),this._setAsyncValidators(l),this.valueAccessor=function pp(r,t){if(!t)return null;let e,o,l;return Array.isArray(t),t.forEach(p=>{p.constructor===rp?e=p:function kv(r){return Object.getPrototypeOf(r.constructor)===Ql}(p)?o=p:l=p}),l||o||e||null}(0,p)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const o=e.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function Am(r,t){if(!r.hasOwnProperty("model"))return!1;const e=r.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Tc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){ff.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const o=e.isDisabled.currentValue,l=0!==o&&(0,h.D6c)(o);ff.then(()=>{l&&!this.control.disabled?this.control.disable():!l&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function dp(r,t){return[...t.path,r]}(e,this._parent):[e]}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(Er,9),h.Y36(vr,10),h.Y36(Uo,10),h.Y36($s,10),h.Y36(h.sBO,8),h.Y36(lf,8))},r.\u0275dir=h.lG2({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([Bv]),h.qOj,h.TTD]}),r})(),Pm=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=h.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})(),$I=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({}),r})();const us={provide:$s,useExisting:(0,h.Gpc)(()=>vp),multi:!0};function $v(r,t){return null==r?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${r}: ${t}`.slice(0,50))}let vp=(()=>{class r extends Ql{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const l=$v(this._getOptionId(e),e);this.setProperty("value",l)}registerOnChange(e){this.onChange=o=>{this.value=this._getOptionValue(o),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o),e))return o;return null}_getOptionValue(e){const o=function km(r){return r.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o):e}}return r.\u0275fac=function(){let t;return function(o){return(t||(t=h.n5z(r)))(o||r)}}(),r.\u0275dir=h.lG2({type:r,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,o){1&e&&h.NdJ("change",function(p){return o.onChange(p.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[h._Bn([us]),h.qOj]}),r})(),KI=(()=>{class r{constructor(e,o,l){this._element=e,this._renderer=o,this._select=l,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue($v(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(vp,9))},r.\u0275dir=h.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})();const Ni={provide:$s,useExisting:(0,h.Gpc)(()=>Lm),multi:!0};function Gv(r,t){return null==r?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${r}: ${t}`.slice(0,50))}let Lm=(()=>{class r extends Ql{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let o;if(this.value=e,Array.isArray(e)){const l=e.map(p=>this._getOptionId(p));o=(p,y)=>{p._setSelected(l.indexOf(y.toString())>-1)}}else o=(l,p)=>{l._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(e){this.onChange=o=>{const l=[],p=o.selectedOptions;if(void 0!==p){const y=p;for(let D=0;D<y.length;D++){const R=this._getOptionValue(y[D].value);l.push(R)}}else{const y=o.options;for(let D=0;D<y.length;D++){const T=y[D];if(T.selected){const R=this._getOptionValue(T.value);l.push(R)}}}this.value=l,e(l)}}_registerOption(e){const o=(this._idCounter++).toString();return this._optionMap.set(o,e),o}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o)._value,e))return o;return null}_getOptionValue(e){const o=function Fm(r){return r.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o)._value:e}}return r.\u0275fac=function(){let t;return function(o){return(t||(t=h.n5z(r)))(o||r)}}(),r.\u0275dir=h.lG2({type:r,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,o){1&e&&h.NdJ("change",function(p){return o.onChange(p.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[h._Bn([Ni]),h.qOj]}),r})(),Ep=(()=>{class r{constructor(e,o,l){this._element=e,this._renderer=o,this._select=l,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Gv(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Gv(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(Lm,9))},r.\u0275dir=h.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})(),eu=(()=>{class r{constructor(){this._validator=ip}ngOnChanges(e){if(this.inputName in e){const o=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):ip,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=h.lG2({type:r,features:[h.TTD]}),r})();const YI={provide:vr,useExisting:(0,h.Gpc)(()=>Oi),multi:!0};let Oi=(()=>{class r extends eu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=h.D6c,this.createValidator=e=>hv}enabled(e){return e}}return r.\u0275fac=function(){let t;return function(o){return(t||(t=h.n5z(r)))(o||r)}}(),r.\u0275dir=h.lG2({type:r,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,o){2&e&&h.uIk("required",o._enabled?"":null)},inputs:{required:"required"},features:[h._Bn([YI]),h.qOj]}),r})(),Yv=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[$I]}),r})(),Jv=(()=>{class r{static withConfig(e){return{ngModule:r,providers:[{provide:lf,useValue:e.callSetDisabledState??uf}]}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[Yv]}),r})();function Ip(r,t){if(1&r){const e=h.EpF();h.TgZ(0,"div",6)(1,"button",7),h.NdJ("click",function(){h.CHM(e);const l=h.oxw();return h.KtG(l.editBug())}),h._uU(2,"Edit"),h.qZA(),h.TgZ(3,"button",8),h.NdJ("click",function(){h.CHM(e);const l=h.oxw();return h.KtG(l.deleteBug())}),h._uU(4,"Delete"),h.qZA()()}}function eE(r,t){if(1&r&&(h.TgZ(0,"h1"),h._uU(1),h.qZA()),2&r){const e=h.oxw();h.xp6(1),h.Oqu(null==e.selectedBug?null:e.selectedBug.title)}}function sD(r,t){1&r&&(h.TgZ(0,"div")(1,"h4",20),h._uU(2,"Please Add a Title"),h.qZA()())}function oD(r,t){1&r&&(h.TgZ(0,"div")(1,"h4",20),h._uU(2,"Please Select a Priority"),h.qZA()())}function C0(r,t){if(1&r){const e=h.EpF();h.TgZ(0,"div",21)(1,"button",8),h.NdJ("click",function(){h.CHM(e),h.oxw();const l=h.MAs(1),p=h.oxw();return h.KtG(p.saveBug(l))}),h._uU(2,"Save"),h.qZA()()}}function I0(r,t){if(1&r&&(h.TgZ(0,"form",null,9)(2,"div",10)(3,"label"),h._uU(4,"Title:"),h.qZA(),h._UZ(5,"input",11,12),h.YNc(7,sD,3,0,"div",5),h.qZA(),h.TgZ(8,"div",10)(9,"label"),h._uU(10,"Priority:"),h.qZA(),h.TgZ(11,"select",13,14)(13,"option",15),h._uU(14,"Low"),h.qZA(),h.TgZ(15,"option",16),h._uU(16,"Medium"),h.qZA(),h.TgZ(17,"option",17),h._uU(18,"High"),h.qZA()(),h.YNc(19,oD,3,0,"div",5),h.qZA(),h.TgZ(20,"div",10)(21,"label"),h._uU(22,"Description:"),h.qZA(),h.TgZ(23,"textarea",18),h._uU(24),h.qZA()(),h.YNc(25,C0,3,0,"div",19),h.qZA()),2&r){const e=h.MAs(6),o=h.MAs(12),l=h.oxw();h.xp6(5),h.Q6J("ngModel",null==l.selectedBug?null:l.selectedBug.title),h.xp6(2),h.Q6J("ngIf",e.touched&&e.invalid),h.xp6(4),h.Q6J("ngModel",null==l.selectedBug?null:l.selectedBug.priority),h.xp6(8),h.Q6J("ngIf",o.touched&&o.invalid),h.xp6(4),h.Q6J("ngModel",null==l.selectedBug?null:l.selectedBug.description),h.xp6(1),h.Oqu(null==l.selectedBug?null:l.selectedBug.description),h.xp6(1),h.Q6J("ngIf",l.isEditMode||l.isCreating)}}function D0(r,t){1&r&&(h.TgZ(0,"h3"),h._uU(1,"Created on:"),h.qZA())}function tE(r,t){if(1&r&&(h.TgZ(0,"h4"),h._uU(1),h.qZA()),2&r){const e=h.oxw();h.xp6(1),h.Oqu(null==e.selectedBug?null:e.selectedBug.dateCreated)}}function aD(r,t){1&r&&(h.TgZ(0,"h3"),h._uU(1,"Priority:"),h.qZA())}function lD(r,t){if(1&r&&(h.TgZ(0,"h4"),h._uU(1),h.qZA()),2&r){const e=h.oxw();h.xp6(1),h.Oqu(null==e.selectedBug?null:e.selectedBug.priority)}}function uD(r,t){1&r&&(h.TgZ(0,"h3"),h._uU(1,"Description:"),h.qZA())}function w0(r,t){if(1&r&&(h.TgZ(0,"h4"),h._uU(1),h.qZA()),2&r){const e=h.oxw();h.xp6(1),h.Oqu(null==e.selectedBug?null:e.selectedBug.description)}}let b0=(()=>{class r{constructor(e){this.bugService=e,this.selectedBug=null,this.previousBug=null,this.bugCreated=new h.vpe,this.newBug={id:"",title:"",priority:"",dateCreated:(new Date).toDateString(),description:""},this.isEditMode=!1,this.isCreating=!1,this.bugTitle="",this.bugPriority="",this.bugDescription=""}ngOnInit(){}createBug(){null==this.previousBug&&(this.previousBug=this.selectedBug,console.log(this.previousBug)),this.selectedBug=this.isCreating?this.previousBug:null,this.isCreating=!this.isCreating}saveBug(e){e.invalid?console.log("All fields must be filled out before submitting"):(this.isCreating?(this.newBug={id:"",title:e.value.title,priority:e.value.priority,dateCreated:(new Date).toDateString(),description:e.value.description},this.bugCreated.emit(this.newBug),this.bugService.addBug(this.newBug)):this.selectedBug&&(this.bugTitle=e.value.title,this.bugPriority=e.value.priority,this.bugDescription=null!=e.value.description?e.value.description:this.selectedBug.description,this.newBug={id:"",title:this.bugTitle,priority:this.bugPriority,dateCreated:this.selectedBug.dateCreated,description:this.bugDescription},this.bugCreated.emit(this.newBug),this.bugService.updateBug(this.selectedBug,this.newBug),this.selectedBug=this.newBug,console.log(this.selectedBug)),this.isEditMode=!1,this.isCreating=!1)}deleteBug(){this.selectedBug&&(this.bugService.deleteBug(this.selectedBug),this.selectedBug=null)}editBug(){this.isEditMode=!this.isEditMode}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(np))},r.\u0275cmp=h.Xpm({type:r,selectors:[["app-bug-detail"]],inputs:{selectedBug:"selectedBug",previousBug:"previousBug"},outputs:{bugCreated:"bugCreated"},decls:15,vars:9,consts:[[1,"card-title"],[1,"new-btn",3,"click"],[1,"bug-detail-container"],["class","button-grid",4,"ngIf"],[1,"bug-detail"],[4,"ngIf"],[1,"button-grid"],[1,"edit-btn",3,"click"],[3,"click"],["bugForm","ngForm"],[1,"form-group"],["type","text","name","title","placeholder","Enter title","required","",3,"ngModel"],["title","ngModel"],["name","priority","required","",3,"ngModel"],["priority","ngModel"],["value","low"],["value","medium"],["value","high"],["name","description","placeholder","Enter description",3,"ngModel"],["class","button-container",4,"ngIf"],[2,"color","red","margin-top","12px","font-size","medium"],[1,"button-container"]],template:function(e,o){1&e&&(h.TgZ(0,"h1",0),h._uU(1,"Bug Details "),h.TgZ(2,"button",1),h.NdJ("click",function(){return o.createBug()}),h._uU(3,"Create New Bug"),h.qZA()(),h.TgZ(4,"div",2),h.YNc(5,Ip,5,0,"div",3),h.TgZ(6,"div",4),h.YNc(7,eE,2,1,"h1",5),h.YNc(8,I0,26,7,"form",5),h.YNc(9,D0,2,0,"h3",5),h.YNc(10,tE,2,1,"h4",5),h.YNc(11,aD,2,0,"h3",5),h.YNc(12,lD,2,1,"h4",5),h.YNc(13,uD,2,0,"h3",5),h.YNc(14,w0,2,1,"h4",5),h.qZA()()),2&e&&(h.xp6(5),h.Q6J("ngIf",o.selectedBug),h.xp6(2),h.Q6J("ngIf",!o.isEditMode&&!o.isCreating),h.xp6(1),h.Q6J("ngIf",o.isEditMode||o.isCreating),h.xp6(1),h.Q6J("ngIf",!o.isEditMode&&!o.isCreating),h.xp6(1),h.Q6J("ngIf",!o.isEditMode&&!o.isCreating),h.xp6(1),h.Q6J("ngIf",!o.isEditMode&&!o.isCreating),h.xp6(1),h.Q6J("ngIf",!o.isEditMode&&!o.isCreating),h.xp6(1),h.Q6J("ngIf",!o.isEditMode&&!o.isCreating),h.xp6(1),h.Q6J("ngIf",!o.isEditMode&&!o.isCreating))},dependencies:[Vi,Pm,KI,Ep,rp,vp,Iv,Dv,Oi,_p,gp],styles:[".bug-detail-container[_ngcontent-%COMP%]{padding:32px;background-color:#fff;width:85%;height:80%;border-radius:32px;border:1px solid rgb(221,221,221)}h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], button[_ngcontent-%COMP%], label[_ngcontent-%COMP%], .bug-detail[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .bug-detail[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .bug-detail[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-family:Noto Sans JP,sans-serif}h3[_ngcontent-%COMP%]{margin-top:-12px;font-size:x-large}h4[_ngcontent-%COMP%]{color:#56595c;font-style:italic;font-size:larger;margin-top:-16px}.button-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,auto);grid-gap:12px;margin-left:33rem;margin-top:-16px}.button-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition-duration:.5s;border:0px;background-color:#fff;border-radius:22px;padding:18px;width:132px;font-size:1.05rem;box-shadow:0 0 24px #33333338}.button-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transition-duration:.5s;background-color:#000;color:#fff;cursor:pointer;scale:1.1}.new-btn[_ngcontent-%COMP%]{transition-duration:.5s;border:0px;margin-left:29rem;background-color:#fff;border-radius:22px;padding:18px;width:232px;font-size:1.05rem;box-shadow:0 0 24px #33333338}.new-btn[_ngcontent-%COMP%]:hover{transition-duration:.5s;background-color:#000;color:#fff;cursor:pointer;scale:1.1}.bug-detail[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .bug-detail[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .bug-detail[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:12px;border:0px solid #ccc;border-radius:16px;font-size:18px;box-sizing:border-box;background-color:#eceef3;color:#000;resize:none}.form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:required, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:required{border:4px solid red;outline:none}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{outline:none}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:10px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:5px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;position:absolute;top:680px;left:64px}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition-duration:.5s;margin-left:1rem;border:0px;background-color:#fff;border-radius:24px;padding:24px;width:364px;font-size:1.05rem;box-shadow:0 0 24px #33333338}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transition-duration:.5s;background-color:#000;color:#fff;cursor:pointer;scale:1.1}"]}),r})(),T0=(()=>{class r{constructor(){this.title="bug-tracker",this.selectedBug=null}onBugSelected(e){this.selectedBug=e}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=h.Xpm({type:r,selectors:[["app-root"]],decls:6,vars:1,consts:[[1,"container"],[1,"col1"],[3,"selectedBug"],[1,"col2"],[3,"bugSelected"]],template:function(e,o){1&e&&(h.TgZ(0,"body")(1,"div",0)(2,"div",1),h._UZ(3,"app-bug-detail",2),h.qZA(),h.TgZ(4,"div",3)(5,"app-bug-grid",4),h.NdJ("bugSelected",function(p){return o.selectedBug=p}),h.qZA()()()()),2&e&&(h.xp6(3),h.Q6J("selectedBug",o.selectedBug))},dependencies:[av,b0],styles:['@import"https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap";[_ngcontent-%COMP%]:root{--font: "Noto Sans JP"}.container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));justify-content:center;align-content:center}.col1[_ngcontent-%COMP%]{padding:24px;width:100%}.col2[_ngcontent-%COMP%]{padding:24px;width:95%}']}),r})();var cD=x(5577);class Dp{}class Sc{}class $o{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const o=e.indexOf(":");if(o>0){const l=e.slice(0,o),p=l.toLowerCase(),y=e.slice(o+1).trim();this.maybeSetNormalizedName(l,p),this.headers.has(p)?this.headers.get(p).push(y):this.headers.set(p,[y])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let o=t[e];const l=e.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(l,o),this.maybeSetNormalizedName(e,l))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof $o?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new $o;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof $o?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let o=t.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(t.name,e);const l=("a"===t.op?this.headers.get(e):void 0)||[];l.push(...o),this.headers.set(e,l);break;case"d":const p=t.value;if(p){let y=this.headers.get(e);if(!y)return;y=y.filter(D=>-1===p.indexOf(D)),0===y.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,y)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class nE{encodeKey(t){return wp(t)}encodeValue(t){return wp(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const rE=/%(\d[a-f0-9])/gi,$m={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function wp(r){return encodeURIComponent(r).replace(rE,(t,e)=>$m[e]??t)}function bp(r){return`${r}`}class Ws{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new nE,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function tu(r,t){const e=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(l=>{const p=l.indexOf("="),[y,D]=-1==p?[t.decodeKey(l),""]:[t.decodeKey(l.slice(0,p)),t.decodeValue(l.slice(p+1))],T=e.get(y)||[];T.push(D),e.set(y,T)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const o=t.fromObject[e],l=Array.isArray(o)?o.map(bp):[bp(o)];this.map.set(e,l)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(o=>{const l=t[o];Array.isArray(l)?l.forEach(p=>{e.push({param:o,value:p,op:"a"})}):e.push({param:o,value:l,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(o=>e+"="+this.encoder.encodeValue(o)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ws({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(bp(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let o=this.map.get(t.param)||[];const l=o.indexOf(bp(t.value));-1!==l&&o.splice(l,1),o.length>0?this.map.set(t.param,o):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Tp{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function dD(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function fD(r){return typeof Blob<"u"&&r instanceof Blob}function hD(r){return typeof FormData<"u"&&r instanceof FormData}class pf{constructor(t,e,o,l){let p;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function M0(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||l?(this.body=void 0!==o?o:null,p=l):p=o,p&&(this.reportProgress=!!p.reportProgress,this.withCredentials=!!p.withCredentials,p.responseType&&(this.responseType=p.responseType),p.headers&&(this.headers=p.headers),p.context&&(this.context=p.context),p.params&&(this.params=p.params)),this.headers||(this.headers=new $o),this.context||(this.context=new Tp),this.params){const y=this.params.toString();if(0===y.length)this.urlWithParams=e;else{const D=e.indexOf("?");this.urlWithParams=e+(-1===D?"?":D<e.length-1?"&":"")+y}}else this.params=new Ws,this.urlWithParams=e}serializeBody(){return null===this.body?null:dD(this.body)||fD(this.body)||hD(this.body)||function sE(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ws?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||hD(this.body)?null:fD(this.body)?this.body.type||null:dD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ws?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,o=t.url||this.url,l=t.responseType||this.responseType,p=void 0!==t.body?t.body:this.body,y=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,D=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let T=t.headers||this.headers,R=t.params||this.params;const W=t.context??this.context;return void 0!==t.setHeaders&&(T=Object.keys(t.setHeaders).reduce((G,J)=>G.set(J,t.setHeaders[J]),T)),t.setParams&&(R=Object.keys(t.setParams).reduce((G,J)=>G.set(J,t.setParams[J]),R)),new pf(e,o,p,{params:R,headers:T,context:W,reportProgress:D,responseType:l,withCredentials:y})}}var Fn=(()=>((Fn=Fn||{})[Fn.Sent=0]="Sent",Fn[Fn.UploadProgress=1]="UploadProgress",Fn[Fn.ResponseHeader=2]="ResponseHeader",Fn[Fn.DownloadProgress=3]="DownloadProgress",Fn[Fn.Response=4]="Response",Fn[Fn.User=5]="User",Fn))();class Gm{constructor(t,e=200,o="OK"){this.headers=t.headers||new $o,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||o,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Wm extends Gm{constructor(t={}){super(t),this.type=Fn.ResponseHeader}clone(t={}){return new Wm({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class gf extends Gm{constructor(t={}){super(t),this.type=Fn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new gf({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class zm extends Gm{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Sp(r,t){return{body:t,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let pD=(()=>{class r{constructor(e){this.handler=e}request(e,o,l={}){let p;if(e instanceof pf)p=e;else{let T,R;T=l.headers instanceof $o?l.headers:new $o(l.headers),l.params&&(R=l.params instanceof Ws?l.params:new Ws({fromObject:l.params})),p=new pf(e,o,void 0!==l.body?l.body:null,{headers:T,context:l.context,params:R,reportProgress:l.reportProgress,responseType:l.responseType||"json",withCredentials:l.withCredentials})}const y=zr(p).pipe(function S0(r,t){return(0,yy.m)(t)?(0,cD.z)(r,t,1):(0,cD.z)(r,1)}(T=>this.handler.handle(T)));if(e instanceof pf||"events"===l.observe)return y;const D=y.pipe(Zl(T=>T instanceof gf));switch(l.observe||"body"){case"body":switch(p.responseType){case"arraybuffer":return D.pipe((0,xn.U)(T=>{if(null!==T.body&&!(T.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return T.body}));case"blob":return D.pipe((0,xn.U)(T=>{if(null!==T.body&&!(T.body instanceof Blob))throw new Error("Response is not a Blob.");return T.body}));case"text":return D.pipe((0,xn.U)(T=>{if(null!==T.body&&"string"!=typeof T.body)throw new Error("Response is not a string.");return T.body}));default:return D.pipe((0,xn.U)(T=>T.body))}case"response":return D;default:throw new Error(`Unreachable: unhandled observe type ${l.observe}}`)}}delete(e,o={}){return this.request("DELETE",e,o)}get(e,o={}){return this.request("GET",e,o)}head(e,o={}){return this.request("HEAD",e,o)}jsonp(e,o){return this.request("JSONP",e,{params:(new Ws).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,o={}){return this.request("OPTIONS",e,o)}patch(e,o,l={}){return this.request("PATCH",e,Sp(l,o))}post(e,o,l={}){return this.request("POST",e,Sp(l,o))}put(e,o,l={}){return this.request("PUT",e,Sp(l,o))}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(Dp))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();function oE(r,t){return t(r)}function aE(r,t){return(e,o)=>t.intercept(e,{handle:l=>r(l,o)})}const P0=new h.OlP("HTTP_INTERCEPTORS"),Ac=new h.OlP("HTTP_INTERCEPTOR_FNS");function Km(){let r=null;return(t,e)=>(null===r&&(r=((0,h.f3M)(P0,{optional:!0})??[]).reduceRight(aE,oE)),r(t,e))}let lE=(()=>{class r extends Dp{constructor(e,o){super(),this.backend=e,this.injector=o,this.chain=null}handle(e){if(null===this.chain){const o=Array.from(new Set(this.injector.get(Ac)));this.chain=o.reduceRight((l,p)=>function Zm(r,t,e){return(o,l)=>e.runInContext(()=>t(o,p=>r(p,l)))}(l,p,this.injector),oE)}return this.chain(e,o=>this.backend.handle(o))}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(Sc),h.LFG(h.lqb))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();const B0=/^\)\]\}',?\n/;let mD=(()=>{class r{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new po.y(o=>{const l=this.xhrFactory.build();if(l.open(e.method,e.urlWithParams),e.withCredentials&&(l.withCredentials=!0),e.headers.forEach((pe,Ae)=>l.setRequestHeader(pe,Ae.join(","))),e.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const pe=e.detectContentTypeHeader();null!==pe&&l.setRequestHeader("Content-Type",pe)}if(e.responseType){const pe=e.responseType.toLowerCase();l.responseType="json"!==pe?pe:"text"}const p=e.serializeBody();let y=null;const D=()=>{if(null!==y)return y;const pe=l.statusText||"OK",Ae=new $o(l.getAllResponseHeaders()),dt=function U0(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(l)||e.url;return y=new Wm({headers:Ae,status:l.status,statusText:pe,url:dt}),y},T=()=>{let{headers:pe,status:Ae,statusText:dt,url:Ot}=D(),xt=null;204!==Ae&&(xt=typeof l.response>"u"?l.responseText:l.response),0===Ae&&(Ae=xt?200:0);let gn=Ae>=200&&Ae<300;if("json"===e.responseType&&"string"==typeof xt){const Lr=xt;xt=xt.replace(B0,"");try{xt=""!==xt?JSON.parse(xt):null}catch(mn){xt=Lr,gn&&(gn=!1,xt={error:mn,text:xt})}}gn?(o.next(new gf({body:xt,headers:pe,status:Ae,statusText:dt,url:Ot||void 0})),o.complete()):o.error(new zm({error:xt,headers:pe,status:Ae,statusText:dt,url:Ot||void 0}))},R=pe=>{const{url:Ae}=D(),dt=new zm({error:pe,status:l.status||0,statusText:l.statusText||"Unknown Error",url:Ae||void 0});o.error(dt)};let W=!1;const G=pe=>{W||(o.next(D()),W=!0);let Ae={type:Fn.DownloadProgress,loaded:pe.loaded};pe.lengthComputable&&(Ae.total=pe.total),"text"===e.responseType&&l.responseText&&(Ae.partialText=l.responseText),o.next(Ae)},J=pe=>{let Ae={type:Fn.UploadProgress,loaded:pe.loaded};pe.lengthComputable&&(Ae.total=pe.total),o.next(Ae)};return l.addEventListener("load",T),l.addEventListener("error",R),l.addEventListener("timeout",R),l.addEventListener("abort",R),e.reportProgress&&(l.addEventListener("progress",G),null!==p&&l.upload&&l.upload.addEventListener("progress",J)),l.send(p),o.next({type:Fn.Sent}),()=>{l.removeEventListener("error",R),l.removeEventListener("abort",R),l.removeEventListener("load",T),l.removeEventListener("timeout",R),e.reportProgress&&(l.removeEventListener("progress",G),null!==p&&l.upload&&l.upload.removeEventListener("progress",J)),l.readyState!==l.DONE&&l.abort()}})}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(Qo))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();const uE=new h.OlP("XSRF_ENABLED"),_D=new h.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),i=new h.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class s{}let a=(()=>{class r{constructor(e,o,l){this.doc=e,this.platform=o,this.cookieName=l,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Zs(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(te),h.LFG(h.Lbi),h.LFG(_D))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();function u(r,t){const e=r.url.toLowerCase();if(!(0,h.f3M)(uE)||"GET"===r.method||"HEAD"===r.method||e.startsWith("http://")||e.startsWith("https://"))return t(r);const o=(0,h.f3M)(s).getToken(),l=(0,h.f3M)(i);return null!=o&&!r.headers.has(l)&&(r=r.clone({headers:r.headers.set(l,o)})),t(r)}var g=(()=>((g=g||{})[g.Interceptors=0]="Interceptors",g[g.LegacyInterceptors=1]="LegacyInterceptors",g[g.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",g[g.NoXsrfProtection=3]="NoXsrfProtection",g[g.JsonpSupport=4]="JsonpSupport",g[g.RequestsMadeViaParent=5]="RequestsMadeViaParent",g))();function v(r,t){return{\u0275kind:r,\u0275providers:t}}function E(...r){const t=[pD,mD,lE,{provide:Dp,useExisting:lE},{provide:Sc,useExisting:mD},{provide:Ac,useValue:u,multi:!0},{provide:uE,useValue:!0},{provide:s,useClass:a}];for(const e of r)t.push(...e.\u0275providers);return(0,h.MR2)(t)}const M=new h.OlP("LEGACY_INTERCEPTOR_FN");let Je=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({providers:[E(v(g.LegacyInterceptors,[{provide:M,useFactory:Km},{provide:Ac,useExisting:M,multi:!0}]))]}),r})();const vt={apiKey:"AIzaSyBK6-On6hJWOvkt246K06O9LU_zu_9UWtU",authDomain:"wdd430-b4295.firebaseapp.com",databaseURL:"https://wdd430-b4295-default-rtdb.firebaseio.com",projectId:"wdd430-b4295",storageBucket:"wdd430-b4295.appspot.com",messagingSenderId:"288535704920",appId:"1:288535704920:web:9909167c1a007006a7212d"};let pn=(()=>{class r{constructor(){!function AD(r=(0,Fe.getApp)(),t){const e=(0,Fe._getProvider)(r,"database").getImmediate({identifier:t});if(!e._instanceStarted){const o=(0,P.P0)("database");o&&ay(e,...o)}}((0,zd.ZF)(vt))}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r,bootstrap:[T0]}),r.\u0275inj=h.cJS({providers:[np],imports:[Ei,Je,Jv,O.hO.initializeApp(vt)]}),r})();Rs().bootstrapModule(pn).catch(r=>console.error(r))},8306:(nt,Ce,x)=>{x.d(Ce,{y:()=>B});var h=x(930),Q=x(727),N=x(8822),re=x(4671);var he=x(2416),oe=x(576),le=x(2806);let B=(()=>{class be{constructor(je){je&&(this._subscribe=je)}lift(je){const ie=new be;return ie.source=this,ie.operator=je,ie}subscribe(je,ie,Ee){const ge=function He(be){return be&&be instanceof h.Lv||function Z(be){return be&&(0,oe.m)(be.next)&&(0,oe.m)(be.error)&&(0,oe.m)(be.complete)}(be)&&(0,Q.Nn)(be)}(je)?je:new h.Hp(je,ie,Ee);return(0,le.x)(()=>{const{operator:Te,source:_e}=this;ge.add(Te?Te.call(ge,_e):_e?this._subscribe(ge):this._trySubscribe(ge))}),ge}_trySubscribe(je){try{return this._subscribe(je)}catch(ie){je.error(ie)}}forEach(je,ie){return new(ie=U(ie))((Ee,ge)=>{const Te=new h.Hp({next:_e=>{try{je(_e)}catch(fe){ge(fe),Te.unsubscribe()}},error:ge,complete:Ee});this.subscribe(Te)})}_subscribe(je){var ie;return null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(je)}[N.L](){return this}pipe(...je){return function te(be){return 0===be.length?re.y:1===be.length?be[0]:function(je){return be.reduce((ie,Ee)=>Ee(ie),je)}}(je)(this)}toPromise(je){return new(je=U(je))((ie,Ee)=>{let ge;this.subscribe(Te=>ge=Te,Te=>Ee(Te),()=>ie(ge))})}}return be.create=ft=>new be(ft),be})();function U(be){var ft;return null!==(ft=be??he.v.Promise)&&void 0!==ft?ft:Promise}},7579:(nt,Ce,x)=>{x.d(Ce,{x:()=>he});var h=x(8306),Q=x(727);const re=(0,x(3888).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=x(8737),te=x(2806);let he=(()=>{class le extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(U){const Z=new oe(this,this);return Z.operator=U,Z}_throwIfClosed(){if(this.closed)throw new re}next(U){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Z of this.currentObservers)Z.next(U)}})}error(U){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=U;const{observers:Z}=this;for(;Z.length;)Z.shift().error(U)}})}complete(){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:U}=this;for(;U.length;)U.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0}_trySubscribe(U){return this._throwIfClosed(),super._trySubscribe(U)}_subscribe(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)}_innerSubscribe(U){const{hasError:Z,isStopped:He,observers:be}=this;return Z||He?Q.Lc:(this.currentObservers=null,be.push(U),new Q.w0(()=>{this.currentObservers=null,(0,X.P)(be,U)}))}_checkFinalizedStatuses(U){const{hasError:Z,thrownError:He,isStopped:be}=this;Z?U.error(He):be&&U.complete()}asObservable(){const U=new h.y;return U.source=this,U}}return le.create=(B,U)=>new oe(B,U),le})();class oe extends he{constructor(B,U){super(),this.destination=B,this.source=U}next(B){var U,Z;null===(Z=null===(U=this.destination)||void 0===U?void 0:U.next)||void 0===Z||Z.call(U,B)}error(B){var U,Z;null===(Z=null===(U=this.destination)||void 0===U?void 0:U.error)||void 0===Z||Z.call(U,B)}complete(){var B,U;null===(U=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===U||U.call(B)}_subscribe(B){var U,Z;return null!==(Z=null===(U=this.source)||void 0===U?void 0:U.subscribe(B))&&void 0!==Z?Z:Q.Lc}}},930:(nt,Ce,x)=>{x.d(Ce,{Hp:()=>je,Lv:()=>Z});var h=x(576),Q=x(727),N=x(2416),re=x(7849),X=x(5032);const te=le("C",void 0,void 0);function le(_e,fe,Ie){return{kind:_e,value:fe,error:Ie}}var B=x(3410),U=x(2806);class Z extends Q.w0{constructor(fe){super(),this.isStopped=!1,fe?(this.destination=fe,(0,Q.Nn)(fe)&&fe.add(this)):this.destination=Te}static create(fe,Ie,Re){return new je(fe,Ie,Re)}next(fe){this.isStopped?ge(function oe(_e){return le("N",_e,void 0)}(fe),this):this._next(fe)}error(fe){this.isStopped?ge(function he(_e){return le("E",void 0,_e)}(fe),this):(this.isStopped=!0,this._error(fe))}complete(){this.isStopped?ge(te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(fe){this.destination.next(fe)}_error(fe){try{this.destination.error(fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function be(_e,fe){return He.call(_e,fe)}class ft{constructor(fe){this.partialObserver=fe}next(fe){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(fe)}catch(Re){ie(Re)}}error(fe){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(fe)}catch(Re){ie(Re)}else ie(fe)}complete(){const{partialObserver:fe}=this;if(fe.complete)try{fe.complete()}catch(Ie){ie(Ie)}}}class je extends Z{constructor(fe,Ie,Re){let Se;if(super(),(0,h.m)(fe)||!fe)Se={next:fe??void 0,error:Ie??void 0,complete:Re??void 0};else{let L;this&&N.v.useDeprecatedNextContext?(L=Object.create(fe),L.unsubscribe=()=>this.unsubscribe(),Se={next:fe.next&&be(fe.next,L),error:fe.error&&be(fe.error,L),complete:fe.complete&&be(fe.complete,L)}):Se=fe}this.destination=new ft(Se)}}function ie(_e){N.v.useDeprecatedSynchronousErrorHandling?(0,U.O)(_e):(0,re.h)(_e)}function ge(_e,fe){const{onStoppedNotification:Ie}=N.v;Ie&&B.z.setTimeout(()=>Ie(_e,fe))}const Te={closed:!0,next:X.Z,error:function Ee(_e){throw _e},complete:X.Z}},727:(nt,Ce,x)=>{x.d(Ce,{Lc:()=>te,w0:()=>X,Nn:()=>he});var h=x(576);const N=(0,x(3888).d)(le=>function(U){le(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((Z,He)=>`${He+1}) ${Z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U});var re=x(8737);class X{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:U}=this;if(U)if(this._parentage=null,Array.isArray(U))for(const be of U)be.remove(this);else U.remove(this);const{initialTeardown:Z}=this;if((0,h.m)(Z))try{Z()}catch(be){B=be instanceof N?be.errors:[be]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const be of He)try{oe(be)}catch(ft){B=B??[],ft instanceof N?B=[...B,...ft.errors]:B.push(ft)}}if(B)throw new N(B)}}add(B){var U;if(B&&B!==this)if(this.closed)oe(B);else{if(B instanceof X){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(U=this._finalizers)&&void 0!==U?U:[]).push(B)}}_hasParent(B){const{_parentage:U}=this;return U===B||Array.isArray(U)&&U.includes(B)}_addParent(B){const{_parentage:U}=this;this._parentage=Array.isArray(U)?(U.push(B),U):U?[U,B]:B}_removeParent(B){const{_parentage:U}=this;U===B?this._parentage=null:Array.isArray(U)&&(0,re.P)(U,B)}remove(B){const{_finalizers:U}=this;U&&(0,re.P)(U,B),B instanceof X&&B._removeParent(this)}}X.EMPTY=(()=>{const le=new X;return le.closed=!0,le})();const te=X.EMPTY;function he(le){return le instanceof X||le&&"closed"in le&&(0,h.m)(le.remove)&&(0,h.m)(le.add)&&(0,h.m)(le.unsubscribe)}function oe(le){(0,h.m)(le)?le():le.unsubscribe()}},2416:(nt,Ce,x)=>{x.d(Ce,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(nt,Ce,x)=>{x.d(Ce,{E:()=>Q});const Q=new(x(8306).y)(X=>X.complete())},8996:(nt,Ce,x)=>{x.d(Ce,{D:()=>fe});var h=x(8421),Q=x(5363),N=x(9468),te=x(8306),oe=x(2202),le=x(576),B=x(9672);function Z(Ie,Re){if(!Ie)throw new Error("Iterable cannot be null");return new te.y(Se=>{(0,B.f)(Se,Re,()=>{const L=Ie[Symbol.asyncIterator]();(0,B.f)(Se,Re,()=>{L.next().then(ue=>{ue.done?Se.complete():Se.next(ue.value)})},0,!0)})})}var He=x(3670),be=x(8239),ft=x(1144),je=x(6495),ie=x(2206),Ee=x(4532),ge=x(3260);function fe(Ie,Re){return Re?function _e(Ie,Re){if(null!=Ie){if((0,He.c)(Ie))return function re(Ie,Re){return(0,h.Xf)(Ie).pipe((0,N.R)(Re),(0,Q.Q)(Re))}(Ie,Re);if((0,ft.z)(Ie))return function he(Ie,Re){return new te.y(Se=>{let L=0;return Re.schedule(function(){L===Ie.length?Se.complete():(Se.next(Ie[L++]),Se.closed||this.schedule())})})}(Ie,Re);if((0,be.t)(Ie))return function X(Ie,Re){return(0,h.Xf)(Ie).pipe((0,N.R)(Re),(0,Q.Q)(Re))}(Ie,Re);if((0,ie.D)(Ie))return Z(Ie,Re);if((0,je.T)(Ie))return function U(Ie,Re){return new te.y(Se=>{let L;return(0,B.f)(Se,Re,()=>{L=Ie[oe.h](),(0,B.f)(Se,Re,()=>{let ue,Ne;try{({value:ue,done:Ne}=L.next())}catch(Be){return void Se.error(Be)}Ne?Se.complete():Se.next(ue)},0,!0)}),()=>(0,le.m)(L?.return)&&L.return()})}(Ie,Re);if((0,ge.L)(Ie))return function Te(Ie,Re){return Z((0,ge.Q)(Ie),Re)}(Ie,Re)}throw(0,Ee.z)(Ie)}(Ie,Re):(0,h.Xf)(Ie)}},8421:(nt,Ce,x)=>{x.d(Ce,{Xf:()=>He});var h=x(655),Q=x(1144),N=x(8239),re=x(8306),X=x(3670),te=x(2206),he=x(4532),oe=x(6495),le=x(3260),B=x(576),U=x(7849),Z=x(8822);function He(_e){if(_e instanceof re.y)return _e;if(null!=_e){if((0,X.c)(_e))return function be(_e){return new re.y(fe=>{const Ie=_e[Z.L]();if((0,B.m)(Ie.subscribe))return Ie.subscribe(fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(_e);if((0,Q.z)(_e))return function ft(_e){return new re.y(fe=>{for(let Ie=0;Ie<_e.length&&!fe.closed;Ie++)fe.next(_e[Ie]);fe.complete()})}(_e);if((0,N.t)(_e))return function je(_e){return new re.y(fe=>{_e.then(Ie=>{fe.closed||(fe.next(Ie),fe.complete())},Ie=>fe.error(Ie)).then(null,U.h)})}(_e);if((0,te.D)(_e))return Ee(_e);if((0,oe.T)(_e))return function ie(_e){return new re.y(fe=>{for(const Ie of _e)if(fe.next(Ie),fe.closed)return;fe.complete()})}(_e);if((0,le.L)(_e))return function ge(_e){return Ee((0,le.Q)(_e))}(_e)}throw(0,he.z)(_e)}function Ee(_e){return new re.y(fe=>{(function Te(_e,fe){var Ie,Re,Se,L;return(0,h.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,h.KL)(_e);!(Re=yield Ie.next()).done;)if(fe.next(Re.value),fe.closed)return}catch(ue){Se={error:ue}}finally{try{Re&&!Re.done&&(L=Ie.return)&&(yield L.call(Ie))}finally{if(Se)throw Se.error}}fe.complete()})})(_e,fe).catch(Ie=>fe.error(Ie))})}},266:(nt,Ce,x)=>{x.d(Ce,{T:()=>oe});var h=x(5577),Q=x(4671),re=x(8421),X=x(515),te=x(7669),he=x(8996);function oe(...le){const B=(0,te.yG)(le),U=(0,te._6)(le,1/0),Z=le;return Z.length?1===Z.length?(0,re.Xf)(Z[0]):function N(le=1/0){return(0,h.z)(Q.y,le)}(U)((0,he.D)(Z,B)):X.E}},5403:(nt,Ce,x)=>{x.d(Ce,{x:()=>Q});var h=x(930);function Q(re,X,te,he,oe){return new N(re,X,te,he,oe)}class N extends h.Lv{constructor(X,te,he,oe,le,B){super(X),this.onFinalize=le,this.shouldUnsubscribe=B,this._next=te?function(U){try{te(U)}catch(Z){X.error(Z)}}:super._next,this._error=oe?function(U){try{oe(U)}catch(Z){X.error(Z)}finally{this.unsubscribe()}}:super._error,this._complete=he?function(){try{he()}catch(U){X.error(U)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:te}=this;super.unsubscribe(),!te&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},4004:(nt,Ce,x)=>{x.d(Ce,{U:()=>N});var h=x(4482),Q=x(5403);function N(re,X){return(0,h.e)((te,he)=>{let oe=0;te.subscribe((0,Q.x)(he,le=>{he.next(re.call(X,le,oe++))}))})}},5577:(nt,Ce,x)=>{x.d(Ce,{z:()=>oe});var h=x(4004),Q=x(8421),N=x(4482),re=x(9672),X=x(5403),he=x(576);function oe(le,B,U=1/0){return(0,he.m)(B)?oe((Z,He)=>(0,h.U)((be,ft)=>B(Z,be,He,ft))((0,Q.Xf)(le(Z,He))),U):("number"==typeof B&&(U=B),(0,N.e)((Z,He)=>function te(le,B,U,Z,He,be,ft,je){const ie=[];let Ee=0,ge=0,Te=!1;const _e=()=>{Te&&!ie.length&&!Ee&&B.complete()},fe=Re=>Ee<Z?Ie(Re):ie.push(Re),Ie=Re=>{be&&B.next(Re),Ee++;let Se=!1;(0,Q.Xf)(U(Re,ge++)).subscribe((0,X.x)(B,L=>{He?.(L),be?fe(L):B.next(L)},()=>{Se=!0},void 0,()=>{if(Se)try{for(Ee--;ie.length&&Ee<Z;){const L=ie.shift();ft?(0,re.f)(B,ft,()=>Ie(L)):Ie(L)}_e()}catch(L){B.error(L)}}))};return le.subscribe((0,X.x)(B,fe,()=>{Te=!0,_e()})),()=>{je?.()}}(Z,He,le,U)))}},5363:(nt,Ce,x)=>{x.d(Ce,{Q:()=>re});var h=x(9672),Q=x(4482),N=x(5403);function re(X,te=0){return(0,Q.e)((he,oe)=>{he.subscribe((0,N.x)(oe,le=>(0,h.f)(oe,X,()=>oe.next(le),te),()=>(0,h.f)(oe,X,()=>oe.complete(),te),le=>(0,h.f)(oe,X,()=>oe.error(le),te)))})}},3099:(nt,Ce,x)=>{x.d(Ce,{B:()=>X});var h=x(8421),Q=x(7579),N=x(930),re=x(4482);function X(he={}){const{connector:oe=(()=>new Q.x),resetOnError:le=!0,resetOnComplete:B=!0,resetOnRefCountZero:U=!0}=he;return Z=>{let He,be,ft,je=0,ie=!1,Ee=!1;const ge=()=>{be?.unsubscribe(),be=void 0},Te=()=>{ge(),He=ft=void 0,ie=Ee=!1},_e=()=>{const fe=He;Te(),fe?.unsubscribe()};return(0,re.e)((fe,Ie)=>{je++,!Ee&&!ie&&ge();const Re=ft=ft??oe();Ie.add(()=>{je--,0===je&&!Ee&&!ie&&(be=te(_e,U))}),Re.subscribe(Ie),!He&&je>0&&(He=new N.Hp({next:Se=>Re.next(Se),error:Se=>{Ee=!0,ge(),be=te(Te,le,Se),Re.error(Se)},complete:()=>{ie=!0,ge(),be=te(Te,B),Re.complete()}}),(0,h.Xf)(fe).subscribe(He))})(Z)}}function te(he,oe,...le){if(!0===oe)return void he();if(!1===oe)return;const B=new N.Hp({next:()=>{B.unsubscribe(),he()}});return oe(...le).subscribe(B)}},9468:(nt,Ce,x)=>{x.d(Ce,{R:()=>Q});var h=x(4482);function Q(N,re=0){return(0,h.e)((X,te)=>{te.add(N.schedule(()=>X.subscribe(te),re))})}},4408:(nt,Ce,x)=>{x.d(Ce,{o:()=>X});var h=x(727);class Q extends h.w0{constructor(he,oe){super()}schedule(he,oe=0){return this}}const N={setInterval(te,he,...oe){const{delegate:le}=N;return le?.setInterval?le.setInterval(te,he,...oe):setInterval(te,he,...oe)},clearInterval(te){const{delegate:he}=N;return(he?.clearInterval||clearInterval)(te)},delegate:void 0};var re=x(8737);class X extends Q{constructor(he,oe){super(he,oe),this.scheduler=he,this.work=oe,this.pending=!1}schedule(he,oe=0){var le;if(this.closed)return this;this.state=he;const B=this.id,U=this.scheduler;return null!=B&&(this.id=this.recycleAsyncId(U,B,oe)),this.pending=!0,this.delay=oe,this.id=null!==(le=this.id)&&void 0!==le?le:this.requestAsyncId(U,this.id,oe),this}requestAsyncId(he,oe,le=0){return N.setInterval(he.flush.bind(he,this),le)}recycleAsyncId(he,oe,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return oe;null!=oe&&N.clearInterval(oe)}execute(he,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(he,oe);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(he,oe){let B,le=!1;try{this.work(he)}catch(U){le=!0,B=U||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:he,scheduler:oe}=this,{actions:le}=oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(le,this),null!=he&&(this.id=this.recycleAsyncId(oe,he,null)),this.delay=null,super.unsubscribe()}}}},7565:(nt,Ce,x)=>{x.d(Ce,{v:()=>N});var h=x(6063);class Q{constructor(X,te=Q.now){this.schedulerActionCtor=X,this.now=te}schedule(X,te=0,he){return new this.schedulerActionCtor(this,X).schedule(he,te)}}Q.now=h.l.now;class N extends Q{constructor(X,te=Q.now){super(X,te),this.actions=[],this._active=!1}flush(X){const{actions:te}=this;if(this._active)return void te.push(X);let he;this._active=!0;do{if(he=X.execute(X.state,X.delay))break}while(X=te.shift());if(this._active=!1,he){for(;X=te.shift();)X.unsubscribe();throw he}}}},4986:(nt,Ce,x)=>{x.d(Ce,{z:()=>N});var h=x(4408);const N=new(x(7565).v)(h.o)},6063:(nt,Ce,x)=>{x.d(Ce,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(nt,Ce,x)=>{x.d(Ce,{z:()=>h});const h={setTimeout(Q,N,...re){const{delegate:X}=h;return X?.setTimeout?X.setTimeout(Q,N,...re):setTimeout(Q,N,...re)},clearTimeout(Q){const{delegate:N}=h;return(N?.clearTimeout||clearTimeout)(Q)},delegate:void 0}},2202:(nt,Ce,x)=>{x.d(Ce,{h:()=>Q});const Q=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(nt,Ce,x)=>{x.d(Ce,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(nt,Ce,x)=>{x.d(Ce,{_6:()=>te,jO:()=>re,yG:()=>X});var h=x(576);function N(he){return he[he.length-1]}function re(he){return(0,h.m)(N(he))?he.pop():void 0}function X(he){return function Q(he){return he&&(0,h.m)(he.schedule)}(N(he))?he.pop():void 0}function te(he,oe){return"number"==typeof N(he)?he.pop():oe}},8737:(nt,Ce,x)=>{function h(Q,N){if(Q){const re=Q.indexOf(N);0<=re&&Q.splice(re,1)}}x.d(Ce,{P:()=>h})},3888:(nt,Ce,x)=>{function h(Q){const re=Q(X=>{Error.call(X),X.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}x.d(Ce,{d:()=>h})},2806:(nt,Ce,x)=>{x.d(Ce,{O:()=>re,x:()=>N});var h=x(2416);let Q=null;function N(X){if(h.v.useDeprecatedSynchronousErrorHandling){const te=!Q;if(te&&(Q={errorThrown:!1,error:null}),X(),te){const{errorThrown:he,error:oe}=Q;if(Q=null,he)throw oe}}else X()}function re(X){h.v.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=X)}},9672:(nt,Ce,x)=>{function h(Q,N,re,X=0,te=!1){const he=N.schedule(function(){re(),te?Q.add(this.schedule(null,X)):this.unsubscribe()},X);if(Q.add(he),!te)return he}x.d(Ce,{f:()=>h})},4671:(nt,Ce,x)=>{function h(Q){return Q}x.d(Ce,{y:()=>h})},1144:(nt,Ce,x)=>{x.d(Ce,{z:()=>h});const h=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},2206:(nt,Ce,x)=>{x.d(Ce,{D:()=>Q});var h=x(576);function Q(N){return Symbol.asyncIterator&&(0,h.m)(N?.[Symbol.asyncIterator])}},576:(nt,Ce,x)=>{function h(Q){return"function"==typeof Q}x.d(Ce,{m:()=>h})},3670:(nt,Ce,x)=>{x.d(Ce,{c:()=>N});var h=x(8822),Q=x(576);function N(re){return(0,Q.m)(re[h.L])}},6495:(nt,Ce,x)=>{x.d(Ce,{T:()=>N});var h=x(2202),Q=x(576);function N(re){return(0,Q.m)(re?.[h.h])}},8239:(nt,Ce,x)=>{x.d(Ce,{t:()=>Q});var h=x(576);function Q(N){return(0,h.m)(N?.then)}},3260:(nt,Ce,x)=>{x.d(Ce,{L:()=>re,Q:()=>N});var h=x(655),Q=x(576);function N(X){return(0,h.FC)(this,arguments,function*(){const he=X.getReader();try{for(;;){const{value:oe,done:le}=yield(0,h.qq)(he.read());if(le)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(oe)}}finally{he.releaseLock()}})}function re(X){return(0,Q.m)(X?.getReader)}},4482:(nt,Ce,x)=>{x.d(Ce,{e:()=>N});var h=x(576);function N(re){return X=>{if(function Q(re){return(0,h.m)(re?.lift)}(X))return X.lift(function(te){try{return re(te,this)}catch(he){this.error(he)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(nt,Ce,x)=>{function h(){}x.d(Ce,{Z:()=>h})},7849:(nt,Ce,x)=>{x.d(Ce,{h:()=>N});var h=x(2416),Q=x(3410);function N(re){Q.z.setTimeout(()=>{const{onUnhandledError:X}=h.v;if(!X)throw re;X(re)})}},4532:(nt,Ce,x)=>{function h(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(Ce,{z:()=>h})},655:(nt,Ce,x)=>{function re(ee,se){var ce={};for(var De in ee)Object.prototype.hasOwnProperty.call(ee,De)&&se.indexOf(De)<0&&(ce[De]=ee[De]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var Me=0;for(De=Object.getOwnPropertySymbols(ee);Me<De.length;Me++)se.indexOf(De[Me])<0&&Object.prototype.propertyIsEnumerable.call(ee,De[Me])&&(ce[De[Me]]=ee[De[Me]])}return ce}function Z(ee,se,ce,De){return new(ce||(ce=Promise))(function(xe,We){function $e(Rt){try{it(De.next(Rt))}catch(ze){We(ze)}}function Lt(Rt){try{it(De.throw(Rt))}catch(ze){We(ze)}}function it(Rt){Rt.done?xe(Rt.value):function Me(xe){return xe instanceof ce?xe:new ce(function(We){We(xe)})}(Rt.value).then($e,Lt)}it((De=De.apply(ee,se||[])).next())})}function _e(ee){return this instanceof _e?(this.v=ee,this):new _e(ee)}function fe(ee,se,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,De=ce.apply(ee,se||[]),xe=[];return Me={},We("next"),We("throw"),We("return"),Me[Symbol.asyncIterator]=function(){return this},Me;function We(ot){De[ot]&&(Me[ot]=function(dn){return new Promise(function(Ut,Xt){xe.push([ot,dn,Ut,Xt])>1||$e(ot,dn)})})}function $e(ot,dn){try{!function Lt(ot){ot.value instanceof _e?Promise.resolve(ot.value.v).then(it,Rt):ze(xe[0][2],ot)}(De[ot](dn))}catch(Ut){ze(xe[0][3],Ut)}}function it(ot){$e("next",ot)}function Rt(ot){$e("throw",ot)}function ze(ot,dn){ot(dn),xe.shift(),xe.length&&$e(xe[0][0],xe[0][1])}}function Re(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,se=ee[Symbol.asyncIterator];return se?se.call(ee):(ee=function je(ee){var se="function"==typeof Symbol&&Symbol.iterator,ce=se&&ee[se],De=0;if(ce)return ce.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&De>=ee.length&&(ee=void 0),{value:ee&&ee[De++],done:!ee}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),ce={},De("next"),De("throw"),De("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function De(xe){ce[xe]=ee[xe]&&function(We){return new Promise(function($e,Lt){!function Me(xe,We,$e,Lt){Promise.resolve(Lt).then(function(it){xe({value:it,done:$e})},We)}($e,Lt,(We=ee[xe](We)).done,We.value)})}}}x.d(Ce,{FC:()=>fe,KL:()=>Re,_T:()=>re,mG:()=>Z,qq:()=>_e})},4650:(nt,Ce,x)=>{x.d(Ce,{$8M:()=>fa,AFp:()=>_p,ALo:()=>mm,AaK:()=>oe,CHM:()=>ra,CZH:()=>ff,CqO:()=>Vg,D6c:()=>x0,EJc:()=>Hv,EpF:()=>W_,F4k:()=>z_,FYo:()=>qu,FiY:()=>_o,GfV:()=>ch,Gpc:()=>U,JOm:()=>bi,KtG:()=>Fc,LFG:()=>ke,Lbi:()=>d0,Lck:()=>sI,MAs:()=>cc,MR2:()=>Cd,NdJ:()=>Bg,OlP:()=>$t,Oqu:()=>zd,Q6J:()=>dc,QGY:()=>Lg,Qsj:()=>i_,R0b:()=>Ni,RDi:()=>bl,Rgc:()=>Dc,SBq:()=>Ad,TTD:()=>ms,TgZ:()=>Hd,X6Q:()=>oD,Xpm:()=>Go,Y36:()=>Ll,YNc:()=>$_,Yjl:()=>Ha,Yz7:()=>ze,ZZ4:()=>Zm,_Bn:()=>fm,_UZ:()=>kh,_c5:()=>N0,_uU:()=>Uh,aQg:()=>Km,cJS:()=>dn,cg1:()=>Yg,dDg:()=>qI,dqk:()=>mt,eFA:()=>Yv,ekj:()=>Hs,eoX:()=>Hm,f3M:()=>Qe,g9A:()=>Uv,h0i:()=>Ec,hGG:()=>O0,hij:()=>Kl,ifc:()=>Y,ip1:()=>Bv,kL8:()=>Qg,lG2:()=>Ua,lcZ:()=>_m,lqb:()=>Mo,lri:()=>Wv,n5z:()=>yu,oAB:()=>zo,oxw:()=>Q_,q4F:()=>s_,qLn:()=>Yu,qOj:()=>Mg,qZA:()=>jd,rWj:()=>Um,sBO:()=>aD,s_b:()=>tf,soG:()=>hf,uIk:()=>Oh,vHH:()=>ie,vpe:()=>ls,wAp:()=>ct,xp6:()=>tg,zSh:()=>Gu,zs3:()=>kl});var h=x(7579),Q=x(727),N=x(8306),re=x(266),X=x(3099);function te(n){for(let i in n)if(n[i]===te)return i;throw Error("Could not find renamed property on target object.")}function he(n,i){for(const s in i)i.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=i[s])}function oe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(oe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function le(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const B=te({__forward_ref__:te});function U(n){return n.__forward_ref__=U,n.toString=function(){return oe(this())},n}function Z(n){return He(n)?n():n}function He(n){return"function"==typeof n&&n.hasOwnProperty(B)&&n.__forward_ref__===U}function be(n){return n&&!!n.\u0275providers}class ie extends Error{constructor(i,s){super(Ee(i,s)),this.code=i}}function Ee(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function ge(n){return"string"==typeof n?n:null==n?"":String(n)}function Re(n,i){throw new ie(-201,!1)}function We(n,i){null==n&&function $e(n,i,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${i} <=Actual]`))}(i,n,null,"!=")}function ze(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function dn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ut(n){return en(n,Qn)||en(n,Gt)}function en(n,i){return n.hasOwnProperty(i)?n[i]:null}function Cr(n){return n&&(n.hasOwnProperty(ci)||n.hasOwnProperty(ir))?n[ci]:null}const Qn=te({\u0275prov:te}),ci=te({\u0275inj:te}),Gt=te({ngInjectableDef:te}),ir=te({ngInjectorDef:te});var tt=(()=>((tt=tt||{})[tt.Default=0]="Default",tt[tt.Host=1]="Host",tt[tt.Self=2]="Self",tt[tt.SkipSelf=4]="SkipSelf",tt[tt.Optional=8]="Optional",tt))();let di;function tn(n){const i=di;return di=n,i}function Ln(n,i,s){const a=Ut(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&tt.Optional?null:void 0!==i?i:void Re(oe(n))}const mt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Wt={},fn="__NG_DI_FLAG__",Vn="ngTempTokenPath",Bn="ngTokenPath",cs=/\n/gm,Vt="\u0275",Vr="__source";let At;function Jn(n){const i=At;return At=n,i}function Br(n,i=tt.Default){if(void 0===At)throw new ie(-203,!1);return null===At?Ln(n,void 0,i):At.get(n,i&tt.Optional?null:void 0,i)}function ke(n,i=tt.Default){return(function xr(){return di}()||Br)(Z(n),i)}function Qe(n,i=tt.Default){return ke(n,at(i))}function at(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function gt(n){const i=[];for(let s=0;s<n.length;s++){const a=Z(n[s]);if(Array.isArray(a)){if(0===a.length)throw new ie(900,!1);let u,f=tt.Default;for(let g=0;g<a.length;g++){const v=a[g],E=Un(v);"number"==typeof E?-1===E?u=v.token:f|=E:u=v}i.push(ke(u,f))}else i.push(ke(a))}return i}function Et(n,i){return n[fn]=i,n.prototype[fn]=i,n}function Un(n){return n[fn]}function H(n){return{toString:n}.toString()}var ae=(()=>((ae=ae||{})[ae.OnPush=0]="OnPush",ae[ae.Default=1]="Default",ae))(),Y=(()=>{return(n=Y||(Y={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Y;var n})();const Ze={},Ue=[],Bt=te({\u0275cmp:te}),nn=te({\u0275dir:te}),on=te({\u0275pipe:te}),wn=te({\u0275mod:te}),_t=te({\u0275fac:te}),Xn=te({__NG_ELEMENT_ID__:te});let Ur=0;function Go(n){return H(()=>{const i=Hn(n),s={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ae.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Y.Emulated,id:"c"+Ur++,styles:n.styles||Ue,_:null,schemas:n.schemas||null,tView:null};Zs(s);const a=n.dependencies;return s.directiveDefs=Fi(a,!1),s.pipeDefs=Fi(a,!0),s})}function Ba(n){return Mt(n)||_n(n)}function Wo(n){return null!==n}function zo(n){return H(()=>({type:n.type,bootstrap:n.bootstrap||Ue,declarations:n.declarations||Ue,imports:n.imports||Ue,exports:n.exports||Ue,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function an(n,i){if(null==n)return Ze;const s={};for(const a in n)if(n.hasOwnProperty(a)){let u=n[a],f=u;Array.isArray(u)&&(f=u[1],u=u[0]),s[u]=a,i&&(i[u]=f)}return s}function Ua(n){return H(()=>{const i=Hn(n);return Zs(i),i})}function Ha(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Mt(n){return n[Bt]||null}function _n(n){return n[nn]||null}function Pn(n){return n[on]||null}function Hn(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Ue,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:an(n.inputs,i),outputs:an(n.outputs)}}function Zs(n){n.features?.forEach(i=>i(n))}function Fi(n,i){if(!n)return null;const s=i?Pn:Ba;return()=>("function"==typeof n?n():n).map(a=>s(a)).filter(Wo)}const Ir=0,qe=1,yt=2,jt=3,sr=4,Hr=5,ln=6,Li=7,qt=8,Vi=9,Ks=10,Ct=11,ds=12,fs=13,Bi=14,qs=15,Rn=16,hs=17,Ui=18,or=19,Dr=20,ja=21,Tt=22,$a=1,Zo=2,Hi=7,wr=8,ps=9,Nn=10;function ar(n){return Array.isArray(n)&&"object"==typeof n[$a]}function lr(n){return Array.isArray(n)&&!0===n[$a]}function Kr(n){return 0!=(4&n.flags)}function Ko(n){return n.componentOffset>-1}function ji(n){return 1==(1&n.flags)}function jn(n){return!!n.template}function nu(n){return 0!=(256&n[yt])}function ur(n,i){return n.hasOwnProperty(_t)?n[_t]:null}class iu{constructor(i,s,a){this.previousValue=i,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function ms(){return Yo}function Yo(n){return n.type.prototype.ngOnChanges&&(n.setInput=ys),_s}function _s(){const n=Qo(this),i=n?.current;if(i){const s=n.previous;if(s===Ze)n.previous=i;else for(let a in i)s[a]=i[a];n.current=null,this.ngOnChanges(i)}}function ys(n,i,s,a){const u=this.declaredInputs[s],f=Qo(n)||function Jo(n,i){return n[Qs]=i}(n,{previous:Ze,current:null}),g=f.current||(f.current={}),v=f.previous,E=v[u];g[u]=new iu(E&&E.currentValue,i,v===Ze),n[a]=i}ms.ngInherit=!0;const Qs="__ngSimpleChanges__";function Qo(n){return n[Qs]||null}const kt=function(n,i,s){};function rn(n){for(;Array.isArray(n);)n=n[Ir];return n}function $r(n,i){return rn(i[n])}function $n(n,i){return rn(i[n.index])}function qa(n,i){return n.data[i]}function Gr(n,i){return n[i]}function Tn(n,i){const s=i[n];return ar(s)?s:s[Ir]}function vs(n){return 64==(64&n[yt])}function Yr(n,i){return null==i?null:n[i]}function Es(n){n[Ui]=0}function Qa(n,i){n[Hr]+=i;let s=n,a=n[jt];for(;null!==a&&(1===i&&1===s[Hr]||-1===i&&0===s[Hr]);)a[Hr]+=i,s=a,a=a[jt]}const ut={lFrame:Ap(null),bindingsEnabled:!0};function na(){return ut.bindingsEnabled}function ve(){return ut.lFrame.lView}function Pt(){return ut.lFrame.tView}function ra(n){return ut.lFrame.contextLView=n,n[qt]}function Fc(n){return ut.lFrame.contextLView=null,n}function Sn(){let n=Ja();for(;null!==n&&64===n.type;)n=n.parent;return n}function Ja(){return ut.lFrame.currentTNode}function cr(n,i){const s=ut.lFrame;s.currentTNode=n,s.isParent=i}function lu(){return ut.lFrame.isParent}function ro(){return ut.lFrame.bindingIndex++}function du(n,i){const s=ut.lFrame;s.bindingIndex=s.bindingRootIndex=n,oa(i)}function oa(n){ut.lFrame.currentDirectiveIndex=n}function aa(n){ut.lFrame.currentQueryIndex=n}function Cf(n){const i=n[qe];return 2===i.type?i.declTNode:1===i.type?n[ln]:null}function nl(n,i,s){if(s&tt.SkipSelf){let u=i,f=n;for(;!(u=u.parent,null!==u||s&tt.Host||(u=Cf(f),null===u||(f=f[qs],10&u.type))););if(null===u)return!1;i=u,n=f}const a=ut.lFrame=If();return a.currentTNode=i,a.lView=n,!0}function fu(n){const i=If(),s=n[qe];ut.lFrame=i,i.currentTNode=s.firstChild,i.lView=n,i.tView=s,i.contextLView=n,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function If(){const n=ut.lFrame,i=null===n?null:n.child;return null===i?Ap(n):i}function Ap(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function rl(){const n=ut.lFrame;return ut.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Df=rl;function Lc(){const n=rl();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function er(){return ut.lFrame.selectedIndex}function io(n){ut.lFrame.selectedIndex=n}function zt(){const n=ut.lFrame;return qa(n.tView,n.selectedIndex)}function il(n,i){for(let s=i.directiveStart,a=i.directiveEnd;s<a;s++){const f=n.data[s].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:v,ngAfterViewInit:E,ngAfterViewChecked:b,ngOnDestroy:M}=f;g&&(n.contentHooks||(n.contentHooks=[])).push(-s,g),v&&((n.contentHooks||(n.contentHooks=[])).push(s,v),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,v)),E&&(n.viewHooks||(n.viewHooks=[])).push(-s,E),b&&((n.viewHooks||(n.viewHooks=[])).push(s,b),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,b)),null!=M&&(n.destroyHooks||(n.destroyHooks=[])).push(s,M)}}function sl(n,i,s){gi(n,i,3,s)}function Ds(n,i,s,a){(3&n[yt])===s&&gi(n,i,s,a)}function zi(n,i){let s=n[yt];(3&s)===i&&(s&=2047,s+=1,n[yt]=s)}function gi(n,i,s,a){const f=a??-1,g=i.length-1;let v=0;for(let E=void 0!==a?65535&n[Ui]:0;E<g;E++)if("number"==typeof i[E+1]){if(v=i[E],null!=a&&v>=a)break}else i[E]<0&&(n[Ui]+=65536),(v<f||-1==f)&&(la(n,s,i,E),n[Ui]=(4294901760&n[Ui])+E+2),E++}function la(n,i,s,a){const u=s[a]<0,f=s[a+1],v=n[u?-s[a]:s[a]];if(u){if(n[yt]>>11<n[Ui]>>16&&(3&n[yt])===i){n[yt]+=2048,kt(4,v,f);try{f.call(v)}finally{kt(5,v,f)}}}else{kt(4,v,f);try{f.call(v)}finally{kt(5,v,f)}}}const Sr=-1;class so{constructor(i,s,a){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Wr(n,i,s){let a=0;for(;a<s.length;){const u=s[a];if("number"==typeof u){if(0!==u)break;a++;const f=s[a++],g=s[a++],v=s[a++];n.setAttribute(i,g,v,f)}else{const f=u,g=s[++a];Zt(f)?n.setProperty(i,f,g):n.setAttribute(i,f,g),a++}}return a}function ws(n){return 3===n||4===n||6===n}function Zt(n){return 64===n.charCodeAt(0)}function mi(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let s=-1;for(let a=0;a<i.length;a++){const u=i[a];"number"==typeof u?s=u:0===s||Zi(n,s,u,null,-1===s||2===s?i[++a]:null)}}return n}function Zi(n,i,s,a,u){let f=0,g=n.length;if(-1===i)g=-1;else for(;f<n.length;){const v=n[f++];if("number"==typeof v){if(v===i){g=-1;break}if(v>i){g=f-1;break}}}for(;f<n.length;){const v=n[f];if("number"==typeof v)break;if(v===s){if(null===a)return void(null!==u&&(n[f+1]=u));if(a===n[f+1])return void(n[f+2]=u)}f++,null!==a&&f++,null!==u&&f++}-1!==g&&(n.splice(g,0,i),f=g+1),n.splice(f++,0,s),null!==a&&n.splice(f++,0,a),null!==u&&n.splice(f++,0,u)}function ll(n){return n!==Sr}function bs(n){return 32767&n}function Ts(n,i){let s=function Bc(n){return n>>16}(n),a=i;for(;s>0;)a=a[qs],s--;return a}let oo=!0;function Ss(n){const i=oo;return oo=n,i}const As=255,Ki=5;let _i=0;const Mr={};function Ms(n,i){const s=ua(n,i);if(-1!==s)return s;const a=i[qe];a.firstCreatePass&&(n.injectorIndex=i.length,yi(a.data,n),yi(i,null),yi(a.blueprint,null));const u=vi(n,i),f=n.injectorIndex;if(ll(u)){const g=bs(u),v=Ts(u,i),E=v[qe].data;for(let b=0;b<8;b++)i[f+b]=v[g+b]|E[g+b]}return i[f+8]=u,f}function yi(n,i){n.push(0,0,0,0,0,0,0,0,i)}function ua(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function vi(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,u=i;for(;null!==u;){if(a=Eu(u),null===a)return Sr;if(s++,u=u[qs],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return Sr}function Ps(n,i,s){!function ao(n,i,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Xn)&&(a=s[Xn]),null==a&&(a=s[Xn]=_i++);const u=a&As;i.data[n+(u>>Ki)]|=1<<u}(n,i,s)}function lo(n,i,s){if(s&tt.Optional||void 0!==n)return n;Re()}function Hc(n,i,s,a){if(s&tt.Optional&&void 0===a&&(a=null),!(s&(tt.Self|tt.Host))){const u=n[Vi],f=tn(void 0);try{return u?u.get(i,a,s&tt.Optional):Ln(i,a,s&tt.Optional)}finally{tn(f)}}return lo(a,0,s)}function Qr(n,i,s,a=tt.Default,u){if(null!==n){if(1024&i[yt]){const g=function vu(n,i,s,a,u){let f=n,g=i;for(;null!==f&&null!==g&&1024&g[yt]&&!(256&g[yt]);){const v=mu(f,g,s,a|tt.Self,Mr);if(v!==Mr)return v;let E=f.parent;if(!E){const b=g[ja];if(b){const M=b.get(s,Mr,a);if(M!==Mr)return M}E=Eu(g),g=g[qs]}f=E}return u}(n,i,s,a,Mr);if(g!==Mr)return g}const f=mu(n,i,s,a,Mr);if(f!==Mr)return f}return Hc(i,s,a,u)}function mu(n,i,s,a,u){const f=function Yi(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Xn)?n[Xn]:void 0;return"number"==typeof i?i>=0?i&As:cl:i}(s);if("function"==typeof f){if(!nl(i,n,a))return a&tt.Host?lo(u,0,a):Hc(i,s,a,u);try{const g=f(a);if(null!=g||a&tt.Optional)return g;Re()}finally{Df()}}else if("number"==typeof f){let g=null,v=ua(n,i),E=Sr,b=a&tt.Host?i[Rn][ln]:null;for((-1===v||a&tt.SkipSelf)&&(E=-1===v?vi(n,i):i[v+8],E!==Sr&&da(a,!1)?(g=i[qe],v=bs(E),i=Ts(E,i)):v=-1);-1!==v;){const M=i[qe];if(_u(f,v,M.data)){const k=kr(v,i,s,g,a,b);if(k!==Mr)return k}E=i[v+8],E!==Sr&&da(a,i[qe].data[v+8]===b)&&_u(f,v,i)?(g=M,v=bs(E),i=Ts(E,i)):v=-1}}return u}function kr(n,i,s,a,u,f){const g=i[qe],v=g.data[n+8],M=function ca(n,i,s,a,u){const f=n.providerIndexes,g=i.data,v=1048575&f,E=n.directiveStart,M=f>>20,$=u?v+M:n.directiveEnd;for(let q=a?v:v+M;q<$;q++){const de=g[q];if(q<E&&s===de||q>=E&&de.type===s)return q}if(u){const q=g[E];if(q&&jn(q)&&q.type===s)return E}return null}(v,g,s,null==a?Ko(v)&&oo:a!=g&&0!=(3&v.type),u&tt.Host&&f===v);return null!==M?qi(i,g,M,v):Mr}function qi(n,i,s,a){let u=n[s];const f=i.data;if(function pu(n){return n instanceof so}(u)){const g=u;g.resolving&&function _e(n,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new ie(-200,`Circular dependency in DI detected for ${n}${s}`)}(function Te(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ge(n)}(f[s]));const v=Ss(g.canSeeViewProviders);g.resolving=!0;const E=g.injectImpl?tn(g.injectImpl):null;nl(n,a,tt.Default);try{u=n[s]=g.factory(void 0,f,n,a),i.firstCreatePass&&s>=a.directiveStart&&function Sf(n,i,s){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:f}=i.type.prototype;if(a){const g=Yo(i);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,g),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,g)}u&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,u),f&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,f),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,f))}(s,f[s],i)}finally{null!==E&&tn(E),Ss(v),g.resolving=!1,Df()}}return u}function _u(n,i,s){return!!(s[i+(n>>Ki)]&1<<n)}function da(n,i){return!(n&tt.Self||n&tt.Host&&i)}class Gn{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,a){return Qr(this._tNode,this._lView,i,at(a),s)}}function cl(){return new Gn(Sn(),ve())}function yu(n){return H(()=>{const i=n.prototype.constructor,s=i[_t]||Rs(i),a=Object.prototype;let u=Object.getPrototypeOf(n.prototype).constructor;for(;u&&u!==a;){const f=u[_t]||Rs(u);if(f&&f!==s)return f;u=Object.getPrototypeOf(u)}return f=>new f})}function Rs(n){return He(n)?()=>{const i=Rs(Z(n));return i&&i()}:ur(n)}function Eu(n){const i=n[qe],s=i.type;return 2===s?i.declTNode:1===s?n[ln]:null}function fa(n){return function Uc(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const s=n.attrs;if(s){const a=s.length;let u=0;for(;u<a;){const f=s[u];if(ws(f))break;if(0===f)u+=2;else if("number"==typeof f)for(u++;u<a&&"string"==typeof s[u];)u++;else{if(f===i)return s[u+1];u+=2}}}return null}(Sn(),n)}const Qi="__parameters__";function co(n,i,s){return H(()=>{const a=function jc(n){return function(...s){if(n){const a=n(...s);for(const u in a)this[u]=a[u]}}}(i);function u(...f){if(this instanceof u)return a.apply(this,f),this;const g=new u(...f);return v.annotation=g,v;function v(E,b,M){const k=E.hasOwnProperty(Qi)?E[Qi]:Object.defineProperty(E,Qi,{value:[]})[Qi];for(;k.length<=M;)k.push(null);return(k[M]=k[M]||[]).push(g),E}}return s&&(u.prototype=Object.create(s.prototype)),u.prototype.ngMetadataName=n,u.annotationCls=u,u})}class $t{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=ze({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function xs(n,i){n.forEach(s=>Array.isArray(s)?xs(s,i):i(s))}function Yc(n,i,s){i>=n.length?n.push(s):n.splice(i,0,s)}function dl(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Wn(n,i,s){let a=ho(n,i);return a>=0?n[1|a]=s:(a=~a,function hl(n,i,s,a){let u=n.length;if(u==i)n.push(s,a);else if(1===u)n.push(a,n[0]),n[0]=s;else{for(u--,n.push(n[u-1],n[u]);u>i;)n[u]=n[u-2],u--;n[i]=s,n[i+1]=a}}(n,a,i,s)),a}function Xr(n,i){const s=ho(n,i);if(s>=0)return n[1|s]}function ho(n,i){return function go(n,i,s){let a=0,u=n.length>>s;for(;u!==a;){const f=a+(u-a>>1),g=n[f<<s];if(i===g)return f<<s;g>i?u=f:a=f+1}return~(u<<s)}(n,i,1)}const _o=Et(co("Optional"),8),Ji=Et(co("SkipSelf"),4);var bi=(()=>((bi=bi||{})[bi.Important=1]="Important",bi[bi.DashCase=2]="DashCase",bi))();const Du=new Map;let Np=0;const Io="__ngContext__";function mr(n,i){ar(i)?(n[Io]=i[Dr],function nd(n){Du.set(n[Dr],n)}(i)):n[Io]=i}let Su;function ad(n,i){return Su(n,i)}function vl(n){const i=n[jt];return lr(i)?i[jt]:i}function El(n){return Au(n[fs])}function bo(n){return Au(n[sr])}function Au(n){for(;null!==n&&!lr(n);)n=n[sr];return n}function va(n,i,s,a,u){if(null!=a){let f,g=!1;lr(a)?f=a:ar(a)&&(g=!0,a=a[Ir]);const v=rn(a);0===n&&null!==s?null==u?Ru(i,s,v):Pr(i,s,v,u||null,!0):1===n&&null!==s?Pr(i,s,v,u||null,!0):2===n?function Ia(n,i,s){const a=ts(n,i);a&&function zf(n,i,s,a){n.removeChild(i,s,a)}(n,a,i,s)}(i,v,g):3===n&&i.destroyNode(v),null!=f&&function Qf(n,i,s,a,u){const f=s[Hi];f!==rn(s)&&va(i,n,a,f,u);for(let v=Nn;v<s.length;v++){const E=s[v];To(E[qe],E,n,i,a,f)}}(i,n,f,s,u)}}function Il(n,i,s){return n.createElement(i,s)}function Mu(n,i){const s=n[ps],a=s.indexOf(i),u=i[jt];512&i[yt]&&(i[yt]&=-513,Qa(u,-1)),s.splice(a,1)}function cd(n,i){if(n.length<=Nn)return;const s=Nn+i,a=n[s];if(a){const u=a[hs];null!==u&&u!==n&&Mu(u,a),i>0&&(n[s-1][sr]=a[sr]);const f=dl(n,Nn+i);!function Fp(n,i){To(n,i,i[Ct],2,null,null),i[Ir]=null,i[ln]=null}(a[qe],a);const g=f[or];null!==g&&g.detachView(f[qe]),a[jt]=null,a[sr]=null,a[yt]&=-65}return a}function $f(n,i){if(!(128&i[yt])){const s=i[Ct];s.destroyNode&&To(n,i,s,3,null,null),function Hf(n){let i=n[fs];if(!i)return Ea(n[qe],n);for(;i;){let s=null;if(ar(i))s=i[fs];else{const a=i[Nn];a&&(s=a)}if(!s){for(;i&&!i[sr]&&i!==n;)ar(i)&&Ea(i[qe],i),i=i[jt];null===i&&(i=n),ar(i)&&Ea(i[qe],i),s=i&&i[sr]}i=s}}(i)}}function Ea(n,i){if(!(128&i[yt])){i[yt]&=-65,i[yt]|=128,function Vp(n,i){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const u=i[s[a]];if(!(u instanceof so)){const f=s[a+1];if(Array.isArray(f))for(let g=0;g<f.length;g+=2){const v=u[f[g]],E=f[g+1];kt(4,v,E);try{E.call(v)}finally{kt(5,v,E)}}else{kt(4,u,f);try{f.call(u)}finally{kt(5,u,f)}}}}}(n,i),function Pu(n,i){const s=n.cleanup,a=i[Li];let u=-1;if(null!==s)for(let f=0;f<s.length-1;f+=2)if("string"==typeof s[f]){const g=s[f+3];g>=0?a[u=g]():a[u=-g].unsubscribe(),f+=2}else{const g=a[u=s[f+1]];s[f].call(g)}if(null!==a){for(let f=u+1;f<a.length;f++)(0,a[f])();i[Li]=null}}(n,i),1===i[qe].type&&i[Ct].destroy();const s=i[hs];if(null!==s&&lr(i[jt])){s!==i[jt]&&Mu(s,i);const a=i[or];null!==a&&a.detachView(n)}!function rd(n){Du.delete(n[Dr])}(i)}}function Gf(n,i,s){return function Dl(n,i,s){let a=i;for(;null!==a&&40&a.type;)a=(i=a).parent;if(null===a)return s[Ir];{const{componentOffset:u}=a;if(u>-1){const{encapsulation:f}=n.data[a.directiveStart+u];if(f===Y.None||f===Y.Emulated)return null}return $n(a,s)}}(n,i.parent,s)}function Pr(n,i,s,a,u){n.insertBefore(i,s,a,u)}function Ru(n,i,s){n.appendChild(i,s)}function Wf(n,i,s,a,u){null!==a?Pr(n,i,s,a,u):Ru(n,i,s)}function ts(n,i){return n.parentNode(i)}let Nu,pd,qf=function Ca(n,i,s){return 40&n.type?$n(n,s):null};function wl(n,i,s,a){const u=Gf(n,a,i),f=i[Ct],v=function Kf(n,i,s){return qf(n,i,s)}(a.parent||i[ln],a,i);if(null!=u)if(Array.isArray(s))for(let E=0;E<s.length;E++)Wf(f,u,s[E],v,!1);else Wf(f,u,s,v,!1);void 0!==Nu&&Nu(f,a,i,s,u)}function xu(n,i){if(null!==i){const s=i.type;if(3&s)return $n(i,n);if(4&s)return ku(-1,n[i.index]);if(8&s){const a=i.child;if(null!==a)return xu(n,a);{const u=n[i.index];return lr(u)?ku(-1,u):rn(u)}}if(32&s)return ad(i,n)()||rn(n[i.index]);{const a=fd(n,i);return null!==a?Array.isArray(a)?a[0]:xu(vl(n[Rn]),a):xu(n,i.next)}}return null}function fd(n,i){return null!==i?n[Rn][ln].projection[i.projection]:null}function ku(n,i){const s=Nn+n+1;if(s<i.length){const a=i[s],u=a[qe].firstChild;if(null!==u)return xu(a,u)}return i[Hi]}function Da(n,i,s,a,u,f,g){for(;null!=s;){const v=a[s.index],E=s.type;if(g&&0===i&&(v&&mr(rn(v),a),s.flags|=2),32!=(32&s.flags))if(8&E)Da(n,i,s.child,a,u,f,!1),va(i,n,u,v,f);else if(32&E){const b=ad(s,a);let M;for(;M=b();)va(i,n,u,M,f);va(i,n,u,v,f)}else 16&E?Fu(n,i,a,s,u,f):va(i,n,u,v,f);s=g?s.projectionNext:s.next}}function To(n,i,s,a,u,f){Da(s,a,n.firstChild,i,u,f,!1)}function Fu(n,i,s,a,u,f){const g=s[Rn],E=g[ln].projection[a.projection];if(Array.isArray(E))for(let b=0;b<E.length;b++)va(i,n,u,E[b],f);else Da(n,i,E,g[jt],u,f,!0)}function ba(n,i,s){""===s?n.removeAttribute(i,"class"):n.setAttribute(i,"class",s)}function hd(n,i,s){const{mergedAttrs:a,classes:u,styles:f}=s;null!==a&&Wr(n,i,a),null!==u&&ba(n,i,u),null!==f&&function wa(n,i,s){n.setAttribute(i,"style",s)}(n,i,f)}function bl(n){pd=n}class Cn{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const ju=new $t("ENVIRONMENT_INITIALIZER"),$u=new $t("INJECTOR",-1),Qm=new $t("INJECTOR_DEF_TYPES");class rh{get(i,s=Wt){if(s===Wt){const a=new Error(`NullInjectorError: No provider for ${oe(i)}!`);throw a.name="NullInjectorError",a}return s}}function Cd(n){return{\u0275providers:n}}function pE(...n){return{\u0275providers:Id(0,n),\u0275fromNgModule:!0}}function Id(n,...i){const s=[],a=new Set;let u;return xs(i,f=>{const g=f;zp(g,s,[],a)&&(u||(u=[]),u.push(g))}),void 0!==u&&Jm(u,s),s}function Jm(n,i){for(let s=0;s<n.length;s++){const{providers:u}=n[s];Dd(u,f=>{i.push(f)})}}function zp(n,i,s,a){if(!(n=Z(n)))return!1;let u=null,f=Cr(n);const g=!f&&Mt(n);if(f||g){if(g&&!g.standalone)return!1;u=n}else{const E=n.ngModule;if(f=Cr(E),!f)return!1;u=E}const v=a.has(u);if(g){if(v)return!1;if(a.add(u),g.dependencies){const E="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const b of E)zp(b,i,s,a)}}else{if(!f)return!1;{if(null!=f.imports&&!v){let b;a.add(u);try{xs(f.imports,M=>{zp(M,i,s,a)&&(b||(b=[]),b.push(M))})}finally{}void 0!==b&&Jm(b,i)}if(!v){const b=ur(u)||(()=>new u);i.push({provide:u,useFactory:b,deps:Ue},{provide:Qm,useValue:u,multi:!0},{provide:ju,useValue:()=>ke(u),multi:!0})}const E=f.providers;null==E||v||Dd(E,M=>{i.push(M)})}}return u!==n&&void 0!==n.providers}function Dd(n,i){for(let s of n)be(s)&&(s=s.\u0275providers),Array.isArray(s)?Dd(s,i):i(s)}const gE=te({provide:String,useValue:te});function wd(n){return null!==n&&"object"==typeof n&&gE in n}function Aa(n){return"function"==typeof n}const Gu=new $t("Set Injector scope."),ih={},sh={};let Ma;function Wu(){return void 0===Ma&&(Ma=new rh),Ma}class Mo{}class t_ extends Mo{get destroyed(){return this._destroyed}constructor(i,s,a,u){super(),this.parent=s,this.source=a,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Td(i,g=>this.processProvider(g)),this.records.set($u,zu(void 0,this)),u.has("environment")&&this.records.set(Mo,zu(void 0,this));const f=this.records.get(Gu);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Qm.multi,Ue,tt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const s=Jn(this),a=tn(void 0);try{return i()}finally{Jn(s),tn(a)}}get(i,s=Wt,a=tt.Default){this.assertNotDestroyed(),a=at(a);const u=Jn(this),f=tn(void 0);try{if(!(a&tt.SkipSelf)){let v=this.records.get(i);if(void 0===v){const E=function qp(n){return"function"==typeof n||"object"==typeof n&&n instanceof $t}(i)&&Ut(i);v=E&&this.injectableDefInScope(E)?zu(Zp(i),ih):null,this.records.set(i,v)}if(null!=v)return this.hydrate(i,v)}return(a&tt.Self?Wu():this.parent).get(i,s=a&tt.Optional&&s===Wt?null:s)}catch(g){if("NullInjectorError"===g.name){if((g[Vn]=g[Vn]||[]).unshift(oe(i)),u)throw g;return function V(n,i,s,a){const u=n[Vn];throw i[Vr]&&u.unshift(i[Vr]),n.message=function F(n,i,s,a=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Vt?n.slice(2):n;let u=oe(i);if(Array.isArray(i))u=i.map(oe).join(" -> ");else if("object"==typeof i){let f=[];for(let g in i)if(i.hasOwnProperty(g)){let v=i[g];f.push(g+":"+("string"==typeof v?JSON.stringify(v):oe(v)))}u=`{${f.join(", ")}}`}return`${s}${a?"("+a+")":""}[${u}]: ${n.replace(cs,"\n  ")}`}("\n"+n.message,u,s,a),n[Bn]=u,n[Vn]=null,n}(g,i,"R3InjectorError",this.source)}throw g}finally{tn(f),Jn(u)}}resolveInjectorInitializers(){const i=Jn(this),s=tn(void 0);try{const a=this.get(ju.multi,Ue,tt.Self);for(const u of a)u()}finally{Jn(i),tn(s)}}toString(){const i=[],s=this.records;for(const a of s.keys())i.push(oe(a));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ie(205,!1)}processProvider(i){let s=Aa(i=Z(i))?i:Z(i&&i.provide);const a=function mE(n){return wd(n)?zu(void 0,n.useValue):zu(r_(n),ih)}(i);if(Aa(i)||!0!==i.multi)this.records.get(s);else{let u=this.records.get(s);u||(u=zu(void 0,ih,!0),u.factory=()=>gt(u.multi),this.records.set(s,u)),s=i,u.multi.push(i)}this.records.set(s,a)}hydrate(i,s){return s.value===ih&&(s.value=sh,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Kp(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=Z(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function Zp(n){const i=Ut(n),s=null!==i?i.factory:ur(n);if(null!==s)return s;if(n instanceof $t)throw new ie(204,!1);if(n instanceof Function)return function n_(n){const i=n.length;if(i>0)throw function Ii(n,i){const s=[];for(let a=0;a<n;a++)s.push(i);return s}(i,"?"),new ie(204,!1);const s=function rr(n){const i=n&&(n[Qn]||n[Gt]);return i?(function ui(n){if(n.hasOwnProperty("name"))return n.name;(""+n).match(/^function\s*([^\s(]+)/)}(n),i):null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new ie(204,!1)}function r_(n,i,s){let a;if(Aa(n)){const u=Z(n);return ur(u)||Zp(u)}if(wd(n))a=()=>Z(n.useValue);else if(function bd(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...gt(n.deps||[]));else if(function Xm(n){return!(!n||!n.useExisting)}(n))a=()=>ke(Z(n.useExisting));else{const u=Z(n&&(n.useClass||n.provide));if(!function Si(n){return!!n.deps}(n))return ur(u)||Zp(u);a=()=>new u(...gt(n.deps))}return a}function zu(n,i,s=!1){return{factory:n,value:i,multi:s?[]:void 0}}function Td(n,i){for(const s of n)Array.isArray(s)?Td(s,i):s&&be(s)?Td(s.\u0275providers,i):i(s)}class oh{}class Zu{}class _E{resolveComponentFactory(i){throw function Pl(n){const i=Error(`No component factory found for ${oe(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let ah=(()=>{class n{}return n.NULL=new _E,n})();function Sd(){return Ku(Sn(),ve())}function Ku(n,i){return new Ad($n(n,i))}let Ad=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=Sd,n})();class qu{}let i_=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function uh(){const n=ve(),s=Tn(Sn().index,n);return(ar(s)?s:n)[Ct]}(),n})(),Ol=(()=>{class n{}return n.\u0275prov=ze({token:n,providedIn:"root",factory:()=>null}),n})();class ch{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const s_=new ch("15.2.5"),Kt={},ni="ngOriginalError";function Pd(n){return n[ni]}class Yu{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&Pd(i);for(;s&&Pd(s);)s=Pd(s);return s||null}}function Jp(n,i,s){let a=n.length;for(;;){const u=n.indexOf(i,s);if(-1===u)return u;if(0===u||n.charCodeAt(u-1)<=32){const f=i.length;if(u+f===a||n.charCodeAt(u+f)<=32)return u}s=u+1}}const Xp="ng-template";function EE(n,i,s){let a=0,u=!0;for(;a<n.length;){let f=n[a++];if("string"==typeof f&&u){const g=n[a++];if(s&&"class"===f&&-1!==Jp(g.toLowerCase(),i,0))return!0}else{if(1===f){for(;a<n.length&&"string"==typeof(f=n[a++]);)if(f.toLowerCase()===i)return!0;return!1}"number"==typeof f&&(u=!1)}}return!1}function u_(n){return 4===n.type&&n.value!==Xp}function CE(n,i,s){return i===(4!==n.type||s?n.value:Xp)}function IE(n,i,s){let a=4;const u=n.attrs||[],f=function c_(n){for(let i=0;i<n.length;i++)if(ws(n[i]))return i;return n.length}(u);let g=!1;for(let v=0;v<i.length;v++){const E=i[v];if("number"!=typeof E){if(!g)if(4&a){if(a=2|1&a,""!==E&&!CE(n,E,s)||""===E&&1===i.length){if(is(a))return!1;g=!0}}else{const b=8&a?E:i[++v];if(8&a&&null!==n.attrs){if(!EE(n.attrs,b,s)){if(is(a))return!1;g=!0}continue}const k=DE(8&a?"class":E,u,u_(n),s);if(-1===k){if(is(a))return!1;g=!0;continue}if(""!==b){let $;$=k>f?"":u[k+1].toLowerCase();const q=8&a?$:null;if(q&&-1!==Jp(q,b,0)||2&a&&b!==$){if(is(a))return!1;g=!0}}}}else{if(!g&&!is(a)&&!is(E))return!1;if(g&&is(E))continue;g=!1,a=E|1&a}}return is(a)||g}function is(n){return 0==(1&n)}function DE(n,i,s,a){if(null===i)return-1;let u=0;if(a||!s){let f=!1;for(;u<i.length;){const g=i[u];if(g===n)return u;if(3===g||6===g)f=!0;else{if(1===g||2===g){let v=i[++u];for(;"string"==typeof v;)v=i[++u];continue}if(4===g)break;if(0===g){u+=4;continue}}u+=f?1:2}return-1}return function dh(n,i){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===i)return s;s++}return-1}(i,n)}function Rd(n,i,s=!1){for(let a=0;a<i.length;a++)if(IE(n,i[a],s))return!0;return!1}function fh(n,i){return n?":not("+i.trim()+")":i}function d_(n){let i=n[0],s=1,a=2,u="",f=!1;for(;s<n.length;){let g=n[s];if("string"==typeof g)if(2&a){const v=n[++s];u+="["+g+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?u+="."+g:4&a&&(u+=" "+g);else""!==u&&!is(g)&&(i+=fh(f,u),u=""),a=g,f=f||!is(a);s++}return""!==u&&(i+=fh(f,u)),i}const wt={};function tg(n){hh(Pt(),ve(),er()+n,!1)}function hh(n,i,s,a){if(!a)if(3==(3&i[yt])){const f=n.preOrderCheckHooks;null!==f&&sl(i,f,s)}else{const f=n.preOrderHooks;null!==f&&Ds(i,f,0,s)}io(s)}function rg(n,i=null,s=null,a){const u=ph(n,i,s,a);return u.resolveInjectorInitializers(),u}function ph(n,i=null,s=null,a,u=new Set){const f=[s||Ue,pE(n)];return a=a||("object"==typeof n?void 0:oe(n)),new t_(f,i||Wu(),a||null,u)}let kl=(()=>{class n{static create(s,a){if(Array.isArray(s))return rg({name:""},a,s,"");{const u=s.name??"";return rg({name:u},s.parent,s.providers,u)}}}return n.THROW_IF_NOT_FOUND=Wt,n.NULL=new rh,n.\u0275prov=ze({token:n,providedIn:"any",factory:()=>ke($u)}),n.__NG_ELEMENT_ID__=-1,n})();function Ll(n,i=tt.Default){const s=ve();return null===s?ke(n,i):Qr(Sn(),s,Z(n),i)}function xo(n,i){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const f=s[a+1];if(-1!==f){const g=n.data[f];aa(s[a]),g.contentQueries(2,i[f],f)}}}function _h(n,i,s,a,u,f,g,v,E,b,M){const k=i.blueprint.slice();return k[Ir]=u,k[yt]=76|a,(null!==M||n&&1024&n[yt])&&(k[yt]|=1024),Es(k),k[jt]=k[qs]=n,k[qt]=s,k[Ks]=g||n&&n[Ks],k[Ct]=v||n&&n[Ct],k[ds]=E||n&&n[ds]||null,k[Vi]=b||n&&n[Vi]||null,k[ln]=f,k[Dr]=function Op(){return Np++}(),k[ja]=M,k[Rn]=2==i.type?n[Rn]:k,k}function Xu(n,i,s,a,u){let f=n.data[i];if(null===f)f=function ec(n,i,s,a,u){const f=Ja(),g=lu(),E=n.data[i]=function mg(n,i,s,a,u,f){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?f:f&&f.parent,s,i,a,u);return null===n.firstChild&&(n.firstChild=E),null!==f&&(g?null==f.child&&null!==E.parent&&(f.child=E):null===f.next&&(f.next=E,E.prev=f)),E}(n,i,s,a,u),function sa(){return ut.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=s,f.value=a,f.attrs=u;const g=function Cs(){const n=ut.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();f.injectorIndex=null===g?-1:g.injectorIndex}return cr(f,!0),f}function tc(n,i,s,a){if(0===s)return-1;const u=i.length;for(let f=0;f<s;f++)i.push(a),n.blueprint.push(a),n.data.push(null);return u}function hg(n,i,s){fu(i);try{const a=n.viewQuery;null!==a&&bh(1,a,s);const u=n.template;null!==u&&xd(n,i,u,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&xo(n,i),n.staticViewQueries&&bh(2,n.viewQuery,s);const f=n.components;null!==f&&function BE(n,i){for(let s=0;s<i.length;s++)S_(n,i[s])}(i,f)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{i[yt]&=-5,Lc()}}function nc(n,i,s,a){const u=i[yt];if(128!=(128&u)){fu(i);try{Es(i),function no(n){return ut.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&xd(n,i,s,2,a);const g=3==(3&u);if(g){const b=n.preOrderCheckHooks;null!==b&&sl(i,b,null)}else{const b=n.preOrderHooks;null!==b&&Ds(i,b,0,null),zi(i,0)}if(function WE(n){for(let i=El(n);null!==i;i=bo(i)){if(!i[Zo])continue;const s=i[ps];for(let a=0;a<s.length;a++){const u=s[a];512&u[yt]||Qa(u[jt],1),u[yt]|=512}}}(i),function GE(n){for(let i=El(n);null!==i;i=bo(i))for(let s=Nn;s<i.length;s++){const a=i[s],u=a[qe];vs(a)&&nc(u,a,u.template,a[qt])}}(i),null!==n.contentQueries&&xo(n,i),g){const b=n.contentCheckHooks;null!==b&&sl(i,b)}else{const b=n.contentHooks;null!==b&&Ds(i,b,1),zi(i,1)}!function VE(n,i){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const u=s[a];if(u<0)io(~u);else{const f=u,g=s[++a],v=s[++a];du(g,f),v(2,i[f])}}}finally{io(-1)}}(n,i);const v=n.components;null!==v&&function Od(n,i){for(let s=0;s<i.length;s++)bg(n,i[s])}(i,v);const E=n.viewQuery;if(null!==E&&bh(2,E,a),g){const b=n.viewCheckHooks;null!==b&&sl(i,b)}else{const b=n.viewHooks;null!==b&&Ds(i,b,2),zi(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[yt]&=-41,512&i[yt]&&(i[yt]&=-513,Qa(i[jt],-1))}finally{Lc()}}}function xd(n,i,s,a,u){const f=er(),g=2&a;try{io(-1),g&&i.length>Tt&&hh(n,i,Tt,!1),kt(g?2:0,u),s(a,u)}finally{io(f),kt(g?3:1,u)}}function pg(n,i,s){if(Kr(i)){const u=i.directiveEnd;for(let f=i.directiveStart;f<u;f++){const g=n.data[f];g.contentQueries&&g.contentQueries(1,s[f],f)}}}function Ra(n,i,s){na()&&(function w_(n,i,s,a){const u=s.directiveStart,f=s.directiveEnd;Ko(s)&&function wh(n,i,s){const a=$n(i,n),u=gg(s),f=n[Ks],g=Na(n,_h(n,u,null,s.onPush?32:16,a,i,f,f.createRenderer(a,s),null,null,null));n[i.index]=g}(i,s,n.data[u+s.componentOffset]),n.firstCreatePass||Ms(s,i),mr(a,i);const g=s.initialInputs;for(let v=u;v<f;v++){const E=n.data[v],b=qi(i,n,v,s);mr(b,i),null!==g&&Ld(0,v-u,b,E,0,g),jn(E)&&(Tn(s.index,i)[qt]=qi(i,n,v,s))}}(n,i,s,$n(s,i)),64==(64&s.flags)&&Dh(n,i,s))}function yh(n,i,s=$n){const a=i.localNames;if(null!==a){let u=i.index+1;for(let f=0;f<a.length;f+=2){const g=a[f+1],v=-1===g?s(i,n):n[g];n[u++]=v}}}function gg(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=vh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function vh(n,i,s,a,u,f,g,v,E,b){const M=Tt+a,k=M+u,$=function kd(n,i){const s=[];for(let a=0;a<i;a++)s.push(a<n?null:wt);return s}(M,k),q="function"==typeof b?b():b;return $[qe]={type:n,blueprint:$,template:s,queries:null,viewQuery:v,declTNode:i,data:$.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:E,consts:q,incompleteFirstPass:!1}}function Ih(n,i,s,a){for(let u in n)if(n.hasOwnProperty(u)){s=null===s?{}:s;const f=n[u];null===a?C_(s,i,u,f):a.hasOwnProperty(u)&&C_(s,i,a[u],f)}return s}function C_(n,i,s,a){n.hasOwnProperty(s)?n[s].push(i,a):n[s]=[i,a]}function I_(n,i){const s=Tn(i,n);16&s[yt]||(s[yt]|=32)}function yg(n,i,s,a){if(na()){const u=null===a?null:{"":-1},f=function Cg(n,i){const s=n.directiveRegistry;let a=null,u=null;if(s)for(let f=0;f<s.length;f++){const g=s[f];if(Rd(i,g.selectors,!1))if(a||(a=[]),jn(g))if(null!==g.findHostDirectiveDefs){const v=[];u=u||new Map,g.findHostDirectiveDefs(g,v,u),a.unshift(...v,g),rc(n,i,v.length)}else a.unshift(g),rc(n,i,0);else u=u||new Map,g.findHostDirectiveDefs?.(g,a,u),a.push(g)}return null===a?null:[a,u]}(n,s);let g,v;null===f?g=v=null:[g,v]=f,null!==g&&vg(n,i,s,g,u,v),u&&function Vl(n,i,s){if(i){const a=n.localNames=[];for(let u=0;u<i.length;u+=2){const f=s[i[u+1]];if(null==f)throw new ie(-301,!1);a.push(i[u],f)}}}(s,a,u)}s.mergedAttrs=mi(s.mergedAttrs,s.attrs)}function vg(n,i,s,a,u,f){for(let b=0;b<a.length;b++)Ps(Ms(s,i),n,a[b].type);!function b_(n,i,s){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+s,n.providerIndexes=i}(s,n.data.length,a.length);for(let b=0;b<a.length;b++){const M=a[b];M.providersResolver&&M.providersResolver(M)}let g=!1,v=!1,E=tc(n,i,a.length,null);for(let b=0;b<a.length;b++){const M=a[b];s.mergedAttrs=mi(s.mergedAttrs,M.hostAttrs),$E(n,s,i,E,M),Ig(E,M,u),null!==M.contentQueries&&(s.flags|=4),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(s.flags|=64);const k=M.type.prototype;!g&&(k.ngOnChanges||k.ngOnInit||k.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),g=!0),!v&&(k.ngOnChanges||k.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),v=!0),E++}!function Fd(n,i,s){const u=i.directiveEnd,f=n.data,g=i.attrs,v=[];let E=null,b=null;for(let M=i.directiveStart;M<u;M++){const k=f[M],$=s?s.get(k):null,de=$?$.outputs:null;E=Ih(k.inputs,M,E,$?$.inputs:null),b=Ih(k.outputs,M,b,de);const Pe=null===E||null===g||u_(i)?null:wg(E,M,g);v.push(Pe)}null!==E&&(E.hasOwnProperty("class")&&(i.flags|=8),E.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=v,i.inputs=E,i.outputs=b}(n,s,f)}function Dh(n,i,s){const a=s.directiveStart,u=s.directiveEnd,f=s.index,g=function el(){return ut.lFrame.currentDirectiveIndex}();try{io(f);for(let v=a;v<u;v++){const E=n.data[v],b=i[v];oa(v),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Eg(E,b)}}finally{io(-1),oa(g)}}function Eg(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function rc(n,i,s){i.componentOffset=s,(n.components||(n.components=[])).push(i.index)}function Ig(n,i,s){if(s){if(i.exportAs)for(let a=0;a<i.exportAs.length;a++)s[i.exportAs[a]]=n;jn(i)&&(s[""]=n)}}function $E(n,i,s,a,u){n.data[a]=u;const f=u.factory||(u.factory=ur(u.type)),g=new so(f,jn(u),Ll);n.blueprint[a]=g,s[a]=g,function HE(n,i,s,a,u){const f=u.hostBindings;if(f){let g=n.hostBindingOpCodes;null===g&&(g=n.hostBindingOpCodes=[]);const v=~i.index;(function jE(n){let i=n.length;for(;i>0;){const s=n[--i];if("number"==typeof s&&s<0)return s}return 0})(g)!=v&&g.push(v),g.push(s,a,f)}}(n,i,a,tc(n,s,u.hostVars,wt),u)}function ss(n,i,s,a,u,f){const g=$n(n,i);!function Dg(n,i,s,a,u,f,g){if(null==f)n.removeAttribute(i,u,s);else{const v=null==g?ge(f):g(f,a||"",u);n.setAttribute(i,u,v,s)}}(i[Ct],g,f,n.value,s,a,u)}function Ld(n,i,s,a,u,f){const g=f[i];if(null!==g){const v=a.setInput;for(let E=0;E<g.length;){const b=g[E++],M=g[E++],k=g[E++];null!==v?a.setInput(s,k,b,M):s[M]=k}}}function wg(n,i,s){let a=null,u=0;for(;u<s.length;){const f=s[u];if(0!==f)if(5!==f){if("number"==typeof f)break;if(n.hasOwnProperty(f)){null===a&&(a=[]);const g=n[f];for(let v=0;v<g.length;v+=2)if(g[v]===i){a.push(f,g[v+1],s[u+1]);break}}u+=2}else u+=2;else u+=4}return a}function T_(n,i,s,a){return[n,!0,!1,i,null,0,a,s,null,null]}function bg(n,i){const s=Tn(i,n);if(vs(s)){const a=s[qe];48&s[yt]?nc(a,s,a.template,s[qt]):s[Hr]>0&&ic(s)}}function ic(n){for(let a=El(n);null!==a;a=bo(a))for(let u=Nn;u<a.length;u++){const f=a[u];if(vs(f))if(512&f[yt]){const g=f[qe];nc(g,f,g.template,f[qt])}else f[Hr]>0&&ic(f)}const s=n[qe].components;if(null!==s)for(let a=0;a<s.length;a++){const u=Tn(s[a],n);vs(u)&&u[Hr]>0&&ic(u)}}function S_(n,i){const s=Tn(i,n),a=s[qe];(function zE(n,i){for(let s=i.length;s<n.blueprint.length;s++)i.push(n.blueprint[s])})(a,s),hg(a,s,s[qt])}function Na(n,i){return n[fs]?n[Bi][sr]=i:n[fs]=i,n[Bi]=i,i}function Ai(n){for(;n;){n[yt]|=32;const i=vl(n);if(nu(n)&&!i)return n;n=i}return null}function Oa(n,i,s,a=!0){const u=i[Ks];u.begin&&u.begin();try{nc(n,i,n.template,s)}catch(g){throw a&&ii(i,g),g}finally{u.end&&u.end()}}function bh(n,i,s){aa(0),i(n,s)}function sc(n){return n[Li]||(n[Li]=[])}function oc(n){return n.cleanup||(n.cleanup=[])}function ii(n,i){const s=n[Vi],a=s?s.get(Yu,null):null;a&&a.handleError(i)}function Th(n,i,s,a,u){for(let f=0;f<s.length;){const g=s[f++],v=s[f++],E=i[g],b=n.data[g];null!==b.setInput?b.setInput(E,u,a,v):E[v]=u}}function Bl(n,i,s){let a=s?n.styles:null,u=s?n.classes:null,f=0;if(null!==i)for(let g=0;g<i.length;g++){const v=i[g];"number"==typeof v?f=v:1==f?u=le(u,v):2==f&&(a=le(a,v+": "+i[++g]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=u:n.classesWithoutHost=u}function Vd(n,i,s,a,u=!1){for(;null!==s;){const f=i[s.index];if(null!==f&&a.push(rn(f)),lr(f))for(let v=Nn;v<f.length;v++){const E=f[v],b=E[qe].firstChild;null!==b&&Vd(E[qe],E,b,a)}const g=s.type;if(8&g)Vd(n,i,s.child,a);else if(32&g){const v=ad(s,i);let E;for(;E=v();)a.push(E)}else if(16&g){const v=fd(i,s);if(Array.isArray(v))a.push(...v);else{const E=vl(i[Rn]);Vd(E[qe],E,v,a,!0)}}s=u?s.projectionNext:s.next}return a}class _r{get rootNodes(){const i=this._lView,s=i[qe];return Vd(s,i,s.firstChild,[])}constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qt]}set context(i){this._lView[qt]=i}get destroyed(){return 128==(128&this._lView[yt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[jt];if(lr(i)){const s=i[wr],a=s?s.indexOf(this):-1;a>-1&&(cd(i,a),dl(s,a))}this._attachedToViewContainer=!1}$f(this._lView[qe],this._lView)}onDestroy(i){!function Ch(n,i,s,a){const u=sc(i);null===s?u.push(a):(u.push(s),n.firstCreatePass&&oc(n).push(a,u.length-1))}(this._lView[qe],this._lView,null,i)}markForCheck(){Ai(this._cdRefInjectingView||this._lView)}detach(){this._lView[yt]&=-65}reattach(){this._lView[yt]|=64}detectChanges(){Oa(this._lView[qe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Uf(n,i){To(n,i,i[Ct],2,null,null)}(this._lView[qe],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new ie(902,!1);this._appRef=i}}class P_ extends _r{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Oa(i[qe],i,i[qt],!1)}checkNoChanges(){}get context(){return null}}class R_ extends ah{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=Mt(i);return new Bd(s,this.ngModule)}}function Tg(n){const i=[];for(let s in n)n.hasOwnProperty(s)&&i.push({propName:n[s],templateName:s});return i}class KE{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,a){a=at(a);const u=this.injector.get(i,Kt,a);return u!==Kt||s===Kt?u:this.parentInjector.get(i,s,a)}}class Bd extends Zu{get inputs(){return Tg(this.componentDef.inputs)}get outputs(){return Tg(this.componentDef.outputs)}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function f_(n){return n.map(d_).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}create(i,s,a,u){let f=(u=u||this.ngModule)instanceof Mo?u:u?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const g=f?new KE(i,f):i,v=g.get(qu,null);if(null===v)throw new ie(407,!1);const E=g.get(Ol,null),b=v.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",k=a?function Eh(n,i,s){return n.selectRootElement(i,s===Y.ShadowDom)}(b,a,this.componentDef.encapsulation):Il(b,M,function ZE(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(M)),$=this.componentDef.onPush?288:272,q=vh(0,null,null,1,0,null,null,null,null,null),de=_h(null,q,null,$,null,null,v,b,E,g,null);let Pe,Ge;fu(de);try{const Je=this.componentDef;let pt,we=null;Je.findHostDirectiveDefs?(pt=[],we=new Map,Je.findHostDirectiveDefs(Je,pt,we),pt.push(Je)):pt=[Je];const vt=function O_(n,i){const s=n[qe],a=Tt;return n[a]=i,Xu(s,a,2,"#host",null)}(de,k),pn=function x_(n,i,s,a,u,f,g,v){const E=u[qe];!function qE(n,i,s,a){for(const u of n)i.mergedAttrs=mi(i.mergedAttrs,u.hostAttrs);null!==i.mergedAttrs&&(Bl(i,i.mergedAttrs,!0),null!==s&&hd(a,s,i))}(a,n,i,g);const b=f.createRenderer(i,s),M=_h(u,gg(s),null,s.onPush?32:16,u[n.index],n,f,b,v||null,null,null);return E.firstCreatePass&&rc(E,n,a.length-1),Na(u,M),u[n.index]=M}(vt,k,Je,pt,de,v,b);Ge=qa(q,Tt),k&&function Ah(n,i,s,a){if(a)Wr(n,s,["ng-version",s_.full]);else{const{attrs:u,classes:f}=function bE(n){const i=[],s=[];let a=1,u=2;for(;a<n.length;){let f=n[a];if("string"==typeof f)2===u?""!==f&&i.push(f,n[++a]):8===u&&s.push(f);else{if(!is(u))break;u=f}a++}return{attrs:i,classes:s}}(i.selectors[0]);u&&Wr(n,s,u),f&&f.length>0&&ba(n,s,f.join(" "))}}(b,Je,k,a),void 0!==s&&function YE(n,i,s){const a=n.projection=[];for(let u=0;u<i.length;u++){const f=s[u];a.push(null!=f?Array.from(f):null)}}(Ge,this.ngContentSelectors,s),Pe=function Sg(n,i,s,a,u,f){const g=Sn(),v=u[qe],E=$n(g,u);vg(v,u,g,s,null,a);for(let M=0;M<s.length;M++)mr(qi(u,v,g.directiveStart+M,g),u);Dh(v,u,g),E&&mr(E,u);const b=qi(u,v,g.directiveStart+g.componentOffset,g);if(n[qt]=u[qt]=b,null!==f)for(const M of f)M(b,i);return pg(v,g,n),b}(pn,Je,pt,we,de,[Ag]),hg(q,de,null)}finally{Lc()}return new N_(this.componentType,Pe,Ku(Ge,de),de,Ge)}}class N_ extends oh{constructor(i,s,a,u,f){super(),this.location=a,this._rootLView=u,this._tNode=f,this.instance=s,this.hostView=this.changeDetectorRef=new P_(u),this.componentType=i}setInput(i,s){const a=this._tNode.inputs;let u;if(null!==a&&(u=a[i])){const f=this._rootLView;Th(f[qe],f,u,i,s),I_(f,this._tNode.index)}}get injector(){return new Gn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Ag(){const n=Sn();il(ve()[qe],n)}function Mg(n){let i=function k_(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;i;){let u;if(jn(n))u=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new ie(903,!1);u=i.\u0275dir}if(u){if(s){a.push(u);const g=n;g.inputs=Mh(n.inputs),g.declaredInputs=Mh(n.declaredInputs),g.outputs=Mh(n.outputs);const v=u.hostBindings;v&&eC(n,v);const E=u.viewQuery,b=u.contentQueries;if(E&&JE(n,E),b&&XE(n,b),he(n.inputs,u.inputs),he(n.declaredInputs,u.declaredInputs),he(n.outputs,u.outputs),jn(u)&&u.data.animation){const M=n.data;M.animation=(M.animation||[]).concat(u.data.animation)}}const f=u.features;if(f)for(let g=0;g<f.length;g++){const v=f[g];v&&v.ngInherit&&v(n),v===Mg&&(s=!1)}}i=Object.getPrototypeOf(i)}!function QE(n){let i=0,s=null;for(let a=n.length-1;a>=0;a--){const u=n[a];u.hostVars=i+=u.hostVars,u.hostAttrs=mi(u.hostAttrs,s=mi(s,u.hostAttrs))}}(a)}function Mh(n){return n===Ze?{}:n===Ue?[]:n}function JE(n,i){const s=n.viewQuery;n.viewQuery=s?(a,u)=>{i(a,u),s(a,u)}:i}function XE(n,i){const s=n.contentQueries;n.contentQueries=s?(a,u,f)=>{i(a,u,f),s(a,u,f)}:i}function eC(n,i){const s=n.hostBindings;n.hostBindings=s?(a,u)=>{i(a,u),s(a,u)}:i}function Ph(n){return!!Rh(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Rh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Nr(n,i,s){return!Object.is(n[i],s)&&(n[i]=s,!0)}function Oh(n,i,s,a){const u=ve();return Nr(u,ro(),i)&&(Pt(),ss(zt(),u,n,i,s,a)),Oh}function $_(n,i,s,a,u,f,g,v){const E=ve(),b=Pt(),M=n+Tt,k=b.firstCreatePass?function iC(n,i,s,a,u,f,g,v,E){const b=i.consts,M=Xu(i,n,4,g||null,Yr(b,v));yg(i,s,M,Yr(b,E)),il(i,M);const k=M.tView=vh(2,M,a,u,f,i.directiveRegistry,i.pipeRegistry,null,i.schemas,b);return null!==i.queries&&(i.queries.template(i,M),k.queries=i.queries.embeddedTView(M)),M}(M,b,E,i,s,a,u,f,g):b.data[M];cr(k,!1);const $=E[Ct].createComment("");wl(b,E,$,k),mr($,E),Na(E,E[M]=T_($,E,$,k)),ji(k)&&Ra(b,E,k),null!=g&&yh(E,k,v)}function cc(n){return Gr(function uu(){return ut.lFrame.contextLView}(),Tt+n)}function dc(n,i,s){const a=ve();return Nr(a,ro(),i)&&function ri(n,i,s,a,u,f,g,v){const E=$n(i,s);let M,b=i.inputs;!v&&null!=b&&(M=b[a])?(Th(n,s,M,a,u),Ko(i)&&I_(s,i.index)):3&i.type&&(a=function UE(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),u=null!=g?g(u,i.value||"",a):u,f.setProperty(E,a,u))}(Pt(),zt(),a,n,i,a[Ct],s,!1),dc}function Wl(n,i,s,a,u){const g=u?"class":"style";Th(n,s,i.inputs[g],g,a)}function Hd(n,i,s,a){const u=ve(),f=Pt(),g=Tt+n,v=u[Ct],E=f.firstCreatePass?function kg(n,i,s,a,u,f){const g=i.consts,E=Xu(i,n,2,a,Yr(g,u));return yg(i,s,E,Yr(g,f)),null!==E.attrs&&Bl(E,E.attrs,!1),null!==E.mergedAttrs&&Bl(E,E.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,E),E}(g,f,u,i,s,a):f.data[g],b=u[g]=Il(v,i,function Tf(){return ut.lFrame.currentNamespace}()),M=ji(E);return cr(E,!0),hd(v,b,E),32!=(32&E.flags)&&wl(f,u,b,E),0===function au(){return ut.lFrame.elementDepthCount}()&&mr(b,u),function to(){ut.lFrame.elementDepthCount++}(),M&&(Ra(f,u,E),pg(f,E,u)),null!==a&&yh(u,E),Hd}function jd(){let n=Sn();lu()?function Is(){ut.lFrame.isParent=!1}():(n=n.parent,cr(n,!1));const i=n;!function xc(){ut.lFrame.elementDepthCount--}();const s=Pt();return s.firstCreatePass&&(il(s,n),Kr(n)&&s.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Mf(n){return 0!=(8&n.flags)}(i)&&Wl(s,i,ve(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Ar(n){return 0!=(16&n.flags)}(i)&&Wl(s,i,ve(),i.stylesWithoutHost,!1),jd}function kh(n,i,s,a){return Hd(n,i,s,a),jd(),kh}function W_(){return ve()}function Lg(n){return!!n&&"function"==typeof n.then}function z_(n){return!!n&&"function"==typeof n.subscribe}const Vg=z_;function Bg(n,i,s,a){const u=ve(),f=Pt(),g=Sn();return function K_(n,i,s,a,u,f,g){const v=ji(a),b=n.firstCreatePass&&oc(n),M=i[qt],k=sc(i);let $=!0;if(3&a.type||g){const Pe=$n(a,i),Ge=g?g(Pe):Pe,Je=k.length,pt=g?vt=>g(rn(vt[a.index])):a.index;let we=null;if(!g&&v&&(we=function oC(n,i,s,a){const u=n.cleanup;if(null!=u)for(let f=0;f<u.length-1;f+=2){const g=u[f];if(g===s&&u[f+1]===a){const v=i[Li],E=u[f+2];return v.length>E?v[E]:null}"string"==typeof g&&(f+=2)}return null}(n,i,u,a.index)),null!==we)(we.__ngLastListenerFn__||we).__ngNextListenerFn__=f,we.__ngLastListenerFn__=f,$=!1;else{f=Y_(a,i,M,f,!1);const vt=s.listen(Ge,u,f);k.push(f,vt),b&&b.push(u,pt,Je,Je+1)}}else f=Y_(a,i,M,f,!1);const q=a.outputs;let de;if($&&null!==q&&(de=q[u])){const Pe=de.length;if(Pe)for(let Ge=0;Ge<Pe;Ge+=2){const pn=i[de[Ge]][de[Ge+1]].subscribe(f),r=k.length;k.push(f,pn),b&&b.push(u,a.index,r,-(r+1))}}}(f,u,u[Ct],g,n,i,a),Bg}function q_(n,i,s,a){try{return kt(6,i,s),!1!==s(a)}catch(u){return ii(n,u),!1}finally{kt(7,i,s)}}function Y_(n,i,s,a,u){return function f(g){if(g===Function)return a;Ai(n.componentOffset>-1?Tn(n.index,i):i);let E=q_(i,s,a,g),b=f.__ngNextListenerFn__;for(;b;)E=q_(i,s,b,g)&&E,b=b.__ngNextListenerFn__;return u&&!1===E&&(g.preventDefault(),g.returnValue=!1),E}}function Q_(n=1){return function hu(n){return(ut.lFrame.contextLView=function wf(n,i){for(;n>0;)i=i[qs],n--;return i}(n,ut.lFrame.contextLView))[qt]}(n)}function $d(n,i){return n<<17|i<<2}function La(n){return n>>17&32767}function Hg(n){return 2|n}function zl(n){return(131068&n)>>2}function jg(n,i){return-131069&n|i<<2}function $g(n){return 1|n}function ly(n,i,s,a,u){const f=n[s+1],g=null===i;let v=a?La(f):zl(f),E=!1;for(;0!==v&&(!1===E||g);){const M=n[v+1];fC(n[v],i)&&(E=!0,n[v+1]=a?$g(M):Hg(M)),v=a?La(M):zl(M)}E&&(n[s+1]=a?Hg(f):$g(f))}function fC(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&ho(n,i)>=0}function Hs(n,i){return function os(n,i,s,a){const u=ve(),f=Pt(),g=function Tr(n){const i=ut.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,s}(2);f.firstUpdatePass&&function Wd(n,i,s,a){const u=n.data;if(null===u[s+1]){const f=u[er()],g=function hy(n,i){return i>=n.expandoStartIndex}(n,s);(function Wg(n,i){return 0!=(n.flags&(i?8:16))})(f,a)&&null===i&&!g&&(i=!1),i=function CC(n,i,s,a){const u=function Wi(n){const i=ut.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let f=a?i.residualClasses:i.residualStyles;if(null===u)0===(a?i.classBindings:i.styleBindings)&&(s=Zl(s=Vh(null,n,i,s,a),i.attrs,a),f=null);else{const g=i.directiveStylingLast;if(-1===g||n[g]!==u)if(s=Vh(u,n,i,s,a),null===f){let E=function IC(n,i,s){const a=s?i.classBindings:i.styleBindings;if(0!==zl(a))return n[La(a)]}(n,i,a);void 0!==E&&Array.isArray(E)&&(E=Vh(null,n,i,E[1],a),E=Zl(E,i.attrs,a),function py(n,i,s,a){n[La(s?i.classBindings:i.styleBindings)]=a}(n,i,a,E))}else f=function DC(n,i,s){let a;const u=i.directiveEnd;for(let f=1+i.directiveStylingLast;f<u;f++)a=Zl(a,n[f].hostAttrs,s);return Zl(a,i.attrs,s)}(n,i,a)}return void 0!==f&&(a?i.residualClasses=f:i.residualStyles=f),s}(u,f,i,a),function ay(n,i,s,a,u,f){let g=f?i.classBindings:i.styleBindings,v=La(g),E=zl(g);n[a]=s;let M,b=!1;if(Array.isArray(s)?(M=s[1],(null===M||ho(s,M)>0)&&(b=!0)):M=s,u)if(0!==E){const $=La(n[v+1]);n[a+1]=$d($,v),0!==$&&(n[$+1]=jg(n[$+1],a)),n[v+1]=function cC(n,i){return 131071&n|i<<17}(n[v+1],a)}else n[a+1]=$d(v,0),0!==v&&(n[v+1]=jg(n[v+1],a)),v=a;else n[a+1]=$d(E,0),0===v?v=a:n[E+1]=jg(n[E+1],a),E=a;b&&(n[a+1]=Hg(n[a+1])),ly(n,M,a,!0),ly(n,M,a,!1),function dC(n,i,s,a,u){const f=u?n.residualClasses:n.residualStyles;null!=f&&"string"==typeof i&&ho(f,i)>=0&&(s[a+1]=$g(s[a+1]))}(i,M,n,a,f),g=$d(v,E),f?i.classBindings=g:i.styleBindings=g}(u,f,i,s,g,a)}}(f,n,g,a),i!==wt&&Nr(u,g,i)&&function my(n,i,s,a,u,f,g,v){if(!(3&i.type))return;const E=n.data,b=E[v+1],M=function oy(n){return 1==(1&n)}(b)?_y(E,i,s,u,zl(b),g):void 0;Bh(M)||(Bh(f)||function sy(n){return 2==(2&n)}(b)&&(f=_y(E,null,s,u,v,g)),function Rr(n,i,s,a,u){if(i)u?n.addClass(s,a):n.removeClass(s,a);else{let f=-1===a.indexOf("-")?void 0:bi.DashCase;null==u?n.removeStyle(s,a,f):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),f|=bi.Important),n.setStyle(s,a,u,f))}}(a,g,$r(er(),s),u,f))}(f,f.data[er()],u,u[Ct],n,u[g+1]=function yy(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=oe(function Ti(n){return n instanceof Cn?n.changingThisBreaksApplicationSecurity:n}(n)))),n}(i,s),a,g)}(n,i,null,!0),Hs}function Vh(n,i,s,a,u){let f=null;const g=s.directiveEnd;let v=s.directiveStylingLast;for(-1===v?v=s.directiveStart:v++;v<g&&(f=i[v],a=Zl(a,f.hostAttrs,u),f!==n);)v++;return null!==n&&(s.directiveStylingLast=v),a}function Zl(n,i,s){const a=s?1:2;let u=-1;if(null!==i)for(let f=0;f<i.length;f++){const g=i[f];"number"==typeof g?u=g:u===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Wn(n,g,!!s||i[++f]))}return void 0===n?null:n}function _y(n,i,s,a,u,f){const g=null===i;let v;for(;u>0;){const E=n[u],b=Array.isArray(E),M=b?E[1]:E,k=null===M;let $=s[u+1];$===wt&&($=k?Ue:void 0);let q=k?Xr($,a):M===a?$:void 0;if(b&&!Bh(q)&&(q=Xr(E,a)),Bh(q)&&(v=q,g))return v;const de=n[u+1];u=g?La(de):zl(de)}if(null!==i){let E=f?i.residualClasses:i.residualStyles;null!=E&&(v=Xr(E,a))}return v}function Bh(n){return void 0!==n}function Uh(n,i=""){const s=ve(),a=Pt(),u=n+Tt,f=a.firstCreatePass?Xu(a,u,1,i,null):a.data[u],g=s[u]=function Cl(n,i){return n.createText(i)}(s[Ct],i);wl(a,s,g,f),cr(f,!1)}function zd(n){return Kl("",n,""),zd}function Kl(n,i,s){const a=ve(),u=function jl(n,i,s,a){return Nr(n,ro(),s)?i+ge(s)+a:wt}(a,n,i,s);return u!==wt&&function ko(n,i,s){const a=$r(i,n);!function ud(n,i,s){n.setValue(i,s)}(n[Ct],a,s)}(a,er(),u),Kl}const Bo=void 0;var kC=["en",[["a","p"],["AM","PM"],Bo],[["AM","PM"],Bo,Bo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bo,"{1} 'at' {0}",Bo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xC(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let hc={};function Yg(n){const i=function LC(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=qd(i);if(s)return s;const a=i.split("-")[0];if(s=qd(a),s)return s;if("en"===a)return kC;throw new ie(701,!1)}function Qg(n){return Yg(n)[ct.PluralCase]}function qd(n){return n in hc||(hc[n]=mt.ng&&mt.ng.common&&mt.ng.common.locales&&mt.ng.common.locales[n]),hc[n]}var ct=(()=>((ct=ct||{})[ct.LocaleId=0]="LocaleId",ct[ct.DayPeriodsFormat=1]="DayPeriodsFormat",ct[ct.DayPeriodsStandalone=2]="DayPeriodsStandalone",ct[ct.DaysFormat=3]="DaysFormat",ct[ct.DaysStandalone=4]="DaysStandalone",ct[ct.MonthsFormat=5]="MonthsFormat",ct[ct.MonthsStandalone=6]="MonthsStandalone",ct[ct.Eras=7]="Eras",ct[ct.FirstDayOfWeek=8]="FirstDayOfWeek",ct[ct.WeekendRange=9]="WeekendRange",ct[ct.DateFormat=10]="DateFormat",ct[ct.TimeFormat=11]="TimeFormat",ct[ct.DateTimeFormat=12]="DateTimeFormat",ct[ct.NumberSymbols=13]="NumberSymbols",ct[ct.NumberFormats=14]="NumberFormats",ct[ct.CurrencyCode=15]="CurrencyCode",ct[ct.CurrencySymbol=16]="CurrencySymbol",ct[ct.CurrencyName=17]="CurrencyName",ct[ct.Currencies=18]="Currencies",ct[ct.Directionality=19]="Directionality",ct[ct.PluralCase=20]="PluralCase",ct[ct.ExtraData=21]="ExtraData",ct))();const ql="en-US";let Ay=ql;function Xh(n,i,s,a,u){if(n=Z(n),Array.isArray(n))for(let f=0;f<n.length;f++)Xh(n[f],i,s,a,u);else{const f=Pt(),g=ve();let v=Aa(n)?n:Z(n.provide),E=r_(n);const b=Sn(),M=1048575&b.providerIndexes,k=b.directiveStart,$=b.providerIndexes>>20;if(Aa(n)||!n.multi){const q=new so(E,u,Ll),de=ep(v,i,u?M:M+$,k);-1===de?(Ps(Ms(b,g),f,v),Yl(f,n,i.length),i.push(v),b.directiveStart++,b.directiveEnd++,u&&(b.providerIndexes+=1048576),s.push(q),g.push(q)):(s[de]=q,g[de]=q)}else{const q=ep(v,i,M+$,k),de=ep(v,i,M,M+$),Ge=de>=0&&s[de];if(u&&!Ge||!u&&!(q>=0&&s[q])){Ps(Ms(b,g),f,v);const Je=function nv(n,i,s,a,u){const f=new so(n,s,Ll);return f.multi=[],f.index=i,f.componentProviders=0,tv(f,u,a&&!s),f}(u?rI:nI,s.length,u,a,E);!u&&Ge&&(s[de].providerFactory=Je),Yl(f,n,i.length,0),i.push(v),b.directiveStart++,b.directiveEnd++,u&&(b.providerIndexes+=1048576),s.push(Je),g.push(Je)}else Yl(f,n,q>-1?q:de,tv(s[u?de:q],E,!u&&a));!u&&a&&Ge&&s[de].componentProviders++}}}function Yl(n,i,s,a){const u=Aa(i),f=function e_(n){return!!n.useClass}(i);if(u||f){const E=(f?Z(i.useClass):i).prototype.ngOnDestroy;if(E){const b=n.destroyHooks||(n.destroyHooks=[]);if(!u&&i.multi){const M=b.indexOf(s);-1===M?b.push(s,[a,E]):b[M+1].push(a,E)}else b.push(s,E)}}}function tv(n,i,s){return s&&n.componentProviders++,n.multi.push(i)-1}function ep(n,i,s,a){for(let u=s;u<a;u++)if(i[u]===n)return u;return-1}function nI(n,i,s,a){return tp(this.multi,[])}function rI(n,i,s,a){const u=this.multi;let f;if(this.providerFactory){const g=this.providerFactory.componentProviders,v=qi(s,s[qe],this.providerFactory.index,a);f=v.slice(0,g),tp(u,f);for(let E=g;E<v.length;E++)f.push(v[E])}else f=[],tp(u,f);return f}function tp(n,i){for(let s=0;s<n.length;s++)i.push((0,n[s])());return i}function fm(n,i=[]){return s=>{s.providersResolver=(a,u)=>function ev(n,i,s){const a=Pt();if(a.firstCreatePass){const u=jn(n);Xh(s,a.data,a.blueprint,u,!0),Xh(i,a.data,a.blueprint,u,!1)}}(a,u?u(n):n,i)}}class Ec{}class iI{}function sI(n,i){return new rv(n,i??null)}class rv extends Ec{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new R_(this);const a=function bn(n,i){const s=n[wn]||null;if(!s&&!0===i)throw new Error(`Type ${oe(n)} does not have '\u0275mod' property.`);return s}(i);this._bootstrapComponents=function Ro(n){return n instanceof Function?n():n}(a.bootstrap),this._r3Injector=ph(i,s,[{provide:Ec,useValue:this},{provide:ah,useValue:this.componentFactoryResolver}],oe(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class hm extends iI{constructor(i){super(),this.moduleType=i}create(i){return new rv(this.moduleType,i)}}function vr(n,i,s,a,u,f){const g=i+s;return Nr(n,g,u)?function Mi(n,i,s){return n[i]=s}(n,g+1,f?a.call(f,u):a(u)):function Cc(n,i){const s=n[i];return s===wt?void 0:s}(n,g+1)}function mm(n,i){const s=Pt();let a;const u=n+Tt;s.firstCreatePass?(a=function hv(n,i){if(i)for(let s=i.length-1;s>=0;s--){const a=i[s];if(n===a.name)return a}}(i,s.pipeRegistry),s.data[u]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(u,a.onDestroy)):a=s.data[u];const f=a.factory||(a.factory=ur(a.type)),g=tn(Ll);try{const v=Ss(!1),E=f();return Ss(v),function sC(n,i,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),i[s]=a}(s,ve(),u,E),E}finally{tn(g)}}function _m(n,i,s){const a=n+Tt,u=ve(),f=Gr(u,a);return function Ic(n,i){return n[qe].data[i].pure}(u,a)?vr(u,function un(){const n=ut.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}(),i,f.transform,s,f):f.transform(s)}function sp(n){return i=>{setTimeout(n,void 0,i)}}const ls=class _v extends h.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,a){let u=i,f=s||(()=>null),g=a;if(i&&"object"==typeof i){const E=i;u=E.next?.bind(E),f=E.error?.bind(E),g=E.complete?.bind(E)}this.__isAsync&&(f=sp(f),u&&(u=sp(u)),g&&(g=sp(g)));const v=super.subscribe({next:u,error:f,complete:g});return i instanceof Q.w0&&i.add(v),v}};let Dc=(()=>{class n{}return n.__NG_ELEMENT_ID__=vm,n})();const ym=Dc,yv=class extends ym{constructor(i,s,a){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(i,s){const a=this._declarationTContainer.tView,u=_h(this._declarationLView,a,i,16,null,a.declTNode,null,null,null,null,s||null);u[hs]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[or];return null!==g&&(u[or]=g.createEmbeddedView(a)),hg(a,u,i),new _r(u)}};function vm(){return function ef(n,i){return 4&n.type?new yv(i,n,Ku(n,i)):null}(Sn(),ve())}let tf=(()=>{class n{}return n.__NG_ELEMENT_ID__=vv,n})();function vv(){return function Im(n,i){let s;const a=i[n.index];if(lr(a))s=a;else{let u;if(8&n.type)u=rn(a);else{const f=i[Ct];u=f.createComment("");const g=$n(n,i);Pr(f,ts(f,g),u,function Zf(n,i){return n.nextSibling(i)}(f,g),!1)}i[n.index]=s=T_(a,i,u,n),Na(i,s)}return new nf(s,n,i)}(Sn(),ve())}const Em=tf,nf=class extends Em{constructor(i,s,a){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=a}get element(){return Ku(this._hostTNode,this._hostLView)}get injector(){return new Gn(this._hostTNode,this._hostLView)}get parentInjector(){const i=vi(this._hostTNode,this._hostLView);if(ll(i)){const s=Ts(i,this._hostLView),a=bs(i);return new Gn(s[qe].data[a+8],s)}return new Gn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=Cm(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-Nn}createEmbeddedView(i,s,a){let u,f;"number"==typeof a?u=a:null!=a&&(u=a.index,f=a.injector);const g=i.createEmbeddedView(s||{},f);return this.insert(g,u),g}createComponent(i,s,a,u,f){const g=i&&!function Jr(n){return"function"==typeof n}(i);let v;if(g)v=s;else{const k=s||{};v=k.index,a=k.injector,u=k.projectableNodes,f=k.environmentInjector||k.ngModuleRef}const E=g?i:new Bd(Mt(i)),b=a||this.parentInjector;if(!f&&null==E.ngModule){const $=(g?b:this.parentInjector).get(Mo,null);$&&(f=$)}const M=E.create(b,u,void 0,f);return this.insert(M.hostView,v),M}insert(i,s){const a=i._lView,u=a[qe];if(function eo(n){return lr(n[jt])}(a)){const M=this.indexOf(i);if(-1!==M)this.detach(M);else{const k=a[jt],$=new nf(k,k[ln],k[jt]);$.detach($.indexOf(i))}}const f=this._adjustIndex(s),g=this._lContainer;!function Lp(n,i,s,a){const u=Nn+a,f=s.length;a>0&&(s[u-1][sr]=i),a<f-Nn?(i[sr]=s[u],Yc(s,Nn+a,i)):(s.push(i),i[sr]=null),i[jt]=s;const g=i[hs];null!==g&&s!==g&&function jf(n,i){const s=n[ps];i[Rn]!==i[jt][jt][Rn]&&(n[Zo]=!0),null===s?n[ps]=[i]:s.push(i)}(g,i);const v=i[or];null!==v&&v.insertView(n),i[yt]|=64}(u,a,g,f);const v=ku(f,g),E=a[Ct],b=ts(E,g[Hi]);return null!==b&&function Bf(n,i,s,a,u,f){a[Ir]=u,a[ln]=i,To(n,a,s,1,u,f)}(u,g[ln],E,a,b,v),i.attachToViewContainerRef(),Yc(ap(g),f,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=Cm(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),a=cd(this._lContainer,s);a&&(dl(ap(this._lContainer),s),$f(a[qe],a))}detach(i){const s=this._adjustIndex(i,-1),a=cd(this._lContainer,s);return a&&null!=dl(ap(this._lContainer),s)?new _r(a):null}_adjustIndex(i,s=0){return i??this.length+s}};function Cm(n){return n[wr]}function ap(n){return n[wr]||(n[wr]=[])}function mp(...n){}const Bv=new $t("Application Initializer");let ff=(()=>{class n{constructor(s){this.appInits=s,this.resolve=mp,this.reject=mp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const f=this.appInits[u]();if(Lg(f))s.push(f);else if(Vg(f)){const g=new Promise((v,E)=>{f.subscribe({complete:v,error:E})});s.push(g)}}Promise.all(s).then(()=>{a()}).catch(u=>{this.reject(u)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(ke(Bv,8))},n.\u0275prov=ze({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _p=new $t("AppId",{providedIn:"root",factory:function Pm(){return`${yp()}${yp()}${yp()}`}});function yp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Uv=new $t("Platform Initializer"),d0=new $t("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),hf=new $t("LocaleId",{providedIn:"root",factory:()=>Qe(hf,tt.Optional|tt.SkipSelf)||function WI(){return typeof $localize<"u"&&$localize.locale||ql}()}),Hv=new $t("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),$v=(()=>Promise.resolve(0))();function km(n){typeof Zone>"u"?$v.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ni{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ls(!1),this.onMicrotaskEmpty=new ls(!1),this.onStable=new ls(!1),this.onError=new ls(!1),typeof Zone>"u")throw new ie(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&s,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function vp(){let n=mt.requestAnimationFrame,i=mt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Lm(n){const i=()=>{!function _0(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(mt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Ep(n),n.isCheckStableRunning=!0,Fm(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Ep(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,u,f,g,v)=>{try{return Vm(n),s.invokeTask(u,f,g,v)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||n.shouldCoalesceRunChangeDetection)&&i(),Bm(n)}},onInvoke:(s,a,u,f,g,v,E)=>{try{return Vm(n),s.invoke(u,f,g,v,E)}finally{n.shouldCoalesceRunChangeDetection&&i(),Bm(n)}},onHasTask:(s,a,u,f)=>{s.hasTask(u,f),a===u&&("microTask"==f.change?(n._hasPendingMicrotasks=f.microTask,Ep(n),Fm(n)):"macroTask"==f.change&&(n.hasPendingMacrotasks=f.macroTask))},onHandleError:(s,a,u,f)=>(s.handleError(u,f),n.runOutsideAngular(()=>n.onError.emit(f)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ni.isInAngularZone())throw new ie(909,!1)}static assertNotInAngularZone(){if(Ni.isInAngularZone())throw new ie(909,!1)}run(i,s,a){return this._inner.run(i,s,a)}runTask(i,s,a,u){const f=this._inner,g=f.scheduleEventTask("NgZoneEvent: "+u,i,Gv,mp,mp);try{return f.runTask(g,s,a)}finally{f.cancelTask(g)}}runGuarded(i,s,a){return this._inner.runGuarded(i,s,a)}runOutsideAngular(i){return this._outer.run(i)}}const Gv={};function Fm(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Ep(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Vm(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Bm(n){n._nesting--,Fm(n)}class eu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ls,this.onMicrotaskEmpty=new ls,this.onStable=new ls,this.onError=new ls}run(i,s,a){return i.apply(s,a)}runGuarded(i,s,a){return i.apply(s,a)}runOutsideAngular(i){return i()}runTask(i,s,a,u){return i.apply(s,a)}}const Wv=new $t(""),Um=new $t("");let jm,qI=(()=>{class n{constructor(s,a,u){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,jm||(function YI(n){jm=n}(u),u.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ni.assertNotInAngularZone(),km(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())km(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,u){let f=-1;a&&a>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==f),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:f,updateCb:u})}whenStable(s,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,u){return[]}}return n.\u0275fac=function(s){return new(s||n)(ke(Ni),ke(Hm),ke(Um))},n.\u0275prov=ze({token:n,factory:n.\u0275fac}),n})(),Hm=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return jm?.findTestabilityInTree(this,s,a)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=ze({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Oi=!1;let jo=null;const zv=new $t("AllowMultipleToken"),Cp=new $t("PlatformDestroyListeners"),QI=new $t("appBootstrapListener");function Yv(n,i,s=[]){const a=`Platform: ${i}`,u=new $t(a);return(f=[])=>{let g=Qv();if(!g||g.injector.get(zv,!1)){const v=[...s,...f,{provide:u,useValue:!0}];n?n(v):function qv(n){if(jo&&!jo.get(zv,!1))throw new ie(400,!1);jo=n;const i=n.get(tD);(function JI(n){const i=n.get(Uv,null);i&&i.forEach(s=>s())})(n)}(function eD(n=[],i){return kl.create({name:i,providers:[{provide:Gu,useValue:"platform"},{provide:Cp,useValue:new Set([()=>jo=null])},...n]})}(v,a))}return function XI(n){const i=Qv();if(!i)throw new ie(401,!1);return i}()}}function Qv(){return jo?.get(tD)??null}let tD=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const u=function rD(n,i){let s;return s="noop"===n?new eu:("zone.js"===n?void 0:n)||new Ni(i),s}(a?.ngZone,function nD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),f=[{provide:Ni,useValue:u}];return u.run(()=>{const g=kl.create({providers:f,parent:this.injector,name:s.moduleType.name}),v=s.create(g),E=v.injector.get(Yu,null);if(!E)throw new ie(402,!1);return u.runOutsideAngular(()=>{const b=u.onError.subscribe({next:M=>{E.handleError(M)}});v.onDestroy(()=>{Ip(this._modules,v),b.unsubscribe()})}),function iD(n,i,s){try{const a=s();return Lg(a)?a.catch(u=>{throw i.runOutsideAngular(()=>n.handleError(u)),u}):a}catch(a){throw i.runOutsideAngular(()=>n.handleError(a)),a}}(E,u,()=>{const b=v.injector.get(ff);return b.runInitializers(),b.donePromise.then(()=>(function Zh(n){We(n,"Expected localeId to be defined"),"string"==typeof n&&(Ay=n.toLowerCase().replace(/_/g,"-"))}(v.injector.get(hf,ql)||ql),this._moduleDoBootstrap(v),v))})})}bootstrapModule(s,a=[]){const u=Jv({},a);return function Zv(n,i,s){const a=new hm(s);return Promise.resolve(a)}(0,0,s).then(f=>this.bootstrapModuleFactory(f,u))}_moduleDoBootstrap(s){const a=s.injector.get(Xv);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!s.instance.ngDoBootstrap)throw new ie(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ie(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(Cp,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(ke(kl))},n.\u0275prov=ze({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Jv(n,i){return Array.isArray(i)?i.reduce(Jv,n):{...n,...i}}let Xv=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(s,a,u){this._zone=s,this._injector=a,this._exceptionHandler=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new N.y(v=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{v.next(this._stable),v.complete()})}),g=new N.y(v=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Ni.assertNotInAngularZone(),km(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,v.next(!0))})})});const b=this._zone.onUnstable.subscribe(()=>{Ni.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{v.next(!1)}))});return()=>{E.unsubscribe(),b.unsubscribe()}});this.isStable=(0,re.T)(f,g.pipe((0,X.B)()))}bootstrap(s,a){const u=s instanceof Zu;if(!this._injector.get(ff).done){!u&&function ki(n){const i=Mt(n)||_n(n)||Pn(n);return null!==i&&i.standalone}(s);throw new ie(405,Oi)}let g;g=u?s:this._injector.get(ah).resolveComponentFactory(s),this.componentTypes.push(g.componentType);const v=function Kv(n){return n.isBoundToModule}(g)?void 0:this._injector.get(Ec),b=g.create(kl.NULL,[],a||g.selector,v),M=b.location.nativeElement,k=b.injector.get(Wv,null);return k?.registerApplication(M),b.onDestroy(()=>{this.detachView(b.hostView),Ip(this.components,b),k?.unregisterApplication(M)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new ie(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Ip(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(QI,[]);a.push(...this._bootstrapListeners),a.forEach(u=>u(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Ip(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new ie(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(ke(Ni),ke(Mo),ke(Yu))},n.\u0275prov=ze({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ip(n,i){const s=n.indexOf(i);s>-1&&n.splice(s,1)}function oD(){return!1}let aD=(()=>{class n{}return n.__NG_ELEMENT_ID__=lD,n})();function lD(n){return function uD(n,i,s){if(Ko(n)&&!s){const a=Tn(n.index,i);return new _r(a,a)}return 47&n.type?new _r(i[Rn],i):null}(Sn(),ve(),16==(16&n))}class sE{constructor(){}supports(i){return Ph(i)}create(i){return new Fn(i)}}const pf=(n,i)=>i;class Fn{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||pf}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,a=this._removalsHead,u=0,f=null;for(;s||a;){const g=!a||s&&s.currentIndex<zm(a,u,f)?s:a,v=zm(g,u,f),E=g.currentIndex;if(g===a)u--,a=a._nextRemoved;else if(s=s._next,null==g.previousIndex)u++;else{f||(f=[]);const b=v-u,M=E-u;if(b!=M){for(let $=0;$<b;$++){const q=$<f.length?f[$]:f[$]=0,de=q+$;M<=de&&de<b&&(f[$]=q+1)}f[g.previousIndex]=M-b}}v!==E&&i(g,v,E)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!Ph(i))throw new ie(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let u,f,g,s=this._itHead,a=!1;if(Array.isArray(i)){this.length=i.length;for(let v=0;v<this.length;v++)f=i[v],g=this._trackByFn(v,f),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,f,g,v)),Object.is(s.item,f)||this._addIdentityChange(s,f)):(s=this._mismatch(s,f,g,v),a=!0),s=s._next}else u=0,function U_(n,i){if(Array.isArray(n))for(let s=0;s<n.length;s++)i(n[s]);else{const s=n[Symbol.iterator]();let a;for(;!(a=s.next()).done;)i(a.value)}}(i,v=>{g=this._trackByFn(u,v),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,v,g,u)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,g,u),a=!0),s=s._next,u++}),this.length=u;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,a,u){let f;return null===i?f=this._itTail:(f=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,f,u)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,f,u)):i=this._addAfter(new Gm(s,a),f,u),i}_verifyReinsertion(i,s,a,u){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==f?i=this._reinsertAfter(f,i._prev,u):i.currentIndex!=u&&(i.currentIndex=u,this._addToMoves(i,u)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const u=i._prevRemoved,f=i._nextRemoved;return null===u?this._removalsHead=f:u._nextRemoved=f,null===f?this._removalsTail=u:f._prevRemoved=u,this._insertAfter(i,s,a),this._addToMoves(i,a),i}_moveAfter(i,s,a){return this._unlink(i),this._insertAfter(i,s,a),this._addToMoves(i,a),i}_addAfter(i,s,a){return this._insertAfter(i,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,a){const u=null===s?this._itHead:s._next;return i._next=u,i._prev=s,null===u?this._itTail=i:u._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new gf),this._linkedRecords.put(i),i.currentIndex=a,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,a=i._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gf),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Gm{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Wm{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,i))return a;return null}remove(i){const s=i._prevDup,a=i._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class gf{constructor(){this.map=new Map}put(i){const s=i.trackById;let a=this.map.get(s);a||(a=new Wm,this.map.set(s,a)),a.add(i)}get(i,s){const u=this.map.get(i);return u?u.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zm(n,i,s){const a=n.previousIndex;if(null===a)return a;let u=0;return s&&a<s.length&&(u=s[a]),a+i+u}class Sp{constructor(){}supports(i){return i instanceof Map||Rh(i)}create(){return new pD}}class pD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||Rh(i)))throw new ie(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(a,u)=>{if(s&&s.key===u)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const f=this._getOrCreateRecordForKey(u,a);s=this._insertBeforeOrAppend(s,f)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const a=i._prev;return s._next=i,s._prev=a,i._prev=s,a&&(a._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const u=this._records.get(i);this._maybeAddToChanges(u,s);const f=u._prev,g=u._next;return f&&(f._next=g),g&&(g._prev=f),u._next=null,u._prev=null,u}const a=new oE(i);return this._records.set(i,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(a=>s(i[a],a))}}class oE{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function aE(){return new Zm([new sE])}let Zm=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const u=a.factories.slice();s=s.concat(u)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||aE()),deps:[[n,new Ji,new _o]]}}find(s){const a=this.factories.find(u=>u.supports(s));if(null!=a)return a;throw new ie(901,!1)}}return n.\u0275prov=ze({token:n,providedIn:"root",factory:aE}),n})();function Ac(){return new Km([new Sp])}let Km=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const u=a.factories.slice();s=s.concat(u)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||Ac()),deps:[[n,new Ji,new _o]]}}find(s){const a=this.factories.find(u=>u.supports(s));if(a)return a;throw new ie(901,!1)}}return n.\u0275prov=ze({token:n,providedIn:"root",factory:Ac}),n})();const N0=Yv(null,"core",[]);let O0=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(ke(Xv))},n.\u0275mod=zo({type:n}),n.\u0275inj=dn({}),n})();function x0(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},3942:(nt,Ce,x)=>{x.d(Ce,{Z:()=>ft});var h=x(2090),Q=x(4859),N=x(9681),re=x(1877);class X{constructor(ie,Ee){this._delegate=ie,this.firebase=Ee,(0,N._addComponent)(ie,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=ie.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ie){this._delegate.automaticDataCollectionEnabled=ie}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ie=>{this._delegate.checkDestroyed(),ie()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(ie,Ee=N._DEFAULT_ENTRY_NAME){var ge;this._delegate.checkDestroyed();const Te=this._delegate.container.getProvider(ie);return!Te.isInitialized()&&"EXPLICIT"===(null===(ge=Te.getComponent())||void 0===ge?void 0:ge.instantiationMode)&&Te.initialize(),Te.getImmediate({identifier:Ee})}_removeServiceInstance(ie,Ee=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ie).clearInstance(Ee)}_addComponent(ie){(0,N._addComponent)(this._delegate,ie)}_addOrOverwriteComponent(ie){(0,N._addOrOverwriteComponent)(this._delegate,ie)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function le(){const je=function oe(je){const ie={},Ee={__esModule:!0,initializeApp:function _e(Se,L={}){const ue=N.initializeApp(Se,L);if((0,h.r3)(ie,ue.name))return ie[ue.name];const Ne=new je(ue,Ee);return ie[ue.name]=Ne,Ne},app:Te,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function Ie(Se){const L=Se.name,ue=L.replace("-compat","");if(N._registerComponent(Se)&&"PUBLIC"===Se.type){const Ne=(Be=Te())=>{if("function"!=typeof Be[ue])throw he.create("invalid-app-argument",{appName:L});return Be[ue]()};void 0!==Se.serviceProps&&(0,h.ZB)(Ne,Se.serviceProps),Ee[ue]=Ne,je.prototype[ue]=function(...Be){return this._getService.bind(this,L).apply(this,Se.multipleInstances?Be:[])}}return"PUBLIC"===Se.type?Ee[ue]:null},removeApp:function ge(Se){delete ie[Se]},useAsService:function Re(Se,L){return"serverAuth"===L?null:L},modularAPIs:N}};function Te(Se){if(!(0,h.r3)(ie,Se=Se||N._DEFAULT_ENTRY_NAME))throw he.create("no-app",{appName:Se});return ie[Se]}return Ee.default=Ee,Object.defineProperty(Ee,"apps",{get:function fe(){return Object.keys(ie).map(Se=>ie[Se])}}),Te.App=je,Ee}(X);return je.INTERNAL=Object.assign(Object.assign({},je.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function ie(Ee){(0,h.ZB)(je,Ee)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),je}(),U=new re.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const je=self.firebase.SDK_VERSION;je&&je.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ft=B;!function be(je){(0,N.registerVersion)("@firebase/app-compat","0.2.7",je)}()},9681:(nt,Ce,x)=>{x.r(Ce),x.d(Ce,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>rr,_DEFAULT_ENTRY_NAME:()=>Me,_addComponent:()=>Lt,_addOrOverwriteComponent:()=>it,_apps:()=>We,_clearComponents:()=>dn,_components:()=>$e,_getProvider:()=>ze,_registerComponent:()=>Rt,_removeServiceInstance:()=>ot,deleteApp:()=>ci,getApp:()=>Cr,getApps:()=>Qn,initializeApp:()=>ui,onLog:()=>tt,registerVersion:()=>ir,setLogLevel:()=>di});var h=x(5861),Q=x(4859),N=x(1877),re=x(2090),X=x(8766);class te{constructor(ye){this.container=ye}getPlatformInfoString(){return this.container.getProviders().map(Qe=>{if(function he(ke){return"VERSION"===ke.getComponent()?.type}(Qe)){const at=Qe.getImmediate();return`${at.library}/${at.version}`}return null}).filter(Qe=>Qe).join(" ")}}const oe="@firebase/app",B=new N.Yd("@firebase/app"),Me="[DEFAULT]",xe={[oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},We=new Map,$e=new Map;function Lt(ke,ye){try{ke.container.addComponent(ye)}catch(Qe){B.debug(`Component ${ye.name} failed to register with FirebaseApp ${ke.name}`,Qe)}}function it(ke,ye){ke.container.addOrOverwriteComponent(ye)}function Rt(ke){const ye=ke.name;if($e.has(ye))return B.debug(`There were multiple attempts to register component ${ye}.`),!1;$e.set(ye,ke);for(const Qe of We.values())Lt(Qe,ke);return!0}function ze(ke,ye){const Qe=ke.container.getProvider("heartbeat").getImmediate({optional:!0});return Qe&&Qe.triggerHeartbeat(),ke.container.getProvider(ye)}function ot(ke,ye,Qe=Me){ze(ke,ye).clearInstance(Qe)}function dn(){$e.clear()}const Xt=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class en{constructor(ye,Qe,at){this._isDeleted=!1,this._options=Object.assign({},ye),this._config=Object.assign({},Qe),this._name=Qe.name,this._automaticDataCollectionEnabled=Qe.automaticDataCollectionEnabled,this._container=at,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this.checkDestroyed(),this._automaticDataCollectionEnabled=ye}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ye){this._isDeleted=ye}checkDestroyed(){if(this.isDeleted)throw Xt.create("app-deleted",{appName:this._name})}}const rr="9.19.1";function ui(ke,ye={}){let Qe=ke;"object"!=typeof ye&&(ye={name:ye});const at=Object.assign({name:Me,automaticDataCollectionEnabled:!1},ye),gt=at.name;if("string"!=typeof gt||!gt)throw Xt.create("bad-app-name",{appName:String(gt)});if(Qe||(Qe=(0,re.aH)()),!Qe)throw Xt.create("no-options");const Et=We.get(gt);if(Et){if((0,re.vZ)(Qe,Et.options)&&(0,re.vZ)(at,Et.config))return Et;throw Xt.create("duplicate-app",{appName:gt})}const Un=new Q.H0(gt);for(const F of $e.values())Un.addComponent(F);const V=new en(Qe,at,Un);return We.set(gt,V),V}function Cr(ke=Me){const ye=We.get(ke);if(!ye&&ke===Me)return ui();if(!ye)throw Xt.create("no-app",{appName:ke});return ye}function Qn(){return Array.from(We.values())}function ci(ke){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,h.Z)(function*(ke){const ye=ke.name;We.has(ye)&&(We.delete(ye),yield Promise.all(ke.container.getProviders().map(Qe=>Qe.delete())),ke.isDeleted=!0)})).apply(this,arguments)}function ir(ke,ye,Qe){var at;let gt=null!==(at=xe[ke])&&void 0!==at?at:ke;Qe&&(gt+=`-${Qe}`);const Et=gt.match(/\s|\//),Un=ye.match(/\s|\//);if(Et||Un){const V=[`Unable to register library "${gt}" with version "${ye}":`];return Et&&V.push(`library name "${gt}" contains illegal characters (whitespace or "/")`),Et&&Un&&V.push("and"),Un&&V.push(`version name "${ye}" contains illegal characters (whitespace or "/")`),void B.warn(V.join(" "))}Rt(new Q.wA(`${gt}-version`,()=>({library:gt,version:ye}),"VERSION"))}function tt(ke,ye){if(null!==ke&&"function"!=typeof ke)throw Xt.create("invalid-log-argument");(0,N.Am)(ke,ye)}function di(ke){(0,N.Ub)(ke)}const xr="firebase-heartbeat-database",tn=1,Ln="firebase-heartbeat-store";let fi=null;function mt(){return fi||(fi=(0,X.X3)(xr,tn,{upgrade:(ke,ye)=>{0===ye&&ke.createObjectStore(Ln)}}).catch(ke=>{throw Xt.create("idb-open",{originalErrorMessage:ke.message})})),fi}function lt(){return(lt=(0,h.Z)(function*(ke){try{return(yield mt()).transaction(Ln).objectStore(Ln).get(fn(ke))}catch(ye){if(ye instanceof re.ZR)B.warn(ye.message);else{const Qe=Xt.create("idb-get",{originalErrorMessage:ye?.message});B.warn(Qe.message)}}})).apply(this,arguments)}function xi(ke,ye){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,h.Z)(function*(ke,ye){try{const at=(yield mt()).transaction(Ln,"readwrite");return yield at.objectStore(Ln).put(ye,fn(ke)),at.done}catch(Qe){if(Qe instanceof re.ZR)B.warn(Qe.message);else{const at=Xt.create("idb-set",{originalErrorMessage:Qe?.message});B.warn(at.message)}}})).apply(this,arguments)}function fn(ke){return`${ke.name}!${ke.options.appId}`}class cs{constructor(ye){this.container=ye,this._heartbeatsCache=null;const Qe=this.container.getProvider("app").getImmediate();this._storage=new At(Qe),this._heartbeatsCachePromise=this._storage.read().then(at=>(this._heartbeatsCache=at,at))}triggerHeartbeat(){var ye=this;return(0,h.Z)(function*(){const at=ye.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),gt=Vt();if(null===ye._heartbeatsCache&&(ye._heartbeatsCache=yield ye._heartbeatsCachePromise),ye._heartbeatsCache.lastSentHeartbeatDate!==gt&&!ye._heartbeatsCache.heartbeats.some(Et=>Et.date===gt))return ye._heartbeatsCache.heartbeats.push({date:gt,agent:at}),ye._heartbeatsCache.heartbeats=ye._heartbeatsCache.heartbeats.filter(Et=>{const Un=new Date(Et.date).valueOf();return Date.now()-Un<=2592e6}),ye._storage.overwrite(ye._heartbeatsCache)})()}getHeartbeatsHeader(){var ye=this;return(0,h.Z)(function*(){if(null===ye._heartbeatsCache&&(yield ye._heartbeatsCachePromise),null===ye._heartbeatsCache||0===ye._heartbeatsCache.heartbeats.length)return"";const Qe=Vt(),{heartbeatsToSend:at,unsentEntries:gt}=function Vr(ke,ye=1024){const Qe=[];let at=ke.slice();for(const gt of ke){const Et=Qe.find(Un=>Un.agent===gt.agent);if(Et){if(Et.dates.push(gt.date),Jn(Qe)>ye){Et.dates.pop();break}}else if(Qe.push({agent:gt.agent,dates:[gt.date]}),Jn(Qe)>ye){Qe.pop();break}at=at.slice(1)}return{heartbeatsToSend:Qe,unsentEntries:at}}(ye._heartbeatsCache.heartbeats),Et=(0,re.L)(JSON.stringify({version:2,heartbeats:at}));return ye._heartbeatsCache.lastSentHeartbeatDate=Qe,gt.length>0?(ye._heartbeatsCache.heartbeats=gt,yield ye._storage.overwrite(ye._heartbeatsCache)):(ye._heartbeatsCache.heartbeats=[],ye._storage.overwrite(ye._heartbeatsCache)),Et})()}}function Vt(){return(new Date).toISOString().substring(0,10)}class At{constructor(ye){this.app=ye,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ye=this;return(0,h.Z)(function*(){return(yield ye._canUseIndexedDBPromise)&&(yield function rt(ke){return lt.apply(this,arguments)}(ye.app))||{heartbeats:[]}})()}overwrite(ye){var Qe=this;return(0,h.Z)(function*(){var at;if(yield Qe._canUseIndexedDBPromise){const Et=yield Qe.read();return xi(Qe.app,{lastSentHeartbeatDate:null!==(at=ye.lastSentHeartbeatDate)&&void 0!==at?at:Et.lastSentHeartbeatDate,heartbeats:ye.heartbeats})}})()}add(ye){var Qe=this;return(0,h.Z)(function*(){var at;if(yield Qe._canUseIndexedDBPromise){const Et=yield Qe.read();return xi(Qe.app,{lastSentHeartbeatDate:null!==(at=ye.lastSentHeartbeatDate)&&void 0!==at?at:Et.lastSentHeartbeatDate,heartbeats:[...Et.heartbeats,...ye.heartbeats]})}})()}}function Jn(ke){return(0,re.L)(JSON.stringify({version:2,heartbeats:ke})).length}!function Br(ke){Rt(new Q.wA("platform-logger",ye=>new te(ye),"PRIVATE")),Rt(new Q.wA("heartbeat",ye=>new cs(ye),"PRIVATE")),ir(oe,"0.9.7",ke),ir(oe,"0.9.7","esm2017"),ir("fire-js","")}("")},4859:(nt,Ce,x)=>{x.d(Ce,{H0:()=>oe,wA:()=>N,zt:()=>X});var h=x(5861),Q=x(2090);class N{constructor(B,U,Z){this.name=B,this.instanceFactory=U,this.type=Z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const re="[DEFAULT]";class X{constructor(B,U){this.name=B,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const U=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(U)){const Z=new Q.BH;if(this.instancesDeferred.set(U,Z),this.isInitialized(U)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:U});He&&Z.resolve(He)}catch{}}return this.instancesDeferred.get(U).promise}getImmediate(B){var U;const Z=this.normalizeInstanceIdentifier(B?.identifier),He=null!==(U=B?.optional)&&void 0!==U&&U;if(!this.isInitialized(Z)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Z})}catch(be){if(He)return null;throw be}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function he(le){return"EAGER"===le.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[U,Z]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(U);try{const be=this.getOrInitializeService({instanceIdentifier:He});Z.resolve(be)}catch{}}}}clearInstance(B=re){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,h.Z)(function*(){const U=Array.from(B.instances.values());yield Promise.all([...U.filter(Z=>"INTERNAL"in Z).map(Z=>Z.INTERNAL.delete()),...U.filter(Z=>"_delete"in Z).map(Z=>Z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=re){return this.instances.has(B)}getOptions(B=re){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:U={}}=B,Z=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(Z))throw Error(`${this.name}(${Z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:Z,options:U});for(const[be,ft]of this.instancesDeferred.entries())Z===this.normalizeInstanceIdentifier(be)&&ft.resolve(He);return He}onInit(B,U){var Z;const He=this.normalizeInstanceIdentifier(U),be=null!==(Z=this.onInitCallbacks.get(He))&&void 0!==Z?Z:new Set;be.add(B),this.onInitCallbacks.set(He,be);const ft=this.instances.get(He);return ft&&B(ft,He),()=>{be.delete(B)}}invokeOnInitCallbacks(B,U){const Z=this.onInitCallbacks.get(U);if(Z)for(const He of Z)try{He(B,U)}catch{}}getOrInitializeService({instanceIdentifier:B,options:U={}}){let Z=this.instances.get(B);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:(le=B,le===re?void 0:le),options:U}),this.instances.set(B,Z),this.instancesOptions.set(B,U),this.invokeOnInitCallbacks(Z,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,Z)}catch{}var le;return Z||null}normalizeInstanceIdentifier(B=re){return this.component?this.component.multipleInstances?B:re:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oe{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const U=this.getProvider(B.name);if(U.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);U.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const U=new X(B,this);return this.providers.set(B,U),U}getProviders(){return Array.from(this.providers.values())}}},1877:(nt,Ce,x)=>{x.d(Ce,{Am:()=>le,Ub:()=>oe,Yd:()=>he,in:()=>Q});const h=[];var Q=(()=>{return(B=Q||(Q={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",Q;var B})();const N={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},re=Q.INFO,X={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},te=(B,U,...Z)=>{if(U<B.logLevel)return;const He=(new Date).toISOString(),be=X[U];if(!be)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[be](`[${He}]  ${B.name}:`,...Z)};class he{constructor(U){this.name=U,this._logLevel=re,this._logHandler=te,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in Q))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?N[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...U),this._logHandler(this,Q.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...U),this._logHandler(this,Q.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...U),this._logHandler(this,Q.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...U),this._logHandler(this,Q.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...U),this._logHandler(this,Q.ERROR,...U)}}function oe(B){h.forEach(U=>{U.setLogLevel(B)})}function le(B,U){for(const Z of h){let He=null;U&&U.level&&(He=N[U.level]),Z.userLogHandler=null===B?null:(be,ft,...je)=>{const ie=je.map(Ee=>{if(null==Ee)return null;if("string"==typeof Ee)return Ee;if("number"==typeof Ee||"boolean"==typeof Ee)return Ee.toString();if(Ee instanceof Error)return Ee.message;try{return JSON.stringify(Ee)}catch{return null}}).filter(Ee=>Ee).join(" ");ft>=(He??be.logLevel)&&B({level:Q[ft].toLowerCase(),message:ie,args:je,type:be.name})}}}},259:(nt,Ce,x)=>{x.d(Ce,{C6:()=>h.getApps,Mq:()=>h.getApp,ZF:()=>h.initializeApp});var h=x(9681);(0,h.registerVersion)("firebase","9.19.1","app")},9260:(nt,Ce,x)=>{x.d(Ce,{Z:()=>h.Z});var h=x(3942);h.Z.registerVersion("firebase","9.19.1","app-compat")},9800:(nt,Ce,x)=>{x.r(Ce);var h=x(5861),Q=x(3942),N=x(2090),re=x(9681),X=x(1877),te=x(655),he=x(4859);const le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Z_EMAIL_SIGNIN="EMAIL_SIGNIN",Z_PASSWORD_RESET="PASSWORD_RESET",Z_RECOVER_EMAIL="RECOVER_EMAIL",Z_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",Z_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",Z_VERIFY_EMAIL="VERIFY_EMAIL";const ft=function He(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},je=function be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ie=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ge=new X.Yd("@firebase/auth");function Te(m,...c){ge.logLevel<=X.in.ERROR&&ge.error(`Auth (${re.SDK_VERSION}): ${m}`,...c)}function _e(m,...c){throw Se(m,...c)}function fe(m,...c){return Se(m,...c)}function Ie(m,c,d){const _=Object.assign(Object.assign({},je()),{[c]:d});return new N.LL("auth","Firebase",_).create(c,{appName:m.name})}function Re(m,c,d){if(!(c instanceof d))throw d.name!==c.constructor.name&&_e(m,"argument-error"),Ie(m,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Se(m,...c){if("string"!=typeof m){const d=c[0],_=[...c.slice(1)];return _[0]&&(_[0].appName=m.name),m._errorFactory.create(d,..._)}return ie.create(m,...c)}function L(m,c,...d){if(!m)throw Se(c,...d)}function ue(m){const c="INTERNAL ASSERTION FAILED: "+m;throw Te(c),new Error(c)}function Ne(m,c){m||ue(c)}const Be=new Map;function et(m){Ne(m instanceof Function,"Expected a class definition");let c=Be.get(m);return c?(Ne(c instanceof m,"Instance stored in cache mismatched with class"),c):(c=new m,Be.set(m,c),c)}function se(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function ce(){return"http:"===De()||"https:"===De()}function De(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class We{constructor(c,d){this.shortDelay=c,this.longDelay=d,Ne(d>c,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function Me(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ce()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $e(m,c){Ne(m.emulator,"Emulator should always be set here");const{url:d}=m.emulator;return c?`${d}${c.startsWith("/")?c.slice(1):c}`:d}class Lt{static initialize(c,d,_){this.fetchImpl=c,d&&(this.headersImpl=d),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ue("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ue("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ue("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const it={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Rt=new We(3e4,6e4);function ze(m,c){return m.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:m.tenantId}):c}function ot(m,c,d,_){return dn.apply(this,arguments)}function dn(){return(dn=(0,h.Z)(function*(m,c,d,_,w={}){return Ut(m,w,(0,h.Z)(function*(){let A={},j={};_&&("GET"===c?j=_:A={body:JSON.stringify(_)});const ne=(0,N.xO)(Object.assign({key:m.config.apiKey},j)).slice(1),Oe=yield m._getAdditionalHeaders();return Oe["Content-Type"]="application/json",m.languageCode&&(Oe["X-Firebase-Locale"]=m.languageCode),Lt.fetch()(ui(m,m.config.apiHost,d,ne),Object.assign({method:c,headers:Oe,referrerPolicy:"no-referrer"},A))}))})).apply(this,arguments)}function Ut(m,c,d){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,h.Z)(function*(m,c,d){m._canInitEmulator=!1;const _=Object.assign(Object.assign({},it),c);try{const w=new Cr(m),A=yield Promise.race([d(),w.promise]);w.clearNetworkTimeout();const j=yield A.json();if("needConfirmation"in j)throw Qn(m,"account-exists-with-different-credential",j);if(A.ok&&!("errorMessage"in j))return j;{const ne=A.ok?j.errorMessage:j.error.message,[Oe,Le]=ne.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Oe)throw Qn(m,"credential-already-in-use",j);if("EMAIL_EXISTS"===Oe)throw Qn(m,"email-already-in-use",j);if("USER_DISABLED"===Oe)throw Qn(m,"user-disabled",j);const Xe=_[Oe]||Oe.toLowerCase().replace(/[_\s]+/g,"-");if(Le)throw Ie(m,Xe,Le);_e(m,Xe)}}catch(w){if(w instanceof N.ZR)throw w;_e(m,"network-request-failed",{message:String(w)})}})).apply(this,arguments)}function en(m,c,d,_){return rr.apply(this,arguments)}function rr(){return(rr=(0,h.Z)(function*(m,c,d,_,w={}){const A=yield ot(m,c,d,_,w);return"mfaPendingCredential"in A&&_e(m,"multi-factor-auth-required",{_serverResponse:A}),A})).apply(this,arguments)}function ui(m,c,d,_){const w=`${c}${d}?${_}`;return m.config.emulator?$e(m.config,w):`${m.config.apiScheme}://${w}`}class Cr{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((d,_)=>{this.timer=setTimeout(()=>_(fe(this.auth,"network-request-failed")),Rt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qn(m,c,d){const _={appName:m.name};d.email&&(_.email=d.email),d.phoneNumber&&(_.phoneNumber=d.phoneNumber);const w=fe(m,c,_);return w.customData._tokenResponse=d,w}function Gt(){return(Gt=(0,h.Z)(function*(m,c){return ot(m,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function tt(){return(tt=(0,h.Z)(function*(m,c){return ot(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function xr(){return(xr=(0,h.Z)(function*(m,c){return ot(m,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function tn(m){if(m)try{const c=new Date(Number(m));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function mt(){return(mt=(0,h.Z)(function*(m,c=!1){const d=(0,N.m9)(m),_=yield d.getIdToken(c),w=lt(_);L(w&&w.exp&&w.auth_time&&w.iat,d.auth,"internal-error");const A="object"==typeof w.firebase?w.firebase:void 0,j=A?.sign_in_provider;return{claims:w,token:_,authTime:tn(rt(w.auth_time)),issuedAtTime:tn(rt(w.iat)),expirationTime:tn(rt(w.exp)),signInProvider:j||null,signInSecondFactor:A?.sign_in_second_factor||null}})).apply(this,arguments)}function rt(m){return 1e3*Number(m)}function lt(m){const[c,d,_]=m.split(".");if(void 0===c||void 0===d||void 0===_)return Te("JWT malformed, contained fewer than 3 sections"),null;try{const w=(0,N.tV)(d);return w?JSON.parse(w):(Te("Failed to decode base64 JWT payload"),null)}catch(w){return Te("Caught error parsing JWT payload as JSON",w?.toString()),null}}function Wt(m,c){return fn.apply(this,arguments)}function fn(){return(fn=(0,h.Z)(function*(m,c,d=!1){if(d)return c;try{return yield c}catch(_){throw _ instanceof N.ZR&&function Vn({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}(_)&&m.auth.currentUser===m&&(yield m.auth.signOut()),_}})).apply(this,arguments)}class Bn{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var d;if(c){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const w=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,w)}}schedule(c=!1){var d=this;if(!this.isRunning)return;const _=this.getInterval(c);this.timerId=setTimeout((0,h.Z)(function*(){yield d.iteration()}),_)}iteration(){var c=this;return(0,h.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&c.schedule(!0))}c.schedule()})()}}class cs{constructor(c,d){this.createdAt=c,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=tn(this.lastLoginAt),this.creationTime=tn(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vt(m){return Vr.apply(this,arguments)}function Vr(){return Vr=(0,h.Z)(function*(m){var c;const d=m.auth,_=yield m.getIdToken(),w=yield Wt(m,function di(m,c){return xr.apply(this,arguments)}(d,{idToken:_}));L(w?.users.length,d,"internal-error");const A=w.users[0];m._notifyReloadListener(A);const j=null!==(c=A.providerUserInfo)&&void 0!==c&&c.length?function ke(m){return m.map(c=>{var{providerId:d}=c,_=(0,te._T)(c,["providerId"]);return{providerId:d,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}(A.providerUserInfo):[],ne=function Br(m,c){return[...m.filter(_=>!c.some(w=>w.providerId===_.providerId)),...c]}(m.providerData,j),Xe=!!m.isAnonymous&&!(m.email&&A.passwordHash||ne?.length),Ye={uid:A.localId,displayName:A.displayName||null,photoURL:A.photoUrl||null,email:A.email||null,emailVerified:A.emailVerified||!1,phoneNumber:A.phoneNumber||null,tenantId:A.tenantId||null,providerData:ne,metadata:new cs(A.createdAt,A.lastLoginAt),isAnonymous:Xe};Object.assign(m,Ye)}),Vr.apply(this,arguments)}function Jn(){return(Jn=(0,h.Z)(function*(m){const c=(0,N.m9)(m);yield Vt(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function Qe(){return(Qe=(0,h.Z)(function*(m,c){const d=yield Ut(m,{},(0,h.Z)(function*(){const _=(0,N.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:w,apiKey:A}=m.config,j=ui(m,w,"/v1/token",`key=${A}`),ne=yield m._getAdditionalHeaders();return ne["Content-Type"]="application/x-www-form-urlencoded",Lt.fetch()(j,{method:"POST",headers:ne,body:_})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}class at{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){L(c.idToken,"internal-error"),L(typeof c.idToken<"u","internal-error"),L(typeof c.refreshToken<"u","internal-error");const d="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function xi(m){const c=lt(m);return L(c,"internal-error"),L(typeof c.exp<"u","internal-error"),L(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,d)}getToken(c,d=!1){var _=this;return(0,h.Z)(function*(){return L(!_.accessToken||_.refreshToken,c,"user-token-expired"),d||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(c,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,d){var _=this;return(0,h.Z)(function*(){const{accessToken:w,refreshToken:A,expiresIn:j}=yield function ye(m,c){return Qe.apply(this,arguments)}(c,d);_.updateTokensAndExpiration(w,A,Number(j))})()}updateTokensAndExpiration(c,d,_){this.refreshToken=d||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(c,d){const{refreshToken:_,accessToken:w,expirationTime:A}=d,j=new at;return _&&(L("string"==typeof _,"internal-error",{appName:c}),j.refreshToken=_),w&&(L("string"==typeof w,"internal-error",{appName:c}),j.accessToken=w),A&&(L("number"==typeof A,"internal-error",{appName:c}),j.expirationTime=A),j}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new at,this.toJSON())}_performRefresh(){return ue("not implemented")}}function gt(m,c){L("string"==typeof m||typeof m>"u","internal-error",{appName:c})}class Et{constructor(c){var{uid:d,auth:_,stsTokenManager:w}=c,A=(0,te._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=_,this.stsTokenManager=w,this.accessToken=w.accessToken,this.displayName=A.displayName||null,this.email=A.email||null,this.emailVerified=A.emailVerified||!1,this.phoneNumber=A.phoneNumber||null,this.photoURL=A.photoURL||null,this.isAnonymous=A.isAnonymous||!1,this.tenantId=A.tenantId||null,this.providerData=A.providerData?[...A.providerData]:[],this.metadata=new cs(A.createdAt||void 0,A.lastLoginAt||void 0)}getIdToken(c){var d=this;return(0,h.Z)(function*(){const _=yield Wt(d,d.stsTokenManager.getToken(d.auth,c));return L(_,d.auth,"internal-error"),d.accessToken!==_&&(d.accessToken=_,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),_})()}getIdTokenResult(c){return function fi(m){return mt.apply(this,arguments)}(this,c)}reload(){return function At(m){return Jn.apply(this,arguments)}(this)}_assign(c){this!==c&&(L(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(d=>Object.assign({},d)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const d=new Et(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(c){L(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,d=!1){var _=this;return(0,h.Z)(function*(){let w=!1;c.idToken&&c.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(c),w=!0),d&&(yield Vt(_)),yield _.auth._persistUserIfCurrent(_),w&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var c=this;return(0,h.Z)(function*(){const d=yield c.getIdToken();return yield Wt(c,function ci(m,c){return Gt.apply(this,arguments)}(c.auth,{idToken:d})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,d){var _,w,A,j,ne,Oe,Le,Xe;const Ye=null!==(_=d.displayName)&&void 0!==_?_:void 0,Mn=null!==(w=d.email)&&void 0!==w?w:void 0,Qt=null!==(A=d.phoneNumber)&&void 0!==A?A:void 0,Sl=null!==(j=d.photoURL)&&void 0!==j?j:void 0,md=null!==(ne=d.tenantId)&&void 0!==ne?ne:void 0,Uu=null!==(Oe=d._redirectEventId)&&void 0!==Oe?Oe:void 0,Hp=null!==(Le=d.createdAt)&&void 0!==Le?Le:void 0,Al=null!==(Xe=d.lastLoginAt)&&void 0!==Xe?Xe:void 0,{uid:Ta,emailVerified:th,isAnonymous:Sa,providerData:Ml,stsTokenManager:_d}=d;L(Ta&&_d,c,"internal-error");const jp=at.fromJSON(this.name,_d);L("string"==typeof Ta,c,"internal-error"),gt(Ye,c.name),gt(Mn,c.name),L("boolean"==typeof th,c,"internal-error"),L("boolean"==typeof Sa,c,"internal-error"),gt(Qt,c.name),gt(Sl,c.name),gt(md,c.name),gt(Uu,c.name),gt(Hp,c.name),gt(Al,c.name);const yd=new Et({uid:Ta,auth:c,email:Mn,emailVerified:th,displayName:Ye,isAnonymous:Sa,photoURL:Sl,phoneNumber:Qt,tenantId:md,stsTokenManager:jp,createdAt:Hp,lastLoginAt:Al});return Ml&&Array.isArray(Ml)&&(yd.providerData=Ml.map($p=>Object.assign({},$p))),Uu&&(yd._redirectEventId=Uu),yd}static _fromIdTokenResponse(c,d,_=!1){return(0,h.Z)(function*(){const w=new at;w.updateFromServerResponse(d);const A=new Et({uid:d.localId,auth:c,stsTokenManager:w,isAnonymous:_});return yield Vt(A),A})()}}const V=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(d,_){var w=this;return(0,h.Z)(function*(){w.storage[d]=_})()}_get(d){var _=this;return(0,h.Z)(function*(){const w=_.storage[d];return void 0===w?null:w})()}_remove(d){var _=this;return(0,h.Z)(function*(){delete _.storage[d]})()}_addListener(d,_){}_removeListener(d,_){}}return m.type="NONE",m})();function F(m,c,d){return`firebase:${m}:${c}:${d}`}class H{constructor(c,d,_){this.persistence=c,this.auth=d,this.userKey=_;const{config:w,name:A}=this.auth;this.fullUserKey=F(this.userKey,w.apiKey,A),this.fullPersistenceKey=F("persistence",w.apiKey,A),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,h.Z)(function*(){const d=yield c.persistence._get(c.fullUserKey);return d?Et._fromJSON(c.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var d=this;return(0,h.Z)(function*(){if(d.persistence===c)return;const _=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=c,_?d.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,d,_="authUser"){return(0,h.Z)(function*(){if(!d.length)return new H(et(V),c,_);const w=(yield Promise.all(d.map(function(){var Le=(0,h.Z)(function*(Xe){if(yield Xe._isAvailable())return Xe});return function(Xe){return Le.apply(this,arguments)}}()))).filter(Le=>Le);let A=w[0]||et(V);const j=F(_,c.config.apiKey,c.name);let ne=null;for(const Le of d)try{const Xe=yield Le._get(j);if(Xe){const Ye=Et._fromJSON(c,Xe);Le!==A&&(ne=Ye),A=Le;break}}catch{}const Oe=w.filter(Le=>Le._shouldAllowMigration);return A._shouldAllowMigration&&Oe.length?(A=Oe[0],ne&&(yield A._set(j,ne.toJSON())),yield Promise.all(d.map(function(){var Le=(0,h.Z)(function*(Xe){if(Xe!==A)try{yield Xe._remove(j)}catch{}});return function(Xe){return Le.apply(this,arguments)}}())),new H(A,c,_)):new H(A,c,_)})()}}function ae(m){const c=m.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(Bt(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(Y(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(on(c))return"Blackberry";if(wn(c))return"Webos";if(Ze(c))return"Safari";if((c.includes("chrome/")||Ue(c))&&!c.includes("edge/"))return"Chrome";if(nn(c))return"Android";{const _=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===_?.length)return _[1]}return"Other"}function Y(m=(0,N.z$)()){return/firefox\//i.test(m)}function Ze(m=(0,N.z$)()){const c=m.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function Ue(m=(0,N.z$)()){return/crios\//i.test(m)}function Bt(m=(0,N.z$)()){return/iemobile/i.test(m)}function nn(m=(0,N.z$)()){return/android/i.test(m)}function on(m=(0,N.z$)()){return/blackberry/i.test(m)}function wn(m=(0,N.z$)()){return/webos/i.test(m)}function _t(m=(0,N.z$)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function Mc(m=(0,N.z$)()){return _t(m)||nn(m)||wn(m)||on(m)||/windows phone/i.test(m)||Bt(m)}function Wo(m,c=[]){let d;switch(m){case"Browser":d=ae((0,N.z$)());break;case"Worker":d=`${ae((0,N.z$)())}-${m}`;break;default:d=m}const _=c.length?c.join(","):"FirebaseCore-web";return`${d}/JsCore/${re.SDK_VERSION}/${_}`}class zo{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,d){const _=A=>new Promise((j,ne)=>{try{j(c(A))}catch(Oe){ne(Oe)}});_.onAbort=d,this.queue.push(_);const w=this.queue.length-1;return()=>{this.queue[w]=()=>Promise.resolve()}}runMiddleware(c){var d=this;return(0,h.Z)(function*(){if(d.auth.currentUser===c)return;const _=[];try{for(const w of d.queue)yield w(c),w.onAbort&&_.push(w.onAbort)}catch(w){_.reverse();for(const A of _)try{A()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:w?.message})}})()}}class Pc{constructor(c,d,_){this.app=c,this.heartbeatServiceProvider=d,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ua(this),this.idTokenSubscription=new Ua(this),this.beforeStateQueue=new zo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ie,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(c,d){var _=this;return d&&(this._popupRedirectResolver=et(d)),this._initializationPromise=this.queue((0,h.Z)(function*(){var w,A;if(!_._deleted&&(_.persistenceManager=yield H.create(_,c),!_._deleted)){if(null!==(w=_._popupRedirectResolver)&&void 0!==w&&w._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch{}yield _.initializeCurrentUser(d),_.lastNotifiedUid=(null===(A=_.currentUser)||void 0===A?void 0:A.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,h.Z)(function*(){if(c._deleted)return;const d=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||d){if(c.currentUser&&d&&c.currentUser.uid===d.uid)return c._currentUser._assign(d),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(d,!0)}})()}initializeCurrentUser(c){var d=this;return(0,h.Z)(function*(){var _;const w=yield d.assertedPersistence.getCurrentUser();let A=w,j=!1;if(c&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const ne=null===(_=d.redirectUser)||void 0===_?void 0:_._redirectEventId,Oe=A?._redirectEventId,Le=yield d.tryRedirectSignIn(c);(!ne||ne===Oe)&&Le?.user&&(A=Le.user,j=!0)}if(!A)return d.directlySetCurrentUser(null);if(!A._redirectEventId){if(j)try{yield d.beforeStateQueue.runMiddleware(A)}catch(ne){A=w,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(ne))}return A?d.reloadAndSetCurrentUserOrClear(A):d.directlySetCurrentUser(null)}return L(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===A._redirectEventId?d.directlySetCurrentUser(A):d.reloadAndSetCurrentUserOrClear(A)})()}tryRedirectSignIn(c){var d=this;return(0,h.Z)(function*(){let _=null;try{_=yield d._popupRedirectResolver._completeRedirectFn(d,c,!0)}catch{yield d._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(c){var d=this;return(0,h.Z)(function*(){try{yield Vt(c)}catch(_){if("auth/network-request-failed"!==_?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function xe(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var c=this;return(0,h.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var d=this;return(0,h.Z)(function*(){const _=c?(0,N.m9)(c):null;return _&&L(_.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(_&&_._clone(d))})()}_updateCurrentUser(c,d=!1){var _=this;return(0,h.Z)(function*(){if(!_._deleted)return c&&L(_.tenantId===c.tenantId,_,"tenant-id-mismatch"),d||(yield _.beforeStateQueue.runMiddleware(c)),_.queue((0,h.Z)(function*(){yield _.directlySetCurrentUser(c),_.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,h.Z)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var d=this;return this.queue((0,h.Z)(function*(){yield d.assertedPersistence.setPersistence(et(c))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new N.LL("auth","Firebase",c())}onAuthStateChanged(c,d,_){return this.registerStateListener(this.authStateSubscription,c,d,_)}beforeAuthStateChanged(c,d){return this.beforeStateQueue.pushCallback(c,d)}onIdTokenChanged(c,d,_){return this.registerStateListener(this.idTokenSubscription,c,d,_)}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,d){var _=this;return(0,h.Z)(function*(){const w=yield _.getOrInitRedirectPersistenceManager(d);return null===c?w.removeCurrentUser():w.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var d=this;return(0,h.Z)(function*(){if(!d.redirectPersistenceManager){const _=c&&et(c)||d._popupRedirectResolver;L(_,d,"argument-error"),d.redirectPersistenceManager=yield H.create(d,[et(_._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(c){var d=this;return(0,h.Z)(function*(){var _,w;return d._isInitialized&&(yield d.queue((0,h.Z)(function*(){}))),(null===(_=d._currentUser)||void 0===_?void 0:_._redirectEventId)===c?d._currentUser:(null===(w=d.redirectUser)||void 0===w?void 0:w._redirectEventId)===c?d.redirectUser:null})()}_persistUserIfCurrent(c){var d=this;return(0,h.Z)(function*(){if(c===d.currentUser)return d.queue((0,h.Z)(function*(){return d.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(d=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,d,_,w){if(this._deleted)return()=>{};const A="function"==typeof d?d:d.next.bind(d),j=this._isInitialized?Promise.resolve():this._initializationPromise;return L(j,this,"internal-error"),j.then(()=>A(this.currentUser)),"function"==typeof d?c.addObserver(d,_,w):c.addObserver(d)}directlySetCurrentUser(c){var d=this;return(0,h.Z)(function*(){d.currentUser&&d.currentUser!==c&&d._currentUser._stopProactiveRefresh(),c&&d.isProactiveRefreshEnabled&&c._startProactiveRefresh(),d.currentUser=c,c?yield d.assertedPersistence.setCurrentUser(c):yield d.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return L(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=Wo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,h.Z)(function*(){var d;const _={"X-Client-Version":c.clientVersion};c.app.options.appId&&(_["X-Firebase-gmpid"]=c.app.options.appId);const w=yield null===(d=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();return w&&(_["X-Firebase-Client"]=w),_})()}}function an(m){return(0,N.m9)(m)}class Ua{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,N.ne)(d=>this.observer=d)}get next(){return L(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Mt(m){const c=m.indexOf(":");return c<0?"":m.substr(0,c+1)}function Pn(m){if(!m)return null;const c=Number(m);return isNaN(c)?null:c}class bn{constructor(c,d){this.providerId=c,this.signInMethod=d}toJSON(){return ue("not implemented")}_getIdTokenResponse(c){return ue("not implemented")}_linkToIdToken(c,d){return ue("not implemented")}_getReauthenticationResolver(c){return ue("not implemented")}}function Hn(m,c){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,h.Z)(function*(m,c){return ot(m,"POST","/v1/accounts:resetPassword",ze(m,c))})).apply(this,arguments)}function Fi(m,c){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,h.Z)(function*(m,c){return ot(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function yt(){return(yt=(0,h.Z)(function*(m,c){return ot(m,"POST","/v1/accounts:update",ze(m,c))})).apply(this,arguments)}function sr(){return(sr=(0,h.Z)(function*(m,c){return en(m,"POST","/v1/accounts:signInWithPassword",ze(m,c))})).apply(this,arguments)}function Hr(m,c){return ln.apply(this,arguments)}function ln(){return(ln=(0,h.Z)(function*(m,c){return ot(m,"POST","/v1/accounts:sendOobCode",ze(m,c))})).apply(this,arguments)}function qt(){return(qt=(0,h.Z)(function*(m,c){return Hr(m,c)})).apply(this,arguments)}function Ks(){return(Ks=(0,h.Z)(function*(m,c){return Hr(m,c)})).apply(this,arguments)}function ds(){return(ds=(0,h.Z)(function*(m,c){return Hr(m,c)})).apply(this,arguments)}function Bi(){return(Bi=(0,h.Z)(function*(m,c){return Hr(m,c)})).apply(this,arguments)}function Rn(){return(Rn=(0,h.Z)(function*(m,c){return en(m,"POST","/v1/accounts:signInWithEmailLink",ze(m,c))})).apply(this,arguments)}function Ui(){return(Ui=(0,h.Z)(function*(m,c){return en(m,"POST","/v1/accounts:signInWithEmailLink",ze(m,c))})).apply(this,arguments)}class or extends bn{constructor(c,d,_,w=null){super("password",_),this._email=c,this._password=d,this._tenantId=w}static _fromEmailAndPassword(c,d){return new or(c,d,"password")}static _fromEmailAndCode(c,d,_=null){return new or(c,d,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(c){var d=this;return(0,h.Z)(function*(){switch(d.signInMethod){case"password":return function jt(m,c){return sr.apply(this,arguments)}(c,{returnSecureToken:!0,email:d._email,password:d._password});case"emailLink":return function qs(m,c){return Rn.apply(this,arguments)}(c,{email:d._email,oobCode:d._password});default:_e(c,"internal-error")}})()}_linkToIdToken(c,d){var _=this;return(0,h.Z)(function*(){switch(_.signInMethod){case"password":return Fi(c,{idToken:d,returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function hs(m,c){return Ui.apply(this,arguments)}(c,{idToken:d,email:_._email,oobCode:_._password});default:_e(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function Dr(m,c){return ja.apply(this,arguments)}function ja(){return(ja=(0,h.Z)(function*(m,c){return en(m,"POST","/v1/accounts:signInWithIdp",ze(m,c))})).apply(this,arguments)}class Zr extends bn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const d=new Zr(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(d.idToken=c.idToken),c.accessToken&&(d.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(d.nonce=c.nonce),c.pendingToken&&(d.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(d.accessToken=c.oauthToken,d.secret=c.oauthTokenSecret):_e("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:_,signInMethod:w}=d,A=(0,te._T)(d,["providerId","signInMethod"]);if(!_||!w)return null;const j=new Zr(_,w);return j.idToken=A.idToken||void 0,j.accessToken=A.accessToken||void 0,j.secret=A.secret,j.nonce=A.nonce,j.pendingToken=A.pendingToken||null,j}_getIdTokenResponse(c){return Dr(c,this.buildRequest())}_linkToIdToken(c,d){const _=this.buildRequest();return _.idToken=d,Dr(c,_)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,Dr(c,d)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),c.postBody=(0,N.xO)(d)}return c}}function Zo(){return(Zo=(0,h.Z)(function*(m,c){return ot(m,"POST","/v1/accounts:sendVerificationCode",ze(m,c))})).apply(this,arguments)}function wr(){return(wr=(0,h.Z)(function*(m,c){return en(m,"POST","/v1/accounts:signInWithPhoneNumber",ze(m,c))})).apply(this,arguments)}function Nn(){return(Nn=(0,h.Z)(function*(m,c){const d=yield en(m,"POST","/v1/accounts:signInWithPhoneNumber",ze(m,c));if(d.temporaryProof)throw Qn(m,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const _f={USER_NOT_FOUND:"user-not-found"};function lr(){return(lr=(0,h.Z)(function*(m,c){return en(m,"POST","/v1/accounts:signInWithPhoneNumber",ze(m,Object.assign(Object.assign({},c),{operation:"REAUTH"})),_f)})).apply(this,arguments)}class Kr extends bn{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,d){return new Kr({verificationId:c,verificationCode:d})}static _fromTokenResponse(c,d){return new Kr({phoneNumber:c,temporaryProof:d})}_getIdTokenResponse(c){return function Hi(m,c){return wr.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,d){return function ps(m,c){return Nn.apply(this,arguments)}(c,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function ar(m,c){return lr.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:d,verificationId:_,verificationCode:w}=this.params;return c&&d?{temporaryProof:c,phoneNumber:d}:{sessionInfo:_,code:w}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:d,verificationCode:_,phoneNumber:w,temporaryProof:A}=c;return _||d||w||A?new Kr({verificationId:d,verificationCode:_,phoneNumber:w,temporaryProof:A}):null}}class jn{constructor(c){var d,_,w,A,j,ne;const Oe=(0,N.zd)((0,N.pd)(c)),Le=null!==(d=Oe.apiKey)&&void 0!==d?d:null,Xe=null!==(_=Oe.oobCode)&&void 0!==_?_:null,Ye=function Ko(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(w=Oe.mode)&&void 0!==w?w:null);L(Le&&Xe&&Ye,"argument-error"),this.apiKey=Le,this.operation=Ye,this.code=Xe,this.continueUrl=null!==(A=Oe.continueUrl)&&void 0!==A?A:null,this.languageCode=null!==(j=Oe.languageCode)&&void 0!==j?j:null,this.tenantId=null!==(ne=Oe.tenantId)&&void 0!==ne?ne:null}static parseLink(c){const d=function ji(m){const c=(0,N.zd)((0,N.pd)(m)).link,d=c?(0,N.zd)((0,N.pd)(c)).deep_link_id:null,_=(0,N.zd)((0,N.pd)(m)).deep_link_id;return(_?(0,N.zd)((0,N.pd)(_)).link:null)||_||d||c||m}(c);try{return new jn(d)}catch{return null}}}let ru=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(d,_){return or._fromEmailAndPassword(d,_)}static credentialWithLink(d,_){const w=jn.parseLink(_);return L(w,"argument-error"),or._fromEmailAndCode(d,w.code,w.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class qr{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class $i extends qr{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class Ys extends $i{static credentialFromJSON(c){const d="string"==typeof c?JSON.parse(c):c;return L("providerId"in d&&"signInMethod"in d,"argument-error"),Zr._fromParams(d)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return L(c.idToken||c.accessToken,"argument-error"),Zr._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return Ys.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return Ys.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:d,oauthAccessToken:_,oauthTokenSecret:w,pendingToken:A,nonce:j,providerId:ne}=c;if(!_&&!w&&!d&&!A||!ne)return null;try{return new Ys(ne)._credential({idToken:d,accessToken:_,nonce:j,pendingToken:A})}catch{return null}}}let Ga=(()=>{class m extends $i{constructor(){super("facebook.com")}static credential(d){return Zr._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return m.credentialFromTaggedObject(d)}static credentialFromError(d){return m.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return m.credential(d.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),Rc=(()=>{class m extends $i{constructor(){super("google.com"),this.addScope("profile")}static credential(d,_){return Zr._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:_})}static credentialFromResult(d){return m.credentialFromTaggedObject(d)}static credentialFromError(d){return m.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:_,oauthAccessToken:w}=d;if(!_&&!w)return null;try{return m.credential(_,w)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),Nc=(()=>{class m extends $i{constructor(){super("github.com")}static credential(d){return Zr._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return m.credentialFromTaggedObject(d)}static credentialFromError(d){return m.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return m.credential(d.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class gs extends bn{constructor(c,d){super(c,c),this.pendingToken=d}_getIdTokenResponse(c){return Dr(c,this.buildRequest())}_linkToIdToken(c,d){const _=this.buildRequest();return _.idToken=d,Dr(c,_)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,Dr(c,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:_,signInMethod:w,pendingToken:A}=d;return _&&w&&A&&_===w?new gs(_,A):null}static _create(c,d){return new gs(c,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class jr extends qr{constructor(c){L(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return jr.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return jr.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const d=gs.fromJSON(c);return L(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:d,providerId:_}=c;if(!d||!_)return null;try{return gs._create(_,d)}catch{return null}}}let vf=(()=>{class m extends $i{constructor(){super("twitter.com")}static credential(d,_){return Zr._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:_})}static credentialFromResult(d){return m.credentialFromTaggedObject(d)}static credentialFromError(d){return m.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:_,oauthTokenSecret:w}=d;if(!_||!w)return null;try{return m.credential(_,w)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function Wa(m,c){return za.apply(this,arguments)}function za(){return(za=(0,h.Z)(function*(m,c){return en(m,"POST","/v1/accounts:signUp",ze(m,c))})).apply(this,arguments)}class br{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,d,_,w=!1){return(0,h.Z)(function*(){const A=yield Et._fromIdTokenResponse(c,_,w),j=Za(_);return new br({user:A,providerId:j,_tokenResponse:_,operationType:d})})()}static _forOperation(c,d,_){return(0,h.Z)(function*(){yield c._updateTokensIfNecessary(_,!0);const w=Za(_);return new br({user:c,providerId:w,_tokenResponse:_,operationType:d})})()}}function Za(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function Oc(){return(Oc=(0,h.Z)(function*(m){var c;const d=an(m);if(yield d._initializationPromise,null!==(c=d.currentUser)&&void 0!==c&&c.isAnonymous)return new br({user:d.currentUser,providerId:null,operationType:"signIn"});const _=yield Wa(d,{returnSecureToken:!0}),w=yield br._fromIdTokenResponse(d,"signIn",_,!0);return yield d._updateCurrentUser(w.user),w})).apply(this,arguments)}class Ka extends N.ZR{constructor(c,d,_,w){var A;super(d.code,d.message),this.operationType=_,this.user=w,Object.setPrototypeOf(this,Ka.prototype),this.customData={appName:c.name,tenantId:null!==(A=c.tenantId)&&void 0!==A?A:void 0,_serverResponse:d.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(c,d,_,w){return new Ka(c,d,_,w)}}function Ef(m,c,d,_){return("reauthenticate"===c?d._getReauthenticationResolver(m):d._getIdTokenResponse(m)).catch(A=>{throw"auth/multi-factor-auth-required"===A.code?Ka._fromErrorAndOperation(m,A,c,_):A})}function ur(m){return new Set(m.map(({providerId:c})=>c).filter(c=>!!c))}function ms(){return ms=(0,h.Z)(function*(m,c){const d=(0,N.m9)(m);yield ys(!0,d,c);const{providerUserInfo:_}=yield function ir(m,c){return tt.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[c]}),w=ur(_||[]);return d.providerData=d.providerData.filter(A=>w.has(A.providerId)),w.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),ms.apply(this,arguments)}function Yo(m,c){return _s.apply(this,arguments)}function _s(){return(_s=(0,h.Z)(function*(m,c,d=!1){const _=yield Wt(m,c._linkToIdToken(m.auth,yield m.getIdToken()),d);return br._forOperation(m,"link",_)})).apply(this,arguments)}function ys(m,c,d){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,h.Z)(function*(m,c,d){yield Vt(c);const w=!1===m?"provider-already-linked":"no-such-provider";L(ur(c.providerData).has(d)===m,c.auth,w)})).apply(this,arguments)}function Qo(m,c){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,h.Z)(function*(m,c,d=!1){const{auth:_}=m,w="reauthenticate";try{const A=yield Wt(m,Ef(_,w,c,m),d);L(A.idToken,_,"internal-error");const j=lt(A.idToken);L(j,_,"internal-error");const{sub:ne}=j;return L(m.uid===ne,_,"user-mismatch"),br._forOperation(m,w,A)}catch(A){throw"auth/user-not-found"===A?.code&&_e(_,"user-mismatch"),A}})).apply(this,arguments)}function hi(m,c){return su.apply(this,arguments)}function su(){return(su=(0,h.Z)(function*(m,c,d=!1){const _="signIn",w=yield Ef(m,_,c),A=yield br._fromIdTokenResponse(m,_,w);return d||(yield m._updateCurrentUser(A.user)),A})).apply(this,arguments)}function kt(m,c){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,h.Z)(function*(m,c){return hi(an(m),c)})).apply(this,arguments)}function Js(m,c){return rn.apply(this,arguments)}function rn(){return(rn=(0,h.Z)(function*(m,c){const d=(0,N.m9)(m);return yield ys(!1,d,c.providerId),Yo(d,c)})).apply(this,arguments)}function ea(m,c){return $r.apply(this,arguments)}function $r(){return($r=(0,h.Z)(function*(m,c){return Qo((0,N.m9)(m),c)})).apply(this,arguments)}function Xs(){return(Xs=(0,h.Z)(function*(m,c){return en(m,"POST","/v1/accounts:signInWithCustomToken",ze(m,c))})).apply(this,arguments)}function Gr(){return Gr=(0,h.Z)(function*(m,c){const d=an(m),_=yield function $n(m,c){return Xs.apply(this,arguments)}(d,{token:c,returnSecureToken:!0}),w=yield br._fromIdTokenResponse(d,"signIn",_);return yield d._updateCurrentUser(w.user),w}),Gr.apply(this,arguments)}class Tn{constructor(c,d){this.factorId=c,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(c,d){return"phoneInfo"in d?Ya._fromServerResponse(c,d):"totpInfo"in d?vs._fromServerResponse(c,d):_e(c,"internal-error")}}class Ya extends Tn{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,d){return new Ya(d)}}class vs extends Tn{constructor(c){super("totp",c)}static _fromServerResponse(c,d){return new vs(d)}}function eo(m,c,d){var _;L((null===(_=d.url)||void 0===_?void 0:_.length)>0,m,"invalid-continue-uri"),L(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),c.continueUrl=d.url,c.dynamicLinkDomain=d.dynamicLinkDomain,c.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(L(d.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),c.iOSBundleId=d.iOS.bundleId),d.android&&(L(d.android.packageName.length>0,m,"missing-android-pkg-name"),c.androidInstallApp=d.android.installApp,c.androidMinimumVersionCode=d.android.minimumVersion,c.androidPackageName=d.android.packageName)}function Es(){return Es=(0,h.Z)(function*(m,c,d){const _=(0,N.m9)(m),w={requestType:"PASSWORD_RESET",email:c};d&&eo(_,w,d),yield function Vi(m,c){return Ks.apply(this,arguments)}(_,w)}),Es.apply(this,arguments)}function ut(){return(ut=(0,h.Z)(function*(m,c,d){yield Hn((0,N.m9)(m),{oobCode:c,newPassword:d})})).apply(this,arguments)}function ta(){return ta=(0,h.Z)(function*(m,c){yield function qe(m,c){return yt.apply(this,arguments)}((0,N.m9)(m),{oobCode:c})}),ta.apply(this,arguments)}function au(m,c){return to.apply(this,arguments)}function to(){return(to=(0,h.Z)(function*(m,c){const d=(0,N.m9)(m),_=yield Hn(d,{oobCode:c}),w=_.requestType;switch(L(w,d,"internal-error"),w){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":L(_.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":L(_.mfaInfo,d,"internal-error");default:L(_.email,d,"internal-error")}let A=null;return _.mfaInfo&&(A=Tn._fromServerResponse(an(d),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:A},operation:w}})).apply(this,arguments)}function na(){return(na=(0,h.Z)(function*(m,c){const{data:d}=yield au((0,N.m9)(m),c);return d.email})).apply(this,arguments)}function Yt(){return(Yt=(0,h.Z)(function*(m,c,d){const _=an(m),w=yield Wa(_,{returnSecureToken:!0,email:c,password:d}),A=yield br._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(A.user),A})).apply(this,arguments)}function ra(){return ra=(0,h.Z)(function*(m,c,d){const _=(0,N.m9)(m),w={requestType:"EMAIL_SIGNIN",email:c};L(d.handleCodeInApp,_,"argument-error"),d&&eo(_,w,d),yield function Ct(m,c){return ds.apply(this,arguments)}(_,w)}),ra.apply(this,arguments)}function Ja(){return(Ja=(0,h.Z)(function*(m,c,d){const _=(0,N.m9)(m),w=ru.credentialWithLink(c,d||se());return L(w._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),kt(_,w)})).apply(this,arguments)}function cr(){return(cr=(0,h.Z)(function*(m,c){return ot(m,"POST","/v1/accounts:createAuthUri",ze(m,c))})).apply(this,arguments)}function Is(){return Is=(0,h.Z)(function*(m,c){const _={identifier:c,continueUri:ce()?se():"http://localhost"},{signinMethods:w}=yield function Cs(m,c){return cr.apply(this,arguments)}((0,N.m9)(m),_);return w||[]}),Is.apply(this,arguments)}function ia(){return ia=(0,h.Z)(function*(m,c){const d=(0,N.m9)(m),w={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};c&&eo(d.auth,w,c);const{email:A}=yield function Li(m,c){return qt.apply(this,arguments)}(d.auth,w);A!==m.email&&(yield m.reload())}),ia.apply(this,arguments)}function un(){return un=(0,h.Z)(function*(m,c,d){const _=(0,N.m9)(m),A={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:c};d&&eo(_.auth,A,d);const{email:j}=yield function fs(m,c){return Bi.apply(this,arguments)}(_.auth,A);j!==m.email&&(yield m.reload())}),un.apply(this,arguments)}function no(){return(no=(0,h.Z)(function*(m,c){return ot(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Tr(){return Tr=(0,h.Z)(function*(m,{displayName:c,photoURL:d}){if(void 0===c&&void 0===d)return;const _=(0,N.m9)(m),A={idToken:yield _.getIdToken(),displayName:c,photoUrl:d,returnSecureToken:!0},j=yield Wt(_,function dr(m,c){return no.apply(this,arguments)}(_.auth,A));_.displayName=j.displayName||null,_.photoURL=j.photoUrl||null;const ne=_.providerData.find(({providerId:Oe})=>"password"===Oe);ne&&(ne.displayName=_.displayName,ne.photoURL=_.photoURL),yield _._updateTokensIfNecessary(j)}),Tr.apply(this,arguments)}function du(m,c,d){return el.apply(this,arguments)}function el(){return(el=(0,h.Z)(function*(m,c,d){const{auth:_}=m,A={idToken:yield m.getIdToken(),returnSecureToken:!0};c&&(A.email=c),d&&(A.password=d);const j=yield Wt(m,Fi(_,A));yield m._updateTokensIfNecessary(j,!0)})).apply(this,arguments)}class Wi{constructor(c,d,_={}){this.isNewUser=c,this.providerId=d,this.profile=_}}class tl extends Wi{constructor(c,d,_,w){super(c,d,_),this.username=w}}class aa extends Wi{constructor(c,d){super(c,"facebook.com",d)}}class Cf extends tl{constructor(c,d){super(c,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class nl extends Wi{constructor(c,d){super(c,"google.com",d)}}class fu extends tl{constructor(c,d,_){super(c,"twitter.com",d,_)}}function If(m){const{user:c,_tokenResponse:d}=m;return c.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function oa(m){var c,d;if(!m)return null;const{providerId:_}=m,w=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},A=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!_&&m?.idToken){const j=null===(d=null===(c=lt(m.idToken))||void 0===c?void 0:c.firebase)||void 0===d?void 0:d.sign_in_provider;if(j)return new Wi(A,"anonymous"!==j&&"custom"!==j?j:null)}if(!_)return null;switch(_){case"facebook.com":return new aa(A,w);case"github.com":return new Cf(A,w);case"google.com":return new nl(A,w);case"twitter.com":return new fu(A,w,m.screenName||null);case"custom":case"anonymous":return new Wi(A,null);default:return new Wi(A,_,w)}}(d)}class pi{constructor(c,d,_){this.type=c,this.credential=d,this.auth=_}static _fromIdtoken(c,d){return new pi("enroll",c,d)}static _fromMfaPendingCredential(c){return new pi("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var d,_;if(c?.multiFactorSession){if(null!==(d=c.multiFactorSession)&&void 0!==d&&d.pendingCredential)return pi._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(_=c.multiFactorSession)&&void 0!==_&&_.idToken)return pi._fromIdtoken(c.multiFactorSession.idToken)}return null}}class yn{constructor(c,d,_){this.session=c,this.hints=d,this.signInResolver=_}static _fromError(c,d){const _=an(c),w=d.customData._serverResponse,A=(w.mfaInfo||[]).map(ne=>Tn._fromServerResponse(_,ne));L(w.mfaPendingCredential,_,"internal-error");const j=pi._fromMfaPendingCredential(w.mfaPendingCredential);return new yn(j,A,function(){var ne=(0,h.Z)(function*(Oe){const Le=yield Oe._process(_,j);delete w.mfaInfo,delete w.mfaPendingCredential;const Xe=Object.assign(Object.assign({},w),{idToken:Le.idToken,refreshToken:Le.refreshToken});switch(d.operationType){case"signIn":const Ye=yield br._fromIdTokenResponse(_,d.operationType,Xe);return yield _._updateCurrentUser(Ye.user),Ye;case"reauthenticate":return L(d.user,_,"internal-error"),br._forOperation(d.user,d.operationType,Xe);default:_e(_,"internal-error")}});return function(Oe){return ne.apply(this,arguments)}}())}resolveSignIn(c){var d=this;return(0,h.Z)(function*(){return d.signInResolver(c)})()}}class Ds{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(_=>Tn._fromServerResponse(c.auth,_)))})}static _fromUser(c){return new Ds(c)}getSession(){var c=this;return(0,h.Z)(function*(){return pi._fromIdtoken(yield c.user.getIdToken(),c.user.auth)})()}enroll(c,d){var _=this;return(0,h.Z)(function*(){const w=c,A=yield _.getSession(),j=yield Wt(_.user,w._process(_.user.auth,A,d));return yield _.user._updateTokensIfNecessary(j),_.user.reload()})()}unenroll(c){var d=this;return(0,h.Z)(function*(){const _="string"==typeof c?c:c.uid,w=yield d.user.getIdToken();try{const A=yield Wt(d.user,function sl(m,c){return ot(m,"POST","/v2/accounts/mfaEnrollment:withdraw",ze(m,c))}(d.user.auth,{idToken:w,mfaEnrollmentId:_}));d.enrolledFactors=d.enrolledFactors.filter(({uid:j})=>j!==_),yield d.user._updateTokensIfNecessary(A),yield d.user.reload()}catch(A){throw A}})()}}const zi=new WeakMap,la="__sak";class Sr{constructor(c,d){this.storageRetriever=c,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(la,"1"),this.storage.removeItem(la),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,d){return this.storage.setItem(c,JSON.stringify(d)),Promise.resolve()}_get(c){const d=this.storage.getItem(c);return Promise.resolve(d?JSON.parse(d):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const ol=(()=>{class m extends Sr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,_)=>this.onStorageEvent(d,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function so(){const m=(0,N.z$)();return Ze(m)||_t(m)}()&&function Ba(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Mc(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const _ of Object.keys(this.listeners)){const w=this.storage.getItem(_),A=this.localCache[_];w!==A&&d(_,A,w)}}onStorageEvent(d,_=!1){if(!d.key)return void this.forAllChangedKeys((ne,Oe,Le)=>{this.notifyListeners(ne,Le)});const w=d.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ne=this.storage.getItem(w);if(d.newValue!==ne)null!==d.newValue?this.storage.setItem(w,d.newValue):this.storage.removeItem(w);else if(this.localCache[w]===d.newValue&&!_)return}const A=()=>{const ne=this.storage.getItem(w);!_&&this.localCache[w]===ne||this.notifyListeners(w,ne)},j=this.storage.getItem(w);!function Go(){return(0,N.w1)()&&10===document.documentMode}()||j===d.newValue||d.newValue===d.oldValue?A():setTimeout(A,10)}notifyListeners(d,_){this.localCache[d]=_;const w=this.listeners[d];if(w)for(const A of Array.from(w))A(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,_,w)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:_,newValue:w}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(_)}_removeListener(d,_){this.listeners[d]&&(this.listeners[d].delete(_),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,_){var w=()=>super._set,A=this;return(0,h.Z)(function*(){yield w().call(A,d,_),A.localCache[d]=JSON.stringify(_)})()}_get(d){var _=()=>super._get,w=this;return(0,h.Z)(function*(){const A=yield _().call(w,d);return w.localCache[d]=JSON.stringify(A),A})()}_remove(d){var _=()=>super._remove,w=this;return(0,h.Z)(function*(){yield _().call(w,d),delete w.localCache[d]})()}}return m.type="LOCAL",m})(),Ar=(()=>{class m extends Sr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,_){}_removeListener(d,_){}}return m.type="SESSION",m})();let Vc=(()=>{class m{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const _=this.receivers.find(A=>A.isListeningto(d));if(_)return _;const w=new m(d);return this.receivers.push(w),w}isListeningto(d){return this.eventTarget===d}handleEvent(d){var _=this;return(0,h.Z)(function*(){const w=d,{eventId:A,eventType:j,data:ne}=w.data,Oe=_.handlersMap[j];if(!Oe?.size)return;w.ports[0].postMessage({status:"ack",eventId:A,eventType:j});const Le=Array.from(Oe).map(function(){var Ye=(0,h.Z)(function*(Mn){return Mn(w.origin,ne)});return function(Mn){return Ye.apply(this,arguments)}}()),Xe=yield function al(m){return Promise.all(m.map(function(){var c=(0,h.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(_){return{fulfilled:!1,reason:_}}});return function(d){return c.apply(this,arguments)}}()))}(Le);w.ports[0].postMessage({status:"done",eventId:A,eventType:j,response:Xe})})()}_subscribe(d,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(_)}_unsubscribe(d,_){this.handlersMap[d]&&_&&this.handlersMap[d].delete(_),(!_||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function Wr(m="",c=10){let d="";for(let _=0;_<c;_++)d+=Math.floor(10*Math.random());return m+d}class ws{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,d,_=50){var w=this;return(0,h.Z)(function*(){const A=typeof MessageChannel<"u"?new MessageChannel:null;if(!A)throw new Error("connection_unavailable");let j,ne;return new Promise((Oe,Le)=>{const Xe=Wr("",20);A.port1.start();const Ye=setTimeout(()=>{Le(new Error("unsupported_event"))},_);ne={messageChannel:A,onMessage(Mn){const Qt=Mn;if(Qt.data.eventId===Xe)switch(Qt.data.status){case"ack":clearTimeout(Ye),j=setTimeout(()=>{Le(new Error("timeout"))},3e3);break;case"done":clearTimeout(j),Oe(Qt.data.response);break;default:clearTimeout(Ye),clearTimeout(j),Le(new Error("invalid_response"))}}},w.handlers.add(ne),A.port1.addEventListener("message",ne.onMessage),w.target.postMessage({eventType:c,eventId:Xe,data:d},[A.port2])}).finally(()=>{ne&&w.removeMessageHandler(ne)})})()}}function Zt(){return window}function Zi(){return typeof Zt().WorkerGlobalScope<"u"&&"function"==typeof Zt().importScripts}function bs(){return(bs=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const oo="firebaseLocalStorageDb",Ss=1,ul="firebaseLocalStorage",As="fbase_key";class Ki{constructor(c){this.request=c}toPromise(){return new Promise((c,d)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function _i(m,c){return m.transaction([ul],c?"readwrite":"readonly").objectStore(ul)}function ao(){const m=indexedDB.open(oo,Ss);return new Promise((c,d)=>{m.addEventListener("error",()=>{d(m.error)}),m.addEventListener("upgradeneeded",()=>{const _=m.result;try{_.createObjectStore(ul,{keyPath:As})}catch(w){d(w)}}),m.addEventListener("success",(0,h.Z)(function*(){const _=m.result;_.objectStoreNames.contains(ul)?c(_):(_.close(),yield function Mr(){const m=indexedDB.deleteDatabase(oo);return new Ki(m).toPromise()}(),c(yield ao()))}))})}function Ms(m,c,d){return yi.apply(this,arguments)}function yi(){return(yi=(0,h.Z)(function*(m,c,d){const _=_i(m,!0).put({[As]:c,value:d});return new Ki(_).toPromise()})).apply(this,arguments)}function vi(){return(vi=(0,h.Z)(function*(m,c){const d=_i(m,!1).get(c),_=yield new Ki(d).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function Ps(m,c){const d=_i(m,!0).delete(c);return new Ki(d).toPromise()}const Qr=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,h.Z)(function*(){return d.db||(d.db=yield ao()),d.db})()}_withRetries(d){var _=this;return(0,h.Z)(function*(){let w=0;for(;;)try{const A=yield _._openDb();return yield d(A)}catch(A){if(w++>3)throw A;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,h.Z)(function*(){return Zi()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,h.Z)(function*(){d.receiver=Vc._getInstance(function Ts(){return Zi()?self:null}()),d.receiver._subscribe("keyChanged",function(){var _=(0,h.Z)(function*(w,A){return{keyProcessed:(yield d._poll()).includes(A.key)}});return function(w,A){return _.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var _=(0,h.Z)(function*(w,A){return["keyChanged"]});return function(w,A){return _.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,h.Z)(function*(){var _,w;if(d.activeServiceWorker=yield function ll(){return bs.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new ws(d.activeServiceWorker);const A=yield d.sender._send("ping",{},800);A&&null!==(_=A[0])&&void 0!==_&&_.fulfilled&&null!==(w=A[0])&&void 0!==w&&w.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var _=this;return(0,h.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function Bc(){var m;return(null===(m=navigator?.serviceWorker)||void 0===m?void 0:m.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:d},_.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const d=yield ao();return yield Ms(d,la,"1"),yield Ps(d,la),!0}catch{}return!1})()}_withPendingWrite(d){var _=this;return(0,h.Z)(function*(){_.pendingWrites++;try{yield d()}finally{_.pendingWrites--}})()}_set(d,_){var w=this;return(0,h.Z)(function*(){return w._withPendingWrite((0,h.Z)(function*(){return yield w._withRetries(A=>Ms(A,d,_)),w.localCache[d]=_,w.notifyServiceWorker(d)}))})()}_get(d){var _=this;return(0,h.Z)(function*(){const w=yield _._withRetries(A=>function ua(m,c){return vi.apply(this,arguments)}(A,d));return _.localCache[d]=w,w})()}_remove(d){var _=this;return(0,h.Z)(function*(){return _._withPendingWrite((0,h.Z)(function*(){return yield _._withRetries(w=>Ps(w,d)),delete _.localCache[d],_.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,h.Z)(function*(){const _=yield d._withRetries(j=>{const ne=_i(j,!1).getAll();return new Ki(ne).toPromise()});if(!_)return[];if(0!==d.pendingWrites)return[];const w=[],A=new Set;for(const{fbase_key:j,value:ne}of _)A.add(j),JSON.stringify(d.localCache[j])!==JSON.stringify(ne)&&(d.notifyListeners(j,ne),w.push(j));for(const j of Object.keys(d.localCache))d.localCache[j]&&!A.has(j)&&(d.notifyListeners(j,null),w.push(j));return w})()}notifyListeners(d,_){this.localCache[d]=_;const w=this.listeners[d];if(w)for(const A of Array.from(w))A(_)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(_)}_removeListener(d,_){this.listeners[d]&&(this.listeners[d].delete(_),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function Yi(){return(Yi=(0,h.Z)(function*(m){return(yield ot(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function da(m){return new Promise((c,d)=>{const _=document.createElement("script");_.setAttribute("src",m),_.onload=c,_.onerror=w=>{const A=fe("internal-error");A.customData=w,d(A)},_.type="text/javascript",_.charset="UTF-8",function _u(){var m,c;return null!==(c=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==c?c:document}().appendChild(_)})}function Gn(m){return`__${m}${Math.floor(1e6*Math.random())}`}const Rs=1e12;class vu{constructor(c){this.auth=c,this.counter=Rs,this._widgets=new Map}render(c,d){const _=this.counter;return this._widgets.set(_,new Eu(c,this.auth.name,d||{})),this.counter++,_}reset(c){var d;const _=c||Rs;null===(d=this._widgets.get(_))||void 0===d||d.delete(),this._widgets.delete(_)}getResponse(c){var d;return(null===(d=this._widgets.get(c||Rs))||void 0===d?void 0:d.getResponse())||""}execute(c){var d=this;return(0,h.Z)(function*(){var _;return null===(_=d._widgets.get(c||Rs))||void 0===_||_.execute(),""})()}}class Eu{constructor(c,d,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const w="string"==typeof c?document.getElementById(c):c;L(w,"argument-error",{appName:d}),this.container=w,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function fa(m){const c=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<m;_++)c.push(d.charAt(Math.floor(Math.random()*d.length)));return c.join("")}(50);const{callback:c,"expired-callback":d}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ei=Gn("rcb"),Qi=new We(3e4,6e4);class Pf{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=Zt().grecaptcha)||void 0===c||!c.render)}load(c,d=""){return L(function jc(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(d),c,"argument-error"),this.shouldResolveImmediately(d)?Promise.resolve(Zt().grecaptcha):new Promise((_,w)=>{const A=Zt().setTimeout(()=>{w(fe(c,"network-request-failed"))},Qi.get());Zt()[Ei]=()=>{Zt().clearTimeout(A),delete Zt()[Ei];const ne=Zt().grecaptcha;if(!ne)return void w(fe(c,"internal-error"));const Oe=ne.render;ne.render=(Le,Xe)=>{const Ye=Oe(Le,Xe);return this.counter++,Ye},this.hostLanguage=d,_(ne)},da(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:Ei,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(A),w(fe(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var d;return!(null===(d=Zt().grecaptcha)||void 0===d||!d.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class co{load(c){return(0,h.Z)(function*(){return new vu(c)})()}clearedOneInstance(){}}const $c="recaptcha",Ci={theme:"light",type:"image"};class $t{constructor(c,d=Object.assign({},Ci),_){this.parameters=d,this.type=$c,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=an(_),this.isInvisible="invisible"===this.parameters.size,L(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const w="string"==typeof c?document.getElementById(c):c;L(w,this.auth,"argument-error"),this.container=w,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new co:new Pf,this.validateStartingState()}verify(){var c=this;return(0,h.Z)(function*(){c.assertNotDestroyed();const d=yield c.render(),_=c.getAssertedRecaptcha();return _.getResponse(d)||new Promise(A=>{const j=ne=>{ne&&(c.tokenChangeListeners.delete(j),A(ne))};c.tokenChangeListeners.add(j),c.isInvisible&&_.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){L(!this.parameters.sitekey,this.auth,"argument-error"),L(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),L(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return d=>{if(this.tokenChangeListeners.forEach(_=>_(d)),"function"==typeof c)c(d);else if("string"==typeof c){const _=Zt()[c];"function"==typeof _&&_(d)}}}assertNotDestroyed(){L(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,h.Z)(function*(){if(yield c.init(),!c.widgetId){let d=c.container;if(!c.isInvisible){const _=document.createElement("div");d.appendChild(_),d=_}c.widgetId=c.getAssertedRecaptcha().render(d,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,h.Z)(function*(){L(ce()&&!Zi(),c.auth,"internal-error"),yield function Gc(){let m=null;return new Promise(c=>{"complete"!==document.readyState?(m=()=>c(),window.addEventListener("load",m)):c()}).catch(c=>{throw m&&window.removeEventListener("load",m),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const d=yield function qi(m){return Yi.apply(this,arguments)}(c.auth);L(d,c.auth,"internal-error"),c.parameters.sitekey=d})()}getAssertedRecaptcha(){return L(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fo{constructor(c,d){this.verificationId=c,this.onConfirmation=d}confirm(c){const d=Kr._fromVerification(this.verificationId,c);return this.onConfirmation(d)}}function zc(){return(zc=(0,h.Z)(function*(m,c,d){const _=an(m),w=yield Kc(_,c,(0,N.m9)(d));return new fo(w,A=>kt(_,A))})).apply(this,arguments)}function Zc(){return(Zc=(0,h.Z)(function*(m,c,d){const _=(0,N.m9)(m);yield ys(!1,_,"phone");const w=yield Kc(_.auth,c,(0,N.m9)(d));return new fo(w,A=>Js(_,A))})).apply(this,arguments)}function Ns(){return(Ns=(0,h.Z)(function*(m,c,d){const _=(0,N.m9)(m),w=yield Kc(_.auth,c,(0,N.m9)(d));return new fo(w,A=>ea(_,A))})).apply(this,arguments)}function Kc(m,c,d){return qc.apply(this,arguments)}function qc(){return qc=(0,h.Z)(function*(m,c,d){var _;const w=yield d.verify();try{let A;if(L("string"==typeof w,m,"argument-error"),L(d.type===$c,m,"argument-error"),A="string"==typeof c?{phoneNumber:c}:c,"session"in A){const j=A.session;if("phoneNumber"in A)return L("enroll"===j.type,m,"internal-error"),(yield function fr(m,c){return ot(m,"POST","/v2/accounts/mfaEnrollment:start",ze(m,c))}(m,{idToken:j.credential,phoneEnrollmentInfo:{phoneNumber:A.phoneNumber,recaptchaToken:w}})).phoneSessionInfo.sessionInfo;{L("signin"===j.type,m,"internal-error");const ne=(null===(_=A.multiFactorHint)||void 0===_?void 0:_.uid)||A.multiFactorUid;return L(ne,m,"missing-multi-factor-info"),(yield function mu(m,c){return ot(m,"POST","/v2/accounts/mfaSignIn:start",ze(m,c))}(m,{mfaPendingCredential:j.credential,mfaEnrollmentId:ne,phoneSignInInfo:{recaptchaToken:w}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:j}=yield function $a(m,c){return Zo.apply(this,arguments)}(m,{phoneNumber:A.phoneNumber,recaptchaToken:w});return j}}finally{d._reset()}}),qc.apply(this,arguments)}function ha(){return(ha=(0,h.Z)(function*(m,c){yield Yo((0,N.m9)(m),c)})).apply(this,arguments)}let Jr=(()=>{class m{constructor(d){this.providerId=m.PROVIDER_ID,this.auth=an(d)}verifyPhoneNumber(d,_){return Kc(this.auth,d,(0,N.m9)(_))}static credential(d,_){return Kr._fromVerification(d,_)}static credentialFromResult(d){return m.credentialFromTaggedObject(d)}static credentialFromError(d){return m.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:_,temporaryProof:w}=d;return _&&w?Kr._fromTokenResponse(_,w):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function Os(m,c){return c?et(c):(L(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class hr extends bn{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return Dr(c,this._buildIdpRequest())}_linkToIdToken(c,d){return Dr(c,this._buildIdpRequest(d))}_getReauthenticationResolver(c){return Dr(c,this._buildIdpRequest())}_buildIdpRequest(c){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(d.idToken=c),d}}function xs(m){return hi(m.auth,new hr(m),m.bypassAuthState)}function Yc(m){const{auth:c,user:d}=m;return L(d,c,"internal-error"),Qo(d,new hr(m),m.bypassAuthState)}function dl(m){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,h.Z)(function*(m){const{auth:c,user:d}=m;return L(d,c,"internal-error"),Yo(d,new hr(m),m.bypassAuthState)})).apply(this,arguments)}class fl{constructor(c,d,_,w,A=!1){this.auth=c,this.resolver=_,this.user=w,this.bypassAuthState=A,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var c=this;return new Promise(function(){var d=(0,h.Z)(function*(_,w){c.pendingPromise={resolve:_,reject:w};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(A){c.reject(A)}});return function(_,w){return d.apply(this,arguments)}}())}onAuthEvent(c){var d=this;return(0,h.Z)(function*(){const{urlResponse:_,sessionId:w,postBody:A,tenantId:j,error:ne,type:Oe}=c;if(ne)return void d.reject(ne);const Le={auth:d.auth,requestUri:_,sessionId:w,tenantId:j||void 0,postBody:A||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(Oe)(Le))}catch(Xe){d.reject(Xe)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return xs;case"linkViaPopup":case"linkViaRedirect":return dl;case"reauthViaPopup":case"reauthViaRedirect":return Yc;default:_e(this.auth,"internal-error")}}resolve(c){Ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){Ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qc=new We(2e3,1e4);function pl(){return(pl=(0,h.Z)(function*(m,c,d){const _=an(m);Re(m,c,qr);const w=Os(_,d);return new go(_,"signInViaPopup",c,w).executeNotNull()})).apply(this,arguments)}function Xr(){return(Xr=(0,h.Z)(function*(m,c,d){const _=(0,N.m9)(m);Re(_.auth,c,qr);const w=Os(_.auth,d);return new go(_.auth,"reauthViaPopup",c,w,_).executeNotNull()})).apply(this,arguments)}function po(){return(po=(0,h.Z)(function*(m,c,d){const _=(0,N.m9)(m);Re(_.auth,c,qr);const w=Os(_.auth,d);return new go(_.auth,"linkViaPopup",c,w,_).executeNotNull()})).apply(this,arguments)}let go=(()=>{class m extends fl{constructor(d,_,w,A,j){super(d,_,A,j),this.provider=w,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var d=this;return(0,h.Z)(function*(){const _=yield d.execute();return L(_,d.auth,"internal-error"),_})()}onExecution(){var d=this;return(0,h.Z)(function*(){Ne(1===d.filter.length,"Popup operations only handle one event");const _=Wr();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],_),d.authWindow.associatedEvent=_,d.resolver._originValidation(d.auth).catch(w=>{d.reject(w)}),d.resolver._isIframeWebStorageSupported(d.auth,w=>{w||d.reject(fe(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const d=()=>{var _,w;this.pollId=null!==(w=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==w&&w.closed?window.setTimeout(()=>{this.pollId=null,this.reject(fe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(d,Qc.get())};d()}}return m.currentPopupAction=null,m})();const pa="pendingRedirect",zr=new Map;class Di extends fl{constructor(c,d,_=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,_),this.eventId=null}execute(){var c=()=>super.execute,d=this;return(0,h.Z)(function*(){let _=zr.get(d.auth._key());if(!_){try{const A=(yield function xn(m,c){return ga.apply(this,arguments)}(d.resolver,d.auth))?yield c().call(d):null;_=()=>Promise.resolve(A)}catch(w){_=()=>Promise.reject(w)}zr.set(d.auth._key(),_)}return d.bypassAuthState||zr.set(d.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(c){var d=()=>super.onAuthEvent,_=this;return(0,h.Z)(function*(){if("signInViaRedirect"===c.type)return d().call(_,c);if("unknown"!==c.type){if(c.eventId){const w=yield _.auth._redirectUserForId(c.eventId);if(w)return _.user=w,d().call(_,c);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function ga(){return(ga=(0,h.Z)(function*(m,c){const d=gl(c),_=_o(m);if(!(yield _._isAvailable()))return!1;const w="true"===(yield _._get(d));return yield _._remove(d),w})).apply(this,arguments)}function mo(m,c){return vn.apply(this,arguments)}function vn(){return(vn=(0,h.Z)(function*(m,c){return _o(m)._set(gl(c),"true")})).apply(this,arguments)}function En(m,c){zr.set(m._key(),c)}function _o(m){return et(m._redirectPersistence)}function gl(m){return F(pa,m.config.apiKey,m.name)}function Ji(m,c,d){return function Jc(m,c,d){return ma.apply(this,arguments)}(m,c,d)}function ma(){return(ma=(0,h.Z)(function*(m,c,d){const _=an(m);Re(m,c,qr),yield _._initializationPromise;const w=Os(_,d);return yield mo(w,_),w._openRedirect(_,c,"signInViaRedirect")})).apply(this,arguments)}function _a(m,c,d){return function C(m,c,d){return I.apply(this,arguments)}(m,c,d)}function I(){return(I=(0,h.Z)(function*(m,c,d){const _=(0,N.m9)(m);Re(_.auth,c,qr),yield _.auth._initializationPromise;const w=Os(_.auth,d);yield mo(w,_.auth);const A=yield P(_);return w._openRedirect(_.auth,c,"reauthViaRedirect",A)})).apply(this,arguments)}function S(m,c,d){return function O(m,c,d){return z.apply(this,arguments)}(m,c,d)}function z(){return(z=(0,h.Z)(function*(m,c,d){const _=(0,N.m9)(m);Re(_.auth,c,qr),yield _.auth._initializationPromise;const w=Os(_.auth,d);yield ys(!1,_,c.providerId),yield mo(w,_.auth);const A=yield P(_);return w._openRedirect(_.auth,c,"linkViaRedirect",A)})).apply(this,arguments)}function me(){return(me=(0,h.Z)(function*(m,c){return yield an(m)._initializationPromise,Ve(m,c,!1)})).apply(this,arguments)}function Ve(m,c){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,h.Z)(function*(m,c,d=!1){const _=an(m),w=Os(_,c),j=yield new Di(_,w,d).execute();return j&&!d&&(delete j.user._redirectEventId,yield _._persistUserIfCurrent(j.user),yield _._setRedirectUser(null,c)),j})).apply(this,arguments)}function P(m){return It.apply(this,arguments)}function It(){return(It=(0,h.Z)(function*(m){const c=Wr(`${m.uid}:::`);return m._redirectEventId=c,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),c})).apply(this,arguments)}class tr{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let d=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(c,_)&&(d=!0,this.sendToConsumer(c,_),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function ya(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ei(m);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=c,d=!0)),d}sendToConsumer(c,d){var _;if(c.error&&!ei(c)){const w=(null===(_=c.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";d.onError(fe(this.auth,w))}else d.onAuthEvent(c)}isEventForConsumer(c,d){const _=null===d.eventId||!!c.eventId&&c.eventId===d.eventId;return d.filter.includes(c.type)&&_}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hn(c))}saveEventToCache(c){this.cachedEventUids.add(hn(c)),this.lastProcessedEventTime=Date.now()}}function hn(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(c=>c).join("-")}function ei({type:m,error:c}){return"unknown"===m&&"auth/no-auth-event"===c?.code}function ks(m){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,h.Z)(function*(m,c={}){return ot(m,"GET","/v1/projects",c)})).apply(this,arguments)}const pr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yo=/^https?/;function Cu(){return(Cu=(0,h.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:c}=yield ks(m);for(const d of c)try{if(Nf(d))return}catch{}_e(m,"unauthorized-domain")})).apply(this,arguments)}function Nf(m){const c=se(),{protocol:d,hostname:_}=new URL(c);if(m.startsWith("chrome-extension://")){const j=new URL(m);return""===j.hostname&&""===_?"chrome-extension:"===d&&m.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===d&&j.hostname===_}if(!yo.test(d))return!1;if(pr.test(m))return _===m;const w=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+w+"|"+w+")$","i").test(_)}const vo=new We(3e4,6e4);function Eo(){const m=Zt().___jsl;if(m?.H)for(const c of Object.keys(m.H))if(m.H[c].r=m.H[c].r||[],m.H[c].L=m.H[c].L||[],m.H[c].r=[...m.H[c].L],m.CP)for(let d=0;d<m.CP.length;d++)m.CP[d]=null}let Co=null;const Iu=new We(5e3,15e3),Of="__/auth/iframe",Xi="emulator/auth/iframe",gr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _l(m){const c=m.config;L(c.authDomain,m,"auth-domain-config-required");const d=c.emulator?$e(c,Xi):`https://${m.config.authDomain}/${Of}`,_={apiKey:c.apiKey,appName:m.name,v:re.SDK_VERSION},w=Rp.get(m.config.apiHost);w&&(_.eid=w);const A=m._getFrameworks();return A.length&&(_.fw=A.join(",")),`${d}?${(0,N.xO)(_).slice(1)}`}function ti(){return ti=(0,h.Z)(function*(m){const c=yield function Kn(m){return Co=Co||function Pp(m){return new Promise((c,d)=>{var _,w,A;function j(){Eo(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{Eo(),d(fe(m,"network-request-failed"))},timeout:vo.get()})}if(null!==(w=null===(_=Zt().gapi)||void 0===_?void 0:_.iframes)&&void 0!==w&&w.Iframe)c(gapi.iframes.getContext());else{if(null===(A=Zt().gapi)||void 0===A||!A.load){const ne=Gn("iframefcb");return Zt()[ne]=()=>{gapi.load?j():d(fe(m,"network-request-failed"))},da(`https://apis.google.com/js/api.js?onload=${ne}`).catch(Oe=>d(Oe))}j()}}).catch(c=>{throw Co=null,c})}(m),Co}(m),d=Zt().gapi;return L(d,m,"internal-error"),c.open({where:document.body,url:_l(m),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gr,dontclear:!0},_=>new Promise(function(){var w=(0,h.Z)(function*(A,j){yield _.restyle({setHideOnLeave:!1});const ne=fe(m,"network-request-failed"),Oe=Zt().setTimeout(()=>{j(ne)},Iu.get());function Le(){Zt().clearTimeout(Oe),A(_)}_.ping(Le).then(Le,()=>{j(ne)})});return function(A,j){return w.apply(this,arguments)}}()))}),ti.apply(this,arguments)}const wi={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Fs=500,bi=600,yl="_blank",ed="http://localhost";class td{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Np="__/auth/handler",Op="emulator/auth/handler";function nd(m,c,d,_,w,A){L(m.config.authDomain,m,"auth-domain-config-required"),L(m.config.apiKey,m,"invalid-api-key");const j={apiKey:m.config.apiKey,appName:m.name,authType:d,redirectUrl:_,v:re.SDK_VERSION,eventId:w};if(c instanceof qr){c.setDefaultLanguage(m.languageCode),j.providerId=c.providerId||"",(0,N.xb)(c.getCustomParameters())||(j.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Oe,Le]of Object.entries(A||{}))j[Oe]=Le}if(c instanceof $i){const Oe=c.getScopes().filter(Le=>""!==Le);Oe.length>0&&(j.scopes=Oe.join(","))}m.tenantId&&(j.tid=m.tenantId);const ne=j;for(const Oe of Object.keys(ne))void 0===ne[Oe]&&delete ne[Oe];return`${function xf({config:m}){return m.emulator?$e(m,Op):`https://${m.authDomain}/${Np}`}(m)}?${(0,N.xO)(ne).slice(1)}`}const rd="webStorageSupport",nr=class xp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ar,this._completeRedirectFn=Ve,this._overrideRedirectResult=En}_openPopup(c,d,_,w){var A=this;return(0,h.Z)(function*(){var j;Ne(null===(j=A.eventManagers[c._key()])||void 0===j?void 0:j.manager,"_initialize() not called before _openPopup()");const ne=nd(c,d,_,se(),w);return function On(m,c,d,_=Fs,w=bi){const A=Math.max((window.screen.availHeight-w)/2,0).toString(),j=Math.max((window.screen.availWidth-_)/2,0).toString();let ne="";const Oe=Object.assign(Object.assign({},wi),{width:_.toString(),height:w.toString(),top:A,left:j}),Le=(0,N.z$)().toLowerCase();d&&(ne=Ue(Le)?yl:d),Y(Le)&&(c=c||ed,Oe.scrollbars="yes");const Xe=Object.entries(Oe).reduce((Mn,[Qt,Sl])=>`${Mn}${Qt}=${Sl},`,"");if(function Ur(m=(0,N.z$)()){var c;return _t(m)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(Le)&&"_self"!==ne)return function Du(m,c){const d=document.createElement("a");d.href=m,d.target=c;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(_)}(c||"",ne),new td(null);const Ye=window.open(c||"",ne,Xe);L(Ye,m,"popup-blocked");try{Ye.focus()}catch{}return new td(Ye)}(c,ne,Wr())})()}_openRedirect(c,d,_,w){var A=this;return(0,h.Z)(function*(){return yield A._originValidation(c),function mi(m){Zt().location.href=m}(nd(c,d,_,se(),w)),new Promise(()=>{})})()}_initialize(c){const d=c._key();if(this.eventManagers[d]){const{manager:w,promise:A}=this.eventManagers[d];return w?Promise.resolve(w):(Ne(A,"If manager is not set, promise should be"),A)}const _=this.initAndGetManager(c);return this.eventManagers[d]={promise:_},_.catch(()=>{delete this.eventManagers[d]}),_}initAndGetManager(c){var d=this;return(0,h.Z)(function*(){const _=yield function Xc(m){return ti.apply(this,arguments)}(c),w=new tr(c);return _.register("authEvent",A=>(L(A?.authEvent,c,"invalid-auth-event"),{status:w.onEvent(A.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[c._key()]={manager:w},d.iframes[c._key()]=_,w})()}_isIframeWebStorageSupported(c,d){this.iframes[c._key()].send(rd,{type:rd},w=>{var A;const j=null===(A=w?.[0])||void 0===A?void 0:A[rd];void 0!==j&&d(!!j),_e(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function ml(m){return Cu.apply(this,arguments)}(c)),this.originValidationPromises[d]}get _shouldInitProactively(){return Mc()||Ze()||_t()}};class Ls{constructor(c){this.factorId=c}_process(c,d,_){switch(d.type){case"enroll":return this._finalizeEnroll(c,d.credential,_);case"signin":return this._finalizeSignIn(c,d.credential);default:return ue("unexpected MultiFactorSessionType")}}}class wu extends Ls{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new wu(c)}_finalizeEnroll(c,d,_){return function Tf(m,c){return ot(m,"POST","/v2/accounts/mfaEnrollment:finalize",ze(m,c))}(c,{idToken:d,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,d){return function kr(m,c){return ot(m,"POST","/v2/accounts/mfaSignIn:finalize",ze(m,c))}(c,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Io=(()=>{class m{constructor(){}static assertion(d){return wu._fromCredential(d)}}return m.FACTOR_ID="phone",m})();var id="@firebase/auth";class kf{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var d=this;return(0,h.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const d=this.auth.onIdTokenChanged(_=>{c(_?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,d),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const d=this.internalListeners.get(c);d&&(this.internalListeners.delete(c),d(),this.updateProactiveRefresh())}assertAuthConfigured(){L(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function es(){return window}(0,N.Pz)("authIdTokenMaxAge"),function Ff(m){(0,re._registerComponent)(new he.wA("auth",(c,{options:d})=>{const _=c.getProvider("app").getImmediate(),w=c.getProvider("heartbeat"),{apiKey:A,authDomain:j}=_.options;return((ne,Oe)=>{L(A&&!A.includes(":"),"invalid-api-key",{appName:ne.name}),L(!j?.includes(":"),"argument-error",{appName:ne.name});const Le={apiKey:A,authDomain:j,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wo(m)},Xe=new Pc(ne,Oe,Le);return function ee(m,c){const d=c?.persistence||[],_=(Array.isArray(d)?d:[d]).map(et);c?.errorMap&&m._updateErrorMap(c.errorMap),m._initializeWithPersistence(_,c?.popupRedirectResolver)}(Xe,d),Xe})(_,w)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,d,_)=>{c.getProvider("auth-internal").initialize()})),(0,re._registerComponent)(new he.wA("auth-internal",c=>{const d=an(c.getProvider("auth").getImmediate());return new kf(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,re.registerVersion)(id,"0.22.0",function sd(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,re.registerVersion)(id,"0.22.0","esm2017")}("Browser");const vl=2e3;function ld(){return ld=(0,h.Z)(function*(m,c,d){var _;const{BuildInfo:w}=es();Ne(c.sessionId,"AuthEvent did not contain a session ID");const A=yield function kp(m){return Il.apply(this,arguments)}(c.sessionId),j={};return _t()?j.ibi=w.packageName:nn()?j.apn=w.packageName:_e(m,"operation-not-supported-in-this-environment"),w.displayName&&(j.appDisplayName=w.displayName),j.sessionId=A,nd(m,d,c.type,void 0,null!==(_=c.eventId)&&void 0!==_?_:void 0,j)}),ld.apply(this,arguments)}function bo(){return(bo=(0,h.Z)(function*(m){const{BuildInfo:c}=es(),d={};_t()?d.iosBundleId=c.packageName:nn()?d.androidPackageName=c.packageName:_e(m,"operation-not-supported-in-this-environment"),yield ks(m,d)})).apply(this,arguments)}function Cl(){return(Cl=(0,h.Z)(function*(m,c,d){const{cordova:_}=es();let w=()=>{};try{yield new Promise((A,j)=>{let ne=null;function Oe(){var Ye;A();const Mn=null===(Ye=_.plugins.browsertab)||void 0===Ye?void 0:Ye.close;"function"==typeof Mn&&Mn(),"function"==typeof d?.close&&d.close()}function Le(){ne||(ne=window.setTimeout(()=>{j(fe(m,"redirect-cancelled-by-user"))},vl))}function Xe(){"visible"===document?.visibilityState&&Le()}c.addPassiveListener(Oe),document.addEventListener("resume",Le,!1),nn()&&document.addEventListener("visibilitychange",Xe,!1),w=()=>{c.removePassiveListener(Oe),document.removeEventListener("resume",Le,!1),document.removeEventListener("visibilitychange",Xe,!1),ne&&window.clearTimeout(ne)}})}finally{w()}})).apply(this,arguments)}function Il(){return(Il=(0,h.Z)(function*(m){const c=function Fp(m){if(Ne(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(m);const c=new ArrayBuffer(m.length),d=new Uint8Array(c);for(let _=0;_<m.length;_++)d[_]=m.charCodeAt(_);return d}(m),d=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(d)).map(w=>w.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Bf=20;class Uf extends tr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(c)),super.onEvent(c)}initialized(){var c=this;return(0,h.Z)(function*(){yield c.initPromise})()}}function jf(m){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,h.Z)(function*(m){const c=yield Ea()._get(Pu(m));return c&&(yield Ea()._remove(Pu(m))),c})).apply(this,arguments)}function $f(){const m=[],c="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let d=0;d<Bf;d++){const _=Math.floor(Math.random()*c.length);m.push(c.charAt(_))}return m.join("")}function Ea(){return et(ol)}function Pu(m){return F("authEvent",m.config.apiKey,m.name)}function Dl(m){if(!m?.includes("?"))return{};const[c,...d]=m.split("?");return(0,N.zd)(d.join("?"))}const Wf=class Ru{constructor(){this._redirectPersistence=Ar,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ve,this._overrideRedirectResult=En}_initialize(c){var d=this;return(0,h.Z)(function*(){const _=c._key();let w=d.eventManagers.get(_);return w||(w=new Uf(c),d.eventManagers.set(_,w),d.attachCallbackListeners(c,w)),w})()}_openPopup(c){_e(c,"operation-not-supported-in-this-environment")}_openRedirect(c,d,_,w){var A=this;return(0,h.Z)(function*(){!function ud(m){var c,d,_,w,A,j,ne,Oe,Le,Xe;const Ye=es();L("function"==typeof(null===(c=Ye?.universalLinks)||void 0===c?void 0:c.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),L(typeof(null===(d=Ye?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),L("function"==typeof(null===(A=null===(w=null===(_=Ye?.cordova)||void 0===_?void 0:_.plugins)||void 0===w?void 0:w.browsertab)||void 0===A?void 0:A.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),L("function"==typeof(null===(Oe=null===(ne=null===(j=Ye?.cordova)||void 0===j?void 0:j.plugins)||void 0===ne?void 0:ne.browsertab)||void 0===Oe?void 0:Oe.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),L("function"==typeof(null===(Xe=null===(Le=Ye?.cordova)||void 0===Le?void 0:Le.InAppBrowser)||void 0===Xe?void 0:Xe.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const j=yield A._initialize(c);yield j.initialized(),j.resetRedirect(),function zn(){zr.clear()}(),yield A._originValidation(c);const ne=function Hf(m,c,d=null){return{type:c,eventId:d,urlResponse:null,sessionId:$f(),postBody:null,tenantId:m.tenantId,error:fe(m,"no-auth-event")}}(c,_,w);yield function Lp(m,c){return Ea()._set(Pu(m),c)}(c,ne);const Oe=yield function Vf(m,c,d){return ld.apply(this,arguments)}(c,ne,d),Le=yield function Au(m){const{cordova:c}=es();return new Promise(d=>{c.plugins.browsertab.isAvailable(_=>{let w=null;_?c.plugins.browsertab.openUrl(m):w=c.InAppBrowser.open(m,function Xn(m=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),d(w)})})}(Oe);return function va(m,c,d){return Cl.apply(this,arguments)}(c,j,Le)})()}_isIframeWebStorageSupported(c,d){throw new Error("Method not implemented.")}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function El(m){return bo.apply(this,arguments)}(c)),this.originValidationPromises[d]}attachCallbackListeners(c,d){const{universalLinks:_,handleOpenURL:w,BuildInfo:A}=es(),j=setTimeout((0,h.Z)(function*(){yield jf(c),d.onEvent(zf())}),500),ne=function(){var Xe=(0,h.Z)(function*(Ye){clearTimeout(j);const Mn=yield jf(c);let Qt=null;Mn&&Ye?.url&&(Qt=function cd(m,c){var d,_;const w=function Gf(m){const c=Dl(m),d=c.link?decodeURIComponent(c.link):void 0,_=Dl(d).link,w=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return Dl(w).link||w||_||d||m}(c);if(w.includes("/__/auth/callback")){const A=Dl(w),j=A.firebaseError?function Vp(m){try{return JSON.parse(m)}catch{return null}}(decodeURIComponent(A.firebaseError)):null,ne=null===(_=null===(d=j?.code)||void 0===d?void 0:d.split("auth/"))||void 0===_?void 0:_[1],Oe=ne?fe(ne):null;return Oe?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:Oe,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:w,postBody:null}}return null}(Mn,Ye.url)),d.onEvent(Qt||zf())});return function(Mn){return Xe.apply(this,arguments)}}();typeof _<"u"&&"function"==typeof _.subscribe&&_.subscribe(null,ne);const Oe=w,Le=`${A.packageName.toLowerCase()}://`;es().handleOpenURL=function(){var Xe=(0,h.Z)(function*(Ye){if(Ye.toLowerCase().startsWith(Le)&&ne({url:Ye}),"function"==typeof Oe)try{Oe(Ye)}catch(Mn){console.error(Mn)}});return function(Ye){return Xe.apply(this,arguments)}}()}};function zf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:fe("no-auth-event")}}const Kf=1e3;function Ca(){var m;return(null===(m=self?.location)||void 0===m?void 0:m.protocol)||null}function Nu(m=(0,N.z$)()){return!("file:"!==Ca()&&"ionic:"!==Ca()&&"capacitor:"!==Ca()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function ku(){try{const m=self.localStorage,c=Wr();if(m)return m.setItem(c,"1"),m.removeItem(c),!function fd(m=(0,N.z$)()){return function wl(){return(0,N.w1)()&&11===document?.documentMode}()||function xu(m=(0,N.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,N.hl)()}catch{return Ia()&&(0,N.hl)()}return!1}function Ia(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Da(){return(function qf(){return"http:"===Ca()||"https:"===Ca()}()||(0,N.ru)()||Nu())&&!function Ou(){return(0,N.b$)()||(0,N.UG)()}()&&ku()&&!Ia()}function To(){return Nu()&&typeof document<"u"}function Fu(){return(Fu=(0,h.Z)(function*(){return!!To()&&new Promise(m=>{const c=setTimeout(()=>{m(!1)},Kf);document.addEventListener("deviceready",()=>{clearTimeout(c),m(!0)})})})).apply(this,arguments)}const Rr={LOCAL:"local",NONE:"none",SESSION:"session"},wa=L,ba="persistence";function So(m){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,h.Z)(function*(m){yield m._initializationPromise;const c=bt(),d=F(ba,m.config.apiKey,m.name);c&&c.setItem(d,m._getPersistence())})).apply(this,arguments)}function bt(){var m;try{return(null===(m=function Qf(){return typeof window<"u"?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch{return null}}const Bs=L;class Ft{constructor(){this.browserResolver=et(nr),this.cordovaResolver=et(Wf),this.underlyingResolver=null,this._redirectPersistence=Ar,this._completeRedirectFn=Ve,this._overrideRedirectResult=En}_initialize(c){var d=this;return(0,h.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,d,_,w){var A=this;return(0,h.Z)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._openPopup(c,d,_,w)})()}_openRedirect(c,d,_,w){var A=this;return(0,h.Z)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._openRedirect(c,d,_,w)})()}_isIframeWebStorageSupported(c,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,d)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return To()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Bs(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,h.Z)(function*(){if(c.underlyingResolver)return;const d=yield function Yf(){return Fu.apply(this,arguments)}();c.underlyingResolver=d?c.cordovaResolver:c.browserResolver})()}}function Lu(m){return m.unwrap()}function bl(m){return Ht(m)}function Ht(m){const{_tokenResponse:c}=m instanceof N.ZR?m.customData:m;if(!c)return null;if(!(m instanceof N.ZR)&&"temporaryProof"in c&&"phoneNumber"in c)return Jr.credentialFromResult(m);const d=c.providerId;if(!d||d===le.PASSWORD)return null;let _;switch(d){case le.GOOGLE:_=Rc;break;case le.FACEBOOK:_=Ga;break;case le.GITHUB:_=Nc;break;case le.TWITTER:_=vf;break;default:const{oauthIdToken:w,oauthAccessToken:A,oauthTokenSecret:j,pendingToken:ne,nonce:Oe}=c;return A||j||w||ne?ne?d.startsWith("saml.")?gs._create(d,ne):Zr._fromParams({providerId:d,signInMethod:d,pendingToken:ne,idToken:w,accessToken:A}):new Ys(d).credential({idToken:w,accessToken:A,rawNonce:Oe}):null}return m instanceof N.ZR?_.credentialFromError(m):_.credentialFromResult(m)}function st(m,c){return c.catch(d=>{throw d instanceof N.ZR&&function gd(m,c){var d;const _=null===(d=c.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===c?.code)c.resolver=new Bu(m,function bf(m,c){var d;const _=(0,N.m9)(m),w=c;return L(c.customData.operationType,_,"argument-error"),L(null===(d=w.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,_,"argument-error"),yn._fromError(_,w)}(m,c));else if(_){const w=Ht(c),A=c;w&&(A.credential=w,A.tenantId=_.tenantId||void 0,A.email=_.email||void 0,A.phoneNumber=_.phoneNumber||void 0)}}(m,d),d}).then(d=>{const w=d.user;return{operationType:d.operationType,credential:bl(d),additionalUserInfo:If(d),user:Cn.getOrCreate(w)}})}function kn(m,c){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,h.Z)(function*(m,c){const d=yield c;return{verificationId:d.verificationId,confirm:_=>st(m,d.confirm(_))}})).apply(this,arguments)}class Bu{constructor(c,d){this.resolver=d,this.auth=function pd(m){return m.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return st(Lu(this.auth),this.resolver.resolveSignIn(c))}}class Cn{constructor(c){this._delegate=c,this.multiFactor=function gi(m){const c=(0,N.m9)(m);return zi.has(c)||zi.set(c,Ds._fromUser(c)),zi.get(c)}(c)}static getOrCreate(c){return Cn.USER_MAP.has(c)||Cn.USER_MAP.set(c,new Cn(c)),Cn.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var d=this;return(0,h.Z)(function*(){return st(d.auth,Js(d._delegate,c))})()}linkWithPhoneNumber(c,d){var _=this;return(0,h.Z)(function*(){return kn(_.auth,function Mp(m,c,d){return Zc.apply(this,arguments)}(_._delegate,c,d))})()}linkWithPopup(c){var d=this;return(0,h.Z)(function*(){return st(d.auth,function ho(m,c,d){return po.apply(this,arguments)}(d._delegate,c,Ft))})()}linkWithRedirect(c){var d=this;return(0,h.Z)(function*(){return yield So(an(d.auth)),S(d._delegate,c,Ft)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var d=this;return(0,h.Z)(function*(){return st(d.auth,ea(d._delegate,c))})()}reauthenticateWithPhoneNumber(c,d){return kn(this.auth,function Rf(m,c,d){return Ns.apply(this,arguments)}(this._delegate,c,d))}reauthenticateWithPopup(c){return st(this.auth,function Wn(m,c,d){return Xr.apply(this,arguments)}(this._delegate,c,Ft))}reauthenticateWithRedirect(c){var d=this;return(0,h.Z)(function*(){return yield So(an(d.auth)),_a(d._delegate,c,Ft)})()}sendEmailVerification(c){return function uu(m,c){return ia.apply(this,arguments)}(this._delegate,c)}unlink(c){var d=this;return(0,h.Z)(function*(){return yield function iu(m,c){return ms.apply(this,arguments)}(d._delegate,c),d})()}updateEmail(c){return function sa(m,c){return du((0,N.m9)(m),c,null)}(this._delegate,c)}updatePassword(c){return function cu(m,c){return du((0,N.m9)(m),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function An(m,c){return ha.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function ro(m,c){return Tr.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,d){return function Xa(m,c,d){return un.apply(this,arguments)}(this._delegate,c,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Cn.USER_MAP=new WeakMap;const Tl=L;let Jf=(()=>{class m{constructor(d,_){if(this.app=d,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:w}=d.options;Tl(w,"invalid-api-key",{appName:d.name}),Tl(w,"invalid-api-key",{appName:d.name});const A=typeof window<"u"?Ft:void 0;this._delegate=_.initialize({options:{persistence:eh(w,d.name),popupRedirectResolver:A}}),this._delegate._updateErrorMap(ft),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Cn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,_){!function Ha(m,c,d){const _=an(m);L(_._canInitEmulator,_,"emulator-config-failed"),L(/^https?:\/\//.test(c),_,"invalid-emulator-scheme");const w=!!d?.disableWarnings,A=Mt(c),{host:j,port:ne}=function _n(m){const c=Mt(m),d=/(\/\/)?([^?#/]+)/.exec(m.substr(c.length));if(!d)return{host:"",port:null};const _=d[2].split("@").pop()||"",w=/^(\[[^\]]+\])(:|$)/.exec(_);if(w){const A=w[1];return{host:A,port:Pn(_.substr(A.length+1))}}{const[A,j]=_.split(":");return{host:A,port:Pn(j)}}}(c);_.config.emulator={url:`${A}//${j}${null===ne?"":`:${ne}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:j,port:ne,protocol:A.replace(":",""),options:Object.freeze({disableWarnings:w})}),w||function ki(){function m(){const c=document.createElement("p"),d=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,d,_)}applyActionCode(d){return function ou(m,c){return ta.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return au(this._delegate,d)}confirmPasswordReset(d,_){return function Qa(m,c,d){return ut.apply(this,arguments)}(this._delegate,d,_)}createUserWithEmailAndPassword(d,_){var w=this;return(0,h.Z)(function*(){return st(w._delegate,function kc(m,c,d){return Yt.apply(this,arguments)}(w._delegate,d,_))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function lu(m,c){return Is.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function Fc(m,c){return"EMAIL_SIGNIN"===jn.parseLink(c)?.operation}(0,d)}getRedirectResult(){var d=this;return(0,h.Z)(function*(){Tl(Da(),d._delegate,"operation-not-supported-in-this-environment");const _=yield function K(m,c){return me.apply(this,arguments)}(d._delegate,Ft);return _?st(d._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function dd(m,c){an(m)._logFramework(c)}(this._delegate,d)}onAuthStateChanged(d,_,w){const{next:A,error:j,complete:ne}=Xf(d,_,w);return this._delegate.onAuthStateChanged(A,j,ne)}onIdTokenChanged(d,_,w){const{next:A,error:j,complete:ne}=Xf(d,_,w);return this._delegate.onIdTokenChanged(A,j,ne)}sendSignInLinkToEmail(d,_){return function Pt(m,c,d){return ra.apply(this,arguments)}(this._delegate,d,_)}sendPasswordResetEmail(d,_){return function Yr(m,c,d){return Es.apply(this,arguments)}(this._delegate,d,_||void 0)}setPersistence(d){var _=this;return(0,h.Z)(function*(){let w;switch(function hd(m,c){wa(Object.values(Rr).includes(c),m,"invalid-persistence-type"),(0,N.b$)()?wa(c!==Rr.SESSION,m,"unsupported-persistence-type"):(0,N.UG)()?wa(c===Rr.NONE,m,"unsupported-persistence-type"):Ia()?wa(c===Rr.NONE||c===Rr.LOCAL&&(0,N.hl)(),m,"unsupported-persistence-type"):wa(c===Rr.NONE||ku(),m,"unsupported-persistence-type")}(_._delegate,d),d){case Rr.SESSION:w=Ar;break;case Rr.LOCAL:w=(yield et(Qr)._isAvailable())?Qr:ol;break;case Rr.NONE:w=V;break;default:return _e("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(w)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return st(this._delegate,function qo(m){return Oc.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return st(this._delegate,kt(this._delegate,d))}signInWithCustomToken(d){return st(this._delegate,function qa(m,c){return Gr.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,_){return st(this._delegate,function ve(m,c,d){return kt((0,N.m9)(m),ru.credential(c,d))}(this._delegate,d,_))}signInWithEmailLink(d,_){return st(this._delegate,function Sn(m,c,d){return Ja.apply(this,arguments)}(this._delegate,d,_))}signInWithPhoneNumber(d,_){return kn(this._delegate,function Wc(m,c,d){return zc.apply(this,arguments)}(this._delegate,d,_))}signInWithPopup(d){var _=this;return(0,h.Z)(function*(){return Tl(Da(),_._delegate,"operation-not-supported-in-this-environment"),st(_._delegate,function hl(m,c,d){return pl.apply(this,arguments)}(_._delegate,d,Ft))})()}signInWithRedirect(d){var _=this;return(0,h.Z)(function*(){return Tl(Da(),_._delegate,"operation-not-supported-in-this-environment"),yield So(_._delegate),Ji(_._delegate,d,Ft)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function xc(m,c){return na.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=Rr,m})();function Xf(m,c,d){let _=m;"function"!=typeof m&&({next:_,error:c,complete:d}=m);const w=_;return{next:j=>w(j&&Cn.getOrCreate(j)),error:c,complete:d}}function eh(m,c){const d=function St(m,c){const d=bt();if(!d)return[];const _=F(ba,m,c);switch(d.getItem(_)){case Rr.NONE:return[V];case Rr.LOCAL:return[Qr,Ar];case Rr.SESSION:return[Ar];default:return[]}}(m,c);if(typeof self<"u"&&!d.includes(Qr)&&d.push(Qr),typeof window<"u")for(const _ of[ol,Ar])d.includes(_)||d.push(_);return d.includes(V)||d.push(V),d}class ns{constructor(){this.providerId="phone",this._delegate=new Jr(Lu(Q.Z.auth()))}static credential(c,d){return Jr.credential(c,d)}verifyPhoneNumber(c,d){return this._delegate.verifyPhoneNumber(c,d)}unwrap(){return this._delegate}}ns.PHONE_SIGN_IN_METHOD=Jr.PHONE_SIGN_IN_METHOD,ns.PROVIDER_ID=Jr.PROVIDER_ID;const Ti=L;class rs{constructor(c,d,_=Q.Z.app()){var w;Ti(null===(w=_.options)||void 0===w?void 0:w.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new $t(c,d,_.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Up(m){m.INTERNAL.registerComponent(new he.wA("auth-compat",c=>{const d=c.getProvider("app-compat").getImmediate(),_=c.getProvider("auth");return new Jf(d,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Z_EMAIL_SIGNIN,PASSWORD_RESET:Z_PASSWORD_RESET,RECOVER_EMAIL:Z_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Z_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Z_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Z_VERIFY_EMAIL}},EmailAuthProvider:ru,FacebookAuthProvider:Ga,GithubAuthProvider:Nc,GoogleAuthProvider:Rc,OAuthProvider:Ys,SAMLAuthProvider:jr,PhoneAuthProvider:ns,PhoneMultiFactorGenerator:Io,RecaptchaVerifier:rs,TwitterAuthProvider:vf,Auth:Jf,AuthCredential:bn,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.3.7")}(Q.Z)},8766:(nt,Ce,x)=>{x.d(Ce,{Lj:()=>_e,X3:()=>Te});var h=x(5861);const Q=(L,ue)=>ue.some(Ne=>L instanceof Ne);let N,re;const he=new WeakMap,oe=new WeakMap,le=new WeakMap,B=new WeakMap,U=new WeakMap;let be={get(L,ue,Ne){if(L instanceof IDBTransaction){if("done"===ue)return oe.get(L);if("objectStoreNames"===ue)return L.objectStoreNames||le.get(L);if("store"===ue)return Ne.objectStoreNames[1]?void 0:Ne.objectStore(Ne.objectStoreNames[0])}return Ee(L[ue])},set:(L,ue,Ne)=>(L[ue]=Ne,!0),has:(L,ue)=>L instanceof IDBTransaction&&("done"===ue||"store"===ue)||ue in L};function ie(L){return"function"==typeof L?function je(L){return L!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(L)?function(...ue){return L.apply(ge(this),ue),Ee(he.get(this))}:function(...ue){return Ee(L.apply(ge(this),ue))}:function(ue,...Ne){const Be=L.call(ge(this),ue,...Ne);return le.set(Be,ue.sort?ue.sort():[ue]),Ee(Be)}}(L):(L instanceof IDBTransaction&&function He(L){if(oe.has(L))return;const ue=new Promise((Ne,Be)=>{const et=()=>{L.removeEventListener("complete",Ke),L.removeEventListener("error",ee),L.removeEventListener("abort",ee)},Ke=()=>{Ne(),et()},ee=()=>{Be(L.error||new DOMException("AbortError","AbortError")),et()};L.addEventListener("complete",Ke),L.addEventListener("error",ee),L.addEventListener("abort",ee)});oe.set(L,ue)}(L),Q(L,function X(){return N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(L,be):L)}function Ee(L){if(L instanceof IDBRequest)return function Z(L){const ue=new Promise((Ne,Be)=>{const et=()=>{L.removeEventListener("success",Ke),L.removeEventListener("error",ee)},Ke=()=>{Ne(Ee(L.result)),et()},ee=()=>{Be(L.error),et()};L.addEventListener("success",Ke),L.addEventListener("error",ee)});return ue.then(Ne=>{Ne instanceof IDBCursor&&he.set(Ne,L)}).catch(()=>{}),U.set(ue,L),ue}(L);if(B.has(L))return B.get(L);const ue=ie(L);return ue!==L&&(B.set(L,ue),U.set(ue,L)),ue}const ge=L=>U.get(L);function Te(L,ue,{blocked:Ne,upgrade:Be,blocking:et,terminated:Ke}={}){const ee=indexedDB.open(L,ue),se=Ee(ee);return Be&&ee.addEventListener("upgradeneeded",ce=>{Be(Ee(ee.result),ce.oldVersion,ce.newVersion,Ee(ee.transaction))}),Ne&&ee.addEventListener("blocked",()=>Ne()),se.then(ce=>{Ke&&ce.addEventListener("close",()=>Ke()),et&&ce.addEventListener("versionchange",()=>et())}).catch(()=>{}),se}function _e(L,{blocked:ue}={}){const Ne=indexedDB.deleteDatabase(L);return ue&&Ne.addEventListener("blocked",()=>ue()),Ee(Ne).then(()=>{})}const fe=["get","getKey","getAll","getAllKeys","count"],Ie=["put","add","delete","clear"],Re=new Map;function Se(L,ue){if(!(L instanceof IDBDatabase)||ue in L||"string"!=typeof ue)return;if(Re.get(ue))return Re.get(ue);const Ne=ue.replace(/FromIndex$/,""),Be=ue!==Ne,et=Ie.includes(Ne);if(!(Ne in(Be?IDBIndex:IDBObjectStore).prototype)||!et&&!fe.includes(Ne))return;const Ke=function(){var ee=(0,h.Z)(function*(se,...ce){const De=this.transaction(se,et?"readwrite":"readonly");let Me=De.store;return Be&&(Me=Me.index(ce.shift())),(yield Promise.all([Me[Ne](...ce),et&&De.done]))[0]});return function(ce){return ee.apply(this,arguments)}}();return Re.set(ue,Ke),Ke}!function ft(L){be=L(be)}(L=>({...L,get:(ue,Ne,Be)=>Se(ue,Ne)||L.get(ue,Ne,Be),has:(ue,Ne)=>!!Se(ue,Ne)||L.has(ue,Ne)}))},5861:(nt,Ce,x)=>{function h(N,re,X,te,he,oe,le){try{var B=N[oe](le),U=B.value}catch(Z){return void X(Z)}B.done?re(U):Promise.resolve(U).then(te,he)}function Q(N){return function(){var re=this,X=arguments;return new Promise(function(te,he){var oe=N.apply(re,X);function le(U){h(oe,te,he,le,B,"next",U)}function B(U){h(oe,te,he,le,B,"throw",U)}le(void 0)})}}x.d(Ce,{Z:()=>Q})}},nt=>{nt(nt.s=3579)}]);