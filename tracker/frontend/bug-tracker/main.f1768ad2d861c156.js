"use strict";(self.webpackChunkbug_tracker=self.webpackChunkbug_tracker||[]).push([[179],{2011:(nt,De,k)=>{k.d(De,{Dh:()=>oe,GT:()=>ne,cc:()=>Se,hO:()=>He,on:()=>B,pX:()=>ee,xv:()=>ue});var h=k(4650),J=k(9260),O=k(7184);nt=k.hmd(nt);const re=["ngOnDestroy"],ee=(Ie,_e,Ae,we={})=>new Proxy(Ie,{get:(de,he)=>Ae.runOutsideAngular(()=>{var Le;if(Ie[he])return!(null===(Le=we?.spy)||void 0===Le)&&Le.get&&we.spy.get(he,Ie[he]),Ie[he];if(re.indexOf(he)>-1)return()=>{};const be=_e.toPromise().then(ie=>{const H=ie&&ie[he];return"function"==typeof H?H.bind(ie):H&&H.then?H.then(Oe=>Ae.run(()=>Oe)):Ae.run(()=>H)});return new Proxy(()=>{},{get:(ie,H)=>be[H],apply:(ie,H,Oe)=>be.then(Fe=>{var ot;const We=Fe&&Fe(...Oe);return!(null===(ot=we?.spy)||void 0===ot)&&ot.apply&&we.spy.apply(he,Oe,We),We})})})}),ne=(Ie,_e)=>{_e.forEach(Ae=>{Object.getOwnPropertyNames(Ae.prototype||Ae).forEach(we=>{Object.defineProperty(Ie.prototype,we,Object.getOwnPropertyDescriptor(Ae.prototype||Ae,we))})})};class ge{constructor(_e){return _e}}const oe=new h.OlP("angularfire2.app.options"),ue=new h.OlP("angularfire2.app.name");function B(Ie,_e,Ae){const de="object"==typeof Ae&&Ae||{};de.name=de.name||"string"==typeof Ae&&Ae||"[DEFAULT]";const Le=J.Z.apps.filter(be=>be&&be.name===de.name)[0]||_e.runOutsideAngular(()=>J.Z.initializeApp(Ie,de));try{JSON.stringify(Ie)!==JSON.stringify(Le.options)&&U("error",`${Le.name} Firebase App already initialized with different options${nt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ge(Le)}const U=(Ie,..._e)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Ie](..._e)},K={provide:ge,useFactory:B,deps:[oe,h.R0b,[new h.FiY,ue]]};let He=(()=>{class Ie{constructor(Ae){J.Z.registerVersion("angularfire",O.q4.full,"core"),J.Z.registerVersion("angularfire",O.q4.full,"app-compat"),J.Z.registerVersion("angular",h.q4F.full,Ae.toString())}static initializeApp(Ae,we){return{ngModule:Ie,providers:[{provide:oe,useValue:Ae},{provide:ue,useValue:we}]}}}return Ie.\u0275fac=function(Ae){return new(Ae||Ie)(h.LFG(h.Lbi))},Ie.\u0275mod=h.oAB({type:Ie}),Ie.\u0275inj=h.cJS({providers:[K]}),Ie})();function Se(Ie,_e,Ae,we,de){const[,he,Le]=globalThis.\u0275AngularfireInstanceCache.find(be=>be[0]===Ie)||[];if(he)return function dt(Ie,_e){try{return Ie.toString()===_e.toString()}catch{return Ie===_e}}(de,Le)||(se("error",`${_e} was already initialized on the ${Ae} Firebase App with different settings.${je?" You may need to reload as Firebase is not HMR aware.":""}`),se("warn",{is:de,was:Le})),he;{const be=we();return globalThis.\u0275AngularfireInstanceCache.push([Ie,be,de]),be}}const je=!!nt.hot,se=(Ie,..._e)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Ie](..._e)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7184:(nt,De,k)=>{k.d(De,{q4:()=>Mo,iC:()=>hi,HU:()=>wl,vb:()=>$s,JM:()=>Ta});var h=k(4650),J=k(259),O=k(5861),re=k(9681),ee=k(2090),ne=k(4859),ge=k(1877),oe=k(8766);const ue="@firebase/installations",B="0.6.4",U=1e4,K=`w:${B}`,He="FIS_v2",Se="https://firebaseinstallations.googleapis.com/v1",dt=36e5,_e=new ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ae(C){return C instanceof ee.ZR&&C.code.includes("request-failed")}function we({projectId:C}){return`${Se}/projects/${C}/installations`}function de(C){return{token:C.token,requestStatus:2,expiresIn:Fe(C.expiresIn),creationTime:Date.now()}}function he(C,I){return Le.apply(this,arguments)}function Le(){return(Le=(0,O.Z)(function*(C,I){const x=(yield I.json()).error;return _e.create("request-failed",{requestName:C,serverCode:x.code,serverMessage:x.message,serverStatus:x.status})})).apply(this,arguments)}function be({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function H(C){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,O.Z)(function*(C){const I=yield C();return I.status>=500&&I.status<600?C():I})).apply(this,arguments)}function Fe(C){return Number(C.replace("s","000"))}function te(){return(te=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:I},{fid:S}){const x=we(C),z=be(C),q=I.getImmediate({optional:!0});if(q){const R=yield q.getHeartbeatsHeader();R&&z.append("x-firebase-client",R)}const Ue={method:"POST",headers:z,body:JSON.stringify({fid:S,authVersion:He,appId:C.appId,sdkVersion:K})},Ve=yield H(()=>fetch(x,Ue));if(Ve.ok){const R=yield Ve.json();return{fid:R.fid||S,registrationStatus:2,refreshToken:R.refreshToken,authToken:de(R.authToken)}}throw yield he("Create Installation",Ve)})).apply(this,arguments)}function ae(C){return new Promise(I=>{setTimeout(I,C)})}const Ee=/^[cdef][\w-]{21}$/,Re="";function ke(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const S=function Je(C){return function fe(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Ee.test(S)?S:Re}catch{return Re}}function ze(C){return`${C.appName}!${C.appId}`}const rt=new Map;function $e(C,I){const S=ze(C);Vt(S,I),function Wt(C,I){const S=function sn(){return!$t&&"BroadcastChannel"in self&&($t=new BroadcastChannel("[Firebase] FID Change"),$t.onmessage=C=>{Vt(C.data.key,C.data.fid)}),$t}();S&&S.postMessage({key:C,fid:I}),function Qn(){0===rt.size&&$t&&($t.close(),$t=null)}()}(S,I)}function Vt(C,I){const S=rt.get(C);if(S)for(const x of S)x(I)}let $t=null;const Hn="firebase-installations-database",Gi=1,Jn="firebase-installations-store";let Gr=null;function Wr(){return Gr||(Gr=(0,oe.X3)(Hn,Gi,{upgrade:(C,I)=>{0===I&&C.createObjectStore(Jn)}})),Gr}function Xt(C,I){return jn.apply(this,arguments)}function jn(){return(jn=(0,O.Z)(function*(C,I){const S=ze(C),z=(yield Wr()).transaction(Jn,"readwrite"),q=z.objectStore(Jn),ye=yield q.get(S);return yield q.put(I,S),yield z.done,(!ye||ye.fid!==I.fid)&&$e(C,I.fid),I})).apply(this,arguments)}function tt(C){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,O.Z)(function*(C){const I=ze(C),x=(yield Wr()).transaction(Jn,"readwrite");yield x.objectStore(Jn).delete(I),yield x.done})).apply(this,arguments)}function ri(C,I){return dn.apply(this,arguments)}function dn(){return(dn=(0,O.Z)(function*(C,I){const S=ze(C),z=(yield Wr()).transaction(Jn,"readwrite"),q=z.objectStore(Jn),ye=yield q.get(S),Ue=I(ye);return void 0===Ue?yield q.delete(S):yield q.put(Ue,S),yield z.done,Ue&&(!ye||ye.fid!==Ue.fid)&&$e(C,Ue.fid),Ue})).apply(this,arguments)}function wn(C){return Nr.apply(this,arguments)}function Nr(){return Nr=(0,O.Z)(function*(C){let I;const S=yield ri(C.appConfig,x=>{const z=function yt(C){return Rn(C||{fid:ke(),registrationStatus:0})}(x),q=function Xe(C,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(_e.create("app-offline"))};const S={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},x=function ct(C,I){return zi.apply(this,arguments)}(C,S);return{installationEntry:S,registrationPromise:x}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Vn(C)}:{installationEntry:I}}(C,z);return I=q.registrationPromise,q.installationEntry});return S.fid===Re?{installationEntry:yield I}:{installationEntry:S,registrationPromise:I}}),Nr.apply(this,arguments)}function zi(){return zi=(0,O.Z)(function*(C,I){try{const S=yield function We(C,I){return te.apply(this,arguments)}(C,I);return Xt(C.appConfig,S)}catch(S){throw Ae(S)&&409===S.customData.serverCode?yield tt(C.appConfig):yield Xt(C.appConfig,{fid:I.fid,registrationStatus:0}),S}}),zi.apply(this,arguments)}function Vn(C){return pn.apply(this,arguments)}function pn(){return(pn=(0,O.Z)(function*(C){let I=yield gn(C.appConfig);for(;1===I.registrationStatus;)yield ae(100),I=yield gn(C.appConfig);if(0===I.registrationStatus){const{installationEntry:S,registrationPromise:x}=yield wn(C);return x||S}return I})).apply(this,arguments)}function gn(C){return ri(C,I=>{if(!I)throw _e.create("installation-not-found");return Rn(I)})}function Rn(C){return function io(C){return 1===C.registrationStatus&&C.registrationTime+U<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function wi(){return(wi=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:I},S){const x=function xt(C,{fid:I}){return`${we(C)}/${I}/authTokens:generate`}(C,S),z=function ie(C,{refreshToken:I}){const S=be(C);return S.append("Authorization",function ot(C){return`${He} ${C}`}(I)),S}(C,S),q=I.getImmediate({optional:!0});if(q){const R=yield q.getHeartbeatsHeader();R&&z.append("x-firebase-client",R)}const Ue={method:"POST",headers:z,body:JSON.stringify({installation:{sdkVersion:K,appId:C.appId}})},Ve=yield H(()=>fetch(x,Ue));if(Ve.ok)return de(yield Ve.json());throw yield he("Generate Auth Token",Ve)})).apply(this,arguments)}function Ir(C){return Dr.apply(this,arguments)}function Dr(){return Dr=(0,O.Z)(function*(C,I=!1){let S;const x=yield ri(C.appConfig,q=>{if(!Ot(q))throw _e.create("not-registered");const ye=q.authToken;if(!I&&function on(C){return 2===C.requestStatus&&!function L(C){const I=Date.now();return I<C.creationTime||C.creationTime+C.expiresIn<I+dt}(C)}(ye))return q;if(1===ye.requestStatus)return S=function xe(C,I){return pe.apply(this,arguments)}(C,I),q;{if(!navigator.onLine)throw _e.create("app-offline");const Ue=function F(C){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:I})}(q);return S=function ft(C,I){return st.apply(this,arguments)}(C,Ue),Ue}});return S?yield S:x.authToken}),Dr.apply(this,arguments)}function pe(){return(pe=(0,O.Z)(function*(C,I){let S=yield Ze(C.appConfig);for(;1===S.authToken.requestStatus;)yield ae(100),S=yield Ze(C.appConfig);const x=S.authToken;return 0===x.requestStatus?Ir(C,I):x})).apply(this,arguments)}function Ze(C){return ri(C,I=>{if(!Ot(I))throw _e.create("not-registered");return function $(C){return 1===C.requestStatus&&C.requestTime+U<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function st(){return st=(0,O.Z)(function*(C,I){try{const S=yield function Gt(C,I){return wi.apply(this,arguments)}(C,I),x=Object.assign(Object.assign({},I),{authToken:S});return yield Xt(C.appConfig,x),S}catch(S){if(!Ae(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const x=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Xt(C.appConfig,x)}else yield tt(C.appConfig);throw S}}),st.apply(this,arguments)}function Ot(C){return void 0!==C&&2===C.registrationStatus}function Q(){return(Q=(0,O.Z)(function*(C){const I=C,{installationEntry:S,registrationPromise:x}=yield wn(I);return x?x.catch(console.error):Ir(I).catch(console.error),S.fid})).apply(this,arguments)}function Be(){return Be=(0,O.Z)(function*(C,I=!1){const S=C;return yield function Bt(C){return mn.apply(this,arguments)}(S),(yield Ir(S,I)).token}),Be.apply(this,arguments)}function mn(){return(mn=(0,O.Z)(function*(C){const{registrationPromise:I}=yield wn(C);I&&(yield I)})).apply(this,arguments)}function Xa(C){return _e.create("missing-app-config-values",{valueName:C})}const _s="installations",ys=C=>{const I=C.getProvider("app").getImmediate(),S=function ea(C){if(!C||!C.options)throw Xa("App Configuration");if(!C.name)throw Xa("App Name");const I=["projectId","apiKey","appId"];for(const S of I)if(!C.options[S])throw Xa(S);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(I);return{app:I,appConfig:S,heartbeatServiceProvider:(0,re._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},el=C=>{const I=C.getProvider("app").getImmediate(),S=(0,re._getProvider)(I,_s).getImmediate();return{getId:()=>function le(C){return Q.apply(this,arguments)}(S),getToken:z=>function qe(C){return Be.apply(this,arguments)}(S,z)}};(function tl(){(0,re._registerComponent)(new ne.wA(_s,ys,"PUBLIC")),(0,re._registerComponent)(new ne.wA("installations-internal",el,"PRIVATE"))})(),(0,re.registerVersion)(ue,B),(0,re.registerVersion)(ue,B,"esm2017");const kt="@firebase/remote-config",er=new ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Es{constructor(I,S,x,z){this.client=I,this.storage=S,this.storageCache=x,this.logger=z}isCachedDataFresh(I,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const x=Date.now()-S,z=x<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${x}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${z}.`),z}fetch(I){var S=this;return(0,O.Z)(function*(){const[x,z]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(z&&S.isCachedDataFresh(I.cacheMaxAgeMillis,x))return z;I.eTag=z&&z.eTag;const q=yield S.client.fetch(I),ye=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===q.status&&ye.push(S.storage.setLastSuccessfulFetchResponse(q)),yield Promise.all(ye),q})()}}function Yi(C=navigator){return C.languages&&C.languages[0]||C.language}class xr{constructor(I,S,x,z,q,ye){this.firebaseInstallations=I,this.sdkVersion=S,this.namespace=x,this.projectId=z,this.apiKey=q,this.appId=ye}fetch(I){var S=this;return(0,O.Z)(function*(){const[x,z]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),ye=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,Ue={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Ve={sdk_version:S.sdkVersion,app_instance_id:x,app_instance_id_token:z,app_id:S.appId,language_code:Yi()},R={method:"POST",headers:Ue,body:JSON.stringify(Ve)},Ct=fetch(ye,R),pt=new Promise((hr,zn)=>{I.signal.addEventListener(()=>{const ki=new Error("The operation was aborted.");ki.name="AbortError",zn(ki)})});let fr;try{yield Promise.race([Ct,pt]),fr=yield Ct}catch(hr){let zn="fetch-client-network";throw"AbortError"===hr?.name&&(zn="fetch-timeout"),er.create(zn,{originalErrorMessage:hr?.message})}let un=fr.status;const Oi=fr.headers.get("ETag")||void 0;let Ra,ss;if(200===fr.status){let hr;try{hr=yield fr.json()}catch(zn){throw er.create("fetch-client-parse",{originalErrorMessage:zn?.message})}Ra=hr.entries,ss=hr.state}if("INSTANCE_STATE_UNSPECIFIED"===ss?un=500:"NO_CHANGE"===ss?un=304:("NO_TEMPLATE"===ss||"EMPTY_CONFIG"===ss)&&(Ra={}),304!==un&&200!==un)throw er.create("fetch-status",{httpStatus:un});return{status:un,eTag:Oi,config:Ra}})()}}class St{constructor(I,S){this.client=I,this.storage=S}fetch(I){var S=this;return(0,O.Z)(function*(){const x=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(I,x)})()}attemptFetch(I,{throttleEndTimeMillis:S,backoffCount:x}){var z=this;return(0,O.Z)(function*(){yield function Cs(C,I){return new Promise((S,x)=>{const z=Math.max(I-Date.now(),0),q=setTimeout(S,z);C.addEventListener(()=>{clearTimeout(q),x(er.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,S);try{const q=yield z.client.fetch(I);return yield z.storage.deleteThrottleMetadata(),q}catch(q){if(!function ra(C){if(!(C instanceof ee.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(q))throw q;const ye={throttleEndTimeMillis:Date.now()+(0,ee.$s)(x),backoffCount:x+1};return yield z.storage.setThrottleMetadata(ye),z.attemptFetch(I,ye)}})()}}class ia{constructor(I,S,x,z,q){this.app=I,this._client=S,this._storageCache=x,this._storage=z,this._logger=q,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function oi(C,I){const S=C.target.error||void 0;return er.create(I,{originalErrorMessage:S&&S?.message})}const Tr="app_namespace_store";class or{constructor(I,S,x,z=function du(){return new Promise((C,I)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=x=>{I(oi(x,"storage-open"))},S.onsuccess=x=>{C(x.target.result)},S.onupgradeneeded=x=>{0===x.oldVersion&&x.target.result.createObjectStore(Tr,{keyPath:"compositeKey"})}}catch(S){I(er.create("storage-open",{originalErrorMessage:S?.message}))}})}()){this.appId=I,this.appName=S,this.namespace=x,this.openDbPromise=z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var S=this;return(0,O.Z)(function*(){const x=yield S.openDbPromise;return new Promise((z,q)=>{const Ue=x.transaction([Tr],"readonly").objectStore(Tr),Ve=S.createCompositeKey(I);try{const R=Ue.get(Ve);R.onerror=Ct=>{q(oi(Ct,"storage-get"))},R.onsuccess=Ct=>{const pt=Ct.target.result;z(pt?pt.value:void 0)}}catch(R){q(er.create("storage-get",{originalErrorMessage:R?.message}))}})})()}set(I,S){var x=this;return(0,O.Z)(function*(){const z=yield x.openDbPromise;return new Promise((q,ye)=>{const Ve=z.transaction([Tr],"readwrite").objectStore(Tr),R=x.createCompositeKey(I);try{const Ct=Ve.put({compositeKey:R,value:S});Ct.onerror=pt=>{ye(oi(pt,"storage-set"))},Ct.onsuccess=()=>{q()}}catch(Ct){ye(er.create("storage-set",{originalErrorMessage:Ct?.message}))}})})()}delete(I){var S=this;return(0,O.Z)(function*(){const x=yield S.openDbPromise;return new Promise((z,q)=>{const Ue=x.transaction([Tr],"readwrite").objectStore(Tr),Ve=S.createCompositeKey(I);try{const R=Ue.delete(Ve);R.onerror=Ct=>{q(oi(Ct,"storage-delete"))},R.onsuccess=()=>{z()}}catch(R){q(er.create("storage-delete",{originalErrorMessage:R?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class ar{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,O.Z)(function*(){const S=I.storage.getLastFetchStatus(),x=I.storage.getLastSuccessfulFetchTimestampMillis(),z=I.storage.getActiveConfig(),q=yield S;q&&(I.lastFetchStatus=q);const ye=yield x;ye&&(I.lastSuccessfulFetchTimestampMillis=ye);const Ue=yield z;Ue&&(I.activeConfig=Ue)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function vn(){return ao.apply(this,arguments)}function ao(){return(ao=(0,O.Z)(function*(){if(!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch{return!1}})).apply(this,arguments)}!function nl(){(0,re._registerComponent)(new ne.wA("remote-config",function C(I,{instanceIdentifier:S}){const x=I.getProvider("app").getImmediate(),z=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw er.create("registration-window");if(!(0,ee.hl)())throw er.create("indexed-db-unavailable");const{projectId:q,apiKey:ye,appId:Ue}=x.options;if(!q)throw er.create("registration-project-id");if(!ye)throw er.create("registration-api-key");if(!Ue)throw er.create("registration-app-id");const Ve=new or(Ue,x.name,S=S||"firebase"),R=new ar(Ve),Ct=new ge.Yd(kt);Ct.logLevel=ge.in.ERROR;const pt=new xr(z,re.SDK_VERSION,S,q,ye,Ue),fr=new St(pt,Ve),un=new Es(fr,Ve,R,Ct),Oi=new ia(x,un,R,Ve,Ct);return function Ti(C){const I=(0,ee.m9)(C);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Oi),Oi},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(kt,"0.4.4"),(0,re.registerVersion)(kt,"0.4.4","esm2017")}();const wf="/firebase-messaging-sw.js",Zr="/firebase-cloud-messaging-push-scope",fu="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",hu="https://fcmregistrations.googleapis.com/v1",pu="google.c.a.c_id",gu="google.c.a.c_l",bf="google.c.a.ts",mu="google.c.a.e";var Qi=(()=>{return(C=Qi||(Qi={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Qi;var C})();function ai(C){const I=new Uint8Array(C);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function lo(C){const S=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),x=atob(S),z=new Uint8Array(x.length);for(let q=0;q<x.length;++q)z[q]=x.charCodeAt(q);return z}const _u="fcm_token_details_db",Hc=5,uo="fcm_token_object_Store";function Ds(){return Ds=(0,O.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(q=>q.name).includes(_u))return null;let I=null;return(yield(0,oe.X3)(_u,Hc,{upgrade:(x=(0,O.Z)(function*(z,q,ye,Ue){var Ve;if(q<2||!z.objectStoreNames.contains(uo))return;const R=Ue.objectStore(uo),Ct=yield R.index("fcmSenderId").get(C);if(yield R.clear(),Ct)if(2===q){const pt=Ct;if(!pt.auth||!pt.p256dh||!pt.endpoint)return;I={token:pt.fcmToken,createTime:null!==(Ve=pt.createTime)&&void 0!==Ve?Ve:Date.now(),subscriptionOptions:{auth:pt.auth,p256dh:pt.p256dh,endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:"string"==typeof pt.vapidKey?pt.vapidKey:ai(pt.vapidKey)}}}else if(3===q){const pt=Ct;I={token:pt.fcmToken,createTime:pt.createTime,subscriptionOptions:{auth:ai(pt.auth),p256dh:ai(pt.p256dh),endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:ai(pt.vapidKey)}}}else if(4===q){const pt=Ct;I={token:pt.fcmToken,createTime:pt.createTime,subscriptionOptions:{auth:ai(pt.auth),p256dh:ai(pt.p256dh),endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:ai(pt.vapidKey)}}}}),function(q,ye,Ue,Ve){return x.apply(this,arguments)})})).close(),yield(0,oe.Lj)(_u),yield(0,oe.Lj)("fcm_vapid_details_db"),yield(0,oe.Lj)("undefined"),function Ji(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:I}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}(I)?I:null;var x}),Ds.apply(this,arguments)}const co="firebase-messaging-database",sa=1,lr="firebase-messaging-store";let rl=null;function fo(){return rl||(rl=(0,oe.X3)(co,sa,{upgrade:(C,I)=>{0===I&&C.createObjectStore(lr)}})),rl}function yu(C){return li.apply(this,arguments)}function li(){return li=(0,O.Z)(function*(C){const I=ui(C),x=yield(yield fo()).transaction(lr).objectStore(lr).get(I);if(x)return x;{const z=yield function jc(C){return Ds.apply(this,arguments)}(C.appConfig.senderId);if(z)return yield il(C,z),z}}),li.apply(this,arguments)}function il(C,I){return ws.apply(this,arguments)}function ws(){return(ws=(0,O.Z)(function*(C,I){const S=ui(C),z=(yield fo()).transaction(lr,"readwrite");return yield z.objectStore(lr).put(I,S),yield z.done,I})).apply(this,arguments)}function ho(){return(ho=(0,O.Z)(function*(C){const I=ui(C),x=(yield fo()).transaction(lr,"readwrite");yield x.objectStore(lr).delete(I),yield x.done})).apply(this,arguments)}function ui({appConfig:C}){return C.appId}const Ht=new ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function vu(C,I){return bs.apply(this,arguments)}function bs(){return(bs=(0,O.Z)(function*(C,I){const S=yield go(C),x=Tn(I),z={method:"POST",headers:S,body:JSON.stringify(x)};let q;try{q=yield(yield fetch(po(C.appConfig),z)).json()}catch(ye){throw Ht.create("token-subscribe-failed",{errorInfo:ye?.toString()})}if(q.error)throw Ht.create("token-subscribe-failed",{errorInfo:q.error.message});if(!q.token)throw Ht.create("token-subscribe-no-token");return q.token})).apply(this,arguments)}function aa(){return(aa=(0,O.Z)(function*(C,I){const S=yield go(C),x=Tn(I.subscriptionOptions),z={method:"PATCH",headers:S,body:JSON.stringify(x)};let q;try{q=yield(yield fetch(`${po(C.appConfig)}/${I.token}`,z)).json()}catch(ye){throw Ht.create("token-update-failed",{errorInfo:ye?.toString()})}if(q.error)throw Ht.create("token-update-failed",{errorInfo:q.error.message});if(!q.token)throw Ht.create("token-update-no-token");return q.token})).apply(this,arguments)}function ci(C,I){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,O.Z)(function*(C,I){const x={method:"DELETE",headers:yield go(C)};try{const q=yield(yield fetch(`${po(C.appConfig)}/${I}`,x)).json();if(q.error)throw Ht.create("token-unsubscribe-failed",{errorInfo:q.error.message})}catch(z){throw Ht.create("token-unsubscribe-failed",{errorInfo:z?.toString()})}})).apply(this,arguments)}function po({projectId:C}){return`${hu}/projects/${C}/registrations`}function go(C){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,O.Z)(function*({appConfig:C,installations:I}){const S=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function Tn({p256dh:C,auth:I,endpoint:S,vapidKey:x}){const z={web:{endpoint:S,auth:I,p256dh:C}};return x!==fu&&(z.web.applicationPubKey=x),z}const sl=6048e5;function la(){return la=(0,O.Z)(function*(C){const I=yield function Eu(C,I){return _o.apply(this,arguments)}(C.swRegistration,C.vapidKey),S={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:I.endpoint,auth:ai(I.getKey("auth")),p256dh:ai(I.getKey("p256dh"))},x=yield yu(C.firebaseDependencies);if(x){if(function $c(C,I){return I.vapidKey===C.vapidKey&&I.endpoint===C.endpoint&&I.auth===C.auth&&I.p256dh===C.p256dh}(x.subscriptionOptions,S))return Date.now()>=x.createTime+sl?function Ss(C,I){return at.apply(this,arguments)}(C,{token:x.token,createTime:Date.now(),subscriptionOptions:S}):x.token;try{yield ci(C.firebaseDependencies,x.token)}catch(z){console.warn(z)}return ol(C.firebaseDependencies,S)}return ol(C.firebaseDependencies,S)}),la.apply(this,arguments)}function Ts(){return Ts=(0,O.Z)(function*(C){const I=yield yu(C.firebaseDependencies);I&&(yield ci(C.firebaseDependencies,I.token),yield function oa(C){return ho.apply(this,arguments)}(C.firebaseDependencies));const S=yield C.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()}),Ts.apply(this,arguments)}function at(){return at=(0,O.Z)(function*(C,I){try{const S=yield function qt(C,I){return aa.apply(this,arguments)}(C.firebaseDependencies,I),x=Object.assign(Object.assign({},I),{token:S,createTime:Date.now()});return yield il(C.firebaseDependencies,x),S}catch(S){throw yield function qr(C){return Ts.apply(this,arguments)}(C),S}}),at.apply(this,arguments)}function ol(C,I){return ua.apply(this,arguments)}function ua(){return(ua=(0,O.Z)(function*(C,I){const x={token:yield vu(C,I),createTime:Date.now(),subscriptionOptions:I};return yield il(C,x),x.token})).apply(this,arguments)}function _o(){return(_o=(0,O.Z)(function*(C,I){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:lo(I)})})).apply(this,arguments)}function ca(C){const I={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Gc(C,I){if(!I.notification)return;C.notification={};const S=I.notification.title;S&&(C.notification.title=S);const x=I.notification.body;x&&(C.notification.body=x);const z=I.notification.image;z&&(C.notification.image=z);const q=I.notification.icon;q&&(C.notification.icon=q)}(I,C),function Yt(C,I){I.data&&(C.data=I.data)}(I,C),function ve(C,I){var S,x,z,q,ye;if(!(I.fcmOptions||null!==(S=I.notification)&&void 0!==S&&S.click_action))return;C.fcmOptions={};const Ue=null!==(z=null===(x=I.fcmOptions)||void 0===x?void 0:x.link)&&void 0!==z?z:null===(q=I.notification)||void 0===q?void 0:q.click_action;Ue&&(C.fcmOptions.link=Ue);const Ve=null===(ye=I.fcmOptions)||void 0===ye?void 0:ye.analytics_label;Ve&&(C.fcmOptions.analyticsLabel=Ve)}(I,C),I}function da(C,I){const S=[];for(let x=0;x<C.length;x++)S.push(C.charAt(x)),x<I.length&&S.push(I.charAt(x));return S.join("")}function Sn(C){return Ht.create("missing-app-config-values",{valueName:C})}da("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),da("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class al{constructor(I,S,x){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const z=function As(C){if(!C||!C.options)throw Sn("App Configuration Object");if(!C.name)throw Sn("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:S}=C;for(const x of I)if(!S[x])throw Sn(x);return{appName:C.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:z,installations:S,analyticsProvider:x}}_delete(){return Promise.resolve()}}function Ms(C){return ur.apply(this,arguments)}function ur(){return(ur=(0,O.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(wf,{scope:Zr}),C.swRegistration.update().catch(()=>{})}catch(I){throw Ht.create("failed-service-worker-registration",{browserErrorMessage:I?.message})}})).apply(this,arguments)}function Rs(){return(Rs=(0,O.Z)(function*(C,I){if(!I&&!C.swRegistration&&(yield Ms(C)),I||!C.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Ht.create("invalid-sw-registration");C.swRegistration=I}})).apply(this,arguments)}function fa(){return(fa=(0,O.Z)(function*(C,I){I?C.vapidKey=I:C.vapidKey||(C.vapidKey=fu)})).apply(this,arguments)}function ln(){return ln=(0,O.Z)(function*(C,I){if(!navigator)throw Ht.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ht.create("permission-blocked");return yield function ll(C,I){return fa.apply(this,arguments)}(C,I?.vapidKey),yield function Cu(C,I){return Rs.apply(this,arguments)}(C,I?.serviceWorkerRegistration),function mo(C){return la.apply(this,arguments)}(C)}),ln.apply(this,arguments)}function yo(){return(yo=(0,O.Z)(function*(C,I,S){const x=function vo(C){switch(C){case Qi.NOTIFICATION_CLICKED:return"notification_open";case Qi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(I);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(x,{message_id:S[pu],message_name:S[gu],message_time:S[bf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ps(){return Ps=(0,O.Z)(function*(C,I){const S=I.data;if(!S.isFirebaseMessaging)return;C.onMessageHandler&&S.messageType===Qi.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(ca(S)):C.onMessageHandler.next(ca(S)));const x=S.data;(function Mt(C){return"object"==typeof C&&!!C&&pu in C})(x)&&"1"===x[mu]&&(yield function cr(C,I,S){return yo.apply(this,arguments)}(C,S.messageType,x))}),Ps.apply(this,arguments)}const Iu="@firebase/messaging",cl=C=>{const I=new al(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function Yr(C,I){return Ps.apply(this,arguments)}(I,S)),I},ha=C=>{const I=C.getProvider("messaging").getImmediate();return{getToken:x=>function ul(C,I){return ln.apply(this,arguments)}(I,x)}};function Du(){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,O.Z)(function*(){try{yield(0,ee.eu)()}catch{return!1}return typeof window<"u"&&(0,ee.hl)()&&(0,ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function pa(){(0,re._registerComponent)(new ne.wA("messaging",cl,"PUBLIC")),(0,re._registerComponent)(new ne.wA("messaging-internal",ha,"PRIVATE")),(0,re.registerVersion)(Iu,"0.12.4"),(0,re.registerVersion)(Iu,"0.12.4","esm2017")}();const dl="analytics",zc="firebase_id",Bn="origin",Ai=6e4,nn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xi="https://www.googletagmanager.com/gtag/js",An=new ge.Yd("@firebase/analytics"),dr=new ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Rf(C){if(!C.startsWith(Xi)){const I=dr.create("invalid-gtag-resource",{gtagURL:C});return An.warn(I.message),""}return C}function Zc(C){return Promise.all(C.map(I=>I.catch(S=>S)))}function Mi(){return(Mi=(0,O.Z)(function*(C,I,S,x,z,q){const ye=x[z];try{if(ye)yield I[ye];else{const Ve=(yield Zc(S)).find(R=>R.measurementId===z);Ve&&(yield I[Ve.appId])}}catch(Ue){An.error(Ue)}C("config",z,q)})).apply(this,arguments)}function Qr(){return(Qr=(0,O.Z)(function*(C,I,S,x,z){try{let q=[];if(z&&z.send_to){let ye=z.send_to;Array.isArray(ye)||(ye=[ye]);const Ue=yield Zc(S);for(const Ve of ye){const R=Ue.find(pt=>pt.measurementId===Ve),Ct=R&&I[R.appId];if(!Ct){q=[];break}q.push(Ct)}}0===q.length&&(q=Object.values(I)),yield Promise.all(q),C("event",x,z||{})}catch(q){An.error(q)}})).apply(this,arguments)}const Do=30,wo=new class pl{constructor(I={},S=1e3){this.throttleMetadata=I,this.intervalMillis=S}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,S){this.throttleMetadata[I]=S}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function gl(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function bo(){return(bo=(0,O.Z)(function*(C){var I;const{appId:S,apiKey:x}=C,z={method:"GET",headers:gl(x)},q=nn.replace("{app-id}",S),ye=yield fetch(q,z);if(200!==ye.status&&304!==ye.status){let Ue="";try{const Ve=yield ye.json();null!==(I=Ve.error)&&void 0!==I&&I.message&&(Ue=Ve.error.message)}catch{}throw dr.create("config-fetch-failed",{httpStatus:ye.status,responseMessage:Ue})}return ye.json()})).apply(this,arguments)}function ks(){return(ks=(0,O.Z)(function*(C,I=wo,S){const{appId:x,apiKey:z,measurementId:q}=C.options;if(!x)throw dr.create("no-app-id");if(!z){if(q)return{measurementId:q,appId:x};throw dr.create("no-api-key")}const ye=I.getThrottleMetadata(x)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ue=new Su;return setTimeout((0,O.Z)(function*(){Ue.abort()}),void 0!==S?S:Ai),Jr({appId:x,apiKey:z,measurementId:q},ye,Ue,I)})).apply(this,arguments)}function Jr(C,I,S){return es.apply(this,arguments)}function es(){return es=(0,O.Z)(function*(C,{throttleEndTimeMillis:I,backoffCount:S},x,z=wo){var q;const{appId:ye,measurementId:Ue}=C;try{yield function ml(C,I){return new Promise((S,x)=>{const z=Math.max(I-Date.now(),0),q=setTimeout(S,z);C.addEventListener(()=>{clearTimeout(q),x(dr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(x,I)}catch(Ve){if(Ue)return An.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ue} provided in the "measurementId" field in the local Firebase config. [${Ve?.message}]`),{appId:ye,measurementId:Ue};throw Ve}try{const Ve=yield function qc(C){return bo.apply(this,arguments)}(C);return z.deleteThrottleMetadata(ye),Ve}catch(Ve){const R=Ve;if(!function ts(C){if(!(C instanceof ee.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(R)){if(z.deleteThrottleMetadata(ye),Ue)return An.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ue} provided in the "measurementId" field in the local Firebase config. [${R?.message}]`),{appId:ye,measurementId:Ue};throw Ve}const Ct=503===Number(null===(q=R?.customData)||void 0===q?void 0:q.httpStatus)?(0,ee.$s)(S,z.intervalMillis,Do):(0,ee.$s)(S,z.intervalMillis),pt={throttleEndTimeMillis:Date.now()+Ct,backoffCount:S+1};return z.setThrottleMetadata(ye,pt),An.debug(`Calling attemptFetch again in ${Ct} millis`),Jr(C,pt,x,z)}}),es.apply(this,arguments)}class Su{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let Fs,Qt;function Ls(){return(Ls=(0,O.Z)(function*(C,I,S,x,z){if(z&&z.global)C("event",S,x);else{const q=yield I;C("event",S,Object.assign(Object.assign({},x),{send_to:q}))}})).apply(this,arguments)}function rs(){return(rs=(0,O.Z)(function*(){if(!(0,ee.hl)())return An.warn(dr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ee.eu)()}catch(C){return An.warn(dr.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function ya(){return ya=(0,O.Z)(function*(C,I,S,x,z,q,ye){var Ue;const Ve=function Os(C){return ks.apply(this,arguments)}(C);Ve.then(un=>{S[un.measurementId]=un.appId,C.options.measurementId&&un.measurementId!==C.options.measurementId&&An.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${un.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(un=>An.error(un)),I.push(Ve);const R=function Yc(){return rs.apply(this,arguments)}().then(un=>{if(un)return x.getId()}),[Ct,pt]=yield Promise.all([Ve,R]);(function Mp(C){const I=window.document.getElementsByTagName("script");for(const S of Object.values(I))if(S.src&&S.src.includes(Xi)&&S.src.includes(C))return S;return null})(q)||function Tu(C,I){const S=function fl(C,I){let S;return window.trustedTypes&&(S=window.trustedTypes.createPolicy(C,I)),S}("firebase-js-sdk-policy",{createScriptURL:Rf}),x=document.createElement("script"),z=`${Xi}?l=${C}&id=${I}`;x.src=S?S?.createScriptURL(z):z,x.async=!0,document.head.appendChild(x)}(q,Ct.measurementId),Qt&&(z("consent","default",Qt),function Bs(C){Qt=C}(void 0)),z("js",new Date);const fr=null!==(Ue=ye?.config)&&void 0!==Ue?Ue:{};return fr[Bn]="firebase",fr.update=!0,null!=pt&&(fr[zc]=pt),z("config",Ct.measurementId,fr),Fs&&(z("set",Fs),function ns(C){Fs=C}(void 0)),Ct.measurementId}),ya.apply(this,arguments)}class yl{constructor(I){this.app=I}_delete(){return delete Fr[this.app.options.appId],Promise.resolve()}}let Fr={},is=[];const Pi={};let vl,Un,fi="dataLayer",To="gtag",va=!1;function Ca(C,I,S){!function El(){const C=[];if((0,ee.ru)()&&C.push("This is a browser extension environment."),(0,ee.zI)()||C.push("Cookies are not available."),C.length>0){const I=C.map((x,z)=>`(${z+1}) ${x}`).join(" "),S=dr.create("invalid-analytics-context",{errorInfo:I});An.warn(S.message)}}();const x=C.options.appId;if(!x)throw dr.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw dr.create("no-api-key");An.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Fr[x])throw dr.create("already-exists",{id:x});if(!va){!function hl(C){let I=[];Array.isArray(window[C])?I=window[C]:window[C]=I}(fi);const{wrappedGtag:q,gtagCore:ye}=function Kc(C,I,S,x,z){let q=function(...ye){window[x].push(arguments)};return window[z]&&"function"==typeof window[z]&&(q=window[z]),window[z]=function ma(C,I,S,x){function q(){return q=(0,O.Z)(function*(ye,Ue,Ve){try{"event"===ye?yield function Pf(C,I,S,x,z){return Qr.apply(this,arguments)}(C,I,S,Ue,Ve):"config"===ye?yield function Io(C,I,S,x,z,q){return Mi.apply(this,arguments)}(C,I,S,x,Ue,Ve):"consent"===ye?C("consent","update",Ve):C("set",Ue)}catch(R){An.error(R)}}),q.apply(this,arguments)}return function z(ye,Ue,Ve){return q.apply(this,arguments)}}(q,C,I,S),{gtagCore:q,wrappedGtag:window[z]}}(Fr,is,Pi,fi,To);Un=q,vl=ye,va=!0}return Fr[x]=function Mu(C,I,S,x,z,q,ye){return ya.apply(this,arguments)}(C,is,Pi,I,vl,fi,S),new yl(C)}function Us(){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,O.Z)(function*(){if((0,ee.ru)()||!(0,ee.zI)()||!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch{return!1}})).apply(this,arguments)}const Jc="@firebase/analytics";!function Xc(){(0,re._registerComponent)(new ne.wA(dl,(I,{options:S})=>Ca(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,re._registerComponent)(new ne.wA("analytics-internal",function C(I){try{const S=I.getProvider(dl).getImmediate();return{logEvent:(x,z,q)=>function Ni(C,I,S,x){C=(0,ee.m9)(C),function _a(C,I,S,x,z){return Ls.apply(this,arguments)}(Un,Fr[C.app.options.appId],I,S,x).catch(z=>An.error(z))}(S,x,z,q)}}catch(S){throw dr.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,re.registerVersion)(Jc,"0.9.5"),(0,re.registerVersion)(Jc,"0.9.5","esm2017")}();var ed=k(4408),Np=k(7565);const Da=new class Of extends Np.v{}(class Pp extends ed.o{constructor(I,S){super(I,S),this.scheduler=I,this.work=S}schedule(I,S=0){return S>0?super.schedule(I,S):(this.delay=S,this.state=I,this.scheduler.flush(this),this)}execute(I,S){return S>0||this.closed?super.execute(I,S):this._execute(I,S)}requestAsyncId(I,S,x=0){return null!=x&&x>0||null==x&&this.delay>0?super.requestAsyncId(I,S,x):(I.flush(this),0)}});var kf=k(4986),Mn=k(576),Ru=k(4482),Ao=k(5403),Pu=k(4671),xi=k(9468),td=k(5363);const Mo=new h.GfV("7.5.0"),js="__angularfire_symbol__analyticsIsSupportedValue",wa="__angularfire_symbol__analyticsIsSupported",ba="__angularfire_symbol__remoteConfigIsSupportedValue",Ro="__angularfire_symbol__remoteConfigIsSupported",nd="__angularfire_symbol__messagingIsSupportedValue",Nn="__angularfire_symbol__messagingIsSupported";function Ta(C,I,S){if(I){if(1===I.length)return I[0];const q=I.filter(ye=>ye.app===S);if(1===q.length)return q[0]}return S.container.getProvider(C).getImmediate({optional:!0})}globalThis[wa]||(globalThis[wa]=Us().then(C=>globalThis[js]=C).catch(()=>globalThis[js]=!1)),globalThis[Nn]||(globalThis[Nn]=Du().then(C=>globalThis[nd]=C).catch(()=>globalThis[nd]=!1)),globalThis[Ro]||(globalThis[Ro]=vn().then(C=>globalThis[ba]=C).catch(()=>globalThis[ba]=!1));const $s=(C,I)=>{const S=I?[I]:(0,J.C6)(),x=[];return S.forEach(z=>{z.container.getProvider(C).instances.forEach(ye=>{x.includes(ye)||x.push(ye)})}),x};function ei(){}class xn{constructor(I,S=Da){this.zone=I,this.delegate=S}now(){return this.delegate.now()}schedule(I,S,x){const z=this.zone;return this.delegate.schedule(function(ye){z.runGuarded(()=>{I.apply(this,[ye])})},S,x)}}class Nu{constructor(I){this.zone=I,this.task=null}call(I,S){const x=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ei,{},ei,ei)),S.pipe(function Lr(C,I,S){const x=(0,Mn.m)(C)||I||S?{next:C,error:I,complete:S}:C;return x?(0,Ru.e)((z,q)=>{var ye;null===(ye=x.subscribe)||void 0===ye||ye.call(x);let Ue=!0;z.subscribe((0,Ao.x)(q,Ve=>{var R;null===(R=x.next)||void 0===R||R.call(x,Ve),q.next(Ve)},()=>{var Ve;Ue=!1,null===(Ve=x.complete)||void 0===Ve||Ve.call(x),q.complete()},Ve=>{var R;Ue=!1,null===(R=x.error)||void 0===R||R.call(x,Ve),q.error(Ve)},()=>{var Ve,R;Ue&&(null===(Ve=x.unsubscribe)||void 0===Ve||Ve.call(x)),null===(R=x.finalize)||void 0===R||R.call(x)}))}):Pu.y}({next:x,complete:x,error:x})).subscribe(I).add(x)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let wl=(()=>{class C{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new xn(Zone.current)),this.insideAngular=S.run(()=>new xn(Zone.current,kf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(S){return new(S||C)(h.LFG(h.R0b))},C.\u0275prov=h.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function En(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function hi(C){return En(),function rd(C){return function(S){return(S=S.lift(new Nu(C.ngZone))).pipe((0,xi.R)(C.outsideAngular),(0,td.Q)(C.insideAngular))}}(En())(C)}},2090:(nt,De,k)=>{k.d(De,{$s:()=>ft,BH:()=>he,DV:()=>Gr,Dv:()=>pn,GJ:()=>Gi,L:()=>ue,LL:()=>$e,P0:()=>Ae,Pz:()=>de,Sg:()=>Le,UG:()=>H,UI:()=>Xt,US:()=>ne,Wj:()=>io,Wl:()=>Wt,Yr:()=>fe,ZB:()=>K,ZR:()=>rt,aH:()=>we,b$:()=>ot,cI:()=>Vt,dS:()=>wi,eu:()=>ke,g5:()=>O,gK:()=>gn,gQ:()=>Nr,h$:()=>oe,hl:()=>Re,hu:()=>J,jU:()=>Oe,lb:()=>Gt,m9:()=>on,ne:()=>yt,p$:()=>U,pd:()=>wn,r3:()=>Jn,ru:()=>Fe,tV:()=>B,uI:()=>ie,ug:()=>xt,vZ:()=>jn,w1:()=>te,w9:()=>Hn,xO:()=>ri,xb:()=>Wr,z$:()=>be,zI:()=>Je,zd:()=>dn});const h={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},J=function(L,F){if(!L)throw O(F)},O=function(L){return new Error("Firebase Database ("+h.SDK_VERSION+") INTERNAL ASSERT FAILED: "+L)},re=function(L){const F=[];let $=0;for(let le=0;le<L.length;le++){let Q=L.charCodeAt(le);Q<128?F[$++]=Q:Q<2048?(F[$++]=Q>>6|192,F[$++]=63&Q|128):55296==(64512&Q)&&le+1<L.length&&56320==(64512&L.charCodeAt(le+1))?(Q=65536+((1023&Q)<<10)+(1023&L.charCodeAt(++le)),F[$++]=Q>>18|240,F[$++]=Q>>12&63|128,F[$++]=Q>>6&63|128,F[$++]=63&Q|128):(F[$++]=Q>>12|224,F[$++]=Q>>6&63|128,F[$++]=63&Q|128)}return F},ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(L,F){if(!Array.isArray(L))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let Q=0;Q<L.length;Q+=3){const qe=L[Q],Be=Q+1<L.length,Bt=Be?L[Q+1]:0,mn=Q+2<L.length,an=mn?L[Q+2]:0;let Xn=(15&Bt)<<2|an>>6,zr=63&an;mn||(zr=64,Be||(Xn=64)),le.push($[qe>>2],$[(3&qe)<<4|Bt>>4],$[Xn],$[zr])}return le.join("")},encodeString(L,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(L):this.encodeByteArray(re(L),F)},decodeString(L,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(L):function(L){const F=[];let $=0,le=0;for(;$<L.length;){const Q=L[$++];if(Q<128)F[le++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const qe=L[$++];F[le++]=String.fromCharCode((31&Q)<<6|63&qe)}else if(Q>239&&Q<365){const mn=((7&Q)<<18|(63&L[$++])<<12|(63&L[$++])<<6|63&L[$++])-65536;F[le++]=String.fromCharCode(55296+(mn>>10)),F[le++]=String.fromCharCode(56320+(1023&mn))}else{const qe=L[$++],Be=L[$++];F[le++]=String.fromCharCode((15&Q)<<12|(63&qe)<<6|63&Be)}}return F.join("")}(this.decodeStringToByteArray(L,F))},decodeStringToByteArray(L,F){this.init_();const $=F?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let Q=0;Q<L.length;){const qe=$[L.charAt(Q++)],Bt=Q<L.length?$[L.charAt(Q)]:0;++Q;const an=Q<L.length?$[L.charAt(Q)]:64;++Q;const bt=Q<L.length?$[L.charAt(Q)]:64;if(++Q,null==qe||null==Bt||null==an||null==bt)throw new ge;le.push(qe<<2|Bt>>4),64!==an&&(le.push(Bt<<4&240|an>>2),64!==bt&&le.push(an<<6&192|bt))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let L=0;L<this.ENCODED_VALS.length;L++)this.byteToCharMap_[L]=this.ENCODED_VALS.charAt(L),this.charToByteMap_[this.byteToCharMap_[L]]=L,this.byteToCharMapWebSafe_[L]=this.ENCODED_VALS_WEBSAFE.charAt(L),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[L]]=L,L>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(L)]=L,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(L)]=L)}}};class ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oe=function(L){const F=re(L);return ne.encodeByteArray(F,!0)},ue=function(L){return oe(L).replace(/\./g,"")},B=function(L){try{return ne.decodeString(L,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function U(L){return K(void 0,L)}function K(L,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===L&&(L={});break;case Array:L=[];break;default:return F}for(const $ in F)!F.hasOwnProperty($)||!He($)||(L[$]=K(L[$],F[$]));return L}function He(L){return"__proto__"!==L}const Ie=()=>{try{return function Se(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const L=process.env.__FIREBASE_DEFAULTS__;return L?JSON.parse(L):void 0})()||(()=>{if(typeof document>"u")return;let L;try{L=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=L&&B(L[1]);return F&&JSON.parse(F)})()}catch(L){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${L}`)}},Ae=L=>{const F=(L=>{var F,$;return null===($=null===(F=Ie())||void 0===F?void 0:F.emulatorHosts)||void 0===$?void 0:$[L]})(L);if(!F)return;const $=F.lastIndexOf(":");if($<=0||$+1===F.length)throw new Error(`Invalid host ${F} with no separate hostname and port!`);const le=parseInt(F.substring($+1),10);return"["===F[0]?[F.substring(1,$-1),le]:[F.substring(0,$),le]},we=()=>{var L;return null===(L=Ie())||void 0===L?void 0:L.config},de=L=>{var F;return null===(F=Ie())||void 0===F?void 0:F[`_${L}`]};class he{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,$)=>{this.resolve=F,this.reject=$})}wrapCallback(F){return($,le)=>{$?this.reject($):this.resolve(le),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F($):F($,le))}}}function Le(L,F){if(L.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=F||"demo-project",Q=L.iat||0,qe=L.sub||L.user_id;if(!qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Be=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:Q,exp:Q+3600,auth_time:Q,sub:qe,user_id:qe,firebase:{sign_in_provider:"custom",identities:{}}},L);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(Be)),""].join(".")}function be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(be())}function H(){var L;const F=null===(L=Ie())||void 0===L?void 0:L.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Oe(){return"object"==typeof self&&self.self===self}function Fe(){const L="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof L&&void 0!==L.id}function ot(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function te(){const L=be();return L.indexOf("MSIE ")>=0||L.indexOf("Trident/")>=0}function fe(){return!0===h.NODE_CLIENT||!0===h.NODE_ADMIN}function Re(){try{return"object"==typeof indexedDB}catch{return!1}}function ke(){return new Promise((L,F)=>{try{let $=!0;const le="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(le);Q.onsuccess=()=>{Q.result.close(),$||self.indexedDB.deleteDatabase(le),L(!0)},Q.onupgradeneeded=()=>{$=!1},Q.onerror=()=>{var qe;F((null===(qe=Q.error)||void 0===qe?void 0:qe.message)||"")}}catch($){F($)}})}function Je(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class rt extends Error{constructor(F,$,le){super($),this.code=F,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,rt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$e.prototype.create)}}class $e{constructor(F,$,le){this.service=F,this.serviceName=$,this.errors=le}create(F,...$){const le=$[0]||{},Q=`${this.service}/${F}`,qe=this.errors[F],Be=qe?function Nt(L,F){return L.replace(it,($,le)=>{const Q=F[le];return null!=Q?String(Q):`<${le}?>`})}(qe,le):"Error";return new rt(Q,`${this.serviceName}: ${Be} (${Q}).`,le)}}const it=/\{\$([^}]+)}/g;function Vt(L){return JSON.parse(L)}function Wt(L){return JSON.stringify(L)}const $t=function(L){let F={},$={},le={},Q="";try{const qe=L.split(".");F=Vt(B(qe[0])||""),$=Vt(B(qe[1])||""),Q=qe[2],le=$.d||{},delete $.d}catch{}return{header:F,claims:$,data:le,signature:Q}},Hn=function(L){const $=$t(L).claims;return!!$&&"object"==typeof $&&$.hasOwnProperty("iat")},Gi=function(L){const F=$t(L).claims;return"object"==typeof F&&!0===F.admin};function Jn(L,F){return Object.prototype.hasOwnProperty.call(L,F)}function Gr(L,F){if(Object.prototype.hasOwnProperty.call(L,F))return L[F]}function Wr(L){for(const F in L)if(Object.prototype.hasOwnProperty.call(L,F))return!1;return!0}function Xt(L,F,$){const le={};for(const Q in L)Object.prototype.hasOwnProperty.call(L,Q)&&(le[Q]=F.call($,L[Q],Q,L));return le}function jn(L,F){if(L===F)return!0;const $=Object.keys(L),le=Object.keys(F);for(const Q of $){if(!le.includes(Q))return!1;const qe=L[Q],Be=F[Q];if(tt(qe)&&tt(Be)){if(!jn(qe,Be))return!1}else if(qe!==Be)return!1}for(const Q of le)if(!$.includes(Q))return!1;return!0}function tt(L){return null!==L&&"object"==typeof L}function ri(L){const F=[];for(const[$,le]of Object.entries(L))Array.isArray(le)?le.forEach(Q=>{F.push(encodeURIComponent($)+"="+encodeURIComponent(Q))}):F.push(encodeURIComponent($)+"="+encodeURIComponent(le));return F.length?"&"+F.join("&"):""}function dn(L){const F={};return L.replace(/^\?/,"").split("&").forEach(le=>{if(le){const[Q,qe]=le.split("=");F[decodeURIComponent(Q)]=decodeURIComponent(qe)}}),F}function wn(L){const F=L.indexOf("?");if(!F)return"";const $=L.indexOf("#",F);return L.substring(F,$>0?$:void 0)}class Nr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let F=1;F<this.blockSize;++F)this.pad_[F]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(F,$){$||($=0);const le=this.W_;if("string"==typeof F)for(let bt=0;bt<16;bt++)le[bt]=F.charCodeAt($)<<24|F.charCodeAt($+1)<<16|F.charCodeAt($+2)<<8|F.charCodeAt($+3),$+=4;else for(let bt=0;bt<16;bt++)le[bt]=F[$]<<24|F[$+1]<<16|F[$+2]<<8|F[$+3],$+=4;for(let bt=16;bt<80;bt++){const Xn=le[bt-3]^le[bt-8]^le[bt-14]^le[bt-16];le[bt]=4294967295&(Xn<<1|Xn>>>31)}let an,en,Q=this.chain_[0],qe=this.chain_[1],Be=this.chain_[2],Bt=this.chain_[3],mn=this.chain_[4];for(let bt=0;bt<80;bt++){bt<40?bt<20?(an=Bt^qe&(Be^Bt),en=1518500249):(an=qe^Be^Bt,en=1859775393):bt<60?(an=qe&Be|Bt&(qe|Be),en=2400959708):(an=qe^Be^Bt,en=3395469782);const Xn=(Q<<5|Q>>>27)+an+mn+en+le[bt]&4294967295;mn=Bt,Bt=Be,Be=4294967295&(qe<<30|qe>>>2),qe=Q,Q=Xn}this.chain_[0]=this.chain_[0]+Q&4294967295,this.chain_[1]=this.chain_[1]+qe&4294967295,this.chain_[2]=this.chain_[2]+Be&4294967295,this.chain_[3]=this.chain_[3]+Bt&4294967295,this.chain_[4]=this.chain_[4]+mn&4294967295}update(F,$){if(null==F)return;void 0===$&&($=F.length);const le=$-this.blockSize;let Q=0;const qe=this.buf_;let Be=this.inbuf_;for(;Q<$;){if(0===Be)for(;Q<=le;)this.compress_(F,Q),Q+=this.blockSize;if("string"==typeof F){for(;Q<$;)if(qe[Be]=F.charCodeAt(Q),++Be,++Q,Be===this.blockSize){this.compress_(qe),Be=0;break}}else for(;Q<$;)if(qe[Be]=F[Q],++Be,++Q,Be===this.blockSize){this.compress_(qe),Be=0;break}}this.inbuf_=Be,this.total_+=$}digest(){const F=[];let $=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Q=this.blockSize-1;Q>=56;Q--)this.buf_[Q]=255&$,$/=256;this.compress_(this.buf_);let le=0;for(let Q=0;Q<5;Q++)for(let qe=24;qe>=0;qe-=8)F[le]=this.chain_[Q]>>qe&255,++le;return F}}function yt(L,F){const $=new Xe(L,F);return $.subscribe.bind($)}class Xe{constructor(F,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{F(this)}).catch(le=>{this.error(le)})}next(F){this.forEachObserver($=>{$.next(F)})}error(F){this.forEachObserver($=>{$.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,$,le){let Q;if(void 0===F&&void 0===$&&void 0===le)throw new Error("Missing Observer.");Q=function zi(L,F){if("object"!=typeof L||null===L)return!1;for(const $ of F)if($ in L&&"function"==typeof L[$])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:$,complete:le},void 0===Q.next&&(Q.next=Vn),void 0===Q.error&&(Q.error=Vn),void 0===Q.complete&&(Q.complete=Vn);const qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch{}}),this.observers.push(Q),qe}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,F)}sendOne(F,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{$(this.observers[F])}catch(le){typeof console<"u"&&console.error&&console.error(le)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vn(){}const pn=function(L,F,$,le){let Q;if(le<F?Q="at least "+F:le>$&&(Q=0===$?"none":"no more than "+$),Q)throw new Error(L+" failed: Was called with "+le+(1===le?" argument.":" arguments.")+" Expects "+Q+".")};function gn(L,F){return`${L} failed: ${F} argument `}function io(L,F,$,le){if((!le||$)&&"function"!=typeof $)throw new Error(gn(L,F)+"must be a valid function.")}function Gt(L,F,$,le){if((!le||$)&&("object"!=typeof $||null===$))throw new Error(gn(L,F)+"must be a valid context object.")}const wi=function(L){const F=[];let $=0;for(let le=0;le<L.length;le++){let Q=L.charCodeAt(le);if(Q>=55296&&Q<=56319){const qe=Q-55296;le++,J(le<L.length,"Surrogate pair missing trail surrogate."),Q=65536+(qe<<10)+(L.charCodeAt(le)-56320)}Q<128?F[$++]=Q:Q<2048?(F[$++]=Q>>6|192,F[$++]=63&Q|128):Q<65536?(F[$++]=Q>>12|224,F[$++]=Q>>6&63|128,F[$++]=63&Q|128):(F[$++]=Q>>18|240,F[$++]=Q>>12&63|128,F[$++]=Q>>6&63|128,F[$++]=63&Q|128)}return F},xt=function(L){let F=0;for(let $=0;$<L.length;$++){const le=L.charCodeAt($);le<128?F++:le<2048?F+=2:le>=55296&&le<=56319?(F+=4,$++):F+=3}return F},Dr=1e3,xe=2,pe=144e5,Ze=.5;function ft(L,F=Dr,$=xe){const le=F*Math.pow($,L),Q=Math.round(Ze*le*(Math.random()-.5)*2);return Math.min(pe,le+Q)}function on(L){return L&&L._delegate?L._delegate:L}},3923:(nt,De,k)=>{var h=k(4650);let J=null;function O(){return J}class ee{}const ne=new h.OlP("DocumentToken");var Oe=(()=>((Oe=Oe||{})[Oe.Format=0]="Format",Oe[Oe.Standalone=1]="Standalone",Oe))(),Fe=(()=>((Fe=Fe||{})[Fe.Narrow=0]="Narrow",Fe[Fe.Abbreviated=1]="Abbreviated",Fe[Fe.Wide=2]="Wide",Fe[Fe.Short=3]="Short",Fe))(),ot=(()=>((ot=ot||{})[ot.Short=0]="Short",ot[ot.Medium=1]="Medium",ot[ot.Long=2]="Long",ot[ot.Full=3]="Full",ot))(),We=(()=>((We=We||{})[We.Decimal=0]="Decimal",We[We.Group=1]="Group",We[We.List=2]="List",We[We.PercentSign=3]="PercentSign",We[We.PlusSign=4]="PlusSign",We[We.MinusSign=5]="MinusSign",We[We.Exponential=6]="Exponential",We[We.SuperscriptingExponent=7]="SuperscriptingExponent",We[We.PerMille=8]="PerMille",We[We.Infinity=9]="Infinity",We[We.NaN=10]="NaN",We[We.TimeSeparator=11]="TimeSeparator",We[We.CurrencyDecimal=12]="CurrencyDecimal",We[We.CurrencyGroup=13]="CurrencyGroup",We))();function rt(r,t){return Xt((0,h.cg1)(r)[h.wAp.DateFormat],t)}function $e(r,t){return Xt((0,h.cg1)(r)[h.wAp.TimeFormat],t)}function Nt(r,t){return Xt((0,h.cg1)(r)[h.wAp.DateTimeFormat],t)}function it(r,t){const e=(0,h.cg1)(r),o=e[h.wAp.NumberSymbols][t];if(typeof o>"u"){if(t===We.CurrencyDecimal)return e[h.wAp.NumberSymbols][We.Decimal];if(t===We.CurrencyGroup)return e[h.wAp.NumberSymbols][We.Group]}return o}function Gi(r){if(!r[h.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${r[h.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Xt(r,t){for(let e=t;e>-1;e--)if(typeof r[e]<"u")return r[e];throw new Error("Locale data API: locale data undefined")}function jn(r){const[t,e]=r.split(":");return{hours:+t,minutes:+e}}const dn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,wn={},Nr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var yt=(()=>((yt=yt||{})[yt.Short=0]="Short",yt[yt.ShortGMT=1]="ShortGMT",yt[yt.Long=2]="Long",yt[yt.Extended=3]="Extended",yt))(),Xe=(()=>((Xe=Xe||{})[Xe.FullYear=0]="FullYear",Xe[Xe.Month=1]="Month",Xe[Xe.Date=2]="Date",Xe[Xe.Hours=3]="Hours",Xe[Xe.Minutes=4]="Minutes",Xe[Xe.Seconds=5]="Seconds",Xe[Xe.FractionalSeconds=6]="FractionalSeconds",Xe[Xe.Day=7]="Day",Xe))(),ct=(()=>((ct=ct||{})[ct.DayPeriods=0]="DayPeriods",ct[ct.Days=1]="Days",ct[ct.Months=2]="Months",ct[ct.Eras=3]="Eras",ct))();function zi(r,t,e,o){let l=function Q(r){if(Be(r))return r;if("number"==typeof r&&!isNaN(r))return new Date(r);if("string"==typeof r){if(r=r.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(r)){const[l,p=1,y=1]=r.split("-").map(D=>+D);return Vn(l,p-1,y)}const e=parseFloat(r);if(!isNaN(r-e))return new Date(e);let o;if(o=r.match(dn))return function qe(r){const t=new Date(0);let e=0,o=0;const l=r[8]?t.setUTCFullYear:t.setFullYear,p=r[8]?t.setUTCHours:t.setHours;r[9]&&(e=Number(r[9]+r[10]),o=Number(r[9]+r[11])),l.call(t,Number(r[1]),Number(r[2])-1,Number(r[3]));const y=Number(r[4]||0)-e,D=Number(r[5]||0)-o,T=Number(r[6]||0),P=Math.floor(1e3*parseFloat("0."+(r[7]||0)));return p.call(t,y,D,T,P),t}(o)}const t=new Date(r);if(!Be(t))throw new Error(`Unable to convert "${r}" into a date`);return t}(r);t=pn(e,t)||t;let D,y=[];for(;t;){if(D=Nr.exec(t),!D){y.push(t);break}{y=y.concat(D.slice(1));const W=y.pop();if(!W)break;t=W}}let T=l.getTimezoneOffset();o&&(T=F(o,T),l=function le(r,t,e){const o=e?-1:1,l=r.getTimezoneOffset();return function $(r,t){return(r=new Date(r.getTime())).setMinutes(r.getMinutes()+t),r}(r,o*(F(t,l)-l))}(l,o,!0));let P="";return y.forEach(W=>{const G=function L(r){if(on[r])return on[r];let t;switch(r){case"G":case"GG":case"GGG":t=xt(ct.Eras,Fe.Abbreviated);break;case"GGGG":t=xt(ct.Eras,Fe.Wide);break;case"GGGGG":t=xt(ct.Eras,Fe.Narrow);break;case"y":t=Gt(Xe.FullYear,1,0,!1,!0);break;case"yy":t=Gt(Xe.FullYear,2,0,!0,!0);break;case"yyy":t=Gt(Xe.FullYear,3,0,!1,!0);break;case"yyyy":t=Gt(Xe.FullYear,4,0,!1,!0);break;case"Y":t=Ot(1);break;case"YY":t=Ot(2,!0);break;case"YYY":t=Ot(3);break;case"YYYY":t=Ot(4);break;case"M":case"L":t=Gt(Xe.Month,1,1);break;case"MM":case"LL":t=Gt(Xe.Month,2,1);break;case"MMM":t=xt(ct.Months,Fe.Abbreviated);break;case"MMMM":t=xt(ct.Months,Fe.Wide);break;case"MMMMM":t=xt(ct.Months,Fe.Narrow);break;case"LLL":t=xt(ct.Months,Fe.Abbreviated,Oe.Standalone);break;case"LLLL":t=xt(ct.Months,Fe.Wide,Oe.Standalone);break;case"LLLLL":t=xt(ct.Months,Fe.Narrow,Oe.Standalone);break;case"w":t=st(1);break;case"ww":t=st(2);break;case"W":t=st(1,!0);break;case"d":t=Gt(Xe.Date,1);break;case"dd":t=Gt(Xe.Date,2);break;case"c":case"cc":t=Gt(Xe.Day,1);break;case"ccc":t=xt(ct.Days,Fe.Abbreviated,Oe.Standalone);break;case"cccc":t=xt(ct.Days,Fe.Wide,Oe.Standalone);break;case"ccccc":t=xt(ct.Days,Fe.Narrow,Oe.Standalone);break;case"cccccc":t=xt(ct.Days,Fe.Short,Oe.Standalone);break;case"E":case"EE":case"EEE":t=xt(ct.Days,Fe.Abbreviated);break;case"EEEE":t=xt(ct.Days,Fe.Wide);break;case"EEEEE":t=xt(ct.Days,Fe.Narrow);break;case"EEEEEE":t=xt(ct.Days,Fe.Short);break;case"a":case"aa":case"aaa":t=xt(ct.DayPeriods,Fe.Abbreviated);break;case"aaaa":t=xt(ct.DayPeriods,Fe.Wide);break;case"aaaaa":t=xt(ct.DayPeriods,Fe.Narrow);break;case"b":case"bb":case"bbb":t=xt(ct.DayPeriods,Fe.Abbreviated,Oe.Standalone,!0);break;case"bbbb":t=xt(ct.DayPeriods,Fe.Wide,Oe.Standalone,!0);break;case"bbbbb":t=xt(ct.DayPeriods,Fe.Narrow,Oe.Standalone,!0);break;case"B":case"BB":case"BBB":t=xt(ct.DayPeriods,Fe.Abbreviated,Oe.Format,!0);break;case"BBBB":t=xt(ct.DayPeriods,Fe.Wide,Oe.Format,!0);break;case"BBBBB":t=xt(ct.DayPeriods,Fe.Narrow,Oe.Format,!0);break;case"h":t=Gt(Xe.Hours,1,-12);break;case"hh":t=Gt(Xe.Hours,2,-12);break;case"H":t=Gt(Xe.Hours,1);break;case"HH":t=Gt(Xe.Hours,2);break;case"m":t=Gt(Xe.Minutes,1);break;case"mm":t=Gt(Xe.Minutes,2);break;case"s":t=Gt(Xe.Seconds,1);break;case"ss":t=Gt(Xe.Seconds,2);break;case"S":t=Gt(Xe.FractionalSeconds,1);break;case"SS":t=Gt(Xe.FractionalSeconds,2);break;case"SSS":t=Gt(Xe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Dr(yt.Short);break;case"ZZZZZ":t=Dr(yt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Dr(yt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Dr(yt.Long);break;default:return null}return on[r]=t,t}(W);P+=G?G(l,e,T):"''"===W?"'":W.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),P}function Vn(r,t,e){const o=new Date(0);return o.setFullYear(r,t,e),o.setHours(0,0,0),o}function pn(r,t){const e=function ae(r){return(0,h.cg1)(r)[h.wAp.LocaleId]}(r);if(wn[e]=wn[e]||{},wn[e][t])return wn[e][t];let o="";switch(t){case"shortDate":o=rt(r,ot.Short);break;case"mediumDate":o=rt(r,ot.Medium);break;case"longDate":o=rt(r,ot.Long);break;case"fullDate":o=rt(r,ot.Full);break;case"shortTime":o=$e(r,ot.Short);break;case"mediumTime":o=$e(r,ot.Medium);break;case"longTime":o=$e(r,ot.Long);break;case"fullTime":o=$e(r,ot.Full);break;case"short":const l=pn(r,"shortTime"),p=pn(r,"shortDate");o=gn(Nt(r,ot.Short),[l,p]);break;case"medium":const y=pn(r,"mediumTime"),D=pn(r,"mediumDate");o=gn(Nt(r,ot.Medium),[y,D]);break;case"long":const T=pn(r,"longTime"),P=pn(r,"longDate");o=gn(Nt(r,ot.Long),[T,P]);break;case"full":const W=pn(r,"fullTime"),G=pn(r,"fullDate");o=gn(Nt(r,ot.Full),[W,G])}return o&&(wn[e][t]=o),o}function gn(r,t){return t&&(r=r.replace(/\{([^}]+)}/g,function(e,o){return null!=t&&o in t?t[o]:e})),r}function Rn(r,t,e="-",o,l){let p="";(r<0||l&&r<=0)&&(l?r=1-r:(r=-r,p=e));let y=String(r);for(;y.length<t;)y="0"+y;return o&&(y=y.slice(y.length-t)),p+y}function Gt(r,t,e=0,o=!1,l=!1){return function(p,y){let D=function wi(r,t){switch(r){case Xe.FullYear:return t.getFullYear();case Xe.Month:return t.getMonth();case Xe.Date:return t.getDate();case Xe.Hours:return t.getHours();case Xe.Minutes:return t.getMinutes();case Xe.Seconds:return t.getSeconds();case Xe.FractionalSeconds:return t.getMilliseconds();case Xe.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${r}".`)}}(r,p);if((e>0||D>-e)&&(D+=e),r===Xe.Hours)0===D&&-12===e&&(D=12);else if(r===Xe.FractionalSeconds)return function io(r,t){return Rn(r,3).substring(0,t)}(D,t);const T=it(y,We.MinusSign);return Rn(D,t,T,o,l)}}function xt(r,t,e=Oe.Format,o=!1){return function(l,p){return function Ir(r,t,e,o,l,p){switch(e){case ct.Months:return function Re(r,t,e){const o=(0,h.cg1)(r),p=Xt([o[h.wAp.MonthsFormat],o[h.wAp.MonthsStandalone]],t);return Xt(p,e)}(t,l,o)[r.getMonth()];case ct.Days:return function Ee(r,t,e){const o=(0,h.cg1)(r),p=Xt([o[h.wAp.DaysFormat],o[h.wAp.DaysStandalone]],t);return Xt(p,e)}(t,l,o)[r.getDay()];case ct.DayPeriods:const y=r.getHours(),D=r.getMinutes();if(p){const P=function Jn(r){const t=(0,h.cg1)(r);return Gi(t),(t[h.wAp.ExtraData][2]||[]).map(o=>"string"==typeof o?jn(o):[jn(o[0]),jn(o[1])])}(t),W=function Gr(r,t,e){const o=(0,h.cg1)(r);Gi(o);const p=Xt([o[h.wAp.ExtraData][0],o[h.wAp.ExtraData][1]],t)||[];return Xt(p,e)||[]}(t,l,o),G=P.findIndex(X=>{if(Array.isArray(X)){const[me,Me]=X,ut=y>=me.hours&&D>=me.minutes,Ft=y<Me.hours||y===Me.hours&&D<Me.minutes;if(me.hours<Me.hours){if(ut&&Ft)return!0}else if(ut||Ft)return!0}else if(X.hours===y&&X.minutes===D)return!0;return!1});if(-1!==G)return W[G]}return function fe(r,t,e){const o=(0,h.cg1)(r),p=Xt([o[h.wAp.DayPeriodsFormat],o[h.wAp.DayPeriodsStandalone]],t);return Xt(p,e)}(t,l,o)[y<12?0:1];case ct.Eras:return function ke(r,t){return Xt((0,h.cg1)(r)[h.wAp.Eras],t)}(t,o)[r.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(l,p,r,t,e,o)}}function Dr(r){return function(t,e,o){const l=-1*o,p=it(e,We.MinusSign),y=l>0?Math.floor(l/60):Math.ceil(l/60);switch(r){case yt.Short:return(l>=0?"+":"")+Rn(y,2,p)+Rn(Math.abs(l%60),2,p);case yt.ShortGMT:return"GMT"+(l>=0?"+":"")+Rn(y,1,p);case yt.Long:return"GMT"+(l>=0?"+":"")+Rn(y,2,p)+":"+Rn(Math.abs(l%60),2,p);case yt.Extended:return 0===o?"Z":(l>=0?"+":"")+Rn(y,2,p)+":"+Rn(Math.abs(l%60),2,p);default:throw new Error(`Unknown zone width "${r}"`)}}}const xe=0,pe=4;function ft(r){return Vn(r.getFullYear(),r.getMonth(),r.getDate()+(pe-r.getDay()))}function st(r,t=!1){return function(e,o){let l;if(t){const p=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,y=e.getDate();l=1+Math.floor((y+p)/7)}else{const p=ft(e),y=function Ze(r){const t=Vn(r,xe,1).getDay();return Vn(r,0,1+(t<=pe?pe:pe+7)-t)}(p.getFullYear()),D=p.getTime()-y.getTime();l=1+Math.round(D/6048e5)}return Rn(l,r,it(o,We.MinusSign))}}function Ot(r,t=!1){return function(e,o){return Rn(ft(e).getFullYear(),r,it(o,We.MinusSign),t)}}const on={};function F(r,t){r=r.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+r)/6e4;return isNaN(e)?t:e}function Be(r){return r instanceof Date&&!isNaN(r.valueOf())}function ta(r,t){t=encodeURIComponent(t);for(const e of r.split(";")){const o=e.indexOf("="),[l,p]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(l.trim()===t)return decodeURIComponent(p)}return null}class Zi{constructor(t,e,o,l){this.$implicit=t,this.ngForOf=e,this.index=o,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yn=(()=>{class r{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,o,l){this._viewContainer=e,this._template=o,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=this._viewContainer;e.forEachOperation((l,p,y)=>{if(null==l.previousIndex)o.createEmbeddedView(this._template,new Zi(l.item,this._ngForOf,-1,-1),null===y?void 0:y);else if(null==y)o.remove(null===p?void 0:p);else if(null!==p){const D=o.get(p);o.move(D,y),Ti(D,l)}});for(let l=0,p=o.length;l<p;l++){const D=o.get(l).context;D.index=l,D.count=p,D.ngForOf=this._ngForOf}e.forEachIdentityChange(l=>{Ti(o.get(l.currentIndex),l)})}static ngTemplateContextGuard(e,o){return!0}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},r.\u0275dir=h.lG2({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),r})();function Ti(r,t){r.context.$implicit=t.item}let ii=(()=>{class r{constructor(e,o){this._viewContainer=e,this._context=new na,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Et("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Et("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.s_b),h.Y36(h.Rgc))},r.\u0275dir=h.lG2({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),r})();class na{constructor(){this.$implicit=null,this.ngIf=null}}function Et(r,t){if(t&&!t.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,h.AaK)(t)}'.`)}const nl=new h.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Is=new h.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Or=(()=>{class r{constructor(e,o,l){this.locale=e,this.defaultTimezone=o,this.defaultOptions=l}transform(e,o,l,p){if(null==e||""===e||e!=e)return null;try{return zi(e,o??this.defaultOptions?.dateFormat??"mediumDate",p||this.locale,l??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(y){throw function St(r,t){return new h.vHH(2100,!1)}()}}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.soG,16),h.Y36(nl,24),h.Y36(Is,24))},r.\u0275pipe=h.Yjl({name:"date",type:r,pure:!0,standalone:!0}),r})(),_u=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({}),r})();class oa{}class hl extends ee{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Io extends hl{static makeCurrent(){!function re(r){J||(J=r)}(new Io)}onAndCancel(t,e,o){return t.addEventListener(e,o,!1),()=>{t.removeEventListener(e,o,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Pf(){return Mi=Mi||document.querySelector("base"),Mi?Mi.getAttribute("href"):null}();return null==e?null:function ma(r){Qr=Qr||document.createElement("a"),Qr.setAttribute("href",r);const t=Qr.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Mi=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ta(document.cookie,t)}}let Qr,Mi=null;const Kc=new h.OlP("TRANSITION_ID"),Do=[{provide:h.ip1,useFactory:function Mp(r,t,e){return()=>{e.get(h.CZH).donePromise.then(()=>{const o=O(),l=t.querySelectorAll(`style[ng-transition="${r}"]`);for(let p=0;p<l.length;p++)o.remove(l[p])})}},deps:[Kc,ne,h.zs3],multi:!0}];let pl=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();const wo=new h.OlP("EventManagerPlugins");let gl=(()=>{class r{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(l=>{l.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,o,l){return this._findPluginFor(o).addEventListener(e,o,l)}addGlobalEventListener(e,o,l){return this._findPluginFor(o).addGlobalEventListener(e,o,l)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const l=this._plugins;for(let p=0;p<l.length;p++){const y=l[p];if(y.supports(e))return this._eventNameToPlugin.set(e,y),y}throw new Error(`No event manager plugin found for event ${e}`)}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(wo),h.LFG(h.R0b))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();class qc{constructor(t){this._doc=t}addGlobalEventListener(t,e,o){const l=O().getGlobalEventTarget(this._doc,t);if(!l)throw new Error(`Unsupported event target ${l} for event ${e}`);return this.addEventListener(l,e,o)}}let bo=(()=>{class r{constructor(){this.usageCount=new Map}addStyles(e){for(const o of e)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(e){for(const o of e)0===this.changeUsageCount(o,-1)&&this.onStyleRemoved(o)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,o){const l=this.usageCount;let p=l.get(e)??0;return p+=o,p>0?l.set(e,p):l.delete(e),p}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})(),Os=(()=>{class r extends bo{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const o of this.hostNodes)this.addStyleToHost(o,e)}onStyleRemoved(e){const o=this.styleRef;o.get(e)?.forEach(p=>p.remove()),o.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const o of this.getAllStyles())this.addStyleToHost(e,o)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,o){const l=this.doc.createElement("style");l.textContent=o,e.appendChild(l);const p=this.styleRef.get(o);p?p.push(l):this.styleRef.set(o,[l])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(ne))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();const ks={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Jr=/%COMP%/g,_a=new h.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ri(r,t){return t.flat(100).map(e=>e.replace(Jr,r))}function Au(r){return t=>{if("__ngUnwrap__"===t)return r;!1===r(t)&&(t.preventDefault(),t.returnValue=!1)}}let Sr=(()=>{class r{constructor(e,o,l,p){this.eventManager=e,this.sharedStylesHost=o,this.appId=l,this.removeStylesOnCompDestory=p,this.rendererByCompId=new Map,this.defaultRenderer=new Ar(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;const l=this.getOrCreateRenderer(e,o);return l instanceof ns?l.applyToHost(e):l instanceof Bs&&l.applyStyles(),l}getOrCreateRenderer(e,o){const l=this.rendererByCompId;let p=l.get(o.id);if(!p){const y=this.eventManager,D=this.sharedStylesHost,T=this.removeStylesOnCompDestory;switch(o.encapsulation){case h.ifc.Emulated:p=new ns(y,D,o,this.appId,T);break;case h.ifc.ShadowDom:return new Qt(y,D,e,o);default:p=new Bs(y,D,o,T)}p.onDestroy=()=>l.delete(o.id),l.set(o.id,p)}return p}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(gl),h.LFG(Os),h.LFG(h.AFp),h.LFG(_a))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();class Ar{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ks[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Vs(t)?t.content:t).appendChild(e)}insertBefore(t,e,o){t&&(Vs(t)?t.content:t).insertBefore(e,o)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let o="string"==typeof t?document.querySelector(t):t;if(!o)throw new Error(`The selector "${t}" did not match any elements`);return e||(o.textContent=""),o}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,o,l){if(l){e=l+":"+e;const p=ks[l];p?t.setAttributeNS(p,e,o):t.setAttribute(e,o)}else t.setAttribute(e,o)}removeAttribute(t,e,o){if(o){const l=ks[o];l?t.removeAttributeNS(l,e):t.removeAttribute(`${o}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,o,l){l&(h.JOm.DashCase|h.JOm.Important)?t.style.setProperty(e,o,l&h.JOm.Important?"important":""):t.style[e]=o}removeStyle(t,e,o){o&h.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,o){t[e]=o}setValue(t,e){t.nodeValue=e}listen(t,e,o){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Au(o)):this.eventManager.addEventListener(t,e,Au(o))}}function Vs(r){return"TEMPLATE"===r.tagName&&void 0!==r.content}class Qt extends Ar{constructor(t,e,o,l){super(t),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const p=Ri(l.id,l.styles);for(const y of p){const D=document.createElement("style");D.textContent=y,this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,o){return super.insertBefore(this.nodeOrShadowRoot(t),e,o)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Bs extends Ar{constructor(t,e,o,l,p=o.id){super(t),this.sharedStylesHost=e,this.removeStylesOnCompDestory=l,this.rendererUsageCount=0,this.styles=Ri(p,o.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ns extends Bs{constructor(t,e,o,l,p){const y=l+"-"+o.id;super(t,e,o,p,y),this.contentAttr=function Ls(r){return"_ngcontent-%COMP%".replace(Jr,r)}(y),this.hostAttr=function Rp(r){return"_nghost-%COMP%".replace(Jr,r)}(y)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const o=super.createElement(t,e);return super.setAttribute(o,this.contentAttr,""),o}}let Yc=(()=>{class r extends qc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,l){return e.addEventListener(o,l,!1),()=>this.removeEventListener(e,o,l)}removeEventListener(e,o,l){return e.removeEventListener(o,l)}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(ne))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();const rs=["alt","control","meta","shift"],Mu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ya={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let yl=(()=>{class r extends qc{constructor(e){super(e)}supports(e){return null!=r.parseEventName(e)}addEventListener(e,o,l){const p=r.parseEventName(o),y=r.eventCallback(p.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(e,p.domEventName,y))}static parseEventName(e){const o=e.toLowerCase().split("."),l=o.shift();if(0===o.length||"keydown"!==l&&"keyup"!==l)return null;const p=r._normalizeKey(o.pop());let y="",D=o.indexOf("code");if(D>-1&&(o.splice(D,1),y="code."),rs.forEach(P=>{const W=o.indexOf(P);W>-1&&(o.splice(W,1),y+=P+".")}),y+=p,0!=o.length||0===p.length)return null;const T={};return T.domEventName=l,T.fullKey=y,T}static matchEventFullKeyCode(e,o){let l=Mu[e.key]||e.key,p="";return o.indexOf("code.")>-1&&(l=e.code,p="code."),!(null==l||!l)&&(l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),rs.forEach(y=>{y!==l&&(0,ya[y])(e)&&(p+=y+".")}),p+=l,p===o)}static eventCallback(e,o,l){return p=>{r.matchEventFullKeyCode(p,e)&&l.runGuarded(()=>o(p))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(ne))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();const El=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function vl(){Io.makeCurrent()},multi:!0},{provide:ne,useFactory:function va(){return(0,h.RDi)(document),document},deps:[]}]),Ca=new h.OlP(""),Cl=[{provide:h.rWj,useClass:class xs{addToWindow(t){h.dqk.getAngularTestability=(o,l=!0)=>{const p=t.findTestabilityInTree(o,l);if(null==p)throw new Error("Could not find testability for element.");return p},h.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(o=>{const l=h.dqk.getAllAngularTestabilities();let p=l.length,y=!1;const D=function(T){y=y||T,p--,0==p&&o(y)};l.forEach(function(T){T.whenStable(D)})})}findTestabilityInTree(t,e,o){return null==e?null:t.getTestability(e)??(o?O().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],Ia=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Un(){return new h.qLn},deps:[]},{provide:wo,useClass:Yc,multi:!0,deps:[ne,h.R0b,h.Lbi]},{provide:wo,useClass:yl,multi:!0,deps:[ne]},{provide:Sr,useClass:Sr,deps:[gl,Os,h.AFp,_a]},{provide:h.FYo,useExisting:Sr},{provide:bo,useExisting:Os},{provide:Os,useClass:Os,deps:[ne]},{provide:gl,useClass:gl,deps:[wo,h.R0b]},{provide:oa,useClass:pl,deps:[]},[]];let Us=(()=>{class r{constructor(e){}static withServerTransition(e){return{ngModule:r,providers:[{provide:h.AFp,useValue:e.appId},{provide:Kc,useExisting:h.AFp},Do]}}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(Ca,12))},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({providers:[...Ia,...Cl],imports:[_u,h.hGG]}),r})();typeof window<"u"&&window;var Nn=k(727),Vr=k(7579),Br=k(4986),Po=k(8306),Dl=k(7669),Ta=k(8996);function $s(...r){const t=(0,Dl.yG)(r);return(0,Ta.D)(r,t)}var ei=k(266),xn=k(4004),Nu=k(3099),wl=k(8421),En=k(4482),Wn=k(5403);function Cn(r,t){return(0,En.e)((e,o)=>{let l=null,p=0,y=!1;const D=()=>y&&!l&&o.complete();e.subscribe((0,Wn.x)(o,T=>{l?.unsubscribe();let P=0;const W=p++;(0,wl.Xf)(r(T,W)).subscribe(l=(0,Wn.x)(o,G=>o.next(t?t(T,G,W,P++):G),()=>{l=null,D()}))},()=>{y=!0,D()}))})}function Aa(r,t){return(0,En.e)(function Sa(r,t,e,o,l){return(p,y)=>{let D=e,T=t,P=0;p.subscribe((0,Wn.x)(y,W=>{const G=P++;T=D?r(T,W,G):(D=!0,W),o&&y.next(T)},l&&(()=>{D&&y.next(T),y.complete()})))}}(r,t,arguments.length>=2,!0))}var hi=k(4671);function Gs(r,t){return r===t}var Ma=k(5032),S=k(7184),x=k(2011),q=(k(6689),k(3942)),ye=k(4859),Ue=k(5861),Ve=k(9681),R=k(2090),Ct=k(1877);const pt="@firebase/database";let un="";function Oi(r){un=r}class Ra{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,R.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,R.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class ss{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,R.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const hr=function(r){try{if(typeof window<"u"&&typeof window[r]<"u"){const t=window[r];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ra(t)}}catch{}return new ss},zn=hr("localStorage"),ki=hr("sessionStorage"),No=new Ct.Yd("@firebase/database"),id=function(){let r=1;return function(){return r++}}(),xu=function(r){const t=(0,R.dS)(r),e=new R.gQ;e.update(t);const o=e.digest();return R.US.encodeByteArray(o)},xo=function(...r){let t="";for(let e=0;e<r.length;e++){const o=r[e];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?t+=xo.apply(null,o):t+="object"==typeof o?(0,R.Wl)(o):o,t+=" "}return t};let Oo=null,Ff=!0;const bl=function(r,t){(0,R.hu)(!t||!0===r||!1===r,"Can't turn on custom loggers persistently."),!0===r?(No.logLevel=Ct.in.VERBOSE,Oo=No.log.bind(No),t&&ki.set("logging_enabled",!0)):"function"==typeof r?Oo=r:(Oo=null,ki.remove("logging_enabled"))},Zn=function(...r){if(!0===Ff&&(Ff=!1,null===Oo&&!0===ki.get("logging_enabled")&&bl(!0)),Oo){const t=xo.apply(null,r);Oo(t)}},Tl=function(r){return function(...t){Zn(r,...t)}},Ou=function(...r){const t="FIREBASE INTERNAL ERROR: "+xo(...r);No.error(t)},os=function(...r){const t=`FIREBASE FATAL ERROR: ${xo(...r)}`;throw No.error(t),new Error(t)},pr=function(...r){const t="FIREBASE WARNING: "+xo(...r);No.warn(t)},ko=function(r){return"number"==typeof r&&(r!=r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},as="[MIN_NAME]",pi="[MAX_NAME]",Ws=function(r,t){if(r===t)return 0;if(r===as||t===pi)return-1;if(t===as||r===pi)return 1;{const e=gr(r),o=gr(t);return null!==e?null!==o?e-o==0?r.length-t.length:e-o:-1:null!==o?1:r<t?-1:1}},Ur=function(r,t){return r===t?0:r<t?-1:1},Sl=function(r,t){if(t&&r in t)return t[r];throw new Error("Missing required key ("+r+") in object: "+(0,R.Wl)(t))},od=function(r){if("object"!=typeof r||null===r)return(0,R.Wl)(r);const t=[];for(const o in r)t.push(o);t.sort();let e="{";for(let o=0;o<t.length;o++)0!==o&&(e+=","),e+=(0,R.Wl)(t[o]),e+=":",e+=od(r[t[o]]);return e+="}",e},Lf=function(r,t){const e=r.length;if(e<=t)return[r];const o=[];for(let l=0;l<e;l+=t)o.push(r.substring(l,l+t>e?e:l+t));return o};function On(r,t){for(const e in r)r.hasOwnProperty(e)&&t(e,r[e])}const ku=function(r){(0,R.hu)(!ko(r),"Invalid JSON number");const o=1023;let l,p,y,D,T;0===r?(p=0,y=0,l=1/r==-1/0?1:0):(l=r<0,(r=Math.abs(r))>=Math.pow(2,1-o)?(D=Math.min(Math.floor(Math.log(r)/Math.LN2),o),p=D+o,y=Math.round(r*Math.pow(2,52-D)-Math.pow(2,52))):(p=0,y=Math.round(r/Math.pow(2,-1074))));const P=[];for(T=52;T;T-=1)P.push(y%2?1:0),y=Math.floor(y/2);for(T=11;T;T-=1)P.push(p%2?1:0),p=Math.floor(p/2);P.push(l?1:0),P.reverse();const W=P.join("");let G="";for(T=0;T<64;T+=8){let X=parseInt(W.substr(T,8),2).toString(16);1===X.length&&(X="0"+X),G+=X}return G.toLowerCase()},Fu=new RegExp("^-?(0*)\\d{1,10}$"),gr=function(r){if(Fu.test(r)){const t=Number(r);if(t>=-2147483648&&t<=2147483647)return t}return null},zs=function(r){try{r()}catch(t){setTimeout(()=>{throw pr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Vf=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Zs=function(r,t){const e=setTimeout(r,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class tr{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,o):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){pr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Al{constructor(t,e,o){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Zn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,o):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',pr(t)}}let Pa=(()=>{class r{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return r.OWNER="owner",r})();const Vu=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Na="websocket",Bu="long_polling";class Uf{constructor(t,e,o,l,p=!1,y="",D=!1,T=!1){this.secure=e,this.namespace=o,this.webSocketOnly=l,this.nodeAdmin=p,this.persistenceKey=y,this.includeNamespaceInQueryParams=D,this.isUsingEmulator=T,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=zn.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&zn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function dd(r,t,e){let o;if((0,R.hu)("string"==typeof t,"typeof type must == string"),(0,R.hu)("object"==typeof e,"typeof params must == object"),t===Na)o=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else{if(t!==Bu)throw new Error("Unknown connection type: "+t);o=(r.secure?"https://":"http://")+r.internalHost+"/.lp?"}(function Fo(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams})(r)&&(e.ns=r.namespace);const l=[];return On(e,(p,y)=>{l.push(p+"="+y)}),o+l.join("&")}class Uu{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,R.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,R.p$)(this.counters_)}}const xa={},Oa={};function Hu(r){const t=r.toString();return xa[t]||(xa[t]=new Uu),xa[t]}class fd{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<o.length;++l)o[l]&&zs(()=>{this.onMessage_(o[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Mr{constructor(t,e,o,l,p,y,D){this.connId=t,this.repoInfo=e,this.applicationId=o,this.appCheckToken=l,this.authToken=p,this.transportSessionId=y,this.lastSessionId=D,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Tl(t),this.stats_=Hu(e),this.urlFn=T=>(this.appCheckToken&&(T.ac=this.appCheckToken),dd(e,Bu,T))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new fd(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(r){if((0,R.Yr)()||"complete"===document.readyState)r();else{let t=!1;const e=function(){document.body?t||(t=!0,r()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new zu((...p)=>{const[y,D,T,P,W]=p;if(this.incrementIncomingBytes_(p),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===y)this.id=D,this.password=T;else{if("close"!==y)throw new Error("Unrecognized command received: "+y);D?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(D,()=>{this.onClosed_()})):this.onClosed_()}},(...p)=>{const[y,D]=p;this.incrementIncomingBytes_(p),this.myPacketOrderer.handleResponse(y,D)},()=>{this.onClosed_()},this.urlFn);const o={start:"t"};o.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(o.cb=this.scriptTagHolder.uniqueCallbackIdentifier),o.v="5",this.transportSessionId&&(o.s=this.transportSessionId),this.lastSessionId&&(o.ls=this.lastSessionId),this.applicationId&&(o.p=this.applicationId),this.appCheckToken&&(o.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Vu.test(location.hostname)&&(o.r="f");const l=this.urlFn(o);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Mr.forceAllow_=!0}static forceDisallow(){Mr.forceDisallow_=!0}static isAvailable(){return!((0,R.Yr)()||!Mr.forceAllow_&&(Mr.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,R.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const o=(0,R.h$)(e),l=Lf(o,1840);for(let p=0;p<l.length;p++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[p]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,R.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const o={dframe:"t"};o.id=t,o.pw=e,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,R.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class zu{constructor(t,e,o,l){if(this.onDisconnect=o,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,R.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=id(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=zu.createIFrame_();let p="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(p='<script>document.domain="'+document.domain+'";<\/script>');const y="<html><body>"+p+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(y),this.myIFrame.doc.close()}catch(D){Zn("frame writing exception"),D.stack&&Zn(D.stack),Zn(D)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Zn("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),o="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+o.length<=1870;){const y=this.pendingSegs.shift();o=o+"&seg"+l+"="+y.seg+"&ts"+l+"="+y.ts+"&d"+l+"="+y.d,l++}return e+=o,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,o){this.pendingSegs.push({seg:t,ts:e,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const o=()=>{this.outstandingRequests.delete(e),this.newRequest_()},l=setTimeout(o,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(l),o()})}addTag(t,e){(0,R.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const l=o.readyState;(!l||"loaded"===l||"complete"===l)&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),e())},o.onerror=()=>{Zn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}let gd=null;typeof MozWebSocket<"u"?gd=MozWebSocket:typeof WebSocket<"u"&&(gd=WebSocket);let Fi=(()=>{class r{constructor(e,o,l,p,y,D,T){this.connId=e,this.applicationId=l,this.appCheckToken=p,this.authToken=y,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Tl(this.connId),this.stats_=Hu(o),this.connURL=r.connectionURL_(o,D,T,p,l),this.nodeAdmin=o.nodeAdmin}static connectionURL_(e,o,l,p,y){const D={v:"5"};return!(0,R.Yr)()&&typeof location<"u"&&location.hostname&&Vu.test(location.hostname)&&(D.r="f"),o&&(D.s=o),l&&(D.ls=l),p&&(D.ac=p),y&&(D.p=y),dd(e,Na,D)}open(e,o){this.onDisconnect=o,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,zn.set("previous_websocket_failure",!0);try{let l;if((0,R.Yr)()){l={headers:{"User-Agent":`Firebase/5/${un}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(l.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(l.headers["X-Firebase-AppCheck"]=this.appCheckToken);const y=process.env,D=0===this.connURL.indexOf("wss://")?y.HTTPS_PROXY||y.https_proxy:y.HTTP_PROXY||y.http_proxy;D&&(l.proxy={origin:D})}this.mySock=new gd(this.connURL,[],l)}catch(l){this.log_("Error instantiating WebSocket.");const p=l.message||l.data;return p&&this.log_(p),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const p=l.message||l.data;p&&this.log_(p),this.onClosed_()}}start(){}static forceDisallow(){r.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);l&&l.length>1&&parseFloat(l[1])<4.4&&(e=!0)}return!e&&null!==gd&&!r.forceDisallow_}static previouslyFailed(){return zn.isInMemoryStorage||!0===zn.get("previous_websocket_failure")}markConnectionHealthy(){zn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const o=this.frames.join("");this.frames=null;const l=(0,R.cI)(o);this.onMessage(l)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,R.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const o=Number(e);if(!isNaN(o))return this.handleNewFrameCount_(o),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const o=e.data;if(this.bytesReceived+=o.length,this.stats_.incrementCounter("bytes_received",o.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(o);else{const l=this.extractFrameCount_(o);null!==l&&this.appendFrame_(l)}}send(e){this.resetKeepAlive();const o=(0,R.Wl)(e);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const l=Lf(o,16384);l.length>1&&this.sendString_(String(l.length));for(let p=0;p<l.length;p++)this.sendString_(l[p])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(o){this.log_("Exception thrown from WebSocket.send():",o.message||o.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return r.responsesRequiredToBeHealthy=2,r.healthyTimeout=3e4,r})(),Zu=(()=>{class r{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Mr,Fi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const o=Fi&&Fi.isAvailable();let l=o&&!Fi.previouslyFailed();if(e.webSocketOnly&&(o||pr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),l=!0),l)this.transports_=[Fi];else{const p=this.transports_=[];for(const y of r.ALL_TRANSPORTS)y&&y.isAvailable()&&p.push(y);r.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return r.globalTransportInitialized_=!1,r})();class Yf{constructor(t,e,o,l,p,y,D,T,P,W){this.id=t,this.repoInfo_=e,this.applicationId_=o,this.appCheckToken_=l,this.authToken_=p,this.onMessage_=y,this.onReady_=D,this.onDisconnect_=T,this.onKill_=P,this.lastSessionId=W,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Tl("c:"+this.id+":"),this.transportManager_=new Zu(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,o)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=Zs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Sl("t",t),o=Sl("d",t);if("c"===e)this.onSecondaryControl_(o);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(o)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Sl("t",t),o=Sl("d",t);"c"===e?this.onControl_(o):"d"===e&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Sl("t",t);if("d"in t){const o=t.d;if("h"===e){const l=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(o):"r"===e?this.onReset_(o):"e"===e?Ou("Server Error: "+o):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ou("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,o=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==o&&pr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,o),Zs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Zs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(zn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class La{put(t,e,o,l){}merge(t,e,o,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,o){}onDisconnectMerge(t,e,o){}onDisconnectCancel(t,e){}reportStats(t){}}class Qf{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,R.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let l=0;l<o.length;l++)o[l].callback.apply(o[l].context,e)}}on(t,e,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:o});const l=this.getInitialEvent(t);l&&e.apply(o,l)}off(t,e,o){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let p=0;p<l.length;p++)if(l[p].callback===e&&(!o||o===l[p].context))return void l.splice(p,1)}validateEventType_(t){(0,R.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Va extends Qf{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,R.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Va}getInitialEvent(t){return(0,R.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const yd=32,kl=768;class Ut{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let o=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[o]=this.pieces_[l],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Rt(){return new Ut("")}function Tt(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function Li(r){return r.pieces_.length-r.pieceNum_}function zt(r){let t=r.pieceNum_;return t<r.pieces_.length&&t++,new Ut(r.pieces_,t)}function Qu(r){return r.pieceNum_<r.pieces_.length?r.pieces_[r.pieces_.length-1]:null}function Vo(r,t=0){return r.pieces_.slice(r.pieceNum_+t)}function Ed(r){if(r.pieceNum_>=r.pieces_.length)return null;const t=[];for(let e=r.pieceNum_;e<r.pieces_.length-1;e++)t.push(r.pieces_[e]);return new Ut(t,0)}function At(r,t){const e=[];for(let o=r.pieceNum_;o<r.pieces_.length;o++)e.push(r.pieces_[o]);if(t instanceof Ut)for(let o=t.pieceNum_;o<t.pieces_.length;o++)e.push(t.pieces_[o]);else{const o=t.split("/");for(let l=0;l<o.length;l++)o[l].length>0&&e.push(o[l])}return new Ut(e,0)}function mt(r){return r.pieceNum_>=r.pieces_.length}function Kn(r,t){const e=Tt(r),o=Tt(t);if(null===e)return t;if(e===o)return Kn(zt(r),zt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+r+")")}function Jf(r,t){const e=Vo(r,0),o=Vo(t,0);for(let l=0;l<e.length&&l<o.length;l++){const p=Ws(e[l],o[l]);if(0!==p)return p}return e.length===o.length?0:e.length<o.length?-1:1}function Ba(r,t){if(Li(r)!==Li(t))return!1;for(let e=r.pieceNum_,o=t.pieceNum_;e<=r.pieces_.length;e++,o++)if(r.pieces_[e]!==t.pieces_[o])return!1;return!0}function mr(r,t){let e=r.pieceNum_,o=t.pieceNum_;if(Li(r)>Li(t))return!1;for(;e<r.pieces_.length;){if(r.pieces_[e]!==t.pieces_[o])return!1;++e,++o}return!0}class Wp{constructor(t,e){this.errorPrefix_=e,this.parts_=Vo(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=(0,R.ug)(this.parts_[o]);ls(this)}}function ls(r){if(r.byteLength_>kl)throw new Error(r.errorPrefix_+"has a key path longer than "+kl+" bytes ("+r.byteLength_+").");if(r.parts_.length>yd)throw new Error(r.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+yd+") or object contains a cycle "+qs(r))}function qs(r){return 0===r.parts_.length?"":"in property '"+r.parts_.join(".")+"'"}class Vi extends Qf{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}static getInstance(){return new Vi}getInitialEvent(t){return(0,R.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const us=1e3;let Ll,nr=(()=>{class r extends La{constructor(e,o,l,p,y,D,T,P){if(super(),this.repoInfo_=e,this.applicationId_=o,this.onDataUpdate_=l,this.onConnectStatus_=p,this.onServerInfoUpdate_=y,this.authTokenProvider_=D,this.appCheckTokenProvider_=T,this.authOverride_=P,this.id=r.nextPersistentConnectionId_++,this.log_=Tl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=us,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,P&&!(0,R.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Vi.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Va.getInstance().on("online",this.onOnline_,this)}sendRequest(e,o,l){const p=++this.requestNumber_,y={r:p,a:e,b:o};this.log_((0,R.Wl)(y)),(0,R.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(y),l&&(this.requestCBHash_[p]=l)}get(e){this.initConnection_();const o=new R.BH,p={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:D=>{const T=D.d;"ok"===D.s?o.resolve(T):o.reject(T)}};return this.outstandingGets_.push(p),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),o.promise}listen(e,o,l,p){this.initConnection_();const y=e._queryIdentifier,D=e._path.toString();this.log_("Listen called for "+D+" "+y),this.listens.has(D)||this.listens.set(D,new Map),(0,R.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,R.hu)(!this.listens.get(D).has(y),"listen() called twice for same path/queryId.");const T={onComplete:p,hashFn:o,query:e,tag:l};this.listens.get(D).set(y,T),this.connected_&&this.sendListen_(T)}sendGet_(e){const o=this.outstandingGets_[e];this.sendRequest("g",o.request,l=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),o.onComplete&&o.onComplete(l)})}sendListen_(e){const o=e.query,l=o._path.toString(),p=o._queryIdentifier;this.log_("Listen on "+l+" for "+p);const y={p:l};e.tag&&(y.q=o._queryObject,y.t=e.tag),y.h=e.hashFn(),this.sendRequest("q",y,T=>{const P=T.d,W=T.s;r.warnOnListenWarnings_(P,o),(this.listens.get(l)&&this.listens.get(l).get(p))===e&&(this.log_("listen response",T),"ok"!==W&&this.removeListen_(l,p),e.onComplete&&e.onComplete(W,P))})}static warnOnListenWarnings_(e,o){if(e&&"object"==typeof e&&(0,R.r3)(e,"w")){const l=(0,R.DV)(e,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const p='".indexOn": "'+o._queryParams.getIndex().toString()+'"',y=o._path.toString();pr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${p} at ${y} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,R.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,o=(0,R.w9)(e)?"auth":"gauth",l={cred:e};null===this.authOverride_?l.noauth=!0:"object"==typeof this.authOverride_&&(l.authvar=this.authOverride_),this.sendRequest(o,l,p=>{const y=p.s,D=p.d||"error";this.authToken_===e&&("ok"===y?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(y,D))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const o=e.s,l=e.d||"error";"ok"===o?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(o,l)})}unlisten(e,o){const l=e._path.toString(),p=e._queryIdentifier;this.log_("Unlisten called for "+l+" "+p),(0,R.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,p)&&this.connected_&&this.sendUnlisten_(l,p,e._queryObject,o)}sendUnlisten_(e,o,l,p){this.log_("Unlisten on "+e+" for "+o);const y={p:e};p&&(y.q=l,y.t=p),this.sendRequest("n",y)}onDisconnectPut(e,o,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,o,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:o,onComplete:l})}onDisconnectMerge(e,o,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,o,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:o,onComplete:l})}onDisconnectCancel(e,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:o})}sendOnDisconnect_(e,o,l,p){const y={p:o,d:l};this.log_("onDisconnect "+e,y),this.sendRequest(e,y,D=>{p&&setTimeout(()=>{p(D.s,D.d)},Math.floor(0))})}put(e,o,l,p){this.putInternal("p",e,o,l,p)}merge(e,o,l,p){this.putInternal("m",e,o,l,p)}putInternal(e,o,l,p,y){this.initConnection_();const D={p:o,d:l};void 0!==y&&(D.h=y),this.outstandingPuts_.push({action:e,request:D,onComplete:p}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+o)}sendPut_(e){const o=this.outstandingPuts_[e].action,l=this.outstandingPuts_[e].request,p=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(o,l,y=>{this.log_(o+" response",y),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),p&&p(y.s,y.d)})}reportStats(e){if(this.connected_){const o={c:e};this.log_("reportStats",o),this.sendRequest("s",o,l=>{"ok"!==l.s&&this.log_("reportStats","Error sending stats: "+l.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,R.Wl)(e));const o=e.r,l=this.requestCBHash_[o];l&&(delete this.requestCBHash_[o],l(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,o){this.log_("handleServerMessage",e,o),"d"===e?this.onDataUpdate_(o.p,o.d,!1,o.t):"m"===e?this.onDataUpdate_(o.p,o.d,!0,o.t):"c"===e?this.onListenRevoked_(o.p,o.q):"ac"===e?this.onAuthRevoked_(o.s,o.d):"apc"===e?this.onAppCheckRevoked_(o.s,o.d):"sd"===e?this.onSecurityDebugPacket_(o):Ou("Unrecognized action received from server: "+(0,R.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,R.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=us,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=us,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=us),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let o=Math.max(0,this.reconnectDelay_-e);o=Math.random()*o,this.log_("Trying to reconnect in "+o+"ms"),this.scheduleConnect_(o),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Ue.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const o=e.onDataMessage_.bind(e),l=e.onReady_.bind(e),p=e.onRealtimeDisconnect_.bind(e),y=e.id+":"+r.nextConnectionId_++,D=e.lastSessionId;let T=!1,P=null;const W=function(){P?P.close():(T=!0,p())};e.realtime_={close:W,sendRequest:function(me){(0,R.hu)(P,"sendRequest call when we're not connected not allowed."),P.sendRequest(me)}};const X=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[me,Me]=yield Promise.all([e.authTokenProvider_.getToken(X),e.appCheckTokenProvider_.getToken(X)]);T?Zn("getToken() completed but was canceled"):(Zn("getToken() completed. Creating connection."),e.authToken_=me&&me.accessToken,e.appCheckToken_=Me&&Me.token,P=new Yf(y,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,o,l,p,ut=>{pr(ut+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},D))}catch(me){e.log_("Failed to get token: "+me),T||(e.repoInfo_.nodeAdmin&&pr(me),W())}}})()}interrupt(e){Zn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Zn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,R.xb)(this.interruptReasons_)&&(this.reconnectDelay_=us,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const o=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:o})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const o=this.outstandingPuts_[e];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,o){let l;l=o?o.map(y=>od(y)).join("$"):"default";const p=this.removeListen_(e,l);p&&p.onComplete&&p.onComplete("permission_denied")}removeListen_(e,o){const l=new Ut(e).toString();let p;if(this.listens.has(l)){const y=this.listens.get(l);p=y.get(o),y.delete(o),0===y.size&&this.listens.delete(l)}else p=void 0;return p}onAuthRevoked_(e,o){Zn("Auth token revoked: "+e+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,o){Zn("App check token revoked: "+e+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const o of e.values())this.sendListen_(o);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let o="js";(0,R.Yr)()&&(o=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+o+"."+un.replace(/\./g,"-")]=1,(0,R.uI)()?e["framework.cordova"]=1:(0,R.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Va.getInstance().currentlyOnline();return(0,R.xb)(this.interruptReasons_)&&e}}return r.nextPersistentConnectionId_=0,r.nextConnectionId_=0,r})();class It{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new It(t,e)}}class Fl{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const o=new It(as,t),l=new It(as,e);return 0!==this.compare(o,l)}minPost(){return It.MIN}}class rh extends Fl{static get __EMPTY_NODE(){return Ll}static set __EMPTY_NODE(t){Ll=t}compare(t,e){return Ws(t.name,e.name)}isDefinedOn(t){throw(0,R.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return It.MIN}maxPost(){return new It(pi,Ll)}makePost(t,e){return(0,R.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new It(t,Ll)}toString(){return".key"}}const Rr=new rh;class ti{constructor(t,e,o,l,p=null){this.isReverse_=l,this.resultGenerator_=p,this.nodeStack_=[];let y=1;for(;!t.isEmpty();)if(y=e?o(t.key,e):1,l&&(y*=-1),y<0)t=this.isReverse_?t.left:t.right;else{if(0===y){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let d,_r=(()=>{class r{constructor(e,o,l,p,y){this.key=e,this.value=o,this.color=l??r.RED,this.left=p??yr.EMPTY_NODE,this.right=y??yr.EMPTY_NODE}copy(e,o,l,p,y){return new r(e??this.key,o??this.value,l??this.color,p??this.left,y??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,o,l){let p=this;const y=l(e,p.key);return p=y<0?p.copy(null,null,null,p.left.insert(e,o,l),null):0===y?p.copy(null,o,null,null,null):p.copy(null,null,null,null,p.right.insert(e,o,l)),p.fixUp_()}removeMin_(){if(this.left.isEmpty())return yr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,o){let l,p;if(l=this,o(e,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(e,o),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),0===o(e,l.key)){if(l.right.isEmpty())return yr.EMPTY_NODE;p=l.right.min_(),l=l.copy(p.key,p.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(e,o))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,o)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return r.RED=!0,r.BLACK=!1,r})();class yr{constructor(t,e=yr.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new yr(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,_r.BLACK,null,null))}remove(t){return new yr(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,_r.BLACK,null,null))}get(t){let e,o=this.root_;for(;!o.isEmpty();){if(e=this.comparator_(t,o.key),0===e)return o.value;e<0?o=o.left:e>0&&(o=o.right)}return null}getPredecessorKey(t){let e,o=this.root_,l=null;for(;!o.isEmpty();){if(e=this.comparator_(t,o.key),0===e){if(o.left.isEmpty())return l?l.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}e<0?o=o.left:e>0&&(l=o,o=o.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new ti(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new ti(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new ti(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new ti(this.root_,null,this.comparator_,!0,t)}}function g(r,t){return Ws(r.name,t.name)}function c(r,t){return Ws(r,t)}yr.EMPTY_NODE=new class ih{copy(t,e,o,l,p){return this}insert(t,e,o){return new _r(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const w=function(r){return"number"==typeof r?"number:"+ku(r):"string:"+r},A=function(r){if(r.isLeafNode()){const t=r.val();(0,R.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,R.r3)(t,".sv"),"Priority must be a string or number.")}else(0,R.hu)(r===d||r.isEmpty(),"priority of unexpected type.");(0,R.hu)(r===d||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let V,Ce,Ne,Z=(()=>{class r{constructor(e,o=r.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=o,this.lazyHash_=null,(0,R.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),A(this.priorityNode_)}static set __childrenNodeConstructor(e){V=e}static get __childrenNodeConstructor(){return V}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new r(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:r.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return mt(e)?this:".priority"===Tt(e)?this.priorityNode_:r.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,o){return null}updateImmediateChild(e,o){return".priority"===e?this.updatePriority(o):o.isEmpty()&&".priority"!==e?this:r.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,o).updatePriority(this.priorityNode_)}updateChild(e,o){const l=Tt(e);return null===l?o:o.isEmpty()&&".priority"!==l?this:((0,R.hu)(".priority"!==l||1===Li(e),".priority must be the last token in a path"),this.updateImmediateChild(l,r.__childrenNodeConstructor.EMPTY_NODE.updateChild(zt(e),o)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,o){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+w(this.priorityNode_.val())+":");const o=typeof this.value_;e+=o+":",e+="number"===o?ku(this.value_):this.value_,this.lazyHash_=xu(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===r.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof r.__childrenNodeConstructor?-1:((0,R.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const o=typeof e.value_,l=typeof this.value_,p=r.VALUE_TYPE_ORDER.indexOf(o),y=r.VALUE_TYPE_ORDER.indexOf(l);return(0,R.hu)(p>=0,"Unknown leaf type: "+o),(0,R.hu)(y>=0,"Unknown leaf type: "+l),p===y?"object"===l?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:y-p}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return r.VALUE_TYPE_ORDER=["object","boolean","number","string"],r})();const Pt=new class cn extends Fl{compare(t,e){const o=t.node.getPriority(),l=e.node.getPriority(),p=o.compareTo(l);return 0===p?Ws(t.name,e.name):p}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return It.MIN}maxPost(){return new It(pi,new Z("[PRIORITY-POST]",Ne))}makePost(t,e){const o=Ce(t);return new It(e,new Z("[PRIORITY-POST]",o))}toString(){return".priority"}},Bo=Math.log(2);class sh{constructor(t){this.count=parseInt(Math.log(t+1)/Bo,10),this.current_=this.count-1;const l=(p=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ys=function(r,t,e,o){r.sort(t);const l=function(T,P){const W=P-T;let G,X;if(0===W)return null;if(1===W)return G=r[T],X=e?e(G):G,new _r(X,G.node,_r.BLACK,null,null);{const me=parseInt(W/2,10)+T,Me=l(T,me),ut=l(me+1,P);return G=r[me],X=e?e(G):G,new _r(X,G.node,_r.BLACK,Me,ut)}},D=function(T){let P=null,W=null,G=r.length;const X=function(Me,ut){const Ft=G-Me,Lt=G;G-=Me;const fn=l(Ft+1,Lt),$r=r[Ft],hn=e?e($r):$r;me(new _r(hn,$r.node,ut,null,fn))},me=function(Me){P?(P.left=Me,P=Me):(W=Me,P=Me)};for(let Me=0;Me<T.count;++Me){const ut=T.nextBitIsOne(),Ft=Math.pow(2,T.count-(Me+1));ut?X(Ft,_r.BLACK):(X(Ft,_r.BLACK),X(Ft,_r.RED))}return W}(new sh(r.length));return new yr(o||t,D)};let Ju;const Zt={};class gi{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,R.hu)(Zt&&Pt,"ChildrenNode.ts has not been loaded"),Ju=Ju||new gi({".priority":Zt},{".priority":Pt}),Ju}get(t){const e=(0,R.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof yr?e:null}hasIndex(t){return(0,R.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,R.hu)(t!==Rr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let l=!1;const p=e.getIterator(It.Wrap);let D,y=p.getNext();for(;y;)l=l||t.isDefinedOn(y.node),o.push(y),y=p.getNext();D=l?Ys(o,t.getCompare()):Zt;const T=t.toString(),P=Object.assign({},this.indexSet_);P[T]=t;const W=Object.assign({},this.indexes_);return W[T]=D,new gi(W,P)}addToIndexes(t,e){const o=(0,R.UI)(this.indexes_,(l,p)=>{const y=(0,R.DV)(this.indexSet_,p);if((0,R.hu)(y,"Missing index implementation for "+p),l===Zt){if(y.isDefinedOn(t.node)){const D=[],T=e.getIterator(It.Wrap);let P=T.getNext();for(;P;)P.name!==t.name&&D.push(P),P=T.getNext();return D.push(t),Ys(D,y.getCompare())}return Zt}{const D=e.get(t.name);let T=l;return D&&(T=T.remove(new It(t.name,D))),T.insert(t,t.node)}});return new gi(o,this.indexSet_)}removeFromIndexes(t,e){const o=(0,R.UI)(this.indexes_,l=>{if(l===Zt)return l;{const p=e.get(t.name);return p?l.remove(new It(t.name,p)):l}});return new gi(o,this.indexSet_)}}let Ua,_t=(()=>{class r{constructor(e,o,l){this.children_=e,this.priorityNode_=o,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&A(this.priorityNode_),this.children_.isEmpty()&&(0,R.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ua||(Ua=new r(new yr(c),null,gi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ua}updatePriority(e){return this.children_.isEmpty()?this:new r(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const o=this.children_.get(e);return null===o?Ua:o}}getChild(e){const o=Tt(e);return null===o?this:this.getImmediateChild(o).getChild(zt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,o){if((0,R.hu)(o,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(o);{const l=new It(e,o);let p,y;o.isEmpty()?(p=this.children_.remove(e),y=this.indexMap_.removeFromIndexes(l,this.children_)):(p=this.children_.insert(e,o),y=this.indexMap_.addToIndexes(l,this.children_));const D=p.isEmpty()?Ua:this.priorityNode_;return new r(p,D,y)}}updateChild(e,o){const l=Tt(e);if(null===l)return o;{(0,R.hu)(".priority"!==Tt(e)||1===Li(e),".priority must be the last token in a path");const p=this.getImmediateChild(l).updateChild(zt(e),o);return this.updateImmediateChild(l,p)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const o={};let l=0,p=0,y=!0;if(this.forEachChild(Pt,(D,T)=>{o[D]=T.val(e),l++,y&&r.INTEGER_REGEXP_.test(D)?p=Math.max(p,Number(D)):y=!1}),!e&&y&&p<2*l){const D=[];for(const T in o)D[T]=o[T];return D}return e&&!this.getPriority().isEmpty()&&(o[".priority"]=this.getPriority().val()),o}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+w(this.getPriority().val())+":"),this.forEachChild(Pt,(o,l)=>{const p=l.hash();""!==p&&(e+=":"+o+":"+p)}),this.lazyHash_=""===e?"":xu(e)}return this.lazyHash_}getPredecessorChildName(e,o,l){const p=this.resolveIndex_(l);if(p){const y=p.getPredecessorKey(new It(e,o));return y?y.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const o=this.resolveIndex_(e);if(o){const l=o.minKey();return l&&l.name}return this.children_.minKey()}getFirstChild(e){const o=this.getFirstChildName(e);return o?new It(o,this.children_.get(o)):null}getLastChildName(e){const o=this.resolveIndex_(e);if(o){const l=o.maxKey();return l&&l.name}return this.children_.maxKey()}getLastChild(e){const o=this.getLastChildName(e);return o?new It(o,this.children_.get(o)):null}forEachChild(e,o){const l=this.resolveIndex_(e);return l?l.inorderTraversal(p=>o(p.name,p.node)):this.children_.inorderTraversal(o)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,o){const l=this.resolveIndex_(o);if(l)return l.getIteratorFrom(e,p=>p);{const p=this.children_.getIteratorFrom(e.name,It.Wrap);let y=p.peek();for(;null!=y&&o.compare(y,e)<0;)p.getNext(),y=p.peek();return p}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,o){const l=this.resolveIndex_(o);if(l)return l.getReverseIteratorFrom(e,p=>p);{const p=this.children_.getReverseIteratorFrom(e.name,It.Wrap);let y=p.peek();for(;null!=y&&o.compare(y,e)>0;)p.getNext(),y=p.peek();return p}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ha?-1:0}withIndex(e){if(e===Rr||this.indexMap_.hasIndex(e))return this;{const o=this.indexMap_.addIndex(e,this.children_);return new r(this.children_,this.priorityNode_,o)}}isIndexed(e){return e===Rr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const o=e;if(this.getPriority().equals(o.getPriority())){if(this.children_.count()===o.children_.count()){const l=this.getIterator(Pt),p=o.getIterator(Pt);let y=l.getNext(),D=p.getNext();for(;y&&D;){if(y.name!==D.name||!y.node.equals(D.node))return!1;y=l.getNext(),D=p.getNext()}return null===y&&null===D}return!1}return!1}}resolveIndex_(e){return e===Rr?null:this.indexMap_.get(e.toString())}}return r.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,r})();const Ha=new class Xu extends _t{constructor(){super(new yr(c),_t.EMPTY_NODE,gi.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return _t.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(It,{MIN:{value:new It(as,_t.EMPTY_NODE)},MAX:{value:new It(pi,Ha)}}),rh.__EMPTY_NODE=_t.EMPTY_NODE,Z.__childrenNodeConstructor=_t,function _(r){d=r}(Ha),function Ke(r){Ne=r}(Ha);const qp=!0;function Jt(r,t=null){if(null===r)return _t.EMPTY_NODE;if("object"==typeof r&&".priority"in r&&(t=r[".priority"]),(0,R.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof r&&".value"in r&&null!==r[".value"]&&(r=r[".value"]),"object"!=typeof r||".sv"in r)return new Z(r,Jt(t));if(r instanceof Array||!qp){let e=_t.EMPTY_NODE;return On(r,(o,l)=>{if((0,R.r3)(r,o)&&"."!==o.substring(0,1)){const p=Jt(l);(p.isLeafNode()||!p.isEmpty())&&(e=e.updateImmediateChild(o,p))}}),e.updatePriority(Jt(t))}{const e=[];let o=!1;if(On(r,(y,D)=>{if("."!==y.substring(0,1)){const T=Jt(D);T.isEmpty()||(o=o||!T.getPriority().isEmpty(),e.push(new It(y,T)))}}),0===e.length)return _t.EMPTY_NODE;const p=Ys(e,g,y=>y.name,c);if(o){const y=Ys(e,Pt.getCompare());return new _t(p,Jt(t),new gi({".priority":y},{".priority":Pt}))}return new _t(p,Jt(t),gi.Default)}}!function Qe(r){Ce=r}(Jt);class Cd extends Fl{constructor(t){super(),this.indexPath_=t,(0,R.hu)(!mt(t)&&".priority"!==Tt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const o=this.extractChild(t.node),l=this.extractChild(e.node),p=o.compareTo(l);return 0===p?Ws(t.name,e.name):p}makePost(t,e){const o=Jt(t),l=_t.EMPTY_NODE.updateChild(this.indexPath_,o);return new It(e,l)}maxPost(){const t=_t.EMPTY_NODE.updateChild(this.indexPath_,Ha);return new It(pi,t)}toString(){return Vo(this.indexPath_,0).join("/")}}const e_=new class hE extends Fl{compare(t,e){const o=t.node.compareTo(e.node);return 0===o?Ws(t.name,e.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return It.MIN}maxPost(){return It.MAX}makePost(t,e){const o=Jt(t);return new It(e,o)}toString(){return".value"}};function pE(r){return{type:"value",snapshotNode:r}}function Qs(r,t){return{type:"child_added",snapshotNode:t,childName:r}}function ec(r,t){return{type:"child_removed",snapshotNode:t,childName:r}}function tc(r,t,e){return{type:"child_changed",snapshotNode:t,childName:r,oldSnap:e}}class oh{constructor(t){this.index_=t}updateChild(t,e,o,l,p,y){(0,R.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const D=t.getImmediateChild(e);return D.getChild(l).equals(o.getChild(l))&&D.isEmpty()===o.isEmpty()||(null!=y&&(o.isEmpty()?t.hasChild(e)?y.trackChildChange(ec(e,D)):(0,R.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):D.isEmpty()?y.trackChildChange(Qs(e,o)):y.trackChildChange(tc(e,o,D))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(e,o).withIndex(this.index_)}updateFullNode(t,e,o){return null!=o&&(t.isLeafNode()||t.forEachChild(Pt,(l,p)=>{e.hasChild(l)||o.trackChildChange(ec(l,p))}),e.isLeafNode()||e.forEachChild(Pt,(l,p)=>{if(t.hasChild(l)){const y=t.getImmediateChild(l);y.equals(p)||o.trackChildChange(tc(l,p,y))}else o.trackChildChange(Qs(l,p))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?_t.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Id{constructor(t){this.indexedFilter_=new oh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Id.getStartPost_(t),this.endPost_=Id.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&o}updateChild(t,e,o,l,p,y){return this.matches(new It(e,o))||(o=_t.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,o,l,p,y)}updateFullNode(t,e,o){e.isLeafNode()&&(e=_t.EMPTY_NODE);let l=e.withIndex(this.index_);l=l.updatePriority(_t.EMPTY_NODE);const p=this;return e.forEachChild(Pt,(y,D)=>{p.matches(new It(y,D))||(l=l.updateImmediateChild(y,_t.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,o)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class gE{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=e=>{const o=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new Id(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,o,l,p,y){return this.rangedFilter_.matches(new It(e,o))||(o=_t.EMPTY_NODE),t.getImmediateChild(e).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,o,l,p,y):this.fullLimitUpdateChild_(t,e,o,p,y)}updateFullNode(t,e,o){let l;if(e.isLeafNode()||e.isEmpty())l=_t.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let p;l=_t.EMPTY_NODE.withIndex(this.index_),p=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let y=0;for(;p.hasNext()&&y<this.limit_;){const D=p.getNext();if(this.withinDirectionalStart(D)){if(!this.withinDirectionalEnd(D))break;l=l.updateImmediateChild(D.name,D.node),y++}}}else{let p;l=e.withIndex(this.index_),l=l.updatePriority(_t.EMPTY_NODE),p=this.reverse_?l.getReverseIterator(this.index_):l.getIterator(this.index_);let y=0;for(;p.hasNext();){const D=p.getNext();y<this.limit_&&this.withinDirectionalStart(D)&&this.withinDirectionalEnd(D)?y++:l=l.updateImmediateChild(D.name,_t.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,o)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,o,l,p){let y;if(this.reverse_){const G=this.index_.getCompare();y=(X,me)=>G(me,X)}else y=this.index_.getCompare();const D=t;(0,R.hu)(D.numChildren()===this.limit_,"");const T=new It(e,o),P=this.reverse_?D.getFirstChild(this.index_):D.getLastChild(this.index_),W=this.rangedFilter_.matches(T);if(D.hasChild(e)){const G=D.getImmediateChild(e);let X=l.getChildAfterChild(this.index_,P,this.reverse_);for(;null!=X&&(X.name===e||D.hasChild(X.name));)X=l.getChildAfterChild(this.index_,X,this.reverse_);const me=null==X?1:y(X,T);if(W&&!o.isEmpty()&&me>=0)return p?.trackChildChange(tc(e,o,G)),D.updateImmediateChild(e,o);{p?.trackChildChange(ec(e,G));const ut=D.updateImmediateChild(e,_t.EMPTY_NODE);return null!=X&&this.rangedFilter_.matches(X)?(p?.trackChildChange(Qs(X.name,X.node)),ut.updateImmediateChild(X.name,X.node)):ut}}return o.isEmpty()?t:W&&y(P,T)>=0?(null!=p&&(p.trackChildChange(ec(P.name,P.node)),p.trackChildChange(Qs(e,o))),D.updateImmediateChild(e,o).updateImmediateChild(P.name,_t.EMPTY_NODE)):t}}class Dd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pt}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,R.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,R.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:as}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,R.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,R.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:pi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,R.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Pt}copy(){const t=new Dd;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function wd(r,t,e){const o=r.copy();return o.startSet_=!0,void 0===t&&(t=null),o.indexStartValue_=t,null!=e?(o.startNameSet_=!0,o.indexStartName_=e):(o.startNameSet_=!1,o.indexStartName_=""),o}function bd(r,t,e){const o=r.copy();return o.endSet_=!0,void 0===t&&(t=null),o.indexEndValue_=t,void 0!==e?(o.endNameSet_=!0,o.indexEndName_=e):(o.endNameSet_=!1,o.indexEndName_=""),o}function Td(r,t){const e=r.copy();return e.index_=t,e}function ja(r){const t={};if(r.isDefault())return t;let e;if(r.index_===Pt?e="$priority":r.index_===e_?e="$value":r.index_===Rr?e="$key":((0,R.hu)(r.index_ instanceof Cd,"Unrecognized index type!"),e=r.index_.toString()),t.orderBy=(0,R.Wl)(e),r.startSet_){const o=r.startAfterSet_?"startAfter":"startAt";t[o]=(0,R.Wl)(r.indexStartValue_),r.startNameSet_&&(t[o]+=","+(0,R.Wl)(r.indexStartName_))}if(r.endSet_){const o=r.endBeforeSet_?"endBefore":"endAt";t[o]=(0,R.Wl)(r.indexEndValue_),r.endNameSet_&&(t[o]+=","+(0,R.Wl)(r.indexEndName_))}return r.limitSet_&&(r.isViewFromLeft()?t.limitToFirst=r.limit_:t.limitToLast=r.limit_),t}function i_(r){const t={};if(r.startSet_&&(t.sp=r.indexStartValue_,r.startNameSet_&&(t.sn=r.indexStartName_),t.sin=!r.startAfterSet_),r.endSet_&&(t.ep=r.indexEndValue_,r.endNameSet_&&(t.en=r.indexEndName_),t.ein=!r.endBeforeSet_),r.limitSet_){t.l=r.limit_;let e=r.viewFrom_;""===e&&(e=r.isViewFromLeft()?"l":"r"),t.vf=e}return r.index_!==Pt&&(t.i=r.index_.toString()),t}class nc extends La{constructor(t,e,o,l){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.log_=Tl("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,R.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,o,l){const p=t._path.toString();this.log_("Listen called for "+p+" "+t._queryIdentifier);const y=nc.getListenId_(t,o),D={};this.listens_[y]=D;const T=ja(t._queryParams);this.restRequest_(p+".json",T,(P,W)=>{let G=W;if(404===P&&(G=null,P=null),null===P&&this.onDataUpdate_(p,G,!1,o),(0,R.DV)(this.listens_,y)===D){let X;X=P?401===P?"permission_denied":"rest_error:"+P:"ok",l(X,null)}})}unlisten(t,e){const o=nc.getListenId_(t,e);delete this.listens_[o]}get(t){const e=ja(t._queryParams),o=t._path.toString(),l=new R.BH;return this.restRequest_(o+".json",e,(p,y)=>{let D=y;404===p&&(D=null,p=null),null===p?(this.onDataUpdate_(o,D,!1,null),l.resolve(D)):l.reject(new Error(D))}),l.promise}refreshAuthToken(t){}restRequest_(t,e={},o){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,p])=>{l&&l.accessToken&&(e.auth=l.accessToken),p&&p.token&&(e.ac=p.token);const y=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,R.xO)(e);this.log_("Sending REST request for "+y);const D=new XMLHttpRequest;D.onreadystatechange=()=>{if(o&&4===D.readyState){this.log_("REST Response for "+y+" received. status:",D.status,"response:",D.responseText);let T=null;if(D.status>=200&&D.status<300){try{T=(0,R.cI)(D.responseText)}catch{pr("Failed to parse JSON response for "+y+": "+D.responseText)}o(null,T)}else 401!==D.status&&404!==D.status&&pr("Got unsuccessful REST response for "+y+" Status: "+D.status),o(D.status);o=null}},D.open("GET",y,!0),D.send()})}}class ah{constructor(){this.rootNode_=_t.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function lh(){return{value:null,children:new Map}}function $a(r,t,e){if(mt(t))r.value=e,r.children.clear();else if(null!==r.value)r.value=r.value.updateChild(t,e);else{const o=Tt(t);r.children.has(o)||r.children.set(o,lh()),$a(r.children.get(o),t=zt(t),e)}}function rc(r,t){if(mt(t))return r.value=null,r.children.clear(),!0;if(null!==r.value){if(r.value.isLeafNode())return!1;{const e=r.value;return r.value=null,e.forEachChild(Pt,(o,l)=>{$a(r,new Ut(o),l)}),rc(r,t)}}if(r.children.size>0){const e=Tt(t);return t=zt(t),r.children.has(e)&&rc(r.children.get(e),t)&&r.children.delete(e),0===r.children.size}return!0}function Uo(r,t,e){null!==r.value?e(t,r.value):function s_(r,t){r.children.forEach((e,o)=>{t(o,e)})}(r,(o,l)=>{Uo(l,new Ut(t.toString()+"/"+o),e)})}class Qp{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&On(this.last_,(o,l)=>{e[o]=e[o]-l}),this.last_=t,e}}class ic{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Qp(t);const o=1e4+2e4*Math.random();Zs(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),e={};let o=!1;On(t,(l,p)=>{p>0&&(0,R.r3)(this.statsToReport_,l)&&(e[l]=p,o=!0)}),o&&this.server_.reportStats(e),Zs(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Bi=(()=>{return(r=Bi||(Bi={}))[r.OVERWRITE=0]="OVERWRITE",r[r.MERGE=1]="MERGE",r[r.ACK_USER_WRITE=2]="ACK_USER_WRITE",r[r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Bi;var r})();function Sd(r){return{fromUser:!1,fromServer:!0,queryId:r,tagged:!0}}class uh{constructor(t,e,o){this.path=t,this.affectedTree=e,this.revert=o,this.type=Bi.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(mt(this.path)){if(null!=this.affectedTree.value)return(0,R.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Ut(t));return new uh(Rt(),e,this.revert)}}return(0,R.hu)(Tt(this.path)===t,"operationForChild called for unrelated child."),new uh(zt(this.path),this.affectedTree,this.revert)}}class sc{constructor(t,e){this.source=t,this.path=e,this.type=Bi.LISTEN_COMPLETE}operationForChild(t){return mt(this.path)?new sc(this.source,Rt()):new sc(this.source,zt(this.path))}}class Vl{constructor(t,e,o){this.source=t,this.path=e,this.snap=o,this.type=Bi.OVERWRITE}operationForChild(t){return mt(this.path)?new Vl(this.source,Rt(),this.snap.getImmediateChild(t)):new Vl(this.source,zt(this.path),this.snap)}}class Bl{constructor(t,e,o){this.source=t,this.path=e,this.children=o,this.type=Bi.MERGE}operationForChild(t){if(mt(this.path)){const e=this.children.subtree(new Ut(t));return e.isEmpty()?null:e.value?new Vl(this.source,Rt(),e.value):new Bl(this.source,Rt(),e)}return(0,R.hu)(Tt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Bl(this.source,zt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ul{constructor(t,e,o){this.node_=t,this.fullyInitialized_=e,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(mt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Tt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class yE{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Ad(r,t,e,o,l,p){const y=o.filter(D=>D.type===e);y.sort((D,T)=>function Md(r,t,e){if(null==t.childName||null==e.childName)throw(0,R.g5)("Should only compare child_ events.");const o=new It(t.childName,t.snapshotNode),l=new It(e.childName,e.snapshotNode);return r.index_.compare(o,l)}(r,D,T)),y.forEach(D=>{const T=function oc(r,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,r.index_)),t}(r,D,p);l.forEach(P=>{P.respondsTo(D.type)&&t.push(P.createEvent(T,r.query_))})})}function dh(r,t){return{eventCache:r,serverCache:t}}function ac(r,t,e,o){return dh(new Ul(t,e,o),r.serverCache)}function l_(r,t,e,o){return dh(r.eventCache,new Ul(t,e,o))}function fh(r){return r.eventCache.isFullyInitialized()?r.eventCache.getNode():null}function Hl(r){return r.serverCache.isFullyInitialized()?r.serverCache.getNode():null}let hh;class Kt{constructor(t,e=(()=>(hh||(hh=new yr(Ur)),hh))()){this.value=t,this.children=e}static fromObject(t){let e=new Kt(null);return On(t,(o,l)=>{e=e.set(new Ut(o),l)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Rt(),value:this.value};if(mt(t))return null;{const o=Tt(t),l=this.children.get(o);if(null!==l){const p=l.findRootMostMatchingPathAndValue(zt(t),e);return null!=p?{path:At(new Ut(o),p.path),value:p.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(mt(t))return this;{const e=Tt(t),o=this.children.get(e);return null!==o?o.subtree(zt(t)):new Kt(null)}}set(t,e){if(mt(t))return new Kt(e,this.children);{const o=Tt(t),p=(this.children.get(o)||new Kt(null)).set(zt(t),e),y=this.children.insert(o,p);return new Kt(this.value,y)}}remove(t){if(mt(t))return this.children.isEmpty()?new Kt(null):new Kt(null,this.children);{const e=Tt(t),o=this.children.get(e);if(o){const l=o.remove(zt(t));let p;return p=l.isEmpty()?this.children.remove(e):this.children.insert(e,l),null===this.value&&p.isEmpty()?new Kt(null):new Kt(this.value,p)}return this}}get(t){if(mt(t))return this.value;{const e=Tt(t),o=this.children.get(e);return o?o.get(zt(t)):null}}setTree(t,e){if(mt(t))return e;{const o=Tt(t),p=(this.children.get(o)||new Kt(null)).setTree(zt(t),e);let y;return y=p.isEmpty()?this.children.remove(o):this.children.insert(o,p),new Kt(this.value,y)}}fold(t){return this.fold_(Rt(),t)}fold_(t,e){const o={};return this.children.inorderTraversal((l,p)=>{o[l]=p.fold_(At(t,l),e)}),e(t,this.value,o)}findOnPath(t,e){return this.findOnPath_(t,Rt(),e)}findOnPath_(t,e,o){const l=!!this.value&&o(e,this.value);if(l)return l;if(mt(t))return null;{const p=Tt(t),y=this.children.get(p);return y?y.findOnPath_(zt(t),At(e,p),o):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Rt(),e)}foreachOnPath_(t,e,o){if(mt(t))return this;{this.value&&o(e,this.value);const l=Tt(t),p=this.children.get(l);return p?p.foreachOnPath_(zt(t),At(e,l),o):new Kt(null)}}foreach(t){this.foreach_(Rt(),t)}foreach_(t,e){this.children.inorderTraversal((o,l)=>{l.foreach_(At(t,o),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,o)=>{o.value&&t(e,o.value)})}}class mi{constructor(t){this.writeTree_=t}static empty(){return new mi(new Kt(null))}}function Rd(r,t,e){if(mt(t))return new mi(new Kt(e));{const o=r.writeTree_.findRootMostValueAndPath(t);if(null!=o){const l=o.path;let p=o.value;const y=Kn(l,t);return p=p.updateChild(y,e),new mi(r.writeTree_.set(l,p))}{const l=new Kt(e),p=r.writeTree_.setTree(t,l);return new mi(p)}}}function Pd(r,t,e){let o=r;return On(e,(l,p)=>{o=Rd(o,At(t,l),p)}),o}function lc(r,t){if(mt(t))return mi.empty();{const e=r.writeTree_.setTree(t,new Kt(null));return new mi(e)}}function eg(r,t){return null!=jl(r,t)}function jl(r,t){const e=r.writeTree_.findRootMostValueAndPath(t);return null!=e?r.writeTree_.get(e.path).getChild(Kn(e.path,t)):null}function c_(r){const t=[],e=r.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Pt,(o,l)=>{t.push(new It(o,l))}):r.writeTree_.children.inorderTraversal((o,l)=>{null!=l.value&&t.push(new It(o,l.value))}),t}function Ga(r,t){if(mt(t))return r;{const e=jl(r,t);return new mi(null!=e?new Kt(e):r.writeTree_.subtree(t))}}function tg(r){return r.writeTree_.isEmpty()}function uc(r,t){return d_(Rt(),r.writeTree_,t)}function d_(r,t,e){if(null!=t.value)return e.updateChild(r,t.value);{let o=null;return t.children.inorderTraversal((l,p)=>{".priority"===l?((0,R.hu)(null!==p.value,"Priority writes must always be leaf nodes"),o=p.value):e=d_(At(r,l),p,e)}),!e.getChild(r).isEmpty()&&null!==o&&(e=e.updateChild(At(r,".priority"),o)),e}}function Ho(r,t){return m_(t,r)}function S0(r,t){if(r.snap)return mr(r.path,t);for(const e in r.children)if(r.children.hasOwnProperty(e)&&mr(At(r.path,e),t))return!0;return!1}function A0(r){return r.visible}function ng(r,t,e){let o=mi.empty();for(let l=0;l<r.length;++l){const p=r[l];if(t(p)){const y=p.path;let D;if(p.snap)mr(e,y)?(D=Kn(e,y),o=Rd(o,D,p.snap)):mr(y,e)&&(D=Kn(y,e),o=Rd(o,Rt(),p.snap.getChild(D)));else{if(!p.children)throw(0,R.g5)("WriteRecord should have .snap or .children");if(mr(e,y))D=Kn(e,y),o=Pd(o,D,p.children);else if(mr(y,e))if(D=Kn(y,e),mt(D))o=Pd(o,Rt(),p.children);else{const T=(0,R.DV)(p.children,Tt(D));if(T){const P=T.getChild(zt(D));o=Rd(o,Rt(),P)}}}}}return o}function rg(r,t,e,o,l){if(o||l){const p=Ga(r.visibleWrites,t);return!l&&tg(p)?e:l||null!=e||eg(p,Rt())?uc(ng(r.allWrites,function(P){return(P.visible||l)&&(!o||!~o.indexOf(P.writeId))&&(mr(P.path,t)||mr(t,P.path))},t),e||_t.EMPTY_NODE):null}{const p=jl(r.visibleWrites,t);if(null!=p)return p;{const y=Ga(r.visibleWrites,t);return tg(y)?e:null!=e||eg(y,Rt())?uc(y,e||_t.EMPTY_NODE):null}}}function Nd(r,t,e,o){return rg(r.writeTree,r.treePath,t,e,o)}function ig(r,t){return function CE(r,t,e){let o=_t.EMPTY_NODE;const l=jl(r.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(Pt,(p,y)=>{o=o.updateImmediateChild(p,y)}),o;if(e){const p=Ga(r.visibleWrites,t);return e.forEachChild(Pt,(y,D)=>{const T=uc(Ga(p,new Ut(y)),D);o=o.updateImmediateChild(y,T)}),c_(p).forEach(y=>{o=o.updateImmediateChild(y.name,y.node)}),o}return c_(Ga(r.visibleWrites,t)).forEach(y=>{o=o.updateImmediateChild(y.name,y.node)}),o}(r.writeTree,r.treePath,t)}function p_(r,t,e,o){return function h_(r,t,e,o,l){(0,R.hu)(o||l,"Either existingEventSnap or existingServerSnap must exist");const p=At(t,e);if(eg(r.visibleWrites,p))return null;{const y=Ga(r.visibleWrites,p);return tg(y)?l.getChild(e):uc(y,l.getChild(e))}}(r.writeTree,r.treePath,t,e,o)}function ph(r,t){return function DE(r,t){return jl(r.visibleWrites,t)}(r.writeTree,At(r.treePath,t))}function gh(r,t,e){return function IE(r,t,e,o){const l=At(t,e),p=jl(r.visibleWrites,l);return null!=p?p:o.isCompleteForChild(e)?uc(Ga(r.visibleWrites,l),o.getNode().getImmediateChild(e)):null}(r.writeTree,r.treePath,t,e)}function g_(r,t){return m_(At(r.treePath,t),r.writeTree)}function m_(r,t){return{treePath:r,writeTree:t}}class TE{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,o=t.childName;(0,R.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,R.hu)(".priority"!==o,"Only non-priority child changes can be tracked.");const l=this.changeMap.get(o);if(l){const p=l.type;if("child_added"===e&&"child_removed"===p)this.changeMap.set(o,tc(o,t.snapshotNode,l.snapshotNode));else if("child_removed"===e&&"child_added"===p)this.changeMap.delete(o);else if("child_removed"===e&&"child_changed"===p)this.changeMap.set(o,ec(o,l.oldSnap));else if("child_changed"===e&&"child_added"===p)this.changeMap.set(o,Qs(o,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==p)throw(0,R.g5)("Illegal combination of changes: "+t+" occurred after "+l);this.changeMap.set(o,tc(o,t.snapshotNode,l.oldSnap))}}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}const sg=new class Dt{getCompleteChild(t){return null}getChildAfterChild(t,e,o){return null}};class mh{constructor(t,e,o=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=o}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const o=null!=this.optCompleteServerCache_?new Ul(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return gh(this.writes_,t,o)}}getChildAfterChild(t,e,o){const l=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Hl(this.viewCache_),p=function bE(r,t,e,o,l,p){return function cs(r,t,e,o,l,p,y){let D;const T=Ga(r.visibleWrites,t),P=jl(T,Rt());if(null!=P)D=P;else{if(null==e)return[];D=uc(T,e)}if(D=D.withIndex(y),D.isEmpty()||D.isLeafNode())return[];{const W=[],G=y.getCompare(),X=p?D.getReverseIteratorFrom(o,y):D.getIteratorFrom(o,y);let me=X.getNext();for(;me&&W.length<l;)0!==G(me,o)&&W.push(me),me=X.getNext();return W}}(r.writeTree,r.treePath,t,e,o,l,p)}(this.writes_,l,e,1,o,t);return 0===p.length?null:p[0]}}function v_(r,t,e,o,l,p){const y=t.eventCache;if(null!=ph(o,e))return t;{let D,T;if(mt(e))if((0,R.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const P=Hl(t),G=ig(o,P instanceof _t?P:_t.EMPTY_NODE);D=r.filter.updateFullNode(t.eventCache.getNode(),G,p)}else{const P=Nd(o,Hl(t));D=r.filter.updateFullNode(t.eventCache.getNode(),P,p)}else{const P=Tt(e);if(".priority"===P){(0,R.hu)(1===Li(e),"Can't have a priority with additional path components");const W=y.getNode();T=t.serverCache.getNode();const G=p_(o,e,W,T);D=null!=G?r.filter.updatePriority(W,G):y.getNode()}else{const W=zt(e);let G;if(y.isCompleteForChild(P)){T=t.serverCache.getNode();const X=p_(o,e,y.getNode(),T);G=null!=X?y.getNode().getImmediateChild(P).updateChild(W,X):y.getNode().getImmediateChild(P)}else G=gh(o,P,t.serverCache);D=null!=G?r.filter.updateChild(y.getNode(),P,G,W,l,p):y.getNode()}}return ac(t,D,y.isFullyInitialized()||mt(e),r.filter.filtersNodes())}}function xd(r,t,e,o,l,p,y,D){const T=t.serverCache;let P;const W=y?r.filter:r.filter.getIndexedFilter();if(mt(e))P=W.updateFullNode(T.getNode(),o,null);else if(W.filtersNodes()&&!T.isFiltered()){const me=T.getNode().updateChild(e,o);P=W.updateFullNode(T.getNode(),me,null)}else{const me=Tt(e);if(!T.isCompleteForPath(e)&&Li(e)>1)return t;const Me=zt(e),Ft=T.getNode().getImmediateChild(me).updateChild(Me,o);P=".priority"===me?W.updatePriority(T.getNode(),Ft):W.updateChild(T.getNode(),me,Ft,Me,sg,null)}const G=l_(t,P,T.isFullyInitialized()||mt(e),W.filtersNodes());return v_(r,G,e,l,new mh(l,G,p),D)}function og(r,t,e,o,l,p,y){const D=t.eventCache;let T,P;const W=new mh(l,t,p);if(mt(e))P=r.filter.updateFullNode(t.eventCache.getNode(),o,y),T=ac(t,P,!0,r.filter.filtersNodes());else{const G=Tt(e);if(".priority"===G)P=r.filter.updatePriority(t.eventCache.getNode(),o),T=ac(t,P,D.isFullyInitialized(),D.isFiltered());else{const X=zt(e),me=D.getNode().getImmediateChild(G);let Me;if(mt(X))Me=o;else{const ut=W.getCompleteChild(G);Me=null!=ut?".priority"===Qu(X)&&ut.getChild(Ed(X)).isEmpty()?ut:ut.updateChild(X,o):_t.EMPTY_NODE}T=me.equals(Me)?t:ac(t,r.filter.updateChild(D.getNode(),G,Me,X,W,y),D.isFullyInitialized(),r.filter.filtersNodes())}}return T}function E_(r,t){return r.eventCache.isCompleteForChild(t)}function ag(r,t,e){return e.foreach((o,l)=>{t=t.updateChild(o,l)}),t}function _h(r,t,e,o,l,p,y,D){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let P,T=t;P=mt(e)?o:new Kt(null).setTree(e,o);const W=t.serverCache.getNode();return P.children.inorderTraversal((G,X)=>{if(W.hasChild(G)){const Me=ag(0,t.serverCache.getNode().getImmediateChild(G),X);T=xd(r,T,new Ut(G),Me,l,p,y,D)}}),P.children.inorderTraversal((G,X)=>{const me=!t.serverCache.isCompleteForChild(G)&&null===X.value;if(!W.hasChild(G)&&!me){const ut=ag(0,t.serverCache.getNode().getImmediateChild(G),X);T=xd(r,T,new Ut(G),ut,l,p,y,D)}}),T}class ug{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,l=new oh(o.getIndex()),p=function n_(r){return r.loadsAllData()?new oh(r.getIndex()):r.hasLimit()?new gE(r):new Id(r)}(o);this.processor_=function __(r){return{filter:r}}(p);const y=e.serverCache,D=e.eventCache,T=l.updateFullNode(_t.EMPTY_NODE,y.getNode(),null),P=p.updateFullNode(_t.EMPTY_NODE,D.getNode(),null),W=new Ul(T,y.isFullyInitialized(),l.filtersNodes()),G=new Ul(P,D.isFullyInitialized(),p.filtersNodes());this.viewCache_=dh(G,W),this.eventGenerator_=new yE(this.query_)}get query(){return this.query_}}function P0(r,t){const e=Hl(r.viewCache_);return e&&(r.query._queryParams.loadsAllData()||!mt(t)&&!e.getImmediateChild(Tt(t)).isEmpty())?e.getChild(t):null}function PE(r){return 0===r.eventRegistrations_.length}function cg(r,t,e){const o=[];if(e){(0,R.hu)(null==t,"A cancel should cancel all event registrations.");const l=r.query._path;r.eventRegistrations_.forEach(p=>{const y=p.createCancelEvent(e,l);y&&o.push(y)})}if(t){let l=[];for(let p=0;p<r.eventRegistrations_.length;++p){const y=r.eventRegistrations_[p];if(y.matches(t)){if(t.hasAnyCallback()){l=l.concat(r.eventRegistrations_.slice(p+1));break}}else l.push(y)}r.eventRegistrations_=l}else r.eventRegistrations_=[];return o}function xE(r,t,e,o){t.type===Bi.MERGE&&null!==t.source.queryId&&((0,R.hu)(Hl(r.viewCache_),"We should always have a full cache before handling merges"),(0,R.hu)(fh(r.viewCache_),"Missing event cache, even though we have a server cache"));const l=r.viewCache_,p=function AE(r,t,e,o,l){const p=new TE;let y,D;if(e.type===Bi.OVERWRITE){const P=e;P.source.fromUser?y=og(r,t,P.path,P.snap,o,l,p):((0,R.hu)(P.source.fromServer,"Unknown source."),D=P.source.tagged||t.serverCache.isFiltered()&&!mt(P.path),y=xd(r,t,P.path,P.snap,o,l,D,p))}else if(e.type===Bi.MERGE){const P=e;P.source.fromUser?y=function M0(r,t,e,o,l,p,y){let D=t;return o.foreach((T,P)=>{const W=At(e,T);E_(t,Tt(W))&&(D=og(r,D,W,P,l,p,y))}),o.foreach((T,P)=>{const W=At(e,T);E_(t,Tt(W))||(D=og(r,D,W,P,l,p,y))}),D}(r,t,P.path,P.children,o,l,p):((0,R.hu)(P.source.fromServer,"Unknown source."),D=P.source.tagged||t.serverCache.isFiltered(),y=_h(r,t,P.path,P.children,o,l,D,p))}else if(e.type===Bi.ACK_USER_WRITE){const P=e;y=P.revert?function lg(r,t,e,o,l,p){let y;if(null!=ph(o,e))return t;{const D=new mh(o,t,l),T=t.eventCache.getNode();let P;if(mt(e)||".priority"===Tt(e)){let W;if(t.serverCache.isFullyInitialized())W=Nd(o,Hl(t));else{const G=t.serverCache.getNode();(0,R.hu)(G instanceof _t,"serverChildren would be complete if leaf node"),W=ig(o,G)}P=r.filter.updateFullNode(T,W,p)}else{const W=Tt(e);let G=gh(o,W,t.serverCache);null==G&&t.serverCache.isCompleteForChild(W)&&(G=T.getImmediateChild(W)),P=null!=G?r.filter.updateChild(T,W,G,zt(e),D,p):t.eventCache.getNode().hasChild(W)?r.filter.updateChild(T,W,_t.EMPTY_NODE,zt(e),D,p):T,P.isEmpty()&&t.serverCache.isFullyInitialized()&&(y=Nd(o,Hl(t)),y.isLeafNode()&&(P=r.filter.updateFullNode(P,y,p)))}return y=t.serverCache.isFullyInitialized()||null!=ph(o,Rt()),ac(t,P,y,r.filter.filtersNodes())}}(r,t,P.path,o,l,p):function $l(r,t,e,o,l,p,y){if(null!=ph(l,e))return t;const D=t.serverCache.isFiltered(),T=t.serverCache;if(null!=o.value){if(mt(e)&&T.isFullyInitialized()||T.isCompleteForPath(e))return xd(r,t,e,T.getNode().getChild(e),l,p,D,y);if(mt(e)){let P=new Kt(null);return T.getNode().forEachChild(Rr,(W,G)=>{P=P.set(new Ut(W),G)}),_h(r,t,e,P,l,p,D,y)}return t}{let P=new Kt(null);return o.foreach((W,G)=>{const X=At(e,W);T.isCompleteForPath(X)&&(P=P.set(W,T.getNode().getChild(X)))}),_h(r,t,e,P,l,p,D,y)}}(r,t,P.path,P.affectedTree,o,l,p)}else{if(e.type!==Bi.LISTEN_COMPLETE)throw(0,R.g5)("Unknown operation type: "+e.type);y=function ME(r,t,e,o,l){const p=t.serverCache;return v_(r,l_(t,p.getNode(),p.isFullyInitialized()||mt(e),p.isFiltered()),e,o,sg,l)}(r,t,e.path,o,p)}const T=p.getChanges();return function y_(r,t,e){const o=t.eventCache;if(o.isFullyInitialized()){const l=o.getNode().isLeafNode()||o.getNode().isEmpty(),p=fh(r);(e.length>0||!r.eventCache.isFullyInitialized()||l&&!o.getNode().equals(p)||!o.getNode().getPriority().equals(p.getPriority()))&&e.push(pE(fh(t)))}}(t,y,T),{viewCache:y,changes:T}}(r.processor_,l,t,e,o);return function SE(r,t){(0,R.hu)(t.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),(0,R.hu)(t.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed")}(r.processor_,p.viewCache),(0,R.hu)(p.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),r.viewCache_=p.viewCache,Gl(r,p.changes,p.viewCache.eventCache.getNode(),null)}function Gl(r,t,e,o){return function ch(r,t,e,o){const l=[],p=[];return t.forEach(y=>{"child_changed"===y.type&&r.index_.indexedValueChanged(y.oldSnap,y.snapshotNode)&&p.push(function t_(r,t){return{type:"child_moved",snapshotNode:t,childName:r}}(y.childName,y.snapshotNode))}),Ad(r,l,"child_removed",t,o,e),Ad(r,l,"child_added",t,o,e),Ad(r,l,"child_moved",p,o,e),Ad(r,l,"child_changed",t,o,e),Ad(r,l,"value",t,o,e),l}(r.eventGenerator_,t,e,o?[o]:r.eventRegistrations_)}let yh,pg;class dg{constructor(){this.views=new Map}}function fg(r,t,e,o){const l=t.source.queryId;if(null!==l){const p=r.views.get(l);return(0,R.hu)(null!=p,"SyncTree gave us an op for an invalid query."),xE(p,t,e,o)}{let p=[];for(const y of r.views.values())p=p.concat(xE(y,t,e,o));return p}}function I_(r,t,e,o,l){const y=r.views.get(t._queryIdentifier);if(!y){let D=Nd(e,l?o:null),T=!1;D?T=!0:o instanceof _t?(D=ig(e,o),T=!1):(D=_t.EMPTY_NODE,T=!1);const P=dh(new Ul(D,T,!1),new Ul(o,l,!1));return new ug(t,P)}return y}function D_(r){const t=[];for(const e of r.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function $o(r,t){let e=null;for(const o of r.views.values())e=e||P0(o,t);return e}function w_(r,t){return t._queryParams.loadsAllData()?cc(r):r.views.get(t._queryIdentifier)}function hg(r,t){return null!=w_(r,t)}function Go(r){return null!=cc(r)}function cc(r){for(const t of r.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let N0=1;class Wl{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Kt(null),this.pendingWriteTree_=function wE(){return{visibleWrites:mi.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function mg(r,t,e,o,l){return function jo(r,t,e,o,l){(0,R.hu)(o>r.lastWriteId,"Stacking an older write on top of newer ones"),void 0===l&&(l=!0),r.allWrites.push({path:t,snap:e,writeId:o,visible:l}),l&&(r.visibleWrites=Rd(r.visibleWrites,t,e)),r.lastWriteId=o}(r.pendingWriteTree_,t,e,o,l),l?Wa(r,new Vl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Wo(r,t,e=!1){const o=function EE(r,t){for(let e=0;e<r.allWrites.length;e++){const o=r.allWrites[e];if(o.writeId===t)return o}return null}(r.pendingWriteTree_,t);if(function T0(r,t){const e=r.allWrites.findIndex(D=>D.writeId===t);(0,R.hu)(e>=0,"removeWrite called with nonexistent writeId.");const o=r.allWrites[e];r.allWrites.splice(e,1);let l=o.visible,p=!1,y=r.allWrites.length-1;for(;l&&y>=0;){const D=r.allWrites[y];D.visible&&(y>=e&&S0(D,o.path)?l=!1:mr(o.path,D.path)&&(p=!0)),y--}return!!l&&(p?(function f_(r){r.visibleWrites=ng(r.allWrites,A0,Rt()),r.lastWriteId=r.allWrites.length>0?r.allWrites[r.allWrites.length-1].writeId:-1}(r),!0):(o.snap?r.visibleWrites=lc(r.visibleWrites,o.path):On(o.children,T=>{r.visibleWrites=lc(r.visibleWrites,At(o.path,T))}),!0))}(r.pendingWriteTree_,t)){let p=new Kt(null);return null!=o.snap?p=p.set(Rt(),!0):On(o.children,y=>{p=p.set(new Ut(y),!0)}),Wa(r,new uh(o.path,p,e))}return[]}function Od(r,t,e){return Wa(r,new Vl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function fc(r,t,e,o,l=!1){const p=t._path,y=r.syncPointTree_.get(p);let D=[];if(y&&("default"===t._queryIdentifier||hg(y,t))){const T=function LE(r,t,e,o){const l=t._queryIdentifier,p=[];let y=[];const D=Go(r);if("default"===l)for(const[T,P]of r.views.entries())y=y.concat(cg(P,e,o)),PE(P)&&(r.views.delete(T),P.query._queryParams.loadsAllData()||p.push(P.query));else{const T=r.views.get(l);T&&(y=y.concat(cg(T,e,o)),PE(T)&&(r.views.delete(l),T.query._queryParams.loadsAllData()||p.push(T.query)))}return D&&!Go(r)&&p.push(new(function kE(){return(0,R.hu)(yh,"Reference.ts has not been loaded"),yh}())(t._repo,t._path)),{removed:p,events:y}}(y,t,e,o);(function C_(r){return 0===r.views.size})(y)&&(r.syncPointTree_=r.syncPointTree_.remove(p));const P=T.removed;if(D=T.events,!l){const W=-1!==P.findIndex(X=>X._queryParams.loadsAllData()),G=r.syncPointTree_.findOnPath(p,(X,me)=>Go(me));if(W&&!G){const X=r.syncPointTree_.subtree(p);if(!X.isEmpty()){const me=function b_(r){return r.fold((t,e,o)=>{if(e&&Go(e))return[cc(e)];{let l=[];return e&&(l=D_(e)),On(o,(p,y)=>{l=l.concat(y)}),l}})}(X);for(let Me=0;Me<me.length;++Me){const ut=me[Me],Ft=ut.query,Lt=Ih(r,ut);r.listenProvider_.startListening(Ld(Ft),Fd(r,Ft),Lt.hashFn,Lt.onComplete)}}}!G&&P.length>0&&!o&&(W?r.listenProvider_.stopListening(Ld(t),null):P.forEach(X=>{const me=r.queryToTagMap.get(Dh(X));r.listenProvider_.stopListening(Ld(X),me)}))}!function HE(r,t){for(let e=0;e<t.length;++e){const o=t[e];if(!o._queryParams.loadsAllData()){const l=Dh(o),p=r.queryToTagMap.get(l);r.queryToTagMap.delete(l),r.tagToQueryMap.delete(p)}}}(r,P)}return D}function hc(r,t,e,o){const l=wh(r,o);if(null!=l){const p=Eg(l),y=p.path,D=p.queryId,T=Kn(y,t);return bh(r,y,new Vl(Sd(D),T,e))}return[]}function pc(r,t,e,o=!1){const l=t._path;let p=null,y=!1;r.syncPointTree_.foreachOnPath(l,(X,me)=>{const Me=Kn(X,l);p=p||$o(me,Me),y=y||Go(me)});let T,D=r.syncPointTree_.get(l);D?(y=y||Go(D),p=p||$o(D,Rt())):(D=new dg,r.syncPointTree_=r.syncPointTree_.set(l,D)),null!=p?T=!0:(T=!1,p=_t.EMPTY_NODE,r.syncPointTree_.subtree(l).foreachChild((me,Me)=>{const ut=$o(Me,Rt());ut&&(p=p.updateImmediateChild(me,ut))}));const P=hg(D,t);if(!P&&!t._queryParams.loadsAllData()){const X=Dh(t);(0,R.hu)(!r.queryToTagMap.has(X),"View does not exist, but we have a tag");const me=function _i(){return N0++}();r.queryToTagMap.set(X,me),r.tagToQueryMap.set(me,X)}let G=function FE(r,t,e,o,l,p){const y=I_(r,t,o,l,p);return r.views.has(t._queryIdentifier)||r.views.set(t._queryIdentifier,y),function NE(r,t){r.eventRegistrations_.push(t)}(y,e),function OE(r,t){const e=r.viewCache_.eventCache,o=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Pt,(p,y)=>{o.push(Qs(p,y))}),e.isFullyInitialized()&&o.push(pE(e.getNode())),Gl(r,o,e.getNode(),t)}(y,e)}(D,t,e,Ho(r.pendingWriteTree_,l),p,T);if(!P&&!y&&!o){const X=w_(D,t);G=G.concat(function jE(r,t,e){const o=t._path,l=Fd(r,t),p=Ih(r,e),y=r.listenProvider_.startListening(Ld(t),l,p.hashFn,p.onComplete),D=r.syncPointTree_.subtree(o);if(l)(0,R.hu)(!Go(D.value),"If we're adding a query, it shouldn't be shadowed");else{const T=D.fold((P,W,G)=>{if(!mt(P)&&W&&Go(W))return[cc(W).query];{let X=[];return W&&(X=X.concat(D_(W).map(me=>me.query))),On(G,(me,Me)=>{X=X.concat(Me)}),X}});for(let P=0;P<T.length;++P){const W=T[P];r.listenProvider_.stopListening(Ld(W),Fd(r,W))}}return y}(r,t,X))}return G}function kd(r,t,e){const l=r.pendingWriteTree_,p=r.syncPointTree_.findOnPath(t,(y,D)=>{const P=$o(D,Kn(y,t));if(P)return P});return rg(l,t,p,e,!0)}function Wa(r,t){return Ch(t,r.syncPointTree_,null,Ho(r.pendingWriteTree_,Rt()))}function Ch(r,t,e,o){if(mt(r.path))return vg(r,t,e,o);{const l=t.get(Rt());null==e&&null!=l&&(e=$o(l,Rt()));let p=[];const y=Tt(r.path),D=r.operationForChild(y),T=t.children.get(y);if(T&&D){const P=e?e.getImmediateChild(y):null,W=g_(o,y);p=p.concat(Ch(D,T,P,W))}return l&&(p=p.concat(fg(l,r,o,e))),p}}function vg(r,t,e,o){const l=t.get(Rt());null==e&&null!=l&&(e=$o(l,Rt()));let p=[];return t.children.inorderTraversal((y,D)=>{const T=e?e.getImmediateChild(y):null,P=g_(o,y),W=r.operationForChild(y);W&&(p=p.concat(vg(W,D,T,P)))}),l&&(p=p.concat(fg(l,r,o,e))),p}function Ih(r,t){const e=t.query,o=Fd(r,e);return{hashFn:()=>(function RE(r){return r.viewCache_.serverCache.getNode()}(t)||_t.EMPTY_NODE).hash(),onComplete:l=>{if("ok"===l)return o?function dc(r,t,e){const o=wh(r,e);if(o){const l=Eg(o),p=l.path,y=l.queryId,D=Kn(p,t);return bh(r,p,new sc(Sd(y),D))}return[]}(r,e._path,o):function Eh(r,t){return Wa(r,new sc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(r,e._path);{const p=function Fp(r,t){let e="Unknown Error";"too_big"===r?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===r?e="Client doesn't have permission to access the desired data.":"unavailable"===r&&(e="The service is unavailable");const o=new Error(r+" at "+t._path.toString()+": "+e);return o.code=r.toUpperCase(),o}(l,e);return fc(r,e,null,p)}}}}function Fd(r,t){const e=Dh(t);return r.queryToTagMap.get(e)}function Dh(r){return r._path.toString()+"$"+r._queryIdentifier}function wh(r,t){return r.tagToQueryMap.get(t)}function Eg(r){const t=r.indexOf("$");return(0,R.hu)(-1!==t&&t<r.length-1,"Bad queryKey."),{queryId:r.substr(t+1),path:new Ut(r.substr(0,t))}}function bh(r,t,e){const o=r.syncPointTree_.get(t);return(0,R.hu)(o,"Missing sync point for query tag that we're tracking"),fg(o,e,Ho(r.pendingWriteTree_,t),null)}function Ld(r){return r._queryParams.loadsAllData()&&!r._queryParams.isDefault()?new(function VE(){return(0,R.hu)(pg,"Reference.ts has not been loaded"),pg}())(r._repo,r._path):r}class Cg{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Cg(e)}node(){return this.node_}}class T_{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=At(this.path_,t);return new T_(this.syncTree_,e)}node(){return kd(this.syncTree_,this.path_)}}const Ig=function(r){return(r=r||{}).timestamp=r.timestamp||(new Date).getTime(),r},Dg=function(r,t,e){return r&&"object"==typeof r?((0,R.hu)(".sv"in r,"Unexpected leaf node or priority contents"),"string"==typeof r[".sv"]?$E(r[".sv"],t,e):"object"==typeof r[".sv"]?GE(r[".sv"],t):void(0,R.hu)(!1,"Unexpected server value: "+JSON.stringify(r,null,2))):r},$E=function(r,t,e){if("timestamp"===r)return e.timestamp;(0,R.hu)(!1,"Unexpected server value: "+r)},GE=function(r,t,e){r.hasOwnProperty("increment")||(0,R.hu)(!1,"Unexpected server value: "+JSON.stringify(r,null,2));const o=r.increment;"number"!=typeof o&&(0,R.hu)(!1,"Unexpected increment value: "+o);const l=t.node();if((0,R.hu)(null!==l&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return o;const y=l.getValue();return"number"!=typeof y?o:y+o},S_=function(r,t,e,o){return wg(t,new T_(e,r),o)},Th=function(r,t,e){return wg(r,new Cg(t),e)};function wg(r,t,e){const o=r.getPriority().val(),l=Dg(o,t.getImmediateChild(".priority"),e);let p;if(r.isLeafNode()){const y=r,D=Dg(y.getValue(),t,e);return D!==y.getValue()||l!==y.getPriority().val()?new Z(D,Jt(l)):r}{const y=r;return p=y,l!==y.getPriority().val()&&(p=p.updatePriority(new Z(l))),y.forEachChild(Pt,(D,T)=>{const P=wg(T,t.getImmediateChild(D),e);P!==T&&(p=p.updateImmediateChild(D,P))}),p}}class bg{constructor(t="",e=null,o={children:{},childCount:0}){this.name=t,this.parent=e,this.node=o}}function gc(r,t){let e=t instanceof Ut?t:new Ut(t),o=r,l=Tt(e);for(;null!==l;){const p=(0,R.DV)(o.node.children,l)||{children:{},childCount:0};o=new bg(l,o,p),e=zt(e),l=Tt(e)}return o}function zl(r){return r.node.value}function Tg(r,t){r.node.value=t,Ag(r)}function A_(r){return r.node.childCount>0}function Sh(r,t){On(r.node.children,(e,o)=>{t(new bg(e,r,o))})}function ds(r,t,e,o){e&&!o&&t(r),Sh(r,l=>{ds(l,t,!0,o)}),e&&o&&t(r)}function Vd(r){return new Ut(null===r.parent?r.name:Vd(r.parent)+"/"+r.name)}function Ag(r){null!==r.parent&&function M_(r,t,e){const o=function WE(r){return void 0===zl(r)&&!A_(r)}(e),l=(0,R.r3)(r.node.children,t);o&&l?(delete r.node.children[t],r.node.childCount--,Ag(r)):!o&&!l&&(r.node.children[t]=e.node,r.node.childCount++,Ag(r))}(r.parent,r.name,r)}const zE=/[\[\].#$\/\u0000-\u001F\u007F]/,ZE=/[\[\].#$\u0000-\u001F\u007F]/,Mg=10485760,mc=function(r){return"string"==typeof r&&0!==r.length&&!zE.test(r)},R_=function(r){return"string"==typeof r&&0!==r.length&&!ZE.test(r)},za=function(r){return null===r||"string"==typeof r||"number"==typeof r&&!ko(r)||r&&"object"==typeof r&&(0,R.r3)(r,".sv")},yi=function(r,t,e,o){o&&void 0===t||Za((0,R.gK)(r,"value"),t,e)},Za=function(r,t,e){const o=e instanceof Ut?new Wp(e,r):e;if(void 0===t)throw new Error(r+"contains undefined "+qs(o));if("function"==typeof t)throw new Error(r+"contains a function "+qs(o)+" with contents = "+t.toString());if(ko(t))throw new Error(r+"contains "+t.toString()+" "+qs(o));if("string"==typeof t&&t.length>Mg/3&&(0,R.ug)(t)>Mg)throw new Error(r+"contains a string greater than "+Mg+" utf8 bytes "+qs(o)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let l=!1,p=!1;if(On(t,(y,D)=>{if(".value"===y)l=!0;else if(".priority"!==y&&".sv"!==y&&(p=!0,!mc(y)))throw new Error(r+" contains an invalid key ("+y+") "+qs(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Xf(r,t){r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(t),r.byteLength_+=(0,R.ug)(t),ls(r)})(o,y),Za(r,D,o),function zp(r){const t=r.parts_.pop();r.byteLength_-=(0,R.ug)(t),r.parts_.length>0&&(r.byteLength_-=1)}(o)}),l&&p)throw new Error(r+' contains ".value" child '+qs(o)+" in addition to actual children.")}},Ah=function(r,t,e,o){if(o&&void 0===t)return;const l=(0,R.gK)(r,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(l+" must be an object containing the children to replace.");const p=[];On(t,(y,D)=>{const T=new Ut(y);if(Za(l,D,At(e,T)),".priority"===Qu(T)&&!za(D))throw new Error(l+"contains an invalid value for '"+T.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");p.push(T)}),function(r,t){let e,o;for(e=0;e<t.length;e++){o=t[e];const p=Vo(o);for(let y=0;y<p.length;y++)if((".priority"!==p[y]||y!==p.length-1)&&!mc(p[y]))throw new Error(r+"contains an invalid key ("+p[y]+") in path "+o.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Jf);let l=null;for(e=0;e<t.length;e++){if(o=t[e],null!==l&&mr(l,o))throw new Error(r+"contains a path "+l.toString()+" that is ancestor of another path "+o.toString());l=o}}(l,p)},P_=function(r,t,e){if(!e||void 0!==t){if(ko(t))throw new Error((0,R.gK)(r,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!za(t))throw new Error((0,R.gK)(r,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},_c=function(r,t,e,o){if(!(o&&void 0===e||mc(e)))throw new Error((0,R.gK)(r,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},yc=function(r,t,e,o){if(!(o&&void 0===e||R_(e)))throw new Error((0,R.gK)(r,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},N_=function(r,t,e,o){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),yc(r,t,e,o)},vi=function(r,t){if(".info"===Tt(t))throw new Error(r+" failed = Can't modify data under /.info/")},Mh=function(r,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!mc(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),R_(r)}(e))throw new Error((0,R.gK)(r,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class zo{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Zl(r,t){let e=null;for(let o=0;o<t.length;o++){const l=t[o],p=l.getPath();null!==e&&!Ba(p,e.path)&&(r.eventLists_.push(e),e=null),null===e&&(e={events:[],path:p}),e.events.push(l)}e&&r.eventLists_.push(e)}function Bd(r,t,e){Zl(r,e),x_(r,o=>Ba(o,t))}function vr(r,t,e){Zl(r,e),x_(r,o=>mr(o,t)||mr(t,o))}function x_(r,t){r.recursionDepth_++;let e=!0;for(let o=0;o<r.eventLists_.length;o++){const l=r.eventLists_[o];l&&(t(l.path)?(O_(r.eventLists_[o]),r.eventLists_[o]=null):e=!1)}e&&(r.eventLists_=[]),r.recursionDepth_--}function O_(r){for(let t=0;t<r.events.length;t++){const e=r.events[t];if(null!==e){r.events[t]=null;const o=e.getEventRunner();Oo&&Zn("event: "+e.toString()),zs(o)}}}const Rg="repo_interrupt",qE=25;class YE{constructor(t,e,o,l){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=o,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new zo,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=lh(),this.transactionQueueTree_=new bg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function k_(r){const e=r.infoData_.getNode(new Ut(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Rh(r){return Ig({timestamp:k_(r)})}function F_(r,t,e,o,l){r.dataUpdateCount++;const p=new Ut(t);e=r.interceptServerDataCallback_?r.interceptServerDataCallback_(t,e):e;let y=[];if(l)if(o){const T=(0,R.UI)(e,P=>Jt(P));y=function _g(r,t,e,o){const l=wh(r,o);if(l){const p=Eg(l),y=p.path,D=p.queryId,T=Kn(y,t),P=Kt.fromObject(e);return bh(r,y,new Bl(Sd(D),T,P))}return[]}(r.serverSyncTree_,p,T,l)}else{const T=Jt(e);y=hc(r.serverSyncTree_,p,T,l)}else if(o){const T=(0,R.UI)(e,P=>Jt(P));y=function UE(r,t,e){const o=Kt.fromObject(e);return Wa(r,new Bl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,o))}(r.serverSyncTree_,p,T)}else{const T=Jt(e);y=Od(r.serverSyncTree_,p,T)}let D=p;y.length>0&&(D=Hd(r,p)),vr(r.eventQueue_,D,y)}function L_(r,t){Pg(r,"connected",t),!1===t&&function xg(r){vc(r,"onDisconnectEvents");const t=Rh(r),e=lh();Uo(r.onDisconnect_,Rt(),(l,p)=>{const y=S_(l,p,r.serverSyncTree_,t);$a(e,l,y)});let o=[];Uo(e,Rt(),(l,p)=>{o=o.concat(Od(r.serverSyncTree_,l,p));const y=Ui(r,l);Hd(r,y)}),r.onDisconnect_=lh(),vr(r.eventQueue_,Rt(),o)}(r)}function Pg(r,t,e){const o=new Ut("/.info/"+t),l=Jt(e);r.infoData_.updateSnapshot(o,l);const p=Od(r.infoSyncTree_,o,l);vr(r.eventQueue_,o,p)}function Ph(r){return r.nextWriteId_++}function Ng(r,t,e,o,l){vc(r,"set",{path:t.toString(),value:e,priority:o});const p=Rh(r),y=Jt(e,o),D=kd(r.serverSyncTree_,t),T=Th(y,D,p),P=Ph(r),W=mg(r.serverSyncTree_,t,T,P,!0);Zl(r.eventQueue_,W),r.server_.put(t.toString(),y.val(!0),(X,me)=>{const Me="ok"===X;Me||pr("set at "+t+" failed: "+X);const ut=Wo(r.serverSyncTree_,P,!Me);vr(r.eventQueue_,t,ut),Zo(0,l,X,me)});const G=Ui(r,t);Hd(r,G),vr(r.eventQueue_,G,[])}function XE(r,t,e){r.server_.onDisconnectCancel(t.toString(),(o,l)=>{"ok"===o&&rc(r.onDisconnect_,t),Zo(0,e,o,l)})}function Nh(r,t,e,o){const l=Jt(e);r.server_.onDisconnectPut(t.toString(),l.val(!0),(p,y)=>{"ok"===p&&$a(r.onDisconnect_,t,l),Zo(0,o,p,y)})}function Og(r,t,e){let o;o=".info"===Tt(t._path)?fc(r.infoSyncTree_,t,e):fc(r.serverSyncTree_,t,e),Bd(r.eventQueue_,t._path,o)}function B_(r){r.persistentConnection_&&r.persistentConnection_.interrupt(Rg)}function vc(r,...t){let e="";r.persistentConnection_&&(e=r.persistentConnection_.id+":"),Zn(e,...t)}function Zo(r,t,e,o){t&&zs(()=>{if("ok"===e)t(null);else{const l=(e||"error").toUpperCase();let p=l;o&&(p+=": "+o);const y=new Error(p);y.code=l,t(y)}})}function kg(r,t,e){return kd(r.serverSyncTree_,t,e)||_t.EMPTY_NODE}function Fg(r,t=r.transactionQueueTree_){if(t||kh(r,t),zl(t)){const e=$_(r,t);(0,R.hu)(e.length>0,"Sending zero length transaction queue"),e.every(l=>0===l.status)&&function H_(r,t,e){const o=e.map(P=>P.currentWriteId),l=kg(r,t,o);let p=l;const y=l.hash();for(let P=0;P<e.length;P++){const W=e[P];(0,R.hu)(0===W.status,"tryToSendTransactionQueue_: items in queue should all be run."),W.status=1,W.retryCount++;const G=Kn(t,W.path);p=p.updateChild(G,W.currentOutputSnapshotRaw)}const D=p.val(!0),T=t;r.server_.put(T.toString(),D,P=>{vc(r,"transaction put response",{path:T.toString(),status:P});let W=[];if("ok"===P){const G=[];for(let X=0;X<e.length;X++)e[X].status=2,W=W.concat(Wo(r.serverSyncTree_,e[X].currentWriteId)),e[X].onComplete&&G.push(()=>e[X].onComplete(null,!0,e[X].currentOutputSnapshotResolved)),e[X].unwatcher();kh(r,gc(r.transactionQueueTree_,t)),Fg(r,r.transactionQueueTree_),vr(r.eventQueue_,t,W);for(let X=0;X<G.length;X++)zs(G[X])}else{if("datastale"===P)for(let G=0;G<e.length;G++)e[G].status=3===e[G].status?4:0;else{pr("transaction at "+T.toString()+" failed: "+P);for(let G=0;G<e.length;G++)e[G].status=4,e[G].abortReason=P}Hd(r,t)}},y)}(r,Vd(t),e)}else A_(t)&&Sh(t,e=>{Fg(r,e)})}function Hd(r,t){const e=j_(r,t),o=Vd(e);return function xh(r,t,e){if(0===t.length)return;const o=[];let l=[];const y=t.filter(D=>0===D.status).map(D=>D.currentWriteId);for(let D=0;D<t.length;D++){const T=t[D],P=Kn(e,T.path);let G,W=!1;if((0,R.hu)(null!==P,"rerunTransactionsUnderNode_: relativePath should not be null."),4===T.status)W=!0,G=T.abortReason,l=l.concat(Wo(r.serverSyncTree_,T.currentWriteId,!0));else if(0===T.status)if(T.retryCount>=qE)W=!0,G="maxretry",l=l.concat(Wo(r.serverSyncTree_,T.currentWriteId,!0));else{const X=kg(r,T.path,y);T.currentInputSnapshot=X;const me=t[D].update(X.val());if(void 0!==me){Za("transaction failed: Data returned ",me,T.path);let Me=Jt(me);"object"==typeof me&&null!=me&&(0,R.r3)(me,".priority")||(Me=Me.updatePriority(X.getPriority()));const Ft=T.currentWriteId,Lt=Rh(r),fn=Th(Me,X,Lt);T.currentOutputSnapshotRaw=Me,T.currentOutputSnapshotResolved=fn,T.currentWriteId=Ph(r),y.splice(y.indexOf(Ft),1),l=l.concat(mg(r.serverSyncTree_,T.path,fn,T.currentWriteId,T.applyLocally)),l=l.concat(Wo(r.serverSyncTree_,Ft,!0))}else W=!0,G="nodata",l=l.concat(Wo(r.serverSyncTree_,T.currentWriteId,!0))}vr(r.eventQueue_,e,l),l=[],W&&(t[D].status=2,setTimeout(t[D].unwatcher,Math.floor(0)),t[D].onComplete&&o.push("nodata"===G?()=>t[D].onComplete(null,!1,t[D].currentInputSnapshot):()=>t[D].onComplete(new Error(G),!1,null)))}kh(r,r.transactionQueueTree_);for(let D=0;D<o.length;D++)zs(o[D]);Fg(r,r.transactionQueueTree_)}(r,$_(r,e),o),o}function j_(r,t){let e,o=r.transactionQueueTree_;for(e=Tt(t);null!==e&&void 0===zl(o);)o=gc(o,e),e=Tt(t=zt(t));return o}function $_(r,t){const e=[];return Oh(r,t,e),e.sort((o,l)=>o.order-l.order),e}function Oh(r,t,e){const o=zl(t);if(o)for(let l=0;l<o.length;l++)e.push(o[l]);Sh(t,l=>{Oh(r,l,e)})}function kh(r,t){const e=zl(t);if(e){let o=0;for(let l=0;l<e.length;l++)2!==e[l].status&&(e[o]=e[l],o++);e.length=o,Tg(t,e.length>0?e:void 0)}Sh(t,o=>{kh(r,o)})}function Ui(r,t){const e=Vd(j_(r,t)),o=gc(r.transactionQueueTree_,t);return function Sg(r,t,e){let o=e?r:r.parent;for(;null!==o;){if(t(o))return!0;o=o.parent}}(o,l=>{Kl(r,l)}),Kl(r,o),ds(o,l=>{Kl(r,l)}),e}function Kl(r,t){const e=zl(t);if(e){const o=[];let l=[],p=-1;for(let y=0;y<e.length;y++)3===e[y].status||(1===e[y].status?((0,R.hu)(p===y-1,"All SENT items should be at beginning of queue."),p=y,e[y].status=3,e[y].abortReason="set"):((0,R.hu)(0===e[y].status,"Unexpected transaction status in abort"),e[y].unwatcher(),l=l.concat(Wo(r.serverSyncTree_,e[y].currentWriteId,!0)),e[y].onComplete&&o.push(e[y].onComplete.bind(null,new Error("set"),!1,null))));-1===p?Tg(t,void 0):e.length=p+1,vr(r.eventQueue_,Vd(t),l);for(let y=0;y<o.length;y++)zs(o[y])}}const Ec=function(r,t){const e=Hi(r),o=e.namespace;return"firebase.com"===e.domain&&os(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||"undefined"===o)&&"localhost"!==e.domain&&os("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&pr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Uf(e.host,e.secure,o,"ws"===e.scheme||"wss"===e.scheme,t,"",o!==e.subdomain),path:new Ut(e.pathString)}},Hi=function(r){let t="",e="",o="",l="",p="",y=!0,D="https",T=443;if("string"==typeof r){let P=r.indexOf("//");P>=0&&(D=r.substring(0,P-1),r=r.substring(P+2));let W=r.indexOf("/");-1===W&&(W=r.length);let G=r.indexOf("?");-1===G&&(G=r.length),t=r.substring(0,Math.min(W,G)),W<G&&(l=function Pr(r){let t="";const e=r.split("/");for(let o=0;o<e.length;o++)if(e[o].length>0){let l=e[o];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}t+="/"+l}return t}(r.substring(W,G)));const X=function ql(r){const t={};"?"===r.charAt(0)&&(r=r.substring(1));for(const e of r.split("&")){if(0===e.length)continue;const o=e.split("=");2===o.length?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):pr(`Invalid query segment '${e}' in query '${r}'`)}return t}(r.substring(Math.min(r.length,G)));P=t.indexOf(":"),P>=0?(y="https"===D||"wss"===D,T=parseInt(t.substring(P+1),10)):P=t.length;const me=t.slice(0,P);if("localhost"===me.toLowerCase())e="localhost";else if(me.split(".").length<=2)e=me;else{const Me=t.indexOf(".");o=t.substring(0,Me).toLowerCase(),e=t.substring(Me+1),p=o}"ns"in X&&(p=X.ns)}return{host:t,port:T,domain:e,subdomain:o,secure:y,scheme:D,pathString:l,namespace:p}},Fh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Cc=function(){let r=0;const t=[];return function(e){const o=e===r;let l;r=e;const p=new Array(8);for(l=7;l>=0;l--)p[l]=Fh.charAt(e%64),e=Math.floor(e/64);(0,R.hu)(0===e,"Cannot push at time == 0");let y=p.join("");if(o){for(l=11;l>=0&&63===t[l];l--)t[l]=0;t[l]++}else for(l=0;l<12;l++)t[l]=Math.floor(64*Math.random());for(l=0;l<12;l++)y+=Fh.charAt(t[l]);return(0,R.hu)(20===y.length,"nextPushId: Length should be 20."),y}}();class Yl{constructor(t,e,o,l){this.eventType=t,this.eventRegistration=e,this.snapshot=o,this.prevName=l}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,R.Wl)(this.snapshot.exportVal())}}class Ql{constructor(t,e,o){this.eventRegistration=t,this.error=e,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Ka{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,R.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Jl{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new R.BH;return XE(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){vi("OnDisconnect.remove",this._path);const t=new R.BH;return Nh(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){vi("OnDisconnect.set",this._path),yi("OnDisconnect.set",t,this._path,!1);const e=new R.BH;return Nh(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){vi("OnDisconnect.setWithPriority",this._path),yi("OnDisconnect.setWithPriority",t,this._path,!1),P_("OnDisconnect.setWithPriority",e,!1);const o=new R.BH;return function eC(r,t,e,o,l){const p=Jt(e,o);r.server_.onDisconnectPut(t.toString(),p.val(!0),(y,D)=>{"ok"===y&&$a(r.onDisconnect_,t,p),Zo(0,l,y,D)})}(this._repo,this._path,t,e,o.wrapCallback(()=>{})),o.promise}update(t){vi("OnDisconnect.update",this._path),Ah("OnDisconnect.update",t,this._path,!1);const e=new R.BH;return function tC(r,t,e,o){if((0,R.xb)(e))return Zn("onDisconnect().update() called with empty data.  Don't do anything."),void Zo(0,o,"ok",void 0);r.server_.onDisconnectMerge(t.toString(),e,(l,p)=>{"ok"===l&&On(e,(y,D)=>{const T=Jt(D);$a(r.onDisconnect_,At(t,y),T)}),Zo(0,o,l,p)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class qn{constructor(t,e,o,l){this._repo=t,this._path=e,this._queryParams=o,this._orderByCalled=l}get key(){return mt(this._path)?null:Qu(this._path)}get ref(){return new Ci(this._repo,this._path)}get _queryIdentifier(){const t=i_(this._queryParams),e=od(t);return"{}"===e?"default":e}get _queryObject(){return i_(this._queryParams)}isEqual(t){if(!((t=(0,R.m9)(t))instanceof qn))return!1;const e=this._repo===t._repo,o=Ba(this._path,t._path);return e&&o&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function vd(r){let t="";for(let e=r.pieceNum_;e<r.pieces_.length;e++)""!==r.pieces_[e]&&(t+="/"+encodeURIComponent(String(r.pieces_[e])));return t||"/"}(this._path)}}function Ko(r,t){if(!0===r._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ei(r){let t=null,e=null;if(r.hasStart()&&(t=r.getIndexStartValue()),r.hasEnd()&&(e=r.getIndexEndValue()),r.getIndex()===Rr){const o="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",l="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(r.hasStart()){if(r.getIndexStartName()!==as)throw new Error(o);if("string"!=typeof t)throw new Error(l)}if(r.hasEnd()){if(r.getIndexEndName()!==pi)throw new Error(o);if("string"!=typeof e)throw new Error(l)}}else if(r.getIndex()===Pt){if(null!=t&&!za(t)||null!=e&&!za(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,R.hu)(r.getIndex()instanceof Cd||r.getIndex()===e_,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function qo(r){if(r.hasStart()&&r.hasEnd()&&r.hasLimit()&&!r.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ci extends qn{constructor(t,e){super(t,e,new Dd,!1)}get parent(){const t=Ed(this._path);return null===t?null:new Ci(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class qa{constructor(t,e,o){this._node=t,this.ref=e,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Ut(t),o=Ya(this.ref,t);return new qa(this._node.getChild(e),o,Pt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(o,l)=>t(new qa(l,Ya(this.ref,o),Pt)))}hasChild(t){const e=new Ut(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Lg(r,t){return(r=(0,R.m9)(r))._checkNotDeleted("ref"),void 0!==t?Ya(r._root,t):r._root}function Vg(r,t){(r=(0,R.m9)(r))._checkNotDeleted("refFromURL");const e=Ec(t,r._repo.repoInfo_.nodeAdmin);Mh("refFromURL",e);const o=e.repoInfo;return!r._repo.repoInfo_.isCustomHost()&&o.host!==r._repo.repoInfo_.host&&os("refFromURL: Host name does not match the current database: (found "+o.host+" but expected "+r._repo.repoInfo_.host+")"),Lg(r,e.path.toString())}function Ya(r,t){return null===Tt((r=(0,R.m9)(r))._path)?N_("child","path",t,!1):yc("child","path",t,!1),new Ci(r._repo,At(r._path,t))}function Lh(r,t){r=(0,R.m9)(r),vi("set",r._path),yi("set",t,r._path,!1);const e=new R.BH;return Ng(r._repo,r._path,t,null,e.wrapCallback(()=>{})),e.promise}function z_(r,t){Ah("update",t,r._path,!1);const e=new R.BH;return function V_(r,t,e,o){vc(r,"update",{path:t.toString(),value:e});let l=!0;const p=Rh(r),y={};if(On(e,(D,T)=>{l=!1,y[D]=S_(At(t,D),Jt(T),r.serverSyncTree_,p)}),l)Zn("update() called with empty data.  Don't do anything."),Zo(0,o,"ok",void 0);else{const D=Ph(r),T=function BE(r,t,e,o){!function vE(r,t,e,o){(0,R.hu)(o>r.lastWriteId,"Stacking an older merge on top of newer ones"),r.allWrites.push({path:t,children:e,writeId:o,visible:!0}),r.visibleWrites=Pd(r.visibleWrites,t,e),r.lastWriteId=o}(r.pendingWriteTree_,t,e,o);const l=Kt.fromObject(e);return Wa(r,new Bl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,l))}(r.serverSyncTree_,t,y,D);Zl(r.eventQueue_,T),r.server_.merge(t.toString(),e,(P,W)=>{const G="ok"===P;G||pr("update at "+t+" failed: "+P);const X=Wo(r.serverSyncTree_,D,!G),me=X.length>0?Hd(r,t):t;vr(r.eventQueue_,me,X),Zo(0,o,P,W)}),On(e,P=>{const W=Ui(r,At(t,P));Hd(r,W)}),vr(r.eventQueue_,t,[])}}(r._repo,r._path,t,e.wrapCallback(()=>{})),e.promise}function aC(r){r=(0,R.m9)(r);const t=new Ka(()=>{}),e=new Ic(t);return function JE(r,t,e){const o=function yg(r,t){const e=t._path;let o=null;r.syncPointTree_.foreachOnPath(e,(P,W)=>{const G=Kn(P,e);o=o||$o(W,G)});let l=r.syncPointTree_.get(e);l?o=o||$o(l,Rt()):(l=new dg,r.syncPointTree_=r.syncPointTree_.set(e,l));const p=null!=o,y=p?new Ul(o,!0,!1):null;return function R0(r){return fh(r.viewCache_)}(I_(l,t,Ho(r.pendingWriteTree_,t._path),p?y.getNode():_t.EMPTY_NODE,p))}(r.serverSyncTree_,t);return null!=o?Promise.resolve(o):r.server_.get(t).then(l=>{const p=Jt(l).withIndex(t._queryParams.getIndex());let y;if(pc(r.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())y=Od(r.serverSyncTree_,t._path,p);else{const D=Fd(r.serverSyncTree_,t);y=hc(r.serverSyncTree_,t._path,p,D)}return vr(r.eventQueue_,t._path,y),fc(r.serverSyncTree_,t,e,null,!0),p},l=>(vc(r,"get for query "+(0,R.Wl)(t)+" failed: "+l),Promise.reject(new Error(l))))}(r._repo,r,e).then(o=>new qa(o,new Ci(r._repo,r._path),r._queryParams.getIndex()))}class Ic{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const o=e._queryParams.getIndex();return new Yl("value",this,new qa(t.snapshotNode,new Ci(e._repo,e._path),o))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Ql(this,t,e):null}matches(t){return t instanceof Ic&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Dc{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Ql(this,t,e):null}createEvent(t,e){(0,R.hu)(null!=t.childName,"Child events should have a childName.");const o=Ya(new Ci(e._repo,e._path),t.childName),l=e._queryParams.getIndex();return new Yl(t.type,this,new qa(t.snapshotNode,o,l),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Dc&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Xl(r,t,e,o,l){let p;if("object"==typeof o&&(p=void 0,l=o),"function"==typeof o&&(p=o),l&&l.onlyOnce){const T=e,P=(W,G)=>{Og(r._repo,r,D),T(W,G)};P.userCallback=e.userCallback,P.context=e.context,e=P}const y=new Ka(e,p||void 0),D="value"===t?new Ic(y):new Dc(t,y);return function nC(r,t,e){let o;o=".info"===Tt(t._path)?pc(r.infoSyncTree_,t,e):pc(r.serverSyncTree_,t,e),Bd(r.eventQueue_,t._path,o)}(r._repo,r,D),()=>Og(r._repo,r,D)}function Bg(r,t,e,o){return Xl(r,"value",t,e,o)}function jd(r,t,e,o){return Xl(r,"child_added",t,e,o)}function $d(r,t,e,o){return Xl(r,"child_changed",t,e,o)}function Vh(r,t,e,o){return Xl(r,"child_moved",t,e,o)}function Z_(r,t,e,o){return Xl(r,"child_removed",t,e,o)}function Gd(r,t,e){let o=null;const l=e?new Ka(e):null;"value"===t?o=new Ic(l):t&&(o=new Dc(t,l)),Og(r._repo,r,o)}class ni{}class Ug extends ni{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){yi("endAt",this._value,t._path,!0);const e=bd(t._queryParams,this._value,this._key);if(qo(e),Ei(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new qn(t._repo,t._path,e,t._orderByCalled)}}class Hg extends ni{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){yi("endBefore",this._value,t._path,!1);const e=function r_(r,t,e){let o;return o=bd(r,t,r.index_===Rr||e?e:as),o.endBeforeSet_=!0,o}(t._queryParams,this._value,this._key);if(qo(e),Ei(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new qn(t._repo,t._path,e,t._orderByCalled)}}class jg extends ni{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){yi("startAt",this._value,t._path,!0);const e=wd(t._queryParams,this._value,this._key);if(qo(e),Ei(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new qn(t._repo,t._path,e,t._orderByCalled)}}class Y_ extends ni{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){yi("startAfter",this._value,t._path,!1);const e=function mE(r,t,e){let o;return o=wd(r,t,r.index_===Rr||e?e:pi),o.startAfterSet_=!0,o}(t._queryParams,this._value,this._key);if(qo(e),Ei(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new qn(t._repo,t._path,e,t._orderByCalled)}}class Q_ extends ni{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new qn(t._repo,t._path,function Yp(r,t){const e=r.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class X_ extends ni{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new qn(t._repo,t._path,function b0(r,t){const e=r.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class uC extends ni{constructor(t){super(),this._path=t}_apply(t){Ko(t,"orderByChild");const e=new Ut(this._path);if(mt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const o=new Cd(e),l=Td(t._queryParams,o);return Ei(l),new qn(t._repo,t._path,l,!0)}}class dC extends ni{_apply(t){Ko(t,"orderByKey");const e=Td(t._queryParams,Rr);return Ei(e),new qn(t._repo,t._path,e,!0)}}class Gg extends ni{_apply(t){Ko(t,"orderByPriority");const e=Td(t._queryParams,Pt);return Ei(e),new qn(t._repo,t._path,e,!0)}}class ry extends ni{_apply(t){Ko(t,"orderByValue");const e=Td(t._queryParams,e_);return Ei(e),new qn(t._repo,t._path,e,!0)}}class sy extends ni{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(yi("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ug(this._value,this._key)._apply(new jg(this._value,this._key)._apply(t))}}function ji(r,...t){let e=(0,R.m9)(r);for(const o of t)e=o._apply(e);return e}(function vh(r){(0,R.hu)(!yh,"__referenceConstructor has already been defined"),yh=r})(Ci),function gg(r){(0,R.hu)(!pg,"__referenceConstructor has already been defined"),pg=r}(Ci);const ay="FIREBASE_DATABASE_EMULATOR_HOST",Bh={};let Wd=!1;function ly(r,t,e,o,l){let p=o||r.options.databaseURL;void 0===p&&(r.options.projectId||os("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Zn("Using default host for project ",r.options.projectId),p=`${r.options.projectId}-default-rtdb.firebaseio.com`);let T,P,y=Ec(p,l),D=y.repoInfo;typeof process<"u"&&process.env&&(P=process.env[ay]),P?(T=!0,p=`http://${P}?ns=${D.namespace}`,y=Ec(p,l),D=y.repoInfo):T=!y.repoInfo.secure;const W=l&&T?new Pa(Pa.OWNER):new Al(r.name,r.options,t);Mh("Invalid Firebase Database URL",y),mt(y.path)||os("Database URL must point to the root of a Firebase Database (not including a child path).");const G=function Wg(r,t,e,o){let l=Bh[t.name];l||(l={},Bh[t.name]=l);let p=l[r.toURLString()];return p&&os("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),p=new YE(r,Wd,e,o),l[r.toURLString()]=p,p}(D,r,W,new tr(r.name,e));return new zg(G,r)}class zg{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Ud(r,t,e){if(r.stats_=Hu(r.repoInfo_),r.forceRestClient_||Vf())r.server_=new nc(r.repoInfo_,(o,l,p,y)=>{F_(r,o,l,p,y)},r.authTokenProvider_,r.appCheckProvider_),setTimeout(()=>L_(r,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,R.Wl)(e)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}r.persistentConnection_=new nr(r.repoInfo_,t,(o,l,p,y)=>{F_(r,o,l,p,y)},o=>{L_(r,o)},o=>{!function QE(r,t){On(t,(e,o)=>{Pg(r,e,o)})}(r,o)},r.authTokenProvider_,r.appCheckProvider_,e),r.server_=r.persistentConnection_}r.authTokenProvider_.addTokenChangeListener(o=>{r.server_.refreshAuthToken(o)}),r.appCheckProvider_.addTokenChangeListener(o=>{r.server_.refreshAppCheckToken(o.token)}),r.statsReporter_=function ka(r,t){const e=r.toString();return Oa[e]||(Oa[e]=t()),Oa[e]}(r.repoInfo_,()=>new ic(r.stats_,r.server_)),r.infoData_=new ah,r.infoSyncTree_=new Wl({startListening:(o,l,p,y)=>{let D=[];const T=r.infoData_.getNode(o._path);return T.isEmpty()||(D=Od(r.infoSyncTree_,o._path,T),setTimeout(()=>{y("ok")},0)),D},stopListening:()=>{}}),Pg(r,"connected",!1),r.serverSyncTree_=new Wl({startListening:(o,l,p,y)=>(r.server_.listen(o,p,l,(D,T)=>{const P=y(D,T);vr(r.eventQueue_,o._path,P)}),[]),stopListening:(o,l)=>{r.server_.unlisten(o,l)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ci(this._repo,Rt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function fC(r,t){const e=Bh[t];(!e||e[r.key]!==r)&&os(`Database ${t}(${r.repoInfo_}) has already been deleted.`),B_(r),delete e[r.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&os("Cannot call "+t+" on a deleted database.")}}function uy(){Zu.IS_TRANSPORT_INITIALIZED&&pr("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Zg(){uy(),Mr.forceDisallow()}function O0(){uy(),Fi.forceDisallow(),Mr.forceAllow()}function cy(r,t,e,o={}){(r=(0,R.m9)(r))._checkNotDeleted("useEmulator"),r._instanceStarted&&os("Cannot call useEmulator() after instance has already been initialized.");const l=r._repoInternal;let p;if(l.repoInfo_.nodeAdmin)o.mockUserToken&&os('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),p=new Pa(Pa.OWNER);else if(o.mockUserToken){const y="string"==typeof o.mockUserToken?o.mockUserToken:(0,R.Sg)(o.mockUserToken,r.app.options.projectId);p=new Pa(y)}!function Qa(r,t,e,o){r.repoInfo_=new Uf(`${t}:${e}`,!1,r.repoInfo_.namespace,r.repoInfo_.webSocketOnly,r.repoInfo_.nodeAdmin,r.repoInfo_.persistenceKey,r.repoInfo_.includeNamespaceInQueryParams,!0),o&&(r.authTokenProvider_=o)}(l,t,e,p)}function pC(r,t){bl(r,t)}const fy={".sv":"timestamp"};class hy{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}nr.prototype.simpleListen=function(r,t){this.sendRequest("q",{p:r},t)},nr.prototype.echo=function(r,t){this.sendRequest("echo",{d:r},t)},function Yn(r){Oi(Ve.SDK_VERSION),(0,Ve._registerComponent)(new ye.wA("database",(t,{instanceIdentifier:e})=>ly(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Ve.registerVersion)(pt,"0.14.4",r),(0,Ve.registerVersion)(pt,"0.14.4","esm2017")}();const CC=new Ct.Yd("@firebase/database-compat"),Kg=function(r){CC.warn("FIREBASE WARNING: "+r)};class F0{constructor(t){this._delegate=t}cancel(t){(0,R.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,R.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),o=>t(o)),e}remove(t){(0,R.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,R.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),o=>t(o)),e}set(t,e){(0,R.Dv)("OnDisconnect.set",1,2,arguments.length),(0,R.Wj)("OnDisconnect.set","onComplete",e,!0);const o=this._delegate.set(t);return e&&o.then(()=>e(null),l=>e(l)),o}setWithPriority(t,e,o){(0,R.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,R.Wj)("OnDisconnect.setWithPriority","onComplete",o,!0);const l=this._delegate.setWithPriority(t,e);return o&&l.then(()=>o(null),p=>o(p)),l}update(t,e){if((0,R.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const l={};for(let p=0;p<t.length;++p)l[""+p]=t[p];t=l,Kg("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,R.Wj)("OnDisconnect.update","onComplete",e,!0);const o=this._delegate.update(t);return e&&o.then(()=>e(null),l=>e(l)),o}}class gy{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,R.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Js{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,R.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,R.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,R.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,R.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,R.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),yc("DataSnapshot.child","path",t,!1),new Js(this._database,this._delegate.child(t))}hasChild(t){return(0,R.Dv)("DataSnapshot.hasChild",1,1,arguments.length),yc("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,R.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,R.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,R.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Js(this._database,e)))}hasChildren(){return(0,R.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,R.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,R.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ii(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class rn{constructor(t,e){this.database=t,this._delegate=e}on(t,e,o,l){var p;(0,R.Dv)("Query.on",2,4,arguments.length),(0,R.Wj)("Query.on","callback",e,!1);const y=rn.getCancelAndContextArgs_("Query.on",o,l),D=(P,W)=>{e.call(y.context,new Js(this.database,P),W)};D.userCallback=e,D.context=y.context;const T=null===(p=y.cancel)||void 0===p?void 0:p.bind(y.context);switch(t){case"value":return Bg(this._delegate,D,T),e;case"child_added":return jd(this._delegate,D,T),e;case"child_removed":return Z_(this._delegate,D,T),e;case"child_changed":return $d(this._delegate,D,T),e;case"child_moved":return Vh(this._delegate,D,T),e;default:throw new Error((0,R.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,o){if((0,R.Dv)("Query.off",0,3,arguments.length),function(r,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,R.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,R.Wj)("Query.off","callback",e,!0),(0,R.lb)("Query.off","context",o,!0),e){const l=()=>{};l.userCallback=e,l.context=o,Gd(this._delegate,t,l)}else Gd(this._delegate,t)}get(){return aC(this._delegate).then(t=>new Js(this.database,t))}once(t,e,o,l){(0,R.Dv)("Query.once",1,4,arguments.length),(0,R.Wj)("Query.once","callback",e,!0);const p=rn.getCancelAndContextArgs_("Query.once",o,l),y=new R.BH,D=(P,W)=>{const G=new Js(this.database,P);e&&e.call(p.context,G,W),y.resolve(G)};D.userCallback=e,D.context=p.context;const T=P=>{p.cancel&&p.cancel.call(p.context,P),y.reject(P)};switch(t){case"value":Bg(this._delegate,D,T,{onlyOnce:!0});break;case"child_added":jd(this._delegate,D,T,{onlyOnce:!0});break;case"child_removed":Z_(this._delegate,D,T,{onlyOnce:!0});break;case"child_changed":$d(this._delegate,D,T,{onlyOnce:!0});break;case"child_moved":Vh(this._delegate,D,T,{onlyOnce:!0});break;default:throw new Error((0,R.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return y.promise}limitToFirst(t){return(0,R.Dv)("Query.limitToFirst",1,1,arguments.length),new rn(this.database,ji(this._delegate,function J_(r){if("number"!=typeof r||Math.floor(r)!==r||r<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Q_(r)}(t)))}limitToLast(t){return(0,R.Dv)("Query.limitToLast",1,1,arguments.length),new rn(this.database,ji(this._delegate,function ey(r){if("number"!=typeof r||Math.floor(r)!==r||r<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new X_(r)}(t)))}orderByChild(t){return(0,R.Dv)("Query.orderByChild",1,1,arguments.length),new rn(this.database,ji(this._delegate,function cC(r){if("$key"===r)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===r)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===r)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return yc("orderByChild","path",r,!1),new uC(r)}(t)))}orderByKey(){return(0,R.Dv)("Query.orderByKey",0,0,arguments.length),new rn(this.database,ji(this._delegate,function ty(){return new dC}()))}orderByPriority(){return(0,R.Dv)("Query.orderByPriority",0,0,arguments.length),new rn(this.database,ji(this._delegate,function ny(){return new Gg}()))}orderByValue(){return(0,R.Dv)("Query.orderByValue",0,0,arguments.length),new rn(this.database,ji(this._delegate,function iy(){return new ry}()))}startAt(t=null,e){return(0,R.Dv)("Query.startAt",0,2,arguments.length),new rn(this.database,ji(this._delegate,function $g(r=null,t){return _c("startAt","key",t,!0),new jg(r,t)}(t,e)))}startAfter(t=null,e){return(0,R.Dv)("Query.startAfter",0,2,arguments.length),new rn(this.database,ji(this._delegate,function lC(r,t){return _c("startAfter","key",t,!0),new Y_(r,t)}(t,e)))}endAt(t=null,e){return(0,R.Dv)("Query.endAt",0,2,arguments.length),new rn(this.database,ji(this._delegate,function K_(r,t){return _c("endAt","key",t,!0),new Ug(r,t)}(t,e)))}endBefore(t=null,e){return(0,R.Dv)("Query.endBefore",0,2,arguments.length),new rn(this.database,ji(this._delegate,function q_(r,t){return _c("endBefore","key",t,!0),new Hg(r,t)}(t,e)))}equalTo(t,e){return(0,R.Dv)("Query.equalTo",1,2,arguments.length),new rn(this.database,ji(this._delegate,function oy(r,t){return _c("equalTo","key",t,!0),new sy(r,t)}(t,e)))}toString(){return(0,R.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,R.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,R.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof rn))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,o){const l={cancel:void 0,context:void 0};if(e&&o)l.cancel=e,(0,R.Wj)(t,"cancel",l.cancel,!0),l.context=o,(0,R.lb)(t,"context",l.context,!0);else if(e)if("object"==typeof e&&null!==e)l.context=e;else{if("function"!=typeof e)throw new Error((0,R.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");l.cancel=e}return l}get ref(){return new Ii(this.database,new Ci(this._delegate._repo,this._delegate._path))}}class Ii extends rn{constructor(t,e){super(t,new qn(e._repo,e._path,new Dd,!1)),this.database=t,this._delegate=e}getKey(){return(0,R.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,R.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Ii(this.database,Ya(this._delegate,t))}getParent(){(0,R.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Ii(this.database,t):null}getRoot(){return(0,R.Dv)("Reference.root",0,0,arguments.length),new Ii(this.database,this._delegate.root)}set(t,e){(0,R.Dv)("Reference.set",1,2,arguments.length),(0,R.Wj)("Reference.set","onComplete",e,!0);const o=Lh(this._delegate,t);return e&&o.then(()=>e(null),l=>e(l)),o}update(t,e){if((0,R.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const l={};for(let p=0;p<t.length;++p)l[""+p]=t[p];t=l,Kg("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}vi("Reference.update",this._delegate._path),(0,R.Wj)("Reference.update","onComplete",e,!0);const o=z_(this._delegate,t);return e&&o.then(()=>e(null),l=>e(l)),o}setWithPriority(t,e,o){(0,R.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,R.Wj)("Reference.setWithPriority","onComplete",o,!0);const l=function oC(r,t,e){if(vi("setWithPriority",r._path),yi("setWithPriority",t,r._path,!1),P_("setWithPriority",e,!1),".length"===r.key||".keys"===r.key)throw"setWithPriority failed: "+r.key+" is a read-only object.";const o=new R.BH;return Ng(r._repo,r._path,t,e,o.wrapCallback(()=>{})),o.promise}(this._delegate,t,e);return o&&l.then(()=>o(null),p=>o(p)),l}remove(t){(0,R.Dv)("Reference.remove",0,1,arguments.length),(0,R.Wj)("Reference.remove","onComplete",t,!0);const e=function W_(r){return vi("remove",r._path),Lh(r,null)}(this._delegate);return t&&e.then(()=>t(null),o=>t(o)),e}transaction(t,e,o){(0,R.Dv)("Reference.transaction",1,3,arguments.length),(0,R.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,R.Wj)("Reference.transaction","onComplete",e,!0),function(r,t,e,o){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,R.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,o);const l=function _C(r,t,e){var o;if(r=(0,R.m9)(r),vi("Reference.transaction",r._path),".length"===r.key||".keys"===r.key)throw"Reference.transaction failed: "+r.key+" is a read-only object.";const l=null===(o=e?.applyLocally)||void 0===o||o,p=new R.BH,D=Bg(r,()=>{});return function U_(r,t,e,o,l,p){vc(r,"transaction on "+t);const y={path:t,update:e,onComplete:o,status:null,order:id(),applyLocally:p,retryCount:0,unwatcher:l,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},D=kg(r,t,void 0);y.currentInputSnapshot=D;const T=y.update(D.val());if(void 0===T)y.unwatcher(),y.currentOutputSnapshotRaw=null,y.currentOutputSnapshotResolved=null,y.onComplete&&y.onComplete(null,!1,y.currentInputSnapshot);else{Za("transaction failed: Data returned ",T,y.path),y.status=0;const P=gc(r.transactionQueueTree_,t),W=zl(P)||[];let G;W.push(y),Tg(P,W),"object"==typeof T&&null!==T&&(0,R.r3)(T,".priority")?(G=(0,R.DV)(T,".priority"),(0,R.hu)(za(G),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):G=(kd(r.serverSyncTree_,t)||_t.EMPTY_NODE).getPriority().val();const X=Rh(r),me=Jt(T,G),Me=Th(me,D,X);y.currentOutputSnapshotRaw=me,y.currentOutputSnapshotResolved=Me,y.currentWriteId=Ph(r);const ut=mg(r.serverSyncTree_,t,Me,y.currentWriteId,y.applyLocally);vr(r.eventQueue_,t,ut),Fg(r,r.transactionQueueTree_)}}(r._repo,r._path,t,(T,P,W)=>{let G=null;T?p.reject(T):(G=new qa(W,new Ci(r._repo,r._path),Pt),p.resolve(new hy(P,G)))},D,l),p.promise}(this._delegate,t,{applyLocally:o}).then(p=>new gy(p.committed,new Js(this.database,p.snapshot)));return e&&l.then(p=>e(null,p.committed,p.snapshot),p=>e(p,!1,null)),l}setPriority(t,e){(0,R.Dv)("Reference.setPriority",1,2,arguments.length),(0,R.Wj)("Reference.setPriority","onComplete",e,!0);const o=function sC(r,t){r=(0,R.m9)(r),vi("setPriority",r._path),P_("setPriority",t,!1);const e=new R.BH;return Ng(r._repo,At(r._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&o.then(()=>e(null),l=>e(l)),o}push(t,e){(0,R.Dv)("Reference.push",0,2,arguments.length),(0,R.Wj)("Reference.push","onComplete",e,!0);const o=function G_(r,t){r=(0,R.m9)(r),vi("push",r._path),yi("push",t,r._path,!0);const e=k_(r._repo),o=Cc(e),l=Ya(r,o),p=Ya(r,o);let y;return y=null!=t?Lh(p,t).then(()=>p):Promise.resolve(p),l.then=y.then.bind(y),l.catch=y.then.bind(y,void 0),l}(this._delegate,t),l=o.then(y=>new Ii(this.database,y));e&&l.then(()=>e(null),y=>e(y));const p=new Ii(this.database,o);return p.then=l.then.bind(l),p.catch=l.catch.bind(l,void 0),p}onDisconnect(){return vi("Reference.onDisconnect",this._delegate._path),new F0(new Jl(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class zd{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Zg,forceLongPolling:O0}}useEmulator(t,e,o={}){cy(this._delegate,t,e,o)}ref(t){if((0,R.Dv)("database.ref",0,1,arguments.length),t instanceof Ii){const e=Vg(this._delegate,t.toString());return new Ii(this,e)}{const e=Lg(this._delegate,t);return new Ii(this,e)}}refFromURL(t){(0,R.Dv)("database.refFromURL",1,1,arguments.length);const o=Vg(this._delegate,t);return new Ii(this,o)}goOffline(){return(0,R.Dv)("database.goOffline",0,0,arguments.length),function hC(r){(r=(0,R.m9)(r))._checkNotDeleted("goOffline"),B_(r._repo)}(this._delegate)}goOnline(){return(0,R.Dv)("database.goOnline",0,0,arguments.length),function dy(r){(r=(0,R.m9)(r))._checkNotDeleted("goOnline"),function rC(r){r.persistentConnection_&&r.persistentConnection_.resume(Rg)}(r._repo)}(this._delegate)}}zd.ServerValue={TIMESTAMP:function gC(){return fy}(),increment:r=>function mC(r){return{".sv":{increment:r}}}(r)};var fs=Object.freeze({__proto__:null,initStandalone:function Xs({app:r,url:t,version:e,customAuthImpl:o,namespace:l,nodeAdmin:p=!1}){Oi(e);const y=new ye.zt("auth-internal",new ye.H0("database-standalone"));return y.setComponent(new ye.wA("auth-internal",()=>o,"PRIVATE")),{instance:new zd(ly(r,y,void 0,t,p),r),namespace:l}}});const hs=zd.ServerValue;!function my(r){r.INTERNAL.registerComponent(new ye.wA("database-compat",(t,{instanceIdentifier:e})=>{const o=t.getProvider("app-compat").getImmediate(),l=t.getProvider("database").getImmediate({identifier:e});return new zd(l,o)},"PUBLIC").setServiceProps({Reference:Ii,Query:rn,Database:zd,DataSnapshot:Js,enableLogging:pC,INTERNAL:fs,ServerValue:hs}).setMultipleInstances(!0)),r.registerVersion("@firebase/database-compat","0.3.4")}(q.Z);var Zd=k(5363),DC=k(6063);class wC extends Vr.x{constructor(t=1/0,e=1/0,o=DC.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:o,_infiniteTimeWindow:l,_timestampProvider:p,_windowTime:y}=this;e||(o.push(t),!l&&o.push(p.now()+y)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:o,_buffer:l}=this,p=l.slice();for(let y=0;y<p.length&&!t.closed;y+=o?1:2)t.next(p[y]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:o,_infiniteTimeWindow:l}=this,p=(l?1:2)*t;if(t<1/0&&p<o.length&&o.splice(0,o.length-p),!l){const y=e.now();let D=0;for(let T=1;T<o.length&&o[T]<=y;T+=2)D=T;D&&o.splice(0,D+1)}}}function _y(r,t,e){let o,l=!1;return r&&"object"==typeof r?({bufferSize:o=1/0,windowTime:t=1/0,refCount:l=!1,scheduler:e}=r):o=r??1/0,(0,Nu.B)({connector:()=>new wC(o,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}const Uh=(0,k(3888).d)(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});function tu(r,t){return(0,En.e)((e,o)=>{let l=0;e.subscribe((0,Wn.x)(o,p=>r.call(t,p,l++)&&o.next(p)))})}var TC=k(515);function vy(r=Ey){return(0,En.e)((t,e)=>{let o=!1;t.subscribe((0,Wn.x)(e,l=>{o=!0,e.next(l)},()=>o?e.complete():e.error(r())))})}function Ey(){return new Uh}var Cy=k(576);function qg(r,t){return(0,Cy.m)(t)?Cn(()=>r,t):Cn(()=>r)}var jh=k(9468),Kd=k(259);const Yg=new Map,Ty={activated:!1,tokenObservers:[]},NC={initialized:!1,enabled:!1};function kn(r){return Yg.get(r)||Object.assign({},Ty)}function Gh(){return NC}const Qg="https://content-firebaseappcheck.googleapis.com/v1",FC="exchangeDebugToken",Jg={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ay{constructor(t,e,o,l,p){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=o,this.lowerBound=l,this.upperBound=p,this.pending=null,this.nextErrorWaitInterval=l,l>p)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ue.Z)(function*(){e.stop();try{e.pending=new R.BH,yield function My(r){return new Promise(t=>{setTimeout(t,r)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new R.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(o){e.retryPolicy(o)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const rr=new R.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function zh(r,t){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,Ue.Z)(function*({url:r,body:t},e){const o={"Content-Type":"application/json"},l=e.getImmediate({optional:!0});if(l){const G=yield l.getHeartbeatsHeader();G&&(o["X-Firebase-Client"]=G)}const p={method:"POST",body:JSON.stringify(t),headers:o};let y,D;try{y=yield fetch(r,p)}catch(G){throw rr.create("fetch-network-error",{originalErrorMessage:G?.message})}if(200!==y.status)throw rr.create("fetch-status-error",{httpStatus:y.status});try{D=yield y.json()}catch(G){throw rr.create("fetch-parse-error",{originalErrorMessage:G?.message})}const T=D.ttl.match(/^([\d.]+)(s)$/);if(!T||!T[2]||isNaN(Number(T[1])))throw rr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${D.ttl}`});const P=1e3*Number(T[1]),W=Date.now();return{token:D.token,expireTimeMillis:W+P,issuedAtTimeMillis:W}})).apply(this,arguments)}const G0="firebase-app-check-database",em=1,Zh="firebase-app-check-store";let Qd=null;function ru(r,t){return nm.apply(this,arguments)}function nm(){return(nm=(0,Ue.Z)(function*(r,t){const o=(yield function BC(){return Qd||(Qd=new Promise((r,t)=>{try{const e=indexedDB.open(G0,em);e.onsuccess=o=>{r(o.target.result)},e.onerror=o=>{var l;t(rr.create("storage-open",{originalErrorMessage:null===(l=o.target.error)||void 0===l?void 0:l.message}))},e.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(Zh,{keyPath:"compositeKey"})}}catch(e){t(rr.create("storage-open",{originalErrorMessage:e?.message}))}}),Qd)}()).transaction(Zh,"readwrite"),p=o.objectStore(Zh).put({compositeKey:r,value:t});return new Promise((y,D)=>{p.onsuccess=T=>{y()},o.onerror=T=>{var P;D(rr.create("storage-set",{originalErrorMessage:null===(P=T.target.error)||void 0===P?void 0:P.message}))}})})).apply(this,arguments)}const Kh=new Ct.Yd("@firebase/app-check");function rm(r,t){return(0,R.hl)()?function UC(r,t){return ru(function In(r){return`${r.options.appId}-${r.name}`}(r),t)}(r,t).catch(e=>{Kh.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function sm(){return om.apply(this,arguments)}function om(){return(om=(0,Ue.Z)(function*(){const r=Gh();if(r.enabled&&r.token)return r.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const GC={error:"UNKNOWN_ERROR"};function Xd(r){return R.US.encodeString(JSON.stringify(r),!1)}function Qh(r){return am.apply(this,arguments)}function am(){return(am=(0,Ue.Z)(function*(r,t=!1){const e=r.app;!function Xg(r){if(!kn(r).activated)throw rr.create("use-before-activation",{appName:r.name})}(e);const o=kn(e);let p,l=o.token;if(l&&!Ac(l)&&(o.token=void 0,l=void 0),!l){const T=yield o.cachedTokenPromise;T&&(Ac(T)?l=T:yield rm(e,void 0))}if(!t&&l&&Ac(l))return{token:l.token};let D,y=!1;if(function im(){return Gh().enabled}()){o.exchangeTokenPromise||(o.exchangeTokenPromise=zh(function bc(r,t){const{projectId:e,appId:o,apiKey:l}=r.options;return{url:`${Qg}/projects/${e}/apps/${o}:${FC}?key=${l}`,body:{debug_token:t}}}(e,yield sm()),r.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),y=!0);const T=yield o.exchangeTokenPromise;return yield rm(e,T),o.token=T,{token:T.token}}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),y=!0),l=yield kn(e).exchangeTokenPromise}catch(T){"appCheck/throttled"===T.code?Kh.warn(T.message):Kh.error(T),p=T}return l?p?D=Ac(l)?{token:l.token,internalError:p}:Mc(p):(D={token:l.token},o.token=l,yield rm(e,l)):D=Mc(p),y&&function cm(r,t){const e=kn(r).tokenObservers;for(const o of e)try{"EXTERNAL"===o.type&&null!=t.error?o.error(t.error):o.next(t)}catch{}}(e,D),D})).apply(this,arguments)}function Sc(r,t){const e=kn(r),o=e.tokenObservers.filter(l=>l.next!==t);0===o.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=o}function um(r){const{app:t}=r,e=kn(t);let o=e.tokenRefresher;o||(o=function xy(r){const{app:t}=r;return new Ay((0,Ue.Z)(function*(){let o;if(o=kn(t).token?yield Qh(r,!0):yield Qh(r),o.error)throw o.error;if(o.internalError)throw o.internalError}),()=>!0,()=>{const e=kn(t);if(e.token){let o=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,e.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},Jg.RETRIAL_MIN_WAIT,Jg.RETRIAL_MAX_WAIT)}(r),e.tokenRefresher=o),!o.isRunning()&&e.isTokenAutoRefreshEnabled&&o.start()}function Ac(r){return r.expireTimeMillis-Date.now()>0}function Mc(r){return{token:Xd(GC),error:r}}class ef{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=kn(this.app);for(const e of t)Sc(this.app,e.next);return Promise.resolve()}}const Wy="app-check-internal";!function QC(){(0,Ve._registerComponent)(new ye.wA("app-check",r=>function WC(r,t){return new ef(r,t)}(r.getProvider("app").getImmediate(),r.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,t,e)=>{r.getProvider(Wy).initialize()})),(0,Ve._registerComponent)(new ye.wA(Wy,r=>function zC(r){return{getToken:t=>Qh(r,t),addTokenListener:t=>function lm(r,t,e,o){const{app:l}=r,p=kn(l);if(p.tokenObservers=[...p.tokenObservers,{next:e,error:o,type:t}],p.token&&Ac(p.token)){const D=p.token;Promise.resolve().then(()=>{e({token:D.token}),um(r)}).catch(()=>{})}p.cachedTokenPromise.then(()=>um(r))}(r,"INTERNAL",t),removeTokenListener:t=>Sc(r.app,t)}}(r.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ve.registerVersion)("@firebase/app-check","0.6.5")}();class Xh{constructor(){return(0,S.vb)("app-check")}}typeof window<"u"&&window;var rI=k(9260);const Ky=new h.OlP("angularfire2.auth.use-emulator"),qy=new h.OlP("angularfire2.auth.settings"),Yy=new h.OlP("angularfire2.auth.tenant-id"),Qy=new h.OlP("angularfire2.auth.langugage-code"),Jy=new h.OlP("angularfire2.auth.use-device-language"),Xy=new h.OlP("angularfire.auth.persistence"),pm=(r,t,e,o,l,p,y,D)=>(0,x.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const T=t.runOutsideAngular(()=>r.auth());if(e&&T.useEmulator(...e),o&&(T.tenantId=o),T.languageCode=l,p&&T.useDeviceLanguage(),y)for(const[P,W]of Object.entries(y))T.settings[P]=W;return D&&T.setPersistence(D),T},[e,o,l,p,y,D]);let nf=(()=>{class r{constructor(e,o,l,p,y,D,T,P,W,G,X,me){const Me=new Vr.x,ut=$s(void 0).pipe((0,Zd.Q)(y.outsideAngular),Cn(()=>p.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,6689)))),(0,xn.U)(()=>(0,x.on)(e,p,o)),(0,xn.U)(Ft=>pm(Ft,p,D,P,W,G,T,X)),_y({bufferSize:1,refCount:!1}));if(function co(r){return"server"===r}(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=$s(null);else{ut.pipe(function Hh(r,t){const e=arguments.length>=2;return o=>o.pipe(r?tu((l,p)=>r(l,p,o)):hi.y,function yy(r){return r<=0?()=>TC.E:(0,En.e)((t,e)=>{let o=0;t.subscribe((0,Wn.x)(e,l=>{++o<=r&&(e.next(l),r<=o&&e.complete())}))})}(1),e?function SC(r){return(0,En.e)((t,e)=>{let o=!1;t.subscribe((0,Wn.x)(e,l=>{o=!0,e.next(l)},()=>{o||e.next(r),e.complete()}))})}(t):vy(()=>new Uh))}()).subscribe();const Lt=ut.pipe(Cn(hn=>hn.getRedirectResult().then(ro=>ro,()=>null)),S.iC,_y({bufferSize:1,refCount:!1})),fn=ut.pipe(Cn(hn=>new Po.y(ro=>({unsubscribe:p.runOutsideAngular(()=>hn.onAuthStateChanged(Cf=>ro.next(Cf),Cf=>ro.error(Cf),()=>ro.complete()))})))),$r=ut.pipe(Cn(hn=>new Po.y(ro=>({unsubscribe:p.runOutsideAngular(()=>hn.onIdTokenChanged(Cf=>ro.next(Cf),Cf=>ro.error(Cf),()=>ro.complete()))}))));this.authState=Lt.pipe(qg(fn),(0,jh.R)(y.outsideAngular),(0,Zd.Q)(y.insideAngular)),this.user=Lt.pipe(qg($r),(0,jh.R)(y.outsideAngular),(0,Zd.Q)(y.insideAngular)),this.idToken=this.user.pipe(Cn(hn=>hn?(0,Ta.D)(hn.getIdToken()):$s(null))),this.idTokenResult=this.user.pipe(Cn(hn=>hn?(0,Ta.D)(hn.getIdTokenResult()):$s(null))),this.credential=(0,ei.T)(Lt,Me,this.authState.pipe(tu(hn=>!hn))).pipe((0,xn.U)(hn=>hn?.user?hn:null),(0,jh.R)(y.outsideAngular),(0,Zd.Q)(y.insideAngular))}return(0,x.pX)(this,ut,p,{spy:{apply:(Ft,Lt,fn)=>{(Ft.startsWith("signIn")||Ft.startsWith("createUser"))&&fn.then($r=>Me.next($r))}}})}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(x.Dh),h.LFG(x.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(S.HU),h.LFG(Ky,8),h.LFG(qy,8),h.LFG(Yy,8),h.LFG(Qy,8),h.LFG(Jy,8),h.LFG(Xy,8),h.LFG(Xh,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),sI=(()=>{class r{constructor(){rI.Z.registerVersion("angularfire",S.q4.full,"auth-compat")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({providers:[nf]}),r})();function tv(r){return null==r}function nv(r){return"function"==typeof r.set}function rv(r,t){return nv(t)?t:r.ref(t)}function tp(r,t){if(function oI(r){return"string"==typeof r}(r))return t.stringCase();if(nv(r))return t.firebaseCase();if(function ev(r){return"function"==typeof r.exportVal}(r))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof r)}function iu(r,t,e="on",o=Br.z){return new Po.y(l=>{let p=null;return p=r[e](t,(y,D)=>{o.schedule(()=>{l.next({snapshot:y,prevKey:D})}),"once"===e&&o.schedule(()=>l.complete())},y=>{o.schedule(()=>l.error(y))}),"on"===e?{unsubscribe(){null!=p&&r.off(t,p)}}:{unsubscribe(){}}}).pipe((0,xn.U)(l=>{const{snapshot:p,prevKey:y}=l;let D=null;return p.exists()&&(D=p.key),{type:t,payload:p,prevKey:y,key:D}}),(0,Nu.B)())}function np(r,t){const e=r.length;for(let o=0;o<e;o++)if(r[o].payload.key===t)return o;return-1}function lI(r,t){const{payload:e,prevKey:o,key:l}=t,p=np(r,l),y=function aI(r,t){if(tv(t))return 0;{const e=np(r,t);return-1===e?r.length:e+1}}(r,o);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let D=null;t.payload.forEach(T=>{const P={payload:T,type:"value",prevKey:D,key:T.key};return D=T.key,r=[...r,P],!1})}return r;case"child_added":if(p>-1){const D=r[p-1];(D&&D.key||null)!==o&&(r=r.filter(T=>T.payload.key!==e.key)).splice(y,0,t)}else{if(null==o)return[t,...r];(r=r.slice()).splice(y,0,t)}return r;case"child_removed":return r.filter(D=>D.payload.key!==e.key);case"child_changed":return r.map(D=>D.payload.key===l?t:D);case"child_moved":if(p>-1){const D=r.splice(p,1)[0];return(r=r.slice()).splice(y,0,D),r}return r;default:return r}}function rp(r){return(tv(r)||0===r.length)&&(r=["child_added","child_removed","child_changed","child_moved"]),r}function sv(r,t,e){return function iv(r,t,e){return iu(r,"value","once",e).pipe(Cn(o=>{const l=[$s(o)];return t.forEach(p=>l.push(iu(r,p,"on",e))),(0,ei.T)(...l).pipe(Aa(lI,[]))}),function rd(r,t=hi.y){return r=r??Gs,(0,En.e)((e,o)=>{let l,p=!0;e.subscribe((0,Wn.x)(o,y=>{const D=t(y);(p||!r(l,D))&&(p=!1,l=D,o.next(y))}))})}())}(r,t=rp(t),e)}function gm(r,t,e){const o=(t=rp(t)).map(l=>iu(r,l,"on",e));return(0,ei.T)(...o)}function dI(r,t){return function(o,l){return tp(o,{stringCase:()=>r.child(o)[t](l),firebaseCase:()=>o[t](l),snapshotCase:()=>o.ref[t](l)})}}function ov(r){return function(e){return e?tp(e,{stringCase:()=>r.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):r.remove()}}function av(r,t){return function(){return iu(r,"value","on",t)}}const fI=new h.OlP("angularfire2.realtimeDatabaseURL"),hI=new h.OlP("angularfire2.database.use-emulator");let _m=(()=>{class r{constructor(e,o,l,p,y,D,T,P,W,G,X,me,Me,ut,Ft){this.schedulers=D;const Lt=T,fn=(0,x.on)(e,y,o);P&&pm(fn,y,W,X,me,Me,G,ut),this.database=(0,x.cc)(`${fn.name}.database.${l}`,"AngularFireDatabase",fn.name,()=>{const $r=y.runOutsideAngular(()=>fn.database(l||void 0));return Lt&&$r.useEmulator(...Lt),$r},[Lt])}list(e,o){const l=this.schedulers.ngZone.runOutsideAngular(()=>rv(this.database,e));let p=l;return o&&(p=o(l)),function mm(r,t){const e=t.schedulers.outsideAngular,o=t.schedulers.ngZone.run(()=>r.ref);return{query:r,update:dI(o,"update"),set:dI(o,"set"),push:l=>o.push(l),remove:ov(o),snapshotChanges:l=>sv(r,l,e).pipe(S.iC),stateChanges:l=>gm(r,l,e).pipe(S.iC),auditTrail:l=>function Nc(r,t,e){return function cI(r,t,e){return function uI(r,t){return iu(r,"value","on",t).pipe((0,xn.U)(e=>{let o;return e.payload.forEach(l=>(o=l.key,!1)),{data:e,lastKeyToLoad:o}}))}(r,e).pipe(function C(...r){const t=(0,Dl.jO)(r);return(0,En.e)((e,o)=>{const l=r.length,p=new Array(l);let y=r.map(()=>!1),D=!1;for(let T=0;T<l;T++)(0,wl.Xf)(r[T]).subscribe((0,Wn.x)(o,P=>{p[T]=P,!D&&!y[T]&&(y[T]=!0,(D=y.every(hi.y))&&(y=null))},Ma.Z));e.subscribe((0,Wn.x)(o,T=>{if(D){const P=[T,...p];o.next(t?t(...P):P)}}))})}(t),(0,xn.U)(([l,p])=>{const y=l.lastKeyToLoad,D=p.map(T=>T.key);return{actions:p,lastKeyToLoad:y,loadedKeys:D}}),function I(r){return(0,En.e)((t,e)=>{let o=!1,l=0;t.subscribe((0,Wn.x)(e,p=>(o||(o=!r(p,l++)))&&e.next(p)))})}(l=>-1===l.loadedKeys.indexOf(l.lastKeyToLoad)),(0,xn.U)(l=>l.actions))}(r,gm(r,t).pipe(Aa((l,p)=>[...l,p],[])),e)}(r,l,e).pipe(S.iC),valueChanges:(l,p)=>sv(r,l,e).pipe((0,xn.U)(D=>D.map(T=>p&&p.idField?Object.assign(Object.assign({},T.payload.val()),{[p.idField]:T.key}):T.payload.val())),S.iC)}}(p,this)}object(e){return function lv(r,t){return{query:r,snapshotChanges:()=>av(r,t.schedulers.outsideAngular)().pipe(S.iC),update:e=>r.ref.update(e),set:e=>r.ref.set(e),remove:()=>r.ref.remove(),valueChanges:()=>av(r,t.schedulers.outsideAngular)().pipe(S.iC,(0,xn.U)(o=>o.payload.exists()?o.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>rv(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(x.Dh),h.LFG(x.xv,8),h.LFG(fI,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(S.HU),h.LFG(hI,8),h.LFG(nf,8),h.LFG(Ky,8),h.LFG(qy,8),h.LFG(Yy,8),h.LFG(Qy,8),h.LFG(Jy,8),h.LFG(Xy,8),h.LFG(Xh,8))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),ip=(()=>{class r{constructor(e){this.db=e,this.bugposts=[],this.bugChangedEvent=new Vr.x,this.bugsRef=e.list("bugs"),this.getBugs()}getBugs(){this.bugsRef.valueChanges().subscribe(e=>{this.bugposts=e,this.bugChangedEvent.next(this.bugposts)})}addBug(e){const o=this.db.createPushId();e.id=o.toString(),this.db.object(`bugs/${o}`).set(e)}updateBug(e,o){o.id=e.id,this.bugsRef.update(e.id,o)}deleteBug(e){this.db.object(`bugs/${e.id}`).remove()}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(_m))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function uv(r,t){if(1&r){const e=h.EpF();h.TgZ(0,"div",4),h.NdJ("click",function(){const p=h.CHM(e).$implicit,y=h.oxw();return h.KtG(y.onBugCardClick(p))}),h.TgZ(1,"div",5)(2,"h2",6),h._uU(3),h.qZA(),h.TgZ(4,"p",7),h._uU(5),h.ALo(6,"date"),h.qZA(),h.TgZ(7,"p",7),h._uU(8),h.qZA()()()}if(2&r){const e=t.$implicit;h.xp6(3),h.Oqu(e.title),h.xp6(2),h.hij("Created on: ",h.lcZ(6,3,e.dateCreated),""),h.xp6(3),h.hij("Priority: ",e.priority,"")}}let cv=(()=>{class r{constructor(e){this.bugService=e,this.bugSelected=new h.vpe,this.isEditing=!1,this.bugs=[],this.bugSubscription=new Nn.w0}ngOnInit(){this.bugService.getBugs(),this.bugSubscription=this.bugService.bugChangedEvent.subscribe(e=>{this.bugs=e})}ngOnDestroy(){this.bugSubscription.unsubscribe()}onBugCardClick(e){this.isEditing||this.bugSelected.emit(e)}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(ip))},r.\u0275cmp=h.Xpm({type:r,selectors:[["app-bug-grid"]],inputs:{isEditing:"isEditing"},outputs:{bugSelected:"bugSelected"},decls:5,vars:1,consts:[[1,"font-semibold","text-4xl","mt-[24px]","p-[12px]","2xl:ml-[-48px]","lg:ml-[32px]"],[1,""],[1,"2xl:h-[780px]","2xl:w-[966px]","lg:w-[656px]","lg:h-[742px]","grid","2xl:gap-x-[28px]","lg:gap-x-[6px]","gap-y-[16px]","2xl:p-[21px]","lg:pl-[42px]","lg:pr-[42px]","lg:pb-[24px]","2xl:ml-[-64px]","2xl:grid-cols-3","lg:grid-cols-2","sm:grid-cols-1","pt-12","overflow-y-auto"],["class","\n          text-black 2xl:w-[280px] lg:w-[264px] h-[175px] p-[12px] 2xl:rounded-[24px] lg:rounded-[20px] shadow-lg bg-white flex justify-center items-center scale-100 group \n          transition-all duration-[0.45s] ease-in-out \n\n          hover:bg-black hover:text-white hover:cursor-pointer hover:scale-[1.12] hover:z-100 hover:transition-all ease-in-out ",3,"click",4,"ngFor","ngForOf"],[1,"text-black","2xl:w-[280px]","lg:w-[264px]","h-[175px]","p-[12px]","2xl:rounded-[24px]","lg:rounded-[20px]","shadow-lg","bg-white","flex","justify-center","items-center","scale-100","group","transition-all","duration-[0.45s]","ease-in-out","hover:bg-black","hover:text-white","hover:cursor-pointer","hover:scale-[1.12]","hover:z-100","hover:transition-all","ease-in-out",3,"click"],[1,"flex","flex-col","pl-[12px]","mb-[16px]"],[1,"font-bold","text-lg","w-[250px]","h-10","mb-[48px]","group-hover:text-white","transition","duration-[0.01s]"],[1,"font-semibold","italic","text-gray-500","w-40","text-base","transition","duration-[0.25s]","w-[200px]","group-hover:text-white","transition","duration-[0.25s]"]],template:function(e,o){1&e&&(h.TgZ(0,"h1",0),h._uU(1,"Current Bugs"),h.qZA(),h.TgZ(2,"div",1)(3,"div",2),h.YNc(4,uv,9,5,"div",3),h.qZA()()),2&e&&(h.xp6(4),h.Q6J("ngForOf",o.bugs))},dependencies:[yn,Or]}),r})();const{isArray:gI}=Array,{getPrototypeOf:mI,prototype:_I,keys:yI}=Object;const{isArray:fv}=Array;function iD(r,t){return r.reduce((e,o,l)=>(e[o]=t[l],e),{})}let hv=(()=>{class r{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.Qsj),h.Y36(h.SBq))},r.\u0275dir=h.lG2({type:r}),r})(),su=(()=>{class r extends hv{}return r.\u0275fac=function(){let t;return function(o){return(t||(t=h.n5z(r)))(o||r)}}(),r.\u0275dir=h.lG2({type:r,features:[h.qOj]}),r})();const eo=new h.OlP("NgValueAccessor"),DI={provide:eo,useExisting:(0,h.Gpc)(()=>rf),multi:!0},bI=new h.OlP("CompositionEventMode");let rf=(()=>{class r extends hv{constructor(e,o,l){super(e,o),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function wI(){const r=O()?O().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(bI,8))},r.\u0275dir=h.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&h.NdJ("input",function(p){return o._handleInput(p.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(p){return o._compositionEnd(p.target.value)})},features:[h._Bn([DI]),h.qOj]}),r})();const TI=!1;const Er=new h.OlP("NgValidators"),Qo=new h.OlP("NgAsyncValidators");function mv(r){return function Ja(r){return null==r||("string"==typeof r||Array.isArray(r))&&0===r.length}(r.value)?{required:!0}:null}function sp(r){return null}function Oc(r){return null!=r}function Ev(r){const t=(0,h.QGY)(r)?(0,Ta.D)(r):r;if(TI&&!(0,h.CqO)(t)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof r&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new h.vHH(-1101,e)}return t}function op(r){let t={};return r.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function ps(r,t){return t.map(e=>e(r))}function ap(r){return r.map(t=>function MI(r){return!r.validate}(t)?t:e=>t.validate(e))}function Cm(r){return null!=r?function kc(r){if(!r)return null;const t=r.filter(Oc);return 0==t.length?null:function(e){return op(ps(e,t))}}(ap(r)):null}function Cv(r){if(!r)return null;const t=r.filter(Oc);return 0==t.length?null:function(e){return function CI(...r){const t=(0,Dl.jO)(r),{args:e,keys:o}=function dv(r){if(1===r.length){const t=r[0];if(gI(t))return{args:t,keys:null};if(function rD(r){return r&&"object"==typeof r&&mI(r)===_I}(t)){const e=yI(t);return{args:e.map(o=>t[o]),keys:e}}}return{args:r,keys:null}}(r),l=new Po.y(p=>{const{length:y}=e;if(!y)return void p.complete();const D=new Array(y);let T=y,P=y;for(let W=0;W<y;W++){let G=!1;(0,wl.Xf)(e[W]).subscribe((0,Wn.x)(p,X=>{G||(G=!0,P--),D[W]=X},()=>T--,void 0,()=>{(!T||!G)&&(P||p.next(o?iD(o,D):D),p.complete())}))}});return t?l.pipe(function EI(r){return(0,xn.U)(t=>function vI(r,t){return fv(t)?r(...t):r(t)}(r,t))}(t)):l}(ps(e,t).map(Ev)).pipe((0,xn.U)(op))}}function Im(r){return null!=r?Cv(ap(r)):null}function sf(r,t){return null===r?[t]:Array.isArray(r)?[...r,t]:[r,t]}function Dm(r){return r?Array.isArray(r)?r:[r]:[]}function af(r,t){return Array.isArray(r)?r.includes(t):r===t}function wm(r,t){const e=Dm(t);return Dm(r).forEach(l=>{af(e,l)||e.push(l)}),e}function lp(r,t){return Dm(t).filter(e=>!af(r,e))}class bm{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Cm(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Im(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Cr extends bm{get formDirective(){return null}get path(){return null}}class to extends bm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Tm{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Sm=(()=>{class r extends Tm{constructor(e){super(e)}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(to,2))},r.\u0275dir=h.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&h.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[h.qOj]}),r})(),Am=(()=>{class r extends Tm{constructor(e){super(e)}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(Cr,10))},r.\u0275dir=h.lG2({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,o){2&e&&h.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[h.qOj]}),r})();function Rm(r,t){return r?`with name: '${t}'`:`at index: ${t}`}const Pm=!1,cp="VALID",Nm="INVALID",ou="PENDING",Lc="DISABLED";function au(r){return(cf(r)?r.validators:r)||null}function uf(r,t){return(cf(t)?t.asyncValidators:r)||null}function cf(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class Mv{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===cp}get invalid(){return this.status===Nm}get pending(){return this.status==ou}get disabled(){return this.status===Lc}get enabled(){return this.status!==Lc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(wm(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(wm(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(lp(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(lp(t,this._rawAsyncValidators))}hasValidator(t){return af(this._rawValidators,t)}hasAsyncValidator(t){return af(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ou,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Lc,this.errors=null,this._forEachChild(o=>{o.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=cp,this._forEachChild(o=>{o.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cp||this.status===ou)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Lc:cp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ou,this._hasOwnPendingAsyncValidator=!0;const e=Ev(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((o,l)=>o&&o._find(l),this)}getError(t,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?Lc:this.errors?Nm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ou)?ou:this._anyControlsHaveStatus(Nm)?Nm:cp}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){cf(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function OI(r){return Array.isArray(r)?Cm(r):r||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function kI(r){return Array.isArray(r)?Im(r):r||null}(this._rawAsyncValidators)}}class df extends Mv{constructor(t,e,o){super(au(e),uf(o,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,o={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,o={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function Av(r,t,e){r._forEachChild((o,l)=>{if(void 0===e[l])throw new h.vHH(1002,Pm?function xI(r,t){return`Must supply a value for form control ${Rm(r,t)}`}(t,l):"")})})(this,!0,t),Object.keys(t).forEach(o=>{(function Sv(r,t,e){const o=r.controls;if(!(t?Object.keys(o):o).length)throw new h.vHH(1e3,Pm?function jr(r){return`\n    There are no form controls registered with this ${r?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!o[e])throw new h.vHH(1001,Pm?function Fc(r,t){return`Cannot find form control ${Rm(r,t)}`}(t,e):"")})(this,!0,o),this.controls[o].setValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(o=>{const l=this.controls[o];l&&l.patchValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((o,l)=>{o.reset(t[l],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,o)=>(t[o]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&t(o,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,o]of Object.entries(this.controls))if(this.contains(e)&&t(o))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,o,l)=>((o.enabled||this.disabled)&&(e[l]=o.value),e))}_reduceChildren(t,e){let o=t;return this._forEachChild((l,p)=>{o=e(o,l,p)}),o}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const ff=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>hf}),hf="always";function Vc(r,t,e=hf){pf(r,t),t.valueAccessor.writeValue(r.value),(r.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(r.disabled),function VI(r,t){t.valueAccessor.registerOnChange(e=>{r._pendingValue=e,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&Nv(r,t)})}(r,t),function BI(r,t){const e=(o,l)=>{t.valueAccessor.writeValue(o),l&&t.viewToModelUpdate(o)};r.registerOnChange(e),t._registerOnDestroy(()=>{r._unregisterOnChange(e)})}(r,t),function cD(r,t){t.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&Nv(r,t),"submit"!==r.updateOn&&r.markAsTouched()})}(r,t),function Pv(r,t){if(t.valueAccessor.setDisabledState){const e=o=>{t.valueAccessor.setDisabledState(o)};r.registerOnDisabledChange(e),t._registerOnDestroy(()=>{r._unregisterOnDisabledChange(e)})}}(r,t)}function hp(r,t){r.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function pf(r,t){const e=function of(r){return r._rawValidators}(r);null!==t.validator?r.setValidators(sf(e,t.validator)):"function"==typeof e&&r.setValidators([e]);const o=function Iv(r){return r._rawAsyncValidators}(r);null!==t.asyncValidator?r.setAsyncValidators(sf(o,t.asyncValidator)):"function"==typeof o&&r.setAsyncValidators([o]);const l=()=>r.updateValueAndValidity();hp(t._rawValidators,l),hp(t._rawAsyncValidators,l)}function Nv(r,t){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}const Vv={provide:Cr,useExisting:(0,h.Gpc)(()=>mf)},gf=(()=>Promise.resolve())();let mf=(()=>{class r extends Cr{constructor(e,o,l){super(),this.callSetDisabledState=l,this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new df({},Cm(e),Im(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){gf.then(()=>{const o=this._findContainer(e.path);e.control=o.registerControl(e.name,e.control),Vc(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){gf.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){gf.then(()=>{const o=this._findContainer(e.path),l=new df({});(function xv(r,t){pf(r,t)})(l,e),o.registerControl(e.name,l),l.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){gf.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,o){gf.then(()=>{this.form.get(e.path).setValue(o)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function Fv(r,t){r._syncPendingControls(),t.forEach(e=>{const o=e.control;"submit"===o.updateOn&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(Er,10),h.Y36(Qo,10),h.Y36(ff,8))},r.\u0275dir=h.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,o){1&e&&h.NdJ("submit",function(p){return o.onSubmit(p)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([Vv]),h.qOj]}),r})();function GI(r,t){const e=r.indexOf(t);e>-1&&r.splice(e,1)}function km(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}const WI=class extends Mv{constructor(t=null,e,o){super(au(e),uf(o,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cf(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=km(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){GI(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){GI(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){km(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Bv={provide:to,useExisting:(0,h.Gpc)(()=>yf)},_f=(()=>Promise.resolve())();let yf=(()=>{class r extends to{constructor(e,o,l,p,y,D){super(),this._changeDetectorRef=y,this.callSetDisabledState=D,this.control=new WI,this._registered=!1,this.update=new h.vpe,this._parent=e,this._setValidators(o),this._setAsyncValidators(l),this.valueAccessor=function gp(r,t){if(!t)return null;let e,o,l;return Array.isArray(t),t.forEach(p=>{p.constructor===rf?e=p:function kv(r){return Object.getPrototypeOf(r.constructor)===su}(p)?o=p:l=p}),l||o||e||null}(0,p)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const o=e.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function Om(r,t){if(!r.hasOwnProperty("model"))return!1;const e=r.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Vc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){_f.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const o=e.isDisabled.currentValue,l=0!==o&&(0,h.D6c)(o);_f.then(()=>{l&&!this.control.disabled?this.control.disable():!l&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function fp(r,t){return[...t.path,r]}(e,this._parent):[e]}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(Cr,9),h.Y36(Er,10),h.Y36(Qo,10),h.Y36(eo,10),h.Y36(h.sBO,8),h.Y36(ff,8))},r.\u0275dir=h.lG2({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([Bv]),h.qOj,h.TTD]}),r})(),_p=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=h.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})(),KI=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({}),r})();const gs={provide:eo,useExisting:(0,h.Gpc)(()=>vp),multi:!0};function $v(r,t){return null==r?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${r}: ${t}`.slice(0,50))}let vp=(()=>{class r extends su{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const l=$v(this._getOptionId(e),e);this.setProperty("value",l)}registerOnChange(e){this.onChange=o=>{this.value=this._getOptionValue(o),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o),e))return o;return null}_getOptionValue(e){const o=function Um(r){return r.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o):e}}return r.\u0275fac=function(){let t;return function(o){return(t||(t=h.n5z(r)))(o||r)}}(),r.\u0275dir=h.lG2({type:r,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,o){1&e&&h.NdJ("change",function(p){return o.onChange(p.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[h._Bn([gs]),h.qOj]}),r})(),XI=(()=>{class r{constructor(e,o,l){this._element=e,this._renderer=o,this._select=l,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue($v(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(vp,9))},r.\u0275dir=h.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})();const $i={provide:eo,useExisting:(0,h.Gpc)(()=>jm),multi:!0};function Gv(r,t){return null==r?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${r}: ${t}`.slice(0,50))}let jm=(()=>{class r extends su{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let o;if(this.value=e,Array.isArray(e)){const l=e.map(p=>this._getOptionId(p));o=(p,y)=>{p._setSelected(l.indexOf(y.toString())>-1)}}else o=(l,p)=>{l._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(e){this.onChange=o=>{const l=[],p=o.selectedOptions;if(void 0!==p){const y=p;for(let D=0;D<y.length;D++){const P=this._getOptionValue(y[D].value);l.push(P)}}else{const y=o.options;for(let D=0;D<y.length;D++){const T=y[D];if(T.selected){const P=this._getOptionValue(T.value);l.push(P)}}}this.value=l,e(l)}}_registerOption(e){const o=(this._idCounter++).toString();return this._optionMap.set(o,e),o}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o)._value,e))return o;return null}_getOptionValue(e){const o=function Hm(r){return r.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o)._value:e}}return r.\u0275fac=function(){let t;return function(o){return(t||(t=h.n5z(r)))(o||r)}}(),r.\u0275dir=h.lG2({type:r,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,o){1&e&&h.NdJ("change",function(p){return o.onChange(p.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[h._Bn([$i]),h.qOj]}),r})(),Ep=(()=>{class r{constructor(e,o,l){this._element=e,this._renderer=o,this._select=l,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Gv(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Gv(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(jm,9))},r.\u0275dir=h.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})(),lu=(()=>{class r{constructor(){this._validator=sp}ngOnChanges(e){if(this.inputName in e){const o=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):sp,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=h.lG2({type:r,features:[h.TTD]}),r})();const t0={provide:Er,useExisting:(0,h.Gpc)(()=>Di),multi:!0};let Di=(()=>{class r extends lu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=h.D6c,this.createValidator=e=>mv}enabled(e){return e}}return r.\u0275fac=function(){let t;return function(o){return(t||(t=h.n5z(r)))(o||r)}}(),r.\u0275dir=h.lG2({type:r,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,o){2&e&&h.uIk("required",o._enabled?"":null)},inputs:{required:"required"},features:[h._Bn([t0]),h.qOj]}),r})(),Yv=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[KI]}),r})(),Jv=(()=>{class r{static withConfig(e){return{ngModule:r,providers:[{provide:ff,useValue:e.callSetDisabledState??hf}]}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({imports:[Yv]}),r})();function Ip(r,t){if(1&r){const e=h.EpF();h.TgZ(0,"button",10),h.NdJ("click",function(){h.CHM(e);const l=h.oxw();return h.KtG(l.createBug())}),h._uU(1," Create New Bug "),h.qZA()}}function eE(r,t){if(1&r){const e=h.EpF();h.TgZ(0,"div",11)(1,"button",12),h.NdJ("click",function(){h.CHM(e);const l=h.oxw();return h.KtG(l.editBug())}),h._uU(2," Edit "),h.qZA(),h.TgZ(3,"button",13),h.NdJ("click",function(){h.CHM(e);const l=h.oxw();return h.KtG(l.deleteBug())}),h._uU(4," Delete "),h.qZA()()}}function d0(r,t){if(1&r&&(h.TgZ(0,"h1",14),h._uU(1),h.qZA()),2&r){const e=h.oxw();h.xp6(1),h.Oqu(null==e.selectedBug?null:e.selectedBug.title)}}function f0(r,t){1&r&&(h.TgZ(0,"h4",29),h._uU(1,"Please Add a Title"),h.qZA())}function wD(r,t){1&r&&(h.TgZ(0,"h4",29),h._uU(1,"Please Select a Priority"),h.qZA())}function bD(r,t){if(1&r){const e=h.EpF();h.TgZ(0,"div",30)(1,"button",12),h.NdJ("click",function(){h.CHM(e),h.oxw();const l=h.MAs(1),p=h.oxw();return h.KtG(p.saveBug(l))}),h._uU(2," Save "),h.qZA(),h.TgZ(3,"button",12),h.NdJ("click",function(){h.CHM(e);const l=h.oxw(2);return h.KtG(l.cancelEdit())}),h._uU(4," Cancel "),h.qZA()()}}function TD(r,t){if(1&r&&(h.TgZ(0,"form",15,16)(2,"div")(3,"div",0)(4,"label",17),h._uU(5,"Title:"),h.qZA(),h.YNc(6,f0,2,0,"h4",18),h.qZA(),h.TgZ(7,"div",19),h._UZ(8,"input",20,21),h.qZA()(),h.TgZ(10,"div")(11,"div",0)(12,"label",17),h._uU(13,"Priority:"),h.qZA(),h.YNc(14,wD,2,0,"h4",18),h.qZA(),h.TgZ(15,"div",19)(16,"select",22,23)(18,"option",24),h._uU(19,"Low"),h.qZA(),h.TgZ(20,"option",25),h._uU(21,"Medium"),h.qZA(),h.TgZ(22,"option",26),h._uU(23,"High"),h.qZA()()()(),h.TgZ(24,"div")(25,"label",17),h._uU(26,"Description:"),h.qZA(),h.TgZ(27,"div",19)(28,"textarea",27),h._uU(29),h.qZA()()(),h.YNc(30,bD,5,0,"div",28),h.qZA()),2&r){const e=h.MAs(9),o=h.MAs(17),l=h.oxw();h.xp6(6),h.Q6J("ngIf",e.touched&&e.invalid),h.xp6(2),h.Q6J("ngModel",null==l.selectedBug?null:l.selectedBug.title),h.xp6(6),h.Q6J("ngIf",o.touched&&o.invalid),h.xp6(2),h.Q6J("ngModel",null==l.selectedBug?null:l.selectedBug.priority),h.xp6(12),h.Q6J("ngModel",null==l.selectedBug?null:l.selectedBug.description),h.xp6(1),h.hij("\n            ",null==l.selectedBug?null:l.selectedBug.description,"\n          "),h.xp6(1),h.Q6J("ngIf",l.isEditMode||l.isCreating)}}function tE(r,t){1&r&&(h.TgZ(0,"h3",31),h._uU(1,"Created on:"),h.qZA())}function h0(r,t){if(1&r&&(h.TgZ(0,"h4",32),h._uU(1),h.qZA()),2&r){const e=h.oxw();h.xp6(1),h.Oqu(null==e.selectedBug?null:e.selectedBug.dateCreated)}}function p0(r,t){1&r&&(h.TgZ(0,"h3",31),h._uU(1,"Priority:"),h.qZA())}function g0(r,t){if(1&r&&(h.TgZ(0,"h4",32),h._uU(1),h.qZA()),2&r){const e=h.oxw();h.xp6(1),h.Oqu(null==e.selectedBug?null:e.selectedBug.priority)}}function SD(r,t){1&r&&(h.TgZ(0,"h3",31),h._uU(1,"Description:"),h.qZA())}function AD(r,t){if(1&r&&(h.TgZ(0,"h4",32),h._uU(1),h.qZA()),2&r){const e=h.oxw();h.xp6(1),h.Oqu(null==e.selectedBug?null:e.selectedBug.description)}}let MD=(()=>{class r{constructor(e){this.bugService=e,this.selectedBug=null,this.previousBug=null,this.bugCreated=new h.vpe,this.isEditingBug=new h.vpe,this.newBug={id:"",title:"",priority:"",dateCreated:(new Date).toDateString(),description:""},this.isEditMode=!1,this.isCreating=!1,this.bugTitle="",this.bugPriority="",this.bugDescription=""}ngOnInit(){}createBug(){this.isCreating||((null==this.previousBug||null!=this.previousBug)&&(this.previousBug=this.selectedBug),this.selectedBug=null,this.isCreating=!0),this.isEditingBug.emit(this.isCreating)}saveBug(e){e.invalid?console.log("All fields must be filled out before submitting"):(this.isCreating?(this.newBug={id:"",title:e.value.title,priority:e.value.priority,dateCreated:(new Date).toDateString(),description:e.value.description},this.bugCreated.emit(this.newBug),this.bugService.addBug(this.newBug)):this.selectedBug&&(this.bugTitle=e.value.title,this.bugPriority=e.value.priority,this.bugDescription=null!=e.value.description?e.value.description:this.selectedBug.description,this.newBug={id:"",title:this.bugTitle,priority:this.bugPriority,dateCreated:this.selectedBug.dateCreated,description:this.bugDescription},this.bugCreated.emit(this.newBug),this.bugService.updateBug(this.selectedBug,this.newBug),this.selectedBug=this.newBug),this.isEditMode=!1,this.isCreating=!1)}deleteBug(){this.selectedBug&&(this.bugService.deleteBug(this.selectedBug),this.selectedBug=null)}editBug(){this.isEditMode=!0,this.isEditingBug.emit(this.isEditMode)}cancelEdit(){this.isEditMode&&(this.isEditMode=!1,this.isEditingBug.emit(this.isEditMode)),this.isCreating&&(this.isCreating=!1,null!=this.previousBug&&(this.selectedBug=this.previousBug),this.isEditingBug.emit(this.isCreating))}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(ip))},r.\u0275cmp=h.Xpm({type:r,selectors:[["app-bug-detail"]],inputs:{selectedBug:"selectedBug",previousBug:"previousBug"},outputs:{bugCreated:"bugCreated",isEditingBug:"isEditingBug"},decls:15,vars:10,consts:[[1,"flex","flex-row"],[1,"font-semibold","text-4xl","mt-[24px]","p-[12px]"],["class","\n    absolute 2xl:ml-[632px] lg:ml-[476px] mt-[32px] font-medium text-xl text-black w-[264px] h-[56px] p-[12px] rounded-[20px] shadow-lg bg-white flex justify-center align-middle transition-all duration-[0.45s] ease-in-out scale-100\n            \n    hover:bg-black hover:text-white hover:cursor-pointer hover:scale-[1.12] hover:z-100 hover:transition-all ease-in-out",3,"click",4,"ngIf"],[1,"2xl:w-[896px]","lg:w-auto","2xl:h-[776px]","lg:h-[724px]","bg-white","rounded-[24px]","mt-[20px]","border-2"],["class","absolute flex flex-row gap-x-[18px] 2xl:ml-[432px] lg:ml-[300px] mt-[680px] p-[12px] z-10",4,"ngIf"],[1,"pt-[18px]","p-[22px]"],["class","font-semibold text-black text-4xl w-[696px] pb-12",4,"ngIf"],["class","pt-[24px] flex flex-col gap-8",4,"ngIf"],["class","font-semibold text-xl text-black pt-[8px]",4,"ngIf"],["class","font-semibold italic text-base text-gray-500 pt-[8px]",4,"ngIf"],[1,"absolute","2xl:ml-[632px]","lg:ml-[476px]","mt-[32px]","font-medium","text-xl","text-black","w-[264px]","h-[56px]","p-[12px]","rounded-[20px]","shadow-lg","bg-white","flex","justify-center","align-middle","transition-all","duration-[0.45s]","ease-in-out","scale-100","hover:bg-black","hover:text-white","hover:cursor-pointer","hover:scale-[1.12]","hover:z-100","hover:transition-all","ease-in-out",3,"click"],[1,"absolute","flex","flex-row","gap-x-[18px]","2xl:ml-[432px]","lg:ml-[300px]","mt-[680px]","p-[12px]","z-10"],[1,"font-semibold","text-xl","text-black","w-[196px]","h-[56px]","p-[12px]","rounded-[20px]","shadow-lg","bg-white","flex","justify-center","align-middle","transition-all","duration-[0.45s]","ease-in-out","scale-100","pb-[24px]","mb-[18px]","hover:bg-black","hover:text-white","hover:cursor-pointer","hover:scale-[1.12]","hover:z-100","hover:transition-all","ease-in-out",3,"click"],[1,"font-semibold","text-xl","text-black","w-[196px]","h-[56px]","p-[12px]","rounded-[20px]","shadow-lg","bg-white","flex","justify-center","align-middle","transition-all","duration-[0.45s]","ease-in-out","scale-100","hover:bg-black","hover:text-white","hover:cursor-pointer","hover:scale-[1.12]","hover:z-100","hover:transition-all","ease-in-out",3,"click"],[1,"font-semibold","text-black","text-4xl","w-[696px]","pb-12"],[1,"pt-[24px]","flex","flex-col","gap-8"],["bugForm","ngForm"],[1,"p-[8px]","text-xl","text-black","font-semibold"],["class","p-[9px] font-semibold text-lg text-pink-600 ml-[5px]",4,"ngIf"],[1,"form-group"],["type","text","name","title","placeholder","Enter title","required","",1,"font-semibold","text-xl","text-black","2xl:w-[848px]","lg:w-[696px]","h-[56px]","p-[12px]","ml-[2px]","mt-[12px]","rounded-[18px]","bg-gray-100","invalid:border-2","border-pink-500","invalid:text-pink-600",3,"ngModel"],["title","ngModel"],["name","priority","required","",1,"appearance-none","focus:outline-none","font-semibold","text-xl","text-black","2xl:w-[848px]","lg:w-[676px]","h-[56px]","p-[12px]","ml-[2px]","mt-[12px]","rounded-[18px]","bg-gray-100","invalid:border-2","border-pink-500",3,"ngModel"],["priority","ngModel"],["value","low"],["value","medium"],["value","high"],["name","description","placeholder","Enter description",1,"appearance-none","resize-none","font-semibold","text-xl","text-black","2xl:w-[848px]","lg:w-[632px]","xl:h-[248px]","lg:h-[200px]","p-[12px]","ml-[2px]","mt-[12px]","rounded-[18px]","bg-gray-100","invalid:border-2","border-pink-500",3,"ngModel"],["class","absolute flex flex-row gap-x-[24px] mt-[638px] p-[12px] z-10",4,"ngIf"],[1,"p-[9px]","font-semibold","text-lg","text-pink-600","ml-[5px]"],[1,"absolute","flex","flex-row","gap-x-[24px]","mt-[638px]","p-[12px]","z-10"],[1,"font-semibold","text-xl","text-black","pt-[8px]"],[1,"font-semibold","italic","text-base","text-gray-500","pt-[8px]"]],template:function(e,o){1&e&&(h.TgZ(0,"div",0)(1,"h1",1),h._uU(2,"Bug Details "),h.qZA(),h.YNc(3,Ip,2,0,"button",2),h.qZA(),h.TgZ(4,"div",3),h.YNc(5,eE,5,0,"div",4),h.TgZ(6,"div",5),h.YNc(7,d0,2,1,"h1",6),h.YNc(8,TD,31,7,"form",7),h.YNc(9,tE,2,0,"h3",8),h.YNc(10,h0,2,1,"h4",9),h.YNc(11,p0,2,0,"h3",8),h.YNc(12,g0,2,1,"h4",9),h.YNc(13,SD,2,0,"h3",8),h.YNc(14,AD,2,1,"h4",9),h.qZA()()),2&e&&(h.xp6(3),h.Q6J("ngIf",!o.isEditMode&&!o.isCreating),h.xp6(2),h.Q6J("ngIf",!o.isEditMode&&!o.isCreating&&o.selectedBug),h.xp6(2),h.Q6J("ngIf",!o.isEditMode&&!o.isCreating),h.xp6(1),h.Q6J("ngIf",o.isEditMode||o.isCreating),h.xp6(1),h.Q6J("ngIf",!o.isEditMode&&!o.isCreating&&o.selectedBug),h.xp6(1),h.Q6J("ngIf",!o.isEditMode&&!o.isCreating),h.xp6(1),h.Q6J("ngIf",!o.isEditMode&&!o.isCreating&&o.selectedBug),h.xp6(1),h.Q6J("ngIf",!o.isEditMode&&!o.isCreating),h.xp6(1),h.Q6J("ngIf",!o.isEditMode&&!o.isCreating&&o.selectedBug),h.xp6(1),h.Q6J("ngIf",!o.isEditMode&&!o.isCreating))},dependencies:[ii,_p,XI,Ep,rf,vp,Sm,Am,Di,yf,mf]}),r})();function RD(r,t){1&r&&(h.TgZ(0,"h4",11),h._uU(1,"Email or Password is Incorrect."),h.qZA())}let PD=(()=>{class r{constructor(e){this.afAuth=e,this.email="",this.password="",this.hasError=!1,this.loggedIn=new h.vpe}onSignIn(){this.afAuth.signInWithEmailAndPassword(this.email,this.password).then(()=>{this.hasError=!1,this.loggedIn.emit(!0)}).catch(e=>{this.hasError=!0,console.log(e.message)})}}return r.\u0275fac=function(e){return new(e||r)(h.Y36(nf))},r.\u0275cmp=h.Xpm({type:r,selectors:[["app-login-form"]],outputs:{loggedIn:"loggedIn"},decls:15,vars:10,consts:[[1,"mx-auto","w-[640px]","h-[480px]","bg-white","mt-[200px]","shadow-3xl","rounded-[24px]","border"],[1,"p-12"],[1,"text-black","font-semibold","text-4xl","text-center"],["class","p-[9px] font-semibold text-lg text-pink-600 ml-[132px]",4,"ngIf"],[1,"mb-4"],["for","email",1,"block","font-bold","mb-2"],["placeholder","123@email.com","type","email","id","email","name","email","required","",3,"ngModel","ngModelChange"],[1,"mb-6"],["for","password",1,"block","font-bold","mb-2"],["placeholder","Password","type","password","id","password","name","password","required","",3,"ngModel","ngModelChange"],[1,"absolute","ml-[100px]","mt-[32px]","font-medium","text-xl","text-white","w-[332px]","h-[56px]","p-[12px]","rounded-[56px]","shadow-lg","enabled:bg-[#087f5b]","disabled:","bg-gray-500","flex","justify-center","align-middle","transition-all","duration-[0.45s]","ease-in-out","scale-100","enabled:hover:bg-[#37b24d]","enabled:hover:text-white","enabled:hover:cursor-pointer","enabled:hover:scale-[1.12]","enabled:hover:z-100","enabled:hover:transition-all","ease-in-out",3,"disabled","click"],[1,"p-[9px]","font-semibold","text-lg","text-pink-600","ml-[132px]"]],template:function(e,o){1&e&&(h.TgZ(0,"form",0)(1,"div",1)(2,"h1",2),h._uU(3,"Login"),h.qZA(),h.YNc(4,RD,2,0,"h4",3),h.TgZ(5,"div",4)(6,"label",5),h._uU(7," Email "),h.qZA(),h.TgZ(8,"input",6),h.NdJ("ngModelChange",function(p){return o.email=p}),h.qZA()(),h.TgZ(9,"div",7)(10,"label",8),h._uU(11," Password "),h.qZA(),h.TgZ(12,"input",9),h.NdJ("ngModelChange",function(p){return o.password=p}),h.qZA()(),h.TgZ(13,"button",10),h.NdJ("click",function(){return o.onSignIn()}),h._uU(14," Login "),h.qZA()()()),2&e&&(h.xp6(4),h.Q6J("ngIf",o.hasError),h.xp6(4),h.Gre("\n                w-full h-[56px] px-3 py-2 border rounded-[16px] font-semibold text-xl text-black z-0 ",o.hasError?"border-2 border-pink-500":"",""),h.Q6J("ngModel",o.email),h.xp6(4),h.Gre("\n            w-full h-[56px] px-3 py-2 border rounded-[16px] font-semibold text-xl text-black ",o.hasError?"border-2 border-pink-500":"",""),h.Q6J("ngModel",o.password),h.xp6(1),h.Q6J("disabled",!o.email||!o.password))},dependencies:[ii,_p,rf,Sm,Am,Di,yf,mf],encapsulation:2}),r})();function m0(r,t){if(1&r){const e=h.EpF();h.ynx(0),h.TgZ(1,"div",2)(2,"app-bug-detail",3),h.NdJ("isEditingBug",function(l){h.CHM(e);const p=h.oxw();return h.KtG(p.editingBug=l)}),h.qZA(),h.TgZ(3,"app-bug-grid",4),h.NdJ("bugSelected",function(l){h.CHM(e);const p=h.oxw();return h.KtG(p.selectedBug=l)}),h.qZA()(),h.BQk()}if(2&r){const e=h.oxw();h.xp6(2),h.Q6J("selectedBug",e.selectedBug),h.xp6(1),h.Q6J("isEditing",e.editingBug)}}function Dp(r,t){if(1&r){const e=h.EpF();h.TgZ(0,"app-login-form",5),h.NdJ("loggedIn",function(){h.CHM(e);const l=h.oxw();return h.KtG(l.isLoggedIn=!0)}),h.qZA()}}let _0=(()=>{class r{constructor(){this.title="bug-tracker",this.selectedBug=null,this.editingBug=!1,this.isLoggedIn=!1}onBugSelected(e){this.selectedBug=e}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=h.Xpm({type:r,selectors:[["app-root"]],decls:4,vars:2,consts:[[4,"ngIf","ngIfElse"],["loginForm",""],[1,"grid","grid-cols-2","w-auto","justify-content-center","content-center"],[1,"mx-auto","ml-6",3,"selectedBug","isEditingBug"],[1,"mx-auto",3,"isEditing","bugSelected"],[3,"loggedIn"]],template:function(e,o){if(1&e&&(h.TgZ(0,"body"),h.YNc(1,m0,4,2,"ng-container",0),h.YNc(2,Dp,1,0,"ng-template",null,1,h.W1O),h.qZA()),2&e){const l=h.MAs(3);h.xp6(1),h.Q6J("ngIf",o.isLoggedIn)("ngIfElse",l)}},dependencies:[ii,cv,MD,PD],styles:['@import"https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap";[_ngcontent-%COMP%]:root{--font: "Noto Sans JP"}']}),r})();var nE=k(5577);class no{}class wp{}class ms{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const o=e.indexOf(":");if(o>0){const l=e.slice(0,o),p=l.toLowerCase(),y=e.slice(o+1).trim();this.maybeSetNormalizedName(l,p),this.headers.has(p)?this.headers.get(p).push(y):this.headers.set(p,[y])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let o=t[e];const l=e.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(l,o),this.maybeSetNormalizedName(e,l))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ms?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ms;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ms?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let o=t.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(t.name,e);const l=("a"===t.op?this.headers.get(e):void 0)||[];l.push(...o),this.headers.set(e,l);break;case"d":const p=t.value;if(p){let y=this.headers.get(e);if(!y)return;y=y.filter(D=>-1===p.indexOf(D)),0===y.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,y)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class y0{encodeKey(t){return v0(t)}encodeValue(t){return v0(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const qm=/%(\d[a-f0-9])/gi,bp={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function v0(r){return encodeURIComponent(r).replace(qm,(t,e)=>bp[e]??t)}function Ym(r){return`${r}`}class uu{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new y0,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Km(r,t){const e=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(l=>{const p=l.indexOf("="),[y,D]=-1==p?[t.decodeKey(l),""]:[t.decodeKey(l.slice(0,p)),t.decodeValue(l.slice(p+1))],T=e.get(y)||[];T.push(D),e.set(y,T)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const o=t.fromObject[e],l=Array.isArray(o)?o.map(Ym):[Ym(o)];this.map.set(e,l)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(o=>{const l=t[o];Array.isArray(l)?l.forEach(p=>{e.push({param:o,value:p,op:"a"})}):e.push({param:o,value:l,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(o=>e+"="+this.encoder.encodeValue(o)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new uu({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Ym(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let o=this.map.get(t.param)||[];const l=o.indexOf(Ym(t.value));-1!==l&&o.splice(l,1),o.length>0?this.map.set(t.param,o):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class sE{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function oE(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function aE(r){return typeof Blob<"u"&&r instanceof Blob}function lE(r){return typeof FormData<"u"&&r instanceof FormData}class Bc{constructor(t,e,o,l){let p;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function E0(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||l?(this.body=void 0!==o?o:null,p=l):p=o,p&&(this.reportProgress=!!p.reportProgress,this.withCredentials=!!p.withCredentials,p.responseType&&(this.responseType=p.responseType),p.headers&&(this.headers=p.headers),p.context&&(this.context=p.context),p.params&&(this.params=p.params)),this.headers||(this.headers=new ms),this.context||(this.context=new sE),this.params){const y=this.params.toString();if(0===y.length)this.urlWithParams=e;else{const D=e.indexOf("?");this.urlWithParams=e+(-1===D?"?":D<e.length-1?"&":"")+y}}else this.params=new uu,this.urlWithParams=e}serializeBody(){return null===this.body?null:oE(this.body)||aE(this.body)||lE(this.body)||function uE(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof uu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||lE(this.body)?null:aE(this.body)?this.body.type||null:oE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof uu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,o=t.url||this.url,l=t.responseType||this.responseType,p=void 0!==t.body?t.body:this.body,y=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,D=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let T=t.headers||this.headers,P=t.params||this.params;const W=t.context??this.context;return void 0!==t.setHeaders&&(T=Object.keys(t.setHeaders).reduce((G,X)=>G.set(X,t.setHeaders[X]),T)),t.setParams&&(P=Object.keys(t.setParams).reduce((G,X)=>G.set(X,t.setParams[X]),P)),new Bc(e,o,p,{params:P,headers:T,context:W,reportProgress:D,responseType:l,withCredentials:y})}}var Fn=(()=>((Fn=Fn||{})[Fn.Sent=0]="Sent",Fn[Fn.UploadProgress=1]="UploadProgress",Fn[Fn.ResponseHeader=2]="ResponseHeader",Fn[Fn.DownloadProgress=3]="DownloadProgress",Fn[Fn.Response=4]="Response",Fn[Fn.User=5]="User",Fn))();class Qm{constructor(t,e=200,o="OK"){this.headers=t.headers||new ms,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||o,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Jm extends Qm{constructor(t={}){super(t),this.type=Fn.ResponseHeader}clone(t={}){return new Jm({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Ef extends Qm{constructor(t={}){super(t),this.type=Fn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Ef({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Tp extends Qm{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function cE(r,t){return{body:t,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let dE=(()=>{class r{constructor(e){this.handler=e}request(e,o,l={}){let p;if(e instanceof Bc)p=e;else{let T,P;T=l.headers instanceof ms?l.headers:new ms(l.headers),l.params&&(P=l.params instanceof uu?l.params:new uu({fromObject:l.params})),p=new Bc(e,o,void 0!==l.body?l.body:null,{headers:T,context:l.context,params:P,reportProgress:l.reportProgress,responseType:l.responseType||"json",withCredentials:l.withCredentials})}const y=$s(p).pipe(function rE(r,t){return(0,Cy.m)(t)?(0,nE.z)(r,t,1):(0,nE.z)(r,1)}(T=>this.handler.handle(T)));if(e instanceof Bc||"events"===l.observe)return y;const D=y.pipe(tu(T=>T instanceof Ef));switch(l.observe||"body"){case"body":switch(p.responseType){case"arraybuffer":return D.pipe((0,xn.U)(T=>{if(null!==T.body&&!(T.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return T.body}));case"blob":return D.pipe((0,xn.U)(T=>{if(null!==T.body&&!(T.body instanceof Blob))throw new Error("Response is not a Blob.");return T.body}));case"text":return D.pipe((0,xn.U)(T=>{if(null!==T.body&&"string"!=typeof T.body)throw new Error("Response is not a string.");return T.body}));default:return D.pipe((0,xn.U)(T=>T.body))}case"response":return D;default:throw new Error(`Unreachable: unhandled observe type ${l.observe}}`)}}delete(e,o={}){return this.request("DELETE",e,o)}get(e,o={}){return this.request("GET",e,o)}head(e,o={}){return this.request("HEAD",e,o)}jsonp(e,o){return this.request("JSONP",e,{params:(new uu).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,o={}){return this.request("OPTIONS",e,o)}patch(e,o,l={}){return this.request("PATCH",e,cE(l,o))}post(e,o,l={}){return this.request("POST",e,cE(l,o))}put(e,o,l={}){return this.request("PUT",e,cE(l,o))}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(no))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();function Sp(r,t){return t(r)}function C0(r,t){return(e,o)=>t.intercept(e,{handle:l=>r(l,o)})}const ND=new h.OlP("HTTP_INTERCEPTORS"),Ap=new h.OlP("HTTP_INTERCEPTOR_FNS");function D0(){let r=null;return(t,e)=>(null===r&&(r=((0,h.f3M)(ND,{optional:!0})??[]).reduceRight(C0,Sp)),r(t,e))}let fE=(()=>{class r extends no{constructor(e,o){super(),this.backend=e,this.injector=o,this.chain=null}handle(e){if(null===this.chain){const o=Array.from(new Set(this.injector.get(Ap)));this.chain=o.reduceRight((l,p)=>function I0(r,t,e){return(o,l)=>e.runInContext(()=>t(o,p=>r(p,l)))}(l,p,this.injector),Sp)}return this.chain(e,o=>this.backend.handle(o))}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(wp),h.LFG(h.lqb))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();const VD=/^\)\]\}',?\n/;let i=(()=>{class r{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Po.y(o=>{const l=this.xhrFactory.build();if(l.open(e.method,e.urlWithParams),e.withCredentials&&(l.withCredentials=!0),e.headers.forEach((me,Me)=>l.setRequestHeader(me,Me.join(","))),e.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const me=e.detectContentTypeHeader();null!==me&&l.setRequestHeader("Content-Type",me)}if(e.responseType){const me=e.responseType.toLowerCase();l.responseType="json"!==me?me:"text"}const p=e.serializeBody();let y=null;const D=()=>{if(null!==y)return y;const me=l.statusText||"OK",Me=new ms(l.getAllResponseHeaders()),ut=function n(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(l)||e.url;return y=new Jm({headers:Me,status:l.status,statusText:me,url:ut}),y},T=()=>{let{headers:me,status:Me,statusText:ut,url:Ft}=D(),Lt=null;204!==Me&&(Lt=typeof l.response>"u"?l.responseText:l.response),0===Me&&(Me=Lt?200:0);let fn=Me>=200&&Me<300;if("json"===e.responseType&&"string"==typeof Lt){const $r=Lt;Lt=Lt.replace(VD,"");try{Lt=""!==Lt?JSON.parse(Lt):null}catch(hn){Lt=$r,fn&&(fn=!1,Lt={error:hn,text:Lt})}}fn?(o.next(new Ef({body:Lt,headers:me,status:Me,statusText:ut,url:Ft||void 0})),o.complete()):o.error(new Tp({error:Lt,headers:me,status:Me,statusText:ut,url:Ft||void 0}))},P=me=>{const{url:Me}=D(),ut=new Tp({error:me,status:l.status||0,statusText:l.statusText||"Unknown Error",url:Me||void 0});o.error(ut)};let W=!1;const G=me=>{W||(o.next(D()),W=!0);let Me={type:Fn.DownloadProgress,loaded:me.loaded};me.lengthComputable&&(Me.total=me.total),"text"===e.responseType&&l.responseText&&(Me.partialText=l.responseText),o.next(Me)},X=me=>{let Me={type:Fn.UploadProgress,loaded:me.loaded};me.lengthComputable&&(Me.total=me.total),o.next(Me)};return l.addEventListener("load",T),l.addEventListener("error",P),l.addEventListener("timeout",P),l.addEventListener("abort",P),e.reportProgress&&(l.addEventListener("progress",G),null!==p&&l.upload&&l.upload.addEventListener("progress",X)),l.send(p),o.next({type:Fn.Sent}),()=>{l.removeEventListener("error",P),l.removeEventListener("abort",P),l.removeEventListener("load",T),l.removeEventListener("timeout",P),e.reportProgress&&(l.removeEventListener("progress",G),null!==p&&l.upload&&l.upload.removeEventListener("progress",X)),l.readyState!==l.DONE&&l.abort()}})}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(oa))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();const s=new h.OlP("XSRF_ENABLED"),u=new h.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),m=new h.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class v{}let E=(()=>{class r{constructor(e,o,l){this.doc=e,this.platform=o,this.cookieName=l,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ta(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return r.\u0275fac=function(e){return new(e||r)(h.LFG(ne),h.LFG(h.Lbi),h.LFG(u))},r.\u0275prov=h.Yz7({token:r,factory:r.\u0275fac}),r})();function b(r,t){const e=r.url.toLowerCase();if(!(0,h.f3M)(s)||"GET"===r.method||"HEAD"===r.method||e.startsWith("http://")||e.startsWith("https://"))return t(r);const o=(0,h.f3M)(v).getToken(),l=(0,h.f3M)(m);return null!=o&&!r.headers.has(l)&&(r=r.clone({headers:r.headers.set(l,o)})),t(r)}var N=(()=>((N=N||{})[N.Interceptors=0]="Interceptors",N[N.LegacyInterceptors=1]="LegacyInterceptors",N[N.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",N[N.NoXsrfProtection=3]="NoXsrfProtection",N[N.JsonpSupport=4]="JsonpSupport",N[N.RequestsMadeViaParent=5]="RequestsMadeViaParent",N))();function j(r,t){return{\u0275kind:r,\u0275providers:t}}function Y(...r){const t=[dE,i,fE,{provide:no,useExisting:fE},{provide:wp,useExisting:i},{provide:Ap,useValue:b,multi:!0},{provide:s,useValue:!0},{provide:v,useClass:E}];for(const e of r)t.push(...e.\u0275providers);return(0,h.MR2)(t)}const Pe=new h.OlP("LEGACY_INTERCEPTOR_FN");let Ln=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r}),r.\u0275inj=h.cJS({providers:[Y(j(N.LegacyInterceptors,[{provide:Pe,useFactory:D0},{provide:Ap,useExisting:Pe,multi:!0}]))]}),r})();const BD={apiKey:"AIzaSyBK6-On6hJWOvkt246K06O9LU_zu_9UWtU",authDomain:"wdd430-b4295.firebaseapp.com",databaseURL:"https://wdd430-b4295-default-rtdb.firebaseio.com",projectId:"wdd430-b4295",storageBucket:"wdd430-b4295.appspot.com",messagingSenderId:"288535704920",appId:"1:288535704920:web:9909167c1a007006a7212d"};let ew=(()=>{class r{constructor(){!function k0(r=(0,Ve.getApp)(),t){const e=(0,Ve._getProvider)(r,"database").getImmediate({identifier:t});if(!e._instanceStarted){const o=(0,R.P0)("database");o&&cy(e,...o)}}((0,Kd.ZF)(BD))}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=h.oAB({type:r,bootstrap:[_0]}),r.\u0275inj=h.cJS({providers:[ip],imports:[Us,Ln,Jv,x.hO.initializeApp(BD),sI]}),r})();El().bootstrapModule(ew).catch(r=>console.error(r))},8306:(nt,De,k)=>{k.d(De,{y:()=>B});var h=k(930),J=k(727),O=k(8822),re=k(4671);var ge=k(2416),oe=k(576),ue=k(2806);let B=(()=>{class Se{constructor(je){je&&(this._subscribe=je)}lift(je){const se=new Se;return se.source=this,se.operator=je,se}subscribe(je,se,Ie){const _e=function He(Se){return Se&&Se instanceof h.Lv||function K(Se){return Se&&(0,oe.m)(Se.next)&&(0,oe.m)(Se.error)&&(0,oe.m)(Se.complete)}(Se)&&(0,J.Nn)(Se)}(je)?je:new h.Hp(je,se,Ie);return(0,ue.x)(()=>{const{operator:Ae,source:we}=this;_e.add(Ae?Ae.call(_e,we):we?this._subscribe(_e):this._trySubscribe(_e))}),_e}_trySubscribe(je){try{return this._subscribe(je)}catch(se){je.error(se)}}forEach(je,se){return new(se=U(se))((Ie,_e)=>{const Ae=new h.Hp({next:we=>{try{je(we)}catch(de){_e(de),Ae.unsubscribe()}},error:_e,complete:Ie});this.subscribe(Ae)})}_subscribe(je){var se;return null===(se=this.source)||void 0===se?void 0:se.subscribe(je)}[O.L](){return this}pipe(...je){return function ne(Se){return 0===Se.length?re.y:1===Se.length?Se[0]:function(je){return Se.reduce((se,Ie)=>Ie(se),je)}}(je)(this)}toPromise(je){return new(je=U(je))((se,Ie)=>{let _e;this.subscribe(Ae=>_e=Ae,Ae=>Ie(Ae),()=>se(_e))})}}return Se.create=dt=>new Se(dt),Se})();function U(Se){var dt;return null!==(dt=Se??ge.v.Promise)&&void 0!==dt?dt:Promise}},7579:(nt,De,k)=>{k.d(De,{x:()=>ge});var h=k(8306),J=k(727);const re=(0,k(3888).d)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ee=k(8737),ne=k(2806);let ge=(()=>{class ue extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(U){const K=new oe(this,this);return K.operator=U,K}_throwIfClosed(){if(this.closed)throw new re}next(U){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next(U)}})}error(U){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=U;const{observers:K}=this;for(;K.length;)K.shift().error(U)}})}complete(){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:U}=this;for(;U.length;)U.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0}_trySubscribe(U){return this._throwIfClosed(),super._trySubscribe(U)}_subscribe(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)}_innerSubscribe(U){const{hasError:K,isStopped:He,observers:Se}=this;return K||He?J.Lc:(this.currentObservers=null,Se.push(U),new J.w0(()=>{this.currentObservers=null,(0,ee.P)(Se,U)}))}_checkFinalizedStatuses(U){const{hasError:K,thrownError:He,isStopped:Se}=this;K?U.error(He):Se&&U.complete()}asObservable(){const U=new h.y;return U.source=this,U}}return ue.create=(B,U)=>new oe(B,U),ue})();class oe extends ge{constructor(B,U){super(),this.destination=B,this.source=U}next(B){var U,K;null===(K=null===(U=this.destination)||void 0===U?void 0:U.next)||void 0===K||K.call(U,B)}error(B){var U,K;null===(K=null===(U=this.destination)||void 0===U?void 0:U.error)||void 0===K||K.call(U,B)}complete(){var B,U;null===(U=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===U||U.call(B)}_subscribe(B){var U,K;return null!==(K=null===(U=this.source)||void 0===U?void 0:U.subscribe(B))&&void 0!==K?K:J.Lc}}},930:(nt,De,k)=>{k.d(De,{Hp:()=>je,Lv:()=>K});var h=k(576),J=k(727),O=k(2416),re=k(7849),ee=k(5032);const ne=ue("C",void 0,void 0);function ue(we,de,he){return{kind:we,value:de,error:he}}var B=k(3410),U=k(2806);class K extends J.w0{constructor(de){super(),this.isStopped=!1,de?(this.destination=de,(0,J.Nn)(de)&&de.add(this)):this.destination=Ae}static create(de,he,Le){return new je(de,he,Le)}next(de){this.isStopped?_e(function oe(we){return ue("N",we,void 0)}(de),this):this._next(de)}error(de){this.isStopped?_e(function ge(we){return ue("E",void 0,we)}(de),this):(this.isStopped=!0,this._error(de))}complete(){this.isStopped?_e(ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(de){this.destination.next(de)}_error(de){try{this.destination.error(de)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function Se(we,de){return He.call(we,de)}class dt{constructor(de){this.partialObserver=de}next(de){const{partialObserver:he}=this;if(he.next)try{he.next(de)}catch(Le){se(Le)}}error(de){const{partialObserver:he}=this;if(he.error)try{he.error(de)}catch(Le){se(Le)}else se(de)}complete(){const{partialObserver:de}=this;if(de.complete)try{de.complete()}catch(he){se(he)}}}class je extends K{constructor(de,he,Le){let be;if(super(),(0,h.m)(de)||!de)be={next:de??void 0,error:he??void 0,complete:Le??void 0};else{let ie;this&&O.v.useDeprecatedNextContext?(ie=Object.create(de),ie.unsubscribe=()=>this.unsubscribe(),be={next:de.next&&Se(de.next,ie),error:de.error&&Se(de.error,ie),complete:de.complete&&Se(de.complete,ie)}):be=de}this.destination=new dt(be)}}function se(we){O.v.useDeprecatedSynchronousErrorHandling?(0,U.O)(we):(0,re.h)(we)}function _e(we,de){const{onStoppedNotification:he}=O.v;he&&B.z.setTimeout(()=>he(we,de))}const Ae={closed:!0,next:ee.Z,error:function Ie(we){throw we},complete:ee.Z}},727:(nt,De,k)=>{k.d(De,{Lc:()=>ne,w0:()=>ee,Nn:()=>ge});var h=k(576);const O=(0,k(3888).d)(ue=>function(U){ue(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((K,He)=>`${He+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U});var re=k(8737);class ee{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:U}=this;if(U)if(this._parentage=null,Array.isArray(U))for(const Se of U)Se.remove(this);else U.remove(this);const{initialTeardown:K}=this;if((0,h.m)(K))try{K()}catch(Se){B=Se instanceof O?Se.errors:[Se]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const Se of He)try{oe(Se)}catch(dt){B=B??[],dt instanceof O?B=[...B,...dt.errors]:B.push(dt)}}if(B)throw new O(B)}}add(B){var U;if(B&&B!==this)if(this.closed)oe(B);else{if(B instanceof ee){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(U=this._finalizers)&&void 0!==U?U:[]).push(B)}}_hasParent(B){const{_parentage:U}=this;return U===B||Array.isArray(U)&&U.includes(B)}_addParent(B){const{_parentage:U}=this;this._parentage=Array.isArray(U)?(U.push(B),U):U?[U,B]:B}_removeParent(B){const{_parentage:U}=this;U===B?this._parentage=null:Array.isArray(U)&&(0,re.P)(U,B)}remove(B){const{_finalizers:U}=this;U&&(0,re.P)(U,B),B instanceof ee&&B._removeParent(this)}}ee.EMPTY=(()=>{const ue=new ee;return ue.closed=!0,ue})();const ne=ee.EMPTY;function ge(ue){return ue instanceof ee||ue&&"closed"in ue&&(0,h.m)(ue.remove)&&(0,h.m)(ue.add)&&(0,h.m)(ue.unsubscribe)}function oe(ue){(0,h.m)(ue)?ue():ue.unsubscribe()}},2416:(nt,De,k)=>{k.d(De,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(nt,De,k)=>{k.d(De,{E:()=>J});const J=new(k(8306).y)(ee=>ee.complete())},8996:(nt,De,k)=>{k.d(De,{D:()=>de});var h=k(8421),J=k(5363),O=k(9468),ne=k(8306),oe=k(2202),ue=k(576),B=k(9672);function K(he,Le){if(!he)throw new Error("Iterable cannot be null");return new ne.y(be=>{(0,B.f)(be,Le,()=>{const ie=he[Symbol.asyncIterator]();(0,B.f)(be,Le,()=>{ie.next().then(H=>{H.done?be.complete():be.next(H.value)})},0,!0)})})}var He=k(3670),Se=k(8239),dt=k(1144),je=k(6495),se=k(2206),Ie=k(4532),_e=k(3260);function de(he,Le){return Le?function we(he,Le){if(null!=he){if((0,He.c)(he))return function re(he,Le){return(0,h.Xf)(he).pipe((0,O.R)(Le),(0,J.Q)(Le))}(he,Le);if((0,dt.z)(he))return function ge(he,Le){return new ne.y(be=>{let ie=0;return Le.schedule(function(){ie===he.length?be.complete():(be.next(he[ie++]),be.closed||this.schedule())})})}(he,Le);if((0,Se.t)(he))return function ee(he,Le){return(0,h.Xf)(he).pipe((0,O.R)(Le),(0,J.Q)(Le))}(he,Le);if((0,se.D)(he))return K(he,Le);if((0,je.T)(he))return function U(he,Le){return new ne.y(be=>{let ie;return(0,B.f)(be,Le,()=>{ie=he[oe.h](),(0,B.f)(be,Le,()=>{let H,Oe;try{({value:H,done:Oe}=ie.next())}catch(Fe){return void be.error(Fe)}Oe?be.complete():be.next(H)},0,!0)}),()=>(0,ue.m)(ie?.return)&&ie.return()})}(he,Le);if((0,_e.L)(he))return function Ae(he,Le){return K((0,_e.Q)(he),Le)}(he,Le)}throw(0,Ie.z)(he)}(he,Le):(0,h.Xf)(he)}},8421:(nt,De,k)=>{k.d(De,{Xf:()=>He});var h=k(655),J=k(1144),O=k(8239),re=k(8306),ee=k(3670),ne=k(2206),ge=k(4532),oe=k(6495),ue=k(3260),B=k(576),U=k(7849),K=k(8822);function He(we){if(we instanceof re.y)return we;if(null!=we){if((0,ee.c)(we))return function Se(we){return new re.y(de=>{const he=we[K.L]();if((0,B.m)(he.subscribe))return he.subscribe(de);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(we);if((0,J.z)(we))return function dt(we){return new re.y(de=>{for(let he=0;he<we.length&&!de.closed;he++)de.next(we[he]);de.complete()})}(we);if((0,O.t)(we))return function je(we){return new re.y(de=>{we.then(he=>{de.closed||(de.next(he),de.complete())},he=>de.error(he)).then(null,U.h)})}(we);if((0,ne.D)(we))return Ie(we);if((0,oe.T)(we))return function se(we){return new re.y(de=>{for(const he of we)if(de.next(he),de.closed)return;de.complete()})}(we);if((0,ue.L)(we))return function _e(we){return Ie((0,ue.Q)(we))}(we)}throw(0,ge.z)(we)}function Ie(we){return new re.y(de=>{(function Ae(we,de){var he,Le,be,ie;return(0,h.mG)(this,void 0,void 0,function*(){try{for(he=(0,h.KL)(we);!(Le=yield he.next()).done;)if(de.next(Le.value),de.closed)return}catch(H){be={error:H}}finally{try{Le&&!Le.done&&(ie=he.return)&&(yield ie.call(he))}finally{if(be)throw be.error}}de.complete()})})(we,de).catch(he=>de.error(he))})}},266:(nt,De,k)=>{k.d(De,{T:()=>oe});var h=k(5577),J=k(4671),re=k(8421),ee=k(515),ne=k(7669),ge=k(8996);function oe(...ue){const B=(0,ne.yG)(ue),U=(0,ne._6)(ue,1/0),K=ue;return K.length?1===K.length?(0,re.Xf)(K[0]):function O(ue=1/0){return(0,h.z)(J.y,ue)}(U)((0,ge.D)(K,B)):ee.E}},5403:(nt,De,k)=>{k.d(De,{x:()=>J});var h=k(930);function J(re,ee,ne,ge,oe){return new O(re,ee,ne,ge,oe)}class O extends h.Lv{constructor(ee,ne,ge,oe,ue,B){super(ee),this.onFinalize=ue,this.shouldUnsubscribe=B,this._next=ne?function(U){try{ne(U)}catch(K){ee.error(K)}}:super._next,this._error=oe?function(U){try{oe(U)}catch(K){ee.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(U){ee.error(U)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ne}=this;super.unsubscribe(),!ne&&(null===(ee=this.onFinalize)||void 0===ee||ee.call(this))}}}},4004:(nt,De,k)=>{k.d(De,{U:()=>O});var h=k(4482),J=k(5403);function O(re,ee){return(0,h.e)((ne,ge)=>{let oe=0;ne.subscribe((0,J.x)(ge,ue=>{ge.next(re.call(ee,ue,oe++))}))})}},5577:(nt,De,k)=>{k.d(De,{z:()=>oe});var h=k(4004),J=k(8421),O=k(4482),re=k(9672),ee=k(5403),ge=k(576);function oe(ue,B,U=1/0){return(0,ge.m)(B)?oe((K,He)=>(0,h.U)((Se,dt)=>B(K,Se,He,dt))((0,J.Xf)(ue(K,He))),U):("number"==typeof B&&(U=B),(0,O.e)((K,He)=>function ne(ue,B,U,K,He,Se,dt,je){const se=[];let Ie=0,_e=0,Ae=!1;const we=()=>{Ae&&!se.length&&!Ie&&B.complete()},de=Le=>Ie<K?he(Le):se.push(Le),he=Le=>{Se&&B.next(Le),Ie++;let be=!1;(0,J.Xf)(U(Le,_e++)).subscribe((0,ee.x)(B,ie=>{He?.(ie),Se?de(ie):B.next(ie)},()=>{be=!0},void 0,()=>{if(be)try{for(Ie--;se.length&&Ie<K;){const ie=se.shift();dt?(0,re.f)(B,dt,()=>he(ie)):he(ie)}we()}catch(ie){B.error(ie)}}))};return ue.subscribe((0,ee.x)(B,de,()=>{Ae=!0,we()})),()=>{je?.()}}(K,He,ue,U)))}},5363:(nt,De,k)=>{k.d(De,{Q:()=>re});var h=k(9672),J=k(4482),O=k(5403);function re(ee,ne=0){return(0,J.e)((ge,oe)=>{ge.subscribe((0,O.x)(oe,ue=>(0,h.f)(oe,ee,()=>oe.next(ue),ne),()=>(0,h.f)(oe,ee,()=>oe.complete(),ne),ue=>(0,h.f)(oe,ee,()=>oe.error(ue),ne)))})}},3099:(nt,De,k)=>{k.d(De,{B:()=>ee});var h=k(8421),J=k(7579),O=k(930),re=k(4482);function ee(ge={}){const{connector:oe=(()=>new J.x),resetOnError:ue=!0,resetOnComplete:B=!0,resetOnRefCountZero:U=!0}=ge;return K=>{let He,Se,dt,je=0,se=!1,Ie=!1;const _e=()=>{Se?.unsubscribe(),Se=void 0},Ae=()=>{_e(),He=dt=void 0,se=Ie=!1},we=()=>{const de=He;Ae(),de?.unsubscribe()};return(0,re.e)((de,he)=>{je++,!Ie&&!se&&_e();const Le=dt=dt??oe();he.add(()=>{je--,0===je&&!Ie&&!se&&(Se=ne(we,U))}),Le.subscribe(he),!He&&je>0&&(He=new O.Hp({next:be=>Le.next(be),error:be=>{Ie=!0,_e(),Se=ne(Ae,ue,be),Le.error(be)},complete:()=>{se=!0,_e(),Se=ne(Ae,B),Le.complete()}}),(0,h.Xf)(de).subscribe(He))})(K)}}function ne(ge,oe,...ue){if(!0===oe)return void ge();if(!1===oe)return;const B=new O.Hp({next:()=>{B.unsubscribe(),ge()}});return oe(...ue).subscribe(B)}},9468:(nt,De,k)=>{k.d(De,{R:()=>J});var h=k(4482);function J(O,re=0){return(0,h.e)((ee,ne)=>{ne.add(O.schedule(()=>ee.subscribe(ne),re))})}},4408:(nt,De,k)=>{k.d(De,{o:()=>ee});var h=k(727);class J extends h.w0{constructor(ge,oe){super()}schedule(ge,oe=0){return this}}const O={setInterval(ne,ge,...oe){const{delegate:ue}=O;return ue?.setInterval?ue.setInterval(ne,ge,...oe):setInterval(ne,ge,...oe)},clearInterval(ne){const{delegate:ge}=O;return(ge?.clearInterval||clearInterval)(ne)},delegate:void 0};var re=k(8737);class ee extends J{constructor(ge,oe){super(ge,oe),this.scheduler=ge,this.work=oe,this.pending=!1}schedule(ge,oe=0){var ue;if(this.closed)return this;this.state=ge;const B=this.id,U=this.scheduler;return null!=B&&(this.id=this.recycleAsyncId(U,B,oe)),this.pending=!0,this.delay=oe,this.id=null!==(ue=this.id)&&void 0!==ue?ue:this.requestAsyncId(U,this.id,oe),this}requestAsyncId(ge,oe,ue=0){return O.setInterval(ge.flush.bind(ge,this),ue)}recycleAsyncId(ge,oe,ue=0){if(null!=ue&&this.delay===ue&&!1===this.pending)return oe;null!=oe&&O.clearInterval(oe)}execute(ge,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(ge,oe);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,oe){let B,ue=!1;try{this.work(ge)}catch(U){ue=!0,B=U||new Error("Scheduled action threw falsy error")}if(ue)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:ge,scheduler:oe}=this,{actions:ue}=oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(ue,this),null!=ge&&(this.id=this.recycleAsyncId(oe,ge,null)),this.delay=null,super.unsubscribe()}}}},7565:(nt,De,k)=>{k.d(De,{v:()=>O});var h=k(6063);class J{constructor(ee,ne=J.now){this.schedulerActionCtor=ee,this.now=ne}schedule(ee,ne=0,ge){return new this.schedulerActionCtor(this,ee).schedule(ge,ne)}}J.now=h.l.now;class O extends J{constructor(ee,ne=J.now){super(ee,ne),this.actions=[],this._active=!1}flush(ee){const{actions:ne}=this;if(this._active)return void ne.push(ee);let ge;this._active=!0;do{if(ge=ee.execute(ee.state,ee.delay))break}while(ee=ne.shift());if(this._active=!1,ge){for(;ee=ne.shift();)ee.unsubscribe();throw ge}}}},4986:(nt,De,k)=>{k.d(De,{z:()=>O});var h=k(4408);const O=new(k(7565).v)(h.o)},6063:(nt,De,k)=>{k.d(De,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(nt,De,k)=>{k.d(De,{z:()=>h});const h={setTimeout(J,O,...re){const{delegate:ee}=h;return ee?.setTimeout?ee.setTimeout(J,O,...re):setTimeout(J,O,...re)},clearTimeout(J){const{delegate:O}=h;return(O?.clearTimeout||clearTimeout)(J)},delegate:void 0}},2202:(nt,De,k)=>{k.d(De,{h:()=>J});const J=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(nt,De,k)=>{k.d(De,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(nt,De,k)=>{k.d(De,{_6:()=>ne,jO:()=>re,yG:()=>ee});var h=k(576);function O(ge){return ge[ge.length-1]}function re(ge){return(0,h.m)(O(ge))?ge.pop():void 0}function ee(ge){return function J(ge){return ge&&(0,h.m)(ge.schedule)}(O(ge))?ge.pop():void 0}function ne(ge,oe){return"number"==typeof O(ge)?ge.pop():oe}},8737:(nt,De,k)=>{function h(J,O){if(J){const re=J.indexOf(O);0<=re&&J.splice(re,1)}}k.d(De,{P:()=>h})},3888:(nt,De,k)=>{function h(J){const re=J(ee=>{Error.call(ee),ee.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}k.d(De,{d:()=>h})},2806:(nt,De,k)=>{k.d(De,{O:()=>re,x:()=>O});var h=k(2416);let J=null;function O(ee){if(h.v.useDeprecatedSynchronousErrorHandling){const ne=!J;if(ne&&(J={errorThrown:!1,error:null}),ee(),ne){const{errorThrown:ge,error:oe}=J;if(J=null,ge)throw oe}}else ee()}function re(ee){h.v.useDeprecatedSynchronousErrorHandling&&J&&(J.errorThrown=!0,J.error=ee)}},9672:(nt,De,k)=>{function h(J,O,re,ee=0,ne=!1){const ge=O.schedule(function(){re(),ne?J.add(this.schedule(null,ee)):this.unsubscribe()},ee);if(J.add(ge),!ne)return ge}k.d(De,{f:()=>h})},4671:(nt,De,k)=>{function h(J){return J}k.d(De,{y:()=>h})},1144:(nt,De,k)=>{k.d(De,{z:()=>h});const h=J=>J&&"number"==typeof J.length&&"function"!=typeof J},2206:(nt,De,k)=>{k.d(De,{D:()=>J});var h=k(576);function J(O){return Symbol.asyncIterator&&(0,h.m)(O?.[Symbol.asyncIterator])}},576:(nt,De,k)=>{function h(J){return"function"==typeof J}k.d(De,{m:()=>h})},3670:(nt,De,k)=>{k.d(De,{c:()=>O});var h=k(8822),J=k(576);function O(re){return(0,J.m)(re[h.L])}},6495:(nt,De,k)=>{k.d(De,{T:()=>O});var h=k(2202),J=k(576);function O(re){return(0,J.m)(re?.[h.h])}},8239:(nt,De,k)=>{k.d(De,{t:()=>J});var h=k(576);function J(O){return(0,h.m)(O?.then)}},3260:(nt,De,k)=>{k.d(De,{L:()=>re,Q:()=>O});var h=k(655),J=k(576);function O(ee){return(0,h.FC)(this,arguments,function*(){const ge=ee.getReader();try{for(;;){const{value:oe,done:ue}=yield(0,h.qq)(ge.read());if(ue)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(oe)}}finally{ge.releaseLock()}})}function re(ee){return(0,J.m)(ee?.getReader)}},4482:(nt,De,k)=>{k.d(De,{e:()=>O});var h=k(576);function O(re){return ee=>{if(function J(re){return(0,h.m)(re?.lift)}(ee))return ee.lift(function(ne){try{return re(ne,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(nt,De,k)=>{function h(){}k.d(De,{Z:()=>h})},7849:(nt,De,k)=>{k.d(De,{h:()=>O});var h=k(2416),J=k(3410);function O(re){J.z.setTimeout(()=>{const{onUnhandledError:ee}=h.v;if(!ee)throw re;ee(re)})}},4532:(nt,De,k)=>{function h(J){return new TypeError(`You provided ${null!==J&&"object"==typeof J?"an invalid object":`'${J}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(De,{z:()=>h})},655:(nt,De,k)=>{function re(te,ae){var fe={};for(var Ee in te)Object.prototype.hasOwnProperty.call(te,Ee)&&ae.indexOf(Ee)<0&&(fe[Ee]=te[Ee]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(Ee=Object.getOwnPropertySymbols(te);Re<Ee.length;Re++)ae.indexOf(Ee[Re])<0&&Object.prototype.propertyIsEnumerable.call(te,Ee[Re])&&(fe[Ee[Re]]=te[Ee[Re]])}return fe}function K(te,ae,fe,Ee){return new(fe||(fe=Promise))(function(ke,Je){function ze(Nt){try{$e(Ee.next(Nt))}catch(it){Je(it)}}function rt(Nt){try{$e(Ee.throw(Nt))}catch(it){Je(it)}}function $e(Nt){Nt.done?ke(Nt.value):function Re(ke){return ke instanceof fe?ke:new fe(function(Je){Je(ke)})}(Nt.value).then(ze,rt)}$e((Ee=Ee.apply(te,ae||[])).next())})}function we(te){return this instanceof we?(this.v=te,this):new we(te)}function de(te,ae,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,Ee=fe.apply(te,ae||[]),ke=[];return Re={},Je("next"),Je("throw"),Je("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function Je(Vt){Ee[Vt]&&(Re[Vt]=function(Wt){return new Promise(function($t,sn){ke.push([Vt,Wt,$t,sn])>1||ze(Vt,Wt)})})}function ze(Vt,Wt){try{!function rt(Vt){Vt.value instanceof we?Promise.resolve(Vt.value.v).then($e,Nt):it(ke[0][2],Vt)}(Ee[Vt](Wt))}catch($t){it(ke[0][3],$t)}}function $e(Vt){ze("next",Vt)}function Nt(Vt){ze("throw",Vt)}function it(Vt,Wt){Vt(Wt),ke.shift(),ke.length&&ze(ke[0][0],ke[0][1])}}function Le(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,ae=te[Symbol.asyncIterator];return ae?ae.call(te):(te=function je(te){var ae="function"==typeof Symbol&&Symbol.iterator,fe=ae&&te[ae],Ee=0;if(fe)return fe.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&Ee>=te.length&&(te=void 0),{value:te&&te[Ee++],done:!te}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),fe={},Ee("next"),Ee("throw"),Ee("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function Ee(ke){fe[ke]=te[ke]&&function(Je){return new Promise(function(ze,rt){!function Re(ke,Je,ze,rt){Promise.resolve(rt).then(function($e){ke({value:$e,done:ze})},Je)}(ze,rt,(Je=te[ke](Je)).done,Je.value)})}}}k.d(De,{FC:()=>de,KL:()=>Le,_T:()=>re,mG:()=>K,qq:()=>we})},4650:(nt,De,k)=>{k.d(De,{$8M:()=>Ia,AFp:()=>yf,ALo:()=>vm,AaK:()=>oe,BQk:()=>ni,CHM:()=>da,CZH:()=>_f,CqO:()=>jg,D6c:()=>xD,EJc:()=>Hv,EpF:()=>K_,F4k:()=>q_,FYo:()=>ac,FiY:()=>Sa,GfV:()=>hh,Gpc:()=>U,Gre:()=>PC,JOm:()=>Ur,KtG:()=>As,LFG:()=>xe,Lbi:()=>pD,Lck:()=>cI,MAs:()=>Ic,MR2:()=>Id,NdJ:()=>$g,OlP:()=>jt,Oqu:()=>Kd,Q6J:()=>Dc,QGY:()=>Hg,Qsj:()=>l_,R0b:()=>$i,RDi:()=>Vo,Rgc:()=>kc,SBq:()=>Md,TTD:()=>fo,TgZ:()=>jd,W1O:()=>Rm,X6Q:()=>f0,Xpm:()=>so,Y36:()=>Wl,YNc:()=>z_,Yjl:()=>tl,Yz7:()=>it,ZZ4:()=>Tp,_Bn:()=>gm,_UZ:()=>Vh,_c5:()=>D0,_uU:()=>jh,aQg:()=>Sp,cJS:()=>Wt,cg1:()=>em,dDg:()=>e0,dqk:()=>yt,eFA:()=>Yv,ekj:()=>Js,eoX:()=>zm,f3M:()=>Ze,g9A:()=>Uv,h0i:()=>Nc,hGG:()=>fE,hij:()=>nu,ifc:()=>Q,ip1:()=>Bv,kL8:()=>tm,lG2:()=>el,lcZ:()=>Em,lqb:()=>Uo,lri:()=>Wv,n5z:()=>Ea,oAB:()=>_s,oxw:()=>ey,q4F:()=>u_,qLn:()=>lc,qOj:()=>xg,qZA:()=>$d,rWj:()=>Wm,sBO:()=>h0,s_b:()=>of,soG:()=>vf,uIk:()=>Fh,vHH:()=>se,vpe:()=>ps,wAp:()=>lt,xp6:()=>sg,ynx:()=>Gd,zSh:()=>nc,zs3:()=>$l});var h=k(7579),J=k(727),O=k(8306),re=k(266),ee=k(3099);function ne(n){for(let i in n)if(n[i]===ne)return i;throw Error("Could not find renamed property on target object.")}function ge(n,i){for(const s in i)i.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=i[s])}function oe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(oe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function ue(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const B=ne({__forward_ref__:ne});function U(n){return n.__forward_ref__=U,n.toString=function(){return oe(this())},n}function K(n){return He(n)?n():n}function He(n){return"function"==typeof n&&n.hasOwnProperty(B)&&n.__forward_ref__===U}function Se(n){return n&&!!n.\u0275providers}class se extends Error{constructor(i,s){super(Ie(i,s)),this.code=i}}function Ie(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function _e(n){return"string"==typeof n?n:null==n?"":String(n)}function Le(n,i){throw new se(-201,!1)}function Je(n,i){null==n&&function ze(n,i,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${i} <=Actual]`))}(i,n,null,"!=")}function it(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Wt(n){return{providers:n.providers||[],imports:n.imports||[]}}function $t(n){return Qn(n,Gr)||Qn(n,Xt)}function Qn(n,i){return n.hasOwnProperty(i)?n[i]:null}function Jn(n){return n&&(n.hasOwnProperty(Wr)||n.hasOwnProperty(jn))?n[Wr]:null}const Gr=ne({\u0275prov:ne}),Wr=ne({\u0275inj:ne}),Xt=ne({ngInjectableDef:ne}),jn=ne({ngInjectorDef:ne});var tt=(()=>((tt=tt||{})[tt.Default=0]="Default",tt[tt.Host=1]="Host",tt[tt.Self=2]="Self",tt[tt.SkipSelf=4]="SkipSelf",tt[tt.Optional=8]="Optional",tt))();let Wi;function dn(n){const i=Wi;return Wi=n,i}function wn(n,i,s){const a=$t(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&tt.Optional?null:void 0!==i?i:void Le(oe(n))}const yt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Vn={},pn="__NG_DI_FLAG__",gn="ngTempTokenPath",Rn="ngTokenPath",io=/\n/gm,Gt="\u0275",wi="__source";let xt;function Ir(n){const i=xt;return xt=n,i}function Dr(n,i=tt.Default){if(void 0===xt)throw new se(-203,!1);return null===xt?wn(n,void 0,i):xt.get(n,i&tt.Optional?null:void 0,i)}function xe(n,i=tt.Default){return(function ri(){return Wi}()||Dr)(K(n),i)}function Ze(n,i=tt.Default){return xe(n,ft(i))}function ft(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function st(n){const i=[];for(let s=0;s<n.length;s++){const a=K(n[s]);if(Array.isArray(a)){if(0===a.length)throw new se(900,!1);let u,f=tt.Default;for(let m=0;m<a.length;m++){const v=a[m],E=on(v);"number"==typeof E?-1===E?u=v.token:f|=E:u=v}i.push(xe(u,f))}else i.push(xe(a))}return i}function Ot(n,i){return n[pn]=i,n.prototype[pn]=i,n}function on(n){return n[pn]}function $(n){return{toString:n}.toString()}var le=(()=>((le=le||{})[le.OnPush=0]="OnPush",le[le.Default=1]="Default",le))(),Q=(()=>{return(n=Q||(Q={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Q;var n})();const qe={},Be=[],Bt=ne({\u0275cmp:ne}),mn=ne({\u0275dir:ne}),an=ne({\u0275pipe:ne}),en=ne({\u0275mod:ne}),bt=ne({\u0275fac:ne}),Xn=ne({__NG_ELEMENT_ID__:ne});let zr=0;function so(n){return $(()=>{const i=er(n),s={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===le.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||Q.Emulated,id:"c"+zr++,styles:n.styles||Be,_:null,schemas:n.schemas||null,tView:null};ta(s);const a=n.dependencies;return s.directiveDefs=sr(a,!1),s.pipeDefs=sr(a,!0),s})}function ea(n){return kt(n)||_n(n)}function Xa(n){return null!==n}function _s(n){return $(()=>({type:n.type,bootstrap:n.bootstrap||Be,declarations:n.declarations||Be,imports:n.imports||Be,exports:n.exports||Be,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ys(n,i){if(null==n)return qe;const s={};for(const a in n)if(n.hasOwnProperty(a)){let u=n[a],f=u;Array.isArray(u)&&(f=u[1],u=u[0]),s[u]=a,i&&(i[u]=f)}return s}function el(n){return $(()=>{const i=er(n);return ta(i),i})}function tl(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function kt(n){return n[Bt]||null}function _n(n){return n[mn]||null}function bn(n){return n[an]||null}function er(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Be,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ys(n.inputs,i),outputs:ys(n.outputs)}}function ta(n){n.features?.forEach(i=>i(n))}function sr(n,i){if(!n)return null;const s=i?bn:ea;return()=>("function"==typeof n?n():n).map(a=>s(a)).filter(Xa)}const wr=0,Ye=1,vt=2,ht=3,br=4,Zi=5,yn=6,Ti=7,tn=8,ii=9,na=10,Et=11,si=12,Ki=13,qi=14,vs=15,Pn=16,Es=17,Yi=18,xr=19,Cs=20,ra=21,St=22,oo=1,ia=2,oi=7,Tr=8,Si=9,$n=10;function or(n){return Array.isArray(n)&&"object"==typeof n[oo]}function ar(n){return Array.isArray(n)&&!0===n[oo]}function nl(n){return 0!=(4&n.flags)}function Is(n){return n.componentOffset>-1}function Or(n){return 1==(1&n.flags)}function vn(n){return!!n.template}function ao(n){return 0!=(256&n[vt])}function lr(n,i){return n.hasOwnProperty(bt)?n[bt]:null}class rl{constructor(i,s,a){this.previousValue=i,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function fo(){return yu}function yu(n){return n.type.prototype.ngOnChanges&&(n.setInput=il),li}function li(){const n=oa(this),i=n?.current;if(i){const s=n.previous;if(s===qe)n.previous=i;else for(let a in i)s[a]=i[a];n.current=null,this.ngOnChanges(i)}}function il(n,i,s,a){const u=this.declaredInputs[s],f=oa(n)||function ho(n,i){return n[ws]=i}(n,{previous:qe,current:null}),m=f.current||(f.current={}),v=f.previous,E=v[u];m[u]=new rl(E&&E.currentValue,i,v===qe),n[a]=i}fo.ngInherit=!0;const ws="__ngSimpleChanges__";function oa(n){return n[ws]||null}const Ht=function(n,i,s){};function qt(n){for(;Array.isArray(n);)n=n[wr];return n}function ci(n,i){return qt(i[n])}function Gn(n,i){return qt(i[n.index])}function go(n,i){return n.data[i]}function Kr(n,i){return n[i]}function Tn(n,i){const s=i[n];return or(s)?s:s[wr]}function mo(n){return 64==(64&n[vt])}function qr(n,i){return null==i?null:n[i]}function Ts(n){n[Yi]=0}function Ss(n,i){n[Zi]+=i;let s=n,a=n[ht];for(;null!==a&&(1===i&&1===s[Zi]||-1===i&&0===s[Zi]);)a[Zi]+=i,s=a,a=a[ht]}const at={lFrame:Sf(null),bindingsEnabled:!0};function ca(){return at.bindingsEnabled}function ve(){return at.lFrame.lView}function Mt(){return at.lFrame.tView}function da(n){return at.lFrame.contextLView=n,n[tn]}function As(n){return at.lFrame.contextLView=null,n}function Sn(){let n=al();for(;null!==n&&64===n.type;)n=n.parent;return n}function al(){return at.lFrame.currentTNode}function ur(n,i){const s=at.lFrame;s.currentTNode=n,s.isParent=i}function Cu(){return at.lFrame.isParent}function Rs(){at.lFrame.isParent=!1}function vo(){return at.lFrame.bindingIndex++}function Yr(n){const i=at.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,s}function Wc(n,i){const s=at.lFrame;s.bindingIndex=s.bindingRootIndex=n,ha(i)}function ha(n){at.lFrame.currentDirectiveIndex=n}function Ns(n){at.lFrame.currentQueryIndex=n}function Tf(n){const i=n[Ye];return 2===i.type?i.declTNode:1===i.type?n[yn]:null}function Eo(n,i,s){if(s&tt.SkipSelf){let u=i,f=n;for(;!(u=u.parent,null!==u||s&tt.Host||(u=Tf(f),null===u||(f=f[vs],10&u.type))););if(null===u)return!1;i=u,n=f}const a=at.lFrame=bu();return a.currentTNode=i,a.lView=n,!0}function wu(n){const i=bu(),s=n[Ye];at.lFrame=i,i.currentTNode=s.firstChild,i.lView=n,i.tView=s,i.contextLView=n,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function bu(){const n=at.lFrame,i=null===n?null:n.child;return null===i?Sf(n):i}function Sf(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Co(){const n=at.lFrame;return at.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Af=Co;function ga(){const n=Co();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Bn(){return at.lFrame.selectedIndex}function Ai(n){at.lFrame.selectedIndex=n}function nn(){const n=at.lFrame;return go(n.tView,n.selectedIndex)}function fl(n,i){for(let s=i.directiveStart,a=i.directiveEnd;s<a;s++){const f=n.data[s].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:E,ngAfterViewChecked:b,ngOnDestroy:M}=f;m&&(n.contentHooks??(n.contentHooks=[])).push(-s,m),v&&((n.contentHooks??(n.contentHooks=[])).push(s,v),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(s,v)),E&&(n.viewHooks??(n.viewHooks=[])).push(-s,E),b&&((n.viewHooks??(n.viewHooks=[])).push(s,b),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(s,b)),null!=M&&(n.destroyHooks??(n.destroyHooks=[])).push(s,M)}}function Tu(n,i,s){Mi(n,i,3,s)}function hl(n,i,s,a){(3&n[vt])===s&&Mi(n,i,s,a)}function Io(n,i){let s=n[vt];(3&s)===i&&(s&=2047,s+=1,n[vt]=s)}function Mi(n,i,s,a){const f=a??-1,m=i.length-1;let v=0;for(let E=void 0!==a?65535&n[Yi]:0;E<m;E++)if("number"==typeof i[E+1]){if(v=i[E],null!=a&&v>=a)break}else i[E]<0&&(n[Yi]+=65536),(v<f||-1==f)&&(Pf(n,s,i,E),n[Yi]=(4294901760&n[Yi])+E+2),E++}function Pf(n,i,s,a){const u=s[a]<0,f=s[a+1],v=n[u?-s[a]:s[a]];if(u){if(n[vt]>>11<n[Yi]>>16&&(3&n[vt])===i){n[vt]+=2048,Ht(4,v,f);try{f.call(v)}finally{Ht(5,v,f)}}}else{Ht(4,v,f);try{f.call(v)}finally{Ht(5,v,f)}}}const Qr=-1;class ma{constructor(i,s,a){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function bo(n,i,s){let a=0;for(;a<s.length;){const u=s[a];if("number"==typeof u){if(0!==u)break;a++;const f=s[a++],m=s[a++],v=s[a++];n.setAttribute(i,m,v,f)}else{const f=u,m=s[++a];ks(f)?n.setProperty(i,f,m):n.setAttribute(i,f,m),a++}}return a}function Os(n){return 3===n||4===n||6===n}function ks(n){return 64===n.charCodeAt(0)}function Jr(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let s=-1;for(let a=0;a<i.length;a++){const u=i[a];"number"==typeof u?s=u:0===s||es(n,s,u,null,-1===s||2===s?i[++a]:null)}}return n}function es(n,i,s,a,u){let f=0,m=n.length;if(-1===i)m=-1;else for(;f<n.length;){const v=n[f++];if("number"==typeof v){if(v===i){m=-1;break}if(v>i){m=f-1;break}}}for(;f<n.length;){const v=n[f];if("number"==typeof v)break;if(v===s){if(null===a)return void(null!==u&&(n[f+1]=u));if(a===n[f+1])return void(n[f+2]=u)}f++,null!==a&&f++,null!==u&&f++}-1!==m&&(n.splice(m,0,i),f=m+1),n.splice(f++,0,s),null!==a&&n.splice(f++,0,a),null!==u&&n.splice(f++,0,u)}function ml(n){return n!==Qr}function ts(n){return 32767&n}function Fs(n,i){let s=function Su(n){return n>>16}(n),a=i;for(;s>0;)a=a[vs],s--;return a}let _a=!0;function Ls(n){const i=_a;return _a=n,i}const Ri=255,Au=5;let Sr=0;const Ar={};function di(n,i){const s=Qt(n,i);if(-1!==s)return s;const a=i[Ye];a.firstCreatePass&&(n.injectorIndex=i.length,Vs(a.data,n),Vs(i,null),Vs(a.blueprint,null));const u=Bs(n,i),f=n.injectorIndex;if(ml(u)){const m=ts(u),v=Fs(u,i),E=v[Ye].data;for(let b=0;b<8;b++)i[f+b]=v[m+b]|E[m+b]}return i[f+8]=u,f}function Vs(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Qt(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Bs(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,u=i;for(;null!==u;){if(a=Cl(u),null===a)return Qr;if(s++,u=u[vs],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return Qr}function ns(n,i,s){!function _l(n,i,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Xn)&&(a=s[Xn]),null==a&&(a=s[Xn]=Sr++);const u=a&Ri;i.data[n+(u>>Au)]|=1<<u}(n,i,s)}function rs(n,i,s){if(s&tt.Optional||void 0!==n)return n;Le()}function Mu(n,i,s,a){if(s&tt.Optional&&void 0===a&&(a=null),!(s&(tt.Self|tt.Host))){const u=n[ii],f=dn(void 0);try{return u?u.get(i,a,s&tt.Optional):wn(i,a,s&tt.Optional)}finally{dn(f)}}return rs(a,0,s)}function ya(n,i,s,a=tt.Default,u){if(null!==n){if(1024&i[vt]){const m=function Ca(n,i,s,a,u){let f=n,m=i;for(;null!==f&&null!==m&&1024&m[vt]&&!(256&m[vt]);){const v=yl(f,m,s,a|tt.Self,Ar);if(v!==Ar)return v;let E=f.parent;if(!E){const b=m[ra];if(b){const M=b.get(s,Ar,a);if(M!==Ar)return M}E=Cl(m),m=m[vs]}f=E}return u}(n,i,s,a,Ar);if(m!==Ar)return m}const f=yl(n,i,s,a,Ar);if(f!==Ar)return f}return Mu(i,s,a,u)}function yl(n,i,s,a,u){const f=function fi(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Xn)?n[Xn]:void 0;return"number"==typeof i?i>=0?i&Ri:va:i}(s);if("function"==typeof f){if(!Eo(i,n,a))return a&tt.Host?rs(u,0,a):Mu(i,s,a,u);try{const m=f(a);if(null!=m||a&tt.Optional)return m;Le()}finally{Af()}}else if("number"==typeof f){let m=null,v=Qt(n,i),E=Qr,b=a&tt.Host?i[Pn][yn]:null;for((-1===v||a&tt.SkipSelf)&&(E=-1===v?Bs(n,i):i[v+8],E!==Qr&&vl(a,!1)?(m=i[Ye],v=ts(E),i=Fs(E,i)):v=-1);-1!==v;){const M=i[Ye];if(To(f,v,M.data)){const N=Fr(v,i,s,m,a,b);if(N!==Ar)return N}E=i[v+8],E!==Qr&&vl(a,i[Ye].data[v+8]===b)&&To(f,v,i)?(m=M,v=ts(E),i=Fs(E,i)):v=-1}}return u}function Fr(n,i,s,a,u,f){const m=i[Ye],v=m.data[n+8],M=function is(n,i,s,a,u){const f=n.providerIndexes,m=i.data,v=1048575&f,E=n.directiveStart,M=f>>20,j=u?v+M:n.directiveEnd;for(let Y=a?v:v+M;Y<j;Y++){const ce=m[Y];if(Y<E&&s===ce||Y>=E&&ce.type===s)return Y}if(u){const Y=m[E];if(Y&&vn(Y)&&Y.type===s)return E}return null}(v,m,s,null==a?Is(v)&&_a:a!=m&&0!=(3&v.type),u&tt.Host&&f===v);return null!==M?Pi(i,m,M,v):Ar}function Pi(n,i,s,a){let u=n[s];const f=i.data;if(function Kc(n){return n instanceof ma}(u)){const m=u;m.resolving&&function we(n,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new se(-200,`Circular dependency in DI detected for ${n}${s}`)}(function Ae(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():_e(n)}(f[s]));const v=Ls(m.canSeeViewProviders);m.resolving=!0;const E=m.injectImpl?dn(m.injectImpl):null;Eo(n,a,tt.Default);try{u=n[s]=m.factory(void 0,f,n,a),i.firstCreatePass&&s>=a.directiveStart&&function Zc(n,i,s){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:f}=i.type.prototype;if(a){const m=yu(i);(s.preOrderHooks??(s.preOrderHooks=[])).push(n,m),(s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(n,m)}u&&(s.preOrderHooks??(s.preOrderHooks=[])).push(0-n,u),f&&((s.preOrderHooks??(s.preOrderHooks=[])).push(n,f),(s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(n,f))}(s,f[s],i)}finally{null!==E&&dn(E),Ls(v),m.resolving=!1,Af()}}return u}function To(n,i,s){return!!(s[i+(n>>Au)]&1<<n)}function vl(n,i){return!(n&tt.Self||n&tt.Host&&i)}class Un{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,a){return ya(this._tNode,this._lView,i,ft(a),s)}}function va(){return new Un(Sn(),ve())}function Ea(n){return $(()=>{const i=n.prototype.constructor,s=i[bt]||El(i),a=Object.prototype;let u=Object.getPrototypeOf(n.prototype).constructor;for(;u&&u!==a;){const f=u[bt]||El(u);if(f&&f!==s)return f;u=Object.getPrototypeOf(u)}return f=>new f})}function El(n){return He(n)?()=>{const i=El(K(n));return i&&i()}:lr(n)}function Cl(n){const i=n[Ye],s=i.type;return 2===s?i.declTNode:1===s?n[yn]:null}function Ia(n){return function Yc(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const s=n.attrs;if(s){const a=s.length;let u=0;for(;u<a;){const f=s[u];if(Os(f))break;if(0===f)u+=2;else if("number"==typeof f)for(u++;u<a&&"string"==typeof s[u];)u++;else{if(f===i)return s[u+1];u+=2}}}return null}(Sn(),n)}const Hs="__parameters__";function So(n,i,s){return $(()=>{const a=function Qc(n){return function(...s){if(n){const a=n(...s);for(const u in a)this[u]=a[u]}}}(i);function u(...f){if(this instanceof u)return a.apply(this,f),this;const m=new u(...f);return v.annotation=m,v;function v(E,b,M){const N=E.hasOwnProperty(Hs)?E[Hs]:Object.defineProperty(E,Hs,{value:[]})[Hs];for(;N.length<=M;)N.push(null);return(N[M]=N[M]||[]).push(m),E}}return s&&(u.prototype=Object.create(s.prototype)),u.prototype.ngMetadataName=n,u.annotationCls=u,u})}class jt{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=it({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function xi(n,i){n.forEach(s=>Array.isArray(s)?xi(s,i):i(s))}function td(n,i,s){i>=n.length?n.push(s):n.splice(i,0,s)}function Mo(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Nn(n,i,s){let a=Br(n,i);return a>=0?n[1|a]=s:(a=~a,function Ro(n,i,s,a){let u=n.length;if(u==i)n.push(s,a);else if(1===u)n.push(a,n[0]),n[0]=s;else{for(u--,n.push(n[u-1],n[u]);u>i;)n[u]=n[u-2],u--;n[i]=s,n[i+1]=a}}(n,a,i,s)),a}function Vr(n,i){const s=Br(n,i);if(s>=0)return n[1|s]}function Br(n,i){return function Dl(n,i,s){let a=0,u=n.length>>s;for(;u!==a;){const f=a+(u-a>>1),m=n[f<<s];if(i===m)return f<<s;m>i?u=f:a=f+1}return~(u<<s)}(n,i,1)}const Sa=Ot(So("Optional"),8),hi=Ot(So("SkipSelf"),4);var Ur=(()=>((Ur=Ur||{})[Ur.Important=1]="Important",Ur[Ur.DashCase=2]="DashCase",Ur))();const ku=new Map;let Op=0;const Zs="__ngContext__";function tr(n,i){or(i)?(n[Zs]=i[Cs],function Fp(n){ku.set(n[Cs],n)}(i)):n[Zs]=i}let Na;function Bu(n,i){return Na(n,i)}function Fo(n){const i=n[ht];return ar(i)?i[ht]:i}function xa(n){return Hu(n[Ki])}function Oa(n){return Hu(n[br])}function Hu(n){for(;null!==n&&!ar(n);)n=n[br];return n}function ka(n,i,s,a,u){if(null!=a){let f,m=!1;ar(a)?f=a:or(a)&&(m=!0,a=a[wr]);const v=qt(a);0===n&&null!==s?null==u?zu(i,s,v):Mr(i,s,v,u||null,!0):1===n&&null!==s?Mr(i,s,v,u||null,!0):2===n?function Yu(n,i,s){const a=Fi(n,i);a&&function Gp(n,i,s,a){n.removeChild(i,s,a)}(n,a,i,s)}(i,v,m):3===n&&i.destroyNode(v),null!=f&&function Yf(n,i,s,a,u){const f=s[oi];f!==qt(s)&&ka(i,n,a,f,u);for(let v=$n;v<s.length;v++){const E=s[v];Fa(E[Ye],E,n,i,a,f)}}(i,n,f,s,u)}}function ju(n,i,s){return n.createElement(i,s)}function jf(n,i){const s=n[Si],a=s.indexOf(i),u=i[ht];512&i[vt]&&(i[vt]&=-513,Ss(u,-1)),s.splice(a,1)}function Pl(n,i){if(n.length<=$n)return;const s=$n+i,a=n[s];if(a){const u=a[Es];null!==u&&u!==n&&jf(u,a),i>0&&(n[s-1][br]=a[br]);const f=Mo(n,$n+i);!function Up(n,i){Fa(n,i,i[Et],2,null,null),i[wr]=null,i[yn]=null}(a[Ye],a);const m=f[xr];null!==m&&m.detachView(f[Ye]),a[ht]=null,a[br]=null,a[vt]&=-65}return a}function $f(n,i){if(!(128&i[vt])){const s=i[Et];s.destroyNode&&Fa(n,i,s,3,null,null),function Hf(n){let i=n[Ki];if(!i)return $u(n[Ye],n);for(;i;){let s=null;if(or(i))s=i[Ki];else{const a=i[$n];a&&(s=a)}if(!s){for(;i&&!i[br]&&i!==n;)or(i)&&$u(i[Ye],i),i=i[ht];null===i&&(i=n),or(i)&&$u(i[Ye],i),s=i&&i[br]}i=s}}(i)}}function $u(n,i){if(!(128&i[vt])){i[vt]&=-65,i[vt]|=128,function $p(n,i){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const u=i[s[a]];if(!(u instanceof ma)){const f=s[a+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const v=u[f[m]],E=f[m+1];Ht(4,v,E);try{E.call(v)}finally{Ht(5,v,E)}}else{Ht(4,u,f);try{f.call(u)}finally{Ht(5,u,f)}}}}}(n,i),function Gu(n,i){const s=n.cleanup,a=i[Ti];let u=-1;if(null!==s)for(let f=0;f<s.length-1;f+=2)if("string"==typeof s[f]){const m=s[f+3];m>=0?a[u=m]():a[u=-m].unsubscribe(),f+=2}else{const m=a[u=s[f+1]];s[f].call(m)}if(null!==a){for(let f=u+1;f<a.length;f++)(0,a[f])();i[Ti]=null}}(n,i),1===i[Ye].type&&i[Et].destroy();const s=i[Es];if(null!==s&&ar(i[ht])){s!==i[ht]&&jf(s,i);const a=i[xr];null!==a&&a.detachView(n)}!function Lp(n){ku.delete(n[Cs])}(i)}}function Gf(n,i,s){return function Wu(n,i,s){let a=i;for(;null!==a&&40&a.type;)a=(i=a).parent;if(null===a)return s[wr];{const{componentOffset:u}=a;if(u>-1){const{encapsulation:f}=n.data[a.directiveStart+u];if(f===Q.None||f===Q.Emulated)return null}return Gn(a,s)}}(n,i.parent,s)}function Mr(n,i,s,a,u){n.insertBefore(i,s,a,u)}function zu(n,i,s){n.appendChild(i,s)}function Wf(n,i,s,a,u){null!==a?Mr(n,i,s,a,u):zu(n,i,s)}function Fi(n,i){return n.parentNode(i)}let Nl,vd,Ku=function Zf(n,i,s){return 40&n.type?Gn(n,s):null};function xl(n,i,s,a){const u=Gf(n,a,i),f=i[Et],v=function zf(n,i,s){return Ku(n,i,s)}(a.parent||i[yn],a,i);if(null!=u)if(Array.isArray(s))for(let E=0;E<s.length;E++)Wf(f,u,s[E],v,!1);else Wf(f,u,s,v,!1);void 0!==Nl&&Nl(f,a,i,s,u)}function Lo(n,i){if(null!==i){const s=i.type;if(3&s)return Gn(i,n);if(4&s)return _d(-1,n[i.index]);if(8&s){const a=i.child;if(null!==a)return Lo(n,a);{const u=n[i.index];return ar(u)?_d(-1,u):qt(u)}}if(32&s)return Bu(i,n)()||qt(n[i.index]);{const a=md(n,i);return null!==a?Array.isArray(a)?a[0]:Lo(Fo(n[Pn]),a):Lo(n,i.next)}}return null}function md(n,i){return null!==i?n[Pn][yn].projection[i.projection]:null}function _d(n,i){const s=$n+n+1;if(s<i.length){const a=i[s],u=a[Ye].firstChild;if(null!==u)return Lo(a,u)}return i[oi]}function Ol(n,i,s,a,u,f,m){for(;null!=s;){const v=a[s.index],E=s.type;if(m&&0===i&&(v&&tr(qt(v),a),s.flags|=2),32!=(32&s.flags))if(8&E)Ol(n,i,s.child,a,u,f,!1),ka(i,n,u,v,f);else if(32&E){const b=Bu(s,a);let M;for(;M=b();)ka(i,n,u,M,f);ka(i,n,u,v,f)}else 16&E?qf(n,i,a,s,u,f):ka(i,n,u,v,f);s=m?s.projectionNext:s.next}}function Fa(n,i,s,a,u,f){Ol(s,a,n.firstChild,i,u,f,!1)}function qf(n,i,s,a,u,f){const m=s[Pn],E=m[yn].projection[a.projection];if(Array.isArray(E))for(let b=0;b<E.length;b++)ka(i,n,u,E[b],f);else Ol(n,i,E,m[ht],u,f,!0)}function Va(n,i,s){""===s?n.removeAttribute(i,"class"):n.setAttribute(i,"class",s)}function yd(n,i,s){const{mergedAttrs:a,classes:u,styles:f}=s;null!==a&&bo(n,i,a),null!==u&&Va(n,i,u),null!==f&&function Qf(n,i,s){n.setAttribute(i,"style",s)}(n,i,f)}function Vo(n){vd=n}class mr{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Vi(n){return n instanceof mr?n.changingThisBreaksApplicationSecurity:n}const ec=new jt("ENVIRONMENT_INITIALIZER"),tc=new jt("INJECTOR",-1),t_=new jt("INJECTOR_DEF_TYPES");class oh{get(i,s=Vn){if(s===Vn){const a=new Error(`NullInjectorError: No provider for ${oe(i)}!`);throw a.name="NullInjectorError",a}return s}}function Id(n){return{\u0275providers:n}}function gE(...n){return{\u0275providers:Dd(0,n),\u0275fromNgModule:!0}}function Dd(n,...i){const s=[],a=new Set;let u;return xi(i,f=>{const m=f;Yp(m,s,[],a)&&(u||(u=[]),u.push(m))}),void 0!==u&&n_(u,s),s}function n_(n,i){for(let s=0;s<n.length;s++){const{providers:u}=n[s];wd(u,f=>{i.push(f)})}}function Yp(n,i,s,a){if(!(n=K(n)))return!1;let u=null,f=Jn(n);const m=!f&&kt(n);if(f||m){if(m&&!m.standalone)return!1;u=n}else{const E=n.ngModule;if(f=Jn(E),!f)return!1;u=E}const v=a.has(u);if(m){if(v)return!1;if(a.add(u),m.dependencies){const E="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const b of E)Yp(b,i,s,a)}}else{if(!f)return!1;{if(null!=f.imports&&!v){let b;a.add(u);try{xi(f.imports,M=>{Yp(M,i,s,a)&&(b||(b=[]),b.push(M))})}finally{}void 0!==b&&n_(b,i)}if(!v){const b=lr(u)||(()=>new u);i.push({provide:u,useFactory:b,deps:Be},{provide:t_,useValue:u,multi:!0},{provide:ec,useValue:()=>xe(u),multi:!0})}const E=f.providers;null==E||v||wd(E,M=>{i.push(M)})}}return u!==n&&void 0!==n.providers}function wd(n,i){for(let s of n)Se(s)&&(s=s.\u0275providers),Array.isArray(s)?wd(s,i):i(s)}const mE=ne({provide:String,useValue:ne});function bd(n){return null!==n&&"object"==typeof n&&mE in n}function ja(n){return"function"==typeof n}const nc=new jt("Set Injector scope."),ah={},lh={};let $a;function rc(){return void 0===$a&&($a=new oh),$a}class Uo{}class s_ extends Uo{get destroyed(){return this._destroyed}constructor(i,s,a,u){super(),this.parent=s,this.source=a,this.scopes=u,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sd(i,m=>this.processProvider(m)),this.records.set(tc,ic(void 0,this)),u.has("environment")&&this.records.set(Uo,ic(void 0,this));const f=this.records.get(nc);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(t_.multi,Be,tt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const s=Ir(this),a=dn(void 0);try{return i()}finally{Ir(s),dn(a)}}get(i,s=Vn,a=tt.Default){this.assertNotDestroyed(),a=ft(a);const u=Ir(this),f=dn(void 0);try{if(!(a&tt.SkipSelf)){let v=this.records.get(i);if(void 0===v){const E=function Xp(n){return"function"==typeof n||"object"==typeof n&&n instanceof jt}(i)&&$t(i);v=E&&this.injectableDefInScope(E)?ic(Qp(i),ah):null,this.records.set(i,v)}if(null!=v)return this.hydrate(i,v)}return(a&tt.Self?rc():this.parent).get(i,s=a&tt.Optional&&s===Vn?null:s)}catch(m){if("NullInjectorError"===m.name){if((m[gn]=m[gn]||[]).unshift(oe(i)),u)throw m;return function L(n,i,s,a){const u=n[gn];throw i[wi]&&u.unshift(i[wi]),n.message=function F(n,i,s,a=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Gt?n.slice(2):n;let u=oe(i);if(Array.isArray(i))u=i.map(oe).join(" -> ");else if("object"==typeof i){let f=[];for(let m in i)if(i.hasOwnProperty(m)){let v=i[m];f.push(m+":"+("string"==typeof v?JSON.stringify(v):oe(v)))}u=`{${f.join(", ")}}`}return`${s}${a?"("+a+")":""}[${u}]: ${n.replace(io,"\n  ")}`}("\n"+n.message,u,s,a),n[Rn]=u,n[gn]=null,n}(m,i,"R3InjectorError",this.source)}throw m}finally{dn(f),Ir(u)}}resolveInjectorInitializers(){const i=Ir(this),s=dn(void 0);try{const a=this.get(ec.multi,Be,tt.Self);for(const u of a)u()}finally{Ir(i),dn(s)}}toString(){const i=[],s=this.records;for(const a of s.keys())i.push(oe(a));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new se(205,!1)}processProvider(i){let s=ja(i=K(i))?i:K(i&&i.provide);const a=function _E(n){return bd(n)?ic(void 0,n.useValue):ic(a_(n),ah)}(i);if(ja(i)||!0!==i.multi)this.records.get(s);else{let u=this.records.get(s);u||(u=ic(void 0,ah,!0),u.factory=()=>st(u.multi),this.records.set(s,u)),s=i,u.multi.push(i)}this.records.set(s,a)}hydrate(i,s){return s.value===ah&&(s.value=lh,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Jp(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=K(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function Qp(n){const i=$t(n),s=null!==i?i.factory:lr(n);if(null!==s)return s;if(n instanceof jt)throw new se(204,!1);if(n instanceof Function)return function o_(n){const i=n.length;if(i>0)throw function js(n,i){const s=[];for(let a=0;a<n;a++)s.push(i);return s}(i,"?"),new se(204,!1);const s=function Hn(n){const i=n&&(n[Gr]||n[Xt]);return i?(function Gi(n){if(n.hasOwnProperty("name"))return n.name;(""+n).match(/^function\s*([^\s(]+)/)}(n),i):null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new se(204,!1)}function a_(n,i,s){let a;if(ja(n)){const u=K(n);return lr(u)||Qp(u)}if(bd(n))a=()=>K(n.useValue);else if(function Td(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...st(n.deps||[]));else if(function r_(n){return!(!n||!n.useExisting)}(n))a=()=>xe(K(n.useExisting));else{const u=K(n&&(n.useClass||n.provide));if(!function Bi(n){return!!n.deps}(n))return lr(u)||Qp(u);a=()=>new u(...st(n.deps))}return a}function ic(n,i,s=!1){return{factory:n,value:i,multi:s?[]:void 0}}function Sd(n,i){for(const s of n)Array.isArray(s)?Sd(s,i):s&&Se(s)?Sd(s.\u0275providers,i):i(s)}class uh{}class sc{}class yE{resolveComponentFactory(i){throw function Vl(n){const i=Error(`No component factory found for ${oe(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let ch=(()=>{class n{}return n.NULL=new yE,n})();function Ad(){return oc(Sn(),ve())}function oc(n,i){return new Md(Gn(n,i))}let Md=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=Ad,n})();class ac{}let l_=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function fh(){const n=ve(),s=Tn(Sn().index,n);return(or(s)?s:n)[Et]}(),n})(),Hl=(()=>{class n{}return n.\u0275prov=it({token:n,providedIn:"root",factory:()=>null}),n})();class hh{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const u_=new hh("15.2.7"),Kt={},mi="ngOriginalError";function Pd(n){return n[mi]}class lc{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&Pd(i);for(;s&&Pd(s);)s=Pd(s);return s||null}}function ng(n,i,s){let a=n.length;for(;;){const u=n.indexOf(i,s);if(-1===u)return u;if(0===u||n.charCodeAt(u-1)<=32){const f=i.length;if(u+f===a||n.charCodeAt(u+f)<=32)return u}s=u+1}}const rg="ng-template";function CE(n,i,s){let a=0,u=!0;for(;a<n.length;){let f=n[a++];if("string"==typeof f&&u){const m=n[a++];if(s&&"class"===f&&-1!==ng(m.toLowerCase(),i,0))return!0}else{if(1===f){for(;a<n.length&&"string"==typeof(f=n[a++]);)if(f.toLowerCase()===i)return!0;return!1}"number"==typeof f&&(u=!1)}}return!1}function h_(n){return 4===n.type&&n.value!==rg}function IE(n,i,s){return i===(4!==n.type||s?n.value:rg)}function DE(n,i,s){let a=4;const u=n.attrs||[],f=function p_(n){for(let i=0;i<n.length;i++)if(Os(n[i]))return i;return n.length}(u);let m=!1;for(let v=0;v<i.length;v++){const E=i[v];if("number"!=typeof E){if(!m)if(4&a){if(a=2|1&a,""!==E&&!IE(n,E,s)||""===E&&1===i.length){if(cs(a))return!1;m=!0}}else{const b=8&a?E:i[++v];if(8&a&&null!==n.attrs){if(!CE(n.attrs,b,s)){if(cs(a))return!1;m=!0}continue}const N=wE(8&a?"class":E,u,h_(n),s);if(-1===N){if(cs(a))return!1;m=!0;continue}if(""!==b){let j;j=N>f?"":u[N+1].toLowerCase();const Y=8&a?j:null;if(Y&&-1!==ng(Y,b,0)||2&a&&b!==j){if(cs(a))return!1;m=!0}}}}else{if(!m&&!cs(a)&&!cs(E))return!1;if(m&&cs(E))continue;m=!1,a=E|1&a}}return cs(a)||m}function cs(n){return 0==(1&n)}function wE(n,i,s,a){if(null===i)return-1;let u=0;if(a||!s){let f=!1;for(;u<i.length;){const m=i[u];if(m===n)return u;if(3===m||6===m)f=!0;else{if(1===m||2===m){let v=i[++u];for(;"string"==typeof v;)v=i[++u];continue}if(4===m)break;if(0===m){u+=4;continue}}u+=f?1:2}return-1}return function ph(n,i){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===i)return s;s++}return-1}(i,n)}function Nd(n,i,s=!1){for(let a=0;a<i.length;a++)if(DE(n,i[a],s))return!0;return!1}function gh(n,i){return n?":not("+i.trim()+")":i}function g_(n){let i=n[0],s=1,a=2,u="",f=!1;for(;s<n.length;){let m=n[s];if("string"==typeof m)if(2&a){const v=n[++s];u+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?u+="."+m:4&a&&(u+=" "+m);else""!==u&&!cs(m)&&(i+=gh(f,u),u=""),a=m,f=f||!cs(a);s++}return""!==u&&(i+=gh(f,u)),i}const Dt={};function sg(n){mh(Mt(),ve(),Bn()+n,!1)}function mh(n,i,s,a){if(!a)if(3==(3&i[vt])){const f=n.preOrderCheckHooks;null!==f&&Tu(i,f,s)}else{const f=n.preOrderHooks;null!==f&&hl(i,f,0,s)}Ai(s)}function ag(n,i=null,s=null,a){const u=_h(n,i,s,a);return u.resolveInjectorInitializers(),u}function _h(n,i=null,s=null,a,u=new Set){const f=[s||Be,gE(n)];return a=a||("object"==typeof n?void 0:oe(n)),new s_(f,i||rc(),a||null,u)}let $l=(()=>{class n{static create(s,a){if(Array.isArray(s))return ag({name:""},a,s,"");{const u=s.name??"";return ag({name:u},s.parent,s.providers,u)}}}return n.THROW_IF_NOT_FOUND=Vn,n.NULL=new oh,n.\u0275prov=it({token:n,providedIn:"any",factory:()=>xe(tc)}),n.__NG_ELEMENT_ID__=-1,n})();function Wl(n,i=tt.Default){const s=ve();return null===s?xe(n,i):ya(Sn(),s,K(n),i)}function Wo(n,i){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const f=s[a+1];if(-1!==f){const m=n.data[f];Ns(s[a]),m.contentQueries(2,i[f],f)}}}function Eh(n,i,s,a,u,f,m,v,E,b,M){const N=i.blueprint.slice();return N[wr]=u,N[vt]=76|a,(null!==M||n&&1024&n[vt])&&(N[vt]|=1024),Ts(N),N[ht]=N[vs]=n,N[tn]=s,N[na]=m||n&&n[na],N[Et]=v||n&&n[Et],N[si]=E||n&&n[si]||null,N[ii]=b||n&&n[ii]||null,N[yn]=f,N[Cs]=function kp(){return Op++}(),N[ra]=M,N[Pn]=2==i.type?n[Pn]:N,N}function dc(n,i,s,a,u){let f=n.data[i];if(null===f)f=function fc(n,i,s,a,u){const f=al(),m=Cu(),E=n.data[i]=function Eg(n,i,s,a,u,f){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,s,i,a,u);return null===n.firstChild&&(n.firstChild=E),null!==f&&(m?null==f.child&&null!==E.parent&&(f.child=E):null===f.next&&(f.next=E,E.prev=f)),E}(n,i,s,a,u),function Ps(){return at.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=s,f.value=a,f.attrs=u;const m=function Ms(){const n=at.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();f.injectorIndex=null===m?-1:m.injectorIndex}return ur(f,!0),f}function hc(n,i,s,a){if(0===s)return-1;const u=i.length;for(let f=0;f<s;f++)i.push(a),n.blueprint.push(a),n.data.push(null);return u}function _g(n,i,s){wu(i);try{const a=n.viewQuery;null!==a&&Ah(1,a,s);const u=n.template;null!==u&&kd(n,i,u,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Wo(n,i),n.staticViewQueries&&Ah(2,n.viewQuery,s);const f=n.components;null!==f&&function UE(n,i){for(let s=0;s<i.length;s++)R_(n,i[s])}(i,f)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{i[vt]&=-5,ga()}}function pc(n,i,s,a){const u=i[vt];if(128!=(128&u)){wu(i);try{Ts(i),function yo(n){return at.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&kd(n,i,s,2,a);const m=3==(3&u);if(m){const b=n.preOrderCheckHooks;null!==b&&Tu(i,b,null)}else{const b=n.preOrderHooks;null!==b&&hl(i,b,0,null),Io(i,0)}if(function ZE(n){for(let i=xa(n);null!==i;i=Oa(i)){if(!i[ia])continue;const s=i[Si];for(let a=0;a<s.length;a++){const u=s[a];512&u[vt]||Ss(u[ht],1),u[vt]|=512}}}(i),function zE(n){for(let i=xa(n);null!==i;i=Oa(i))for(let s=$n;s<i.length;s++){const a=i[s],u=a[Ye];mo(a)&&pc(u,a,u.template,a[tn])}}(i),null!==n.contentQueries&&Wo(n,i),m){const b=n.contentCheckHooks;null!==b&&Tu(i,b)}else{const b=n.contentHooks;null!==b&&hl(i,b,1),Io(i,1)}!function BE(n,i){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const u=s[a];if(u<0)Ai(~u);else{const f=u,m=s[++a],v=s[++a];Wc(m,f),v(2,i[f])}}}finally{Ai(-1)}}(n,i);const v=n.components;null!==v&&function Od(n,i){for(let s=0;s<i.length;s++)Mg(n,i[s])}(i,v);const E=n.viewQuery;if(null!==E&&Ah(2,E,a),m){const b=n.viewCheckHooks;null!==b&&Tu(i,b)}else{const b=n.viewHooks;null!==b&&hl(i,b,2),Io(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[vt]&=-41,512&i[vt]&&(i[vt]&=-513,Ss(i[ht],-1))}finally{ga()}}}function kd(n,i,s,a,u){const f=Bn(),m=2&a;try{Ai(-1),m&&i.length>St&&mh(n,i,St,!1),Ht(m?2:0,u),s(a,u)}finally{Ai(f),Ht(m?3:1,u)}}function yg(n,i,s){if(nl(i)){const u=i.directiveEnd;for(let f=i.directiveStart;f<u;f++){const m=n.data[f];m.contentQueries&&m.contentQueries(1,s[f],f)}}}function Wa(n,i,s){ca()&&(function S_(n,i,s,a){const u=s.directiveStart,f=s.directiveEnd;Is(s)&&function Sh(n,i,s){const a=Gn(i,n),u=vg(s),f=n[na],m=za(n,Eh(n,u,null,s.onPush?32:16,a,i,f,f.createRenderer(a,s),null,null,null));n[i.index]=m}(i,s,n.data[u+s.componentOffset]),n.firstCreatePass||di(s,i),tr(a,i);const m=s.initialInputs;for(let v=u;v<f;v++){const E=n.data[v],b=Pi(i,n,v,s);tr(b,i),null!==m&&Vd(0,v-u,b,E,0,m),vn(E)&&(Tn(s.index,i)[tn]=Pi(i,n,v,s))}}(n,i,s,Gn(s,i)),64==(64&s.flags)&&Th(n,i,s))}function Ch(n,i,s=Gn){const a=i.localNames;if(null!==a){let u=i.index+1;for(let f=0;f<a.length;f+=2){const m=a[f+1],v=-1===m?s(i,n):n[m];n[u++]=v}}}function vg(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Ih(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Ih(n,i,s,a,u,f,m,v,E,b){const M=St+a,N=M+u,j=function Fd(n,i){const s=[];for(let a=0;a<i;a++)s.push(a<n?null:Dt);return s}(M,N),Y="function"==typeof b?b():b;return j[Ye]={type:n,blueprint:j,template:s,queries:null,viewQuery:v,declTNode:i,data:j.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:E,consts:Y,incompleteFirstPass:!1}}function bh(n,i,s,a){for(let u in n)if(n.hasOwnProperty(u)){s=null===s?{}:s;const f=n[u];null===a?b_(s,i,u,f):a.hasOwnProperty(u)&&b_(s,i,a[u],f)}return s}function b_(n,i,s,a){n.hasOwnProperty(s)?n[s].push(i,a):n[s]=[i,a]}function Ig(n,i,s,a){if(ca()){const u=null===a?null:{"":-1},f=function bg(n,i){const s=n.directiveRegistry;let a=null,u=null;if(s)for(let f=0;f<s.length;f++){const m=s[f];if(Nd(i,m.selectors,!1))if(a||(a=[]),vn(m))if(null!==m.findHostDirectiveDefs){const v=[];u=u||new Map,m.findHostDirectiveDefs(m,v,u),a.unshift(...v,m),gc(n,i,v.length)}else a.unshift(m),gc(n,i,0);else u=u||new Map,m.findHostDirectiveDefs?.(m,a,u),a.push(m)}return null===a?null:[a,u]}(n,s);let m,v;null===f?m=v=null:[m,v]=f,null!==m&&Dg(n,i,s,m,u,v),u&&function zl(n,i,s){if(i){const a=n.localNames=[];for(let u=0;u<i.length;u+=2){const f=s[i[u+1]];if(null==f)throw new se(-301,!1);a.push(i[u],f)}}}(s,a,u)}s.mergedAttrs=Jr(s.mergedAttrs,s.attrs)}function Dg(n,i,s,a,u,f){for(let b=0;b<a.length;b++)ns(di(s,i),n,a[b].type);!function A_(n,i,s){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+s,n.providerIndexes=i}(s,n.data.length,a.length);for(let b=0;b<a.length;b++){const M=a[b];M.providersResolver&&M.providersResolver(M)}let m=!1,v=!1,E=hc(n,i,a.length,null);for(let b=0;b<a.length;b++){const M=a[b];s.mergedAttrs=Jr(s.mergedAttrs,M.hostAttrs),WE(n,s,i,E,M),Tg(E,M,u),null!==M.contentQueries&&(s.flags|=4),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(s.flags|=64);const N=M.type.prototype;!m&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(s.index),m=!0),!v&&(N.ngOnChanges||N.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(s.index),v=!0),E++}!function Ld(n,i,s){const u=i.directiveEnd,f=n.data,m=i.attrs,v=[];let E=null,b=null;for(let M=i.directiveStart;M<u;M++){const N=f[M],j=s?s.get(N):null,ce=j?j.outputs:null;E=bh(N.inputs,M,E,j?j.inputs:null),b=bh(N.outputs,M,b,ce);const Pe=null===E||null===m||h_(i)?null:Ag(E,M,m);v.push(Pe)}null!==E&&(E.hasOwnProperty("class")&&(i.flags|=8),E.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=v,i.inputs=E,i.outputs=b}(n,s,f)}function Th(n,i,s){const a=s.directiveStart,u=s.directiveEnd,f=s.index,m=function cl(){return at.lFrame.currentDirectiveIndex}();try{Ai(f);for(let v=a;v<u;v++){const E=n.data[v],b=i[v];ha(v),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&wg(E,b)}}finally{Ai(-1),ha(m)}}function wg(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function gc(n,i,s){i.componentOffset=s,(n.components??(n.components=[])).push(i.index)}function Tg(n,i,s){if(s){if(i.exportAs)for(let a=0;a<i.exportAs.length;a++)s[i.exportAs[a]]=n;vn(i)&&(s[""]=n)}}function WE(n,i,s,a,u){n.data[a]=u;const f=u.factory||(u.factory=lr(u.type)),m=new ma(f,vn(u),Wl);n.blueprint[a]=m,s[a]=m,function $E(n,i,s,a,u){const f=u.hostBindings;if(f){let m=n.hostBindingOpCodes;null===m&&(m=n.hostBindingOpCodes=[]);const v=~i.index;(function GE(n){let i=n.length;for(;i>0;){const s=n[--i];if("number"==typeof s&&s<0)return s}return 0})(m)!=v&&m.push(v),m.push(s,a,f)}}(n,i,a,hc(n,s,u.hostVars,Dt),u)}function ds(n,i,s,a,u,f){const m=Gn(n,i);!function Sg(n,i,s,a,u,f,m){if(null==f)n.removeAttribute(i,u,s);else{const v=null==m?_e(f):m(f,a||"",u);n.setAttribute(i,u,v,s)}}(i[Et],m,f,n.value,s,a,u)}function Vd(n,i,s,a,u,f){const m=f[i];if(null!==m){const v=a.setInput;for(let E=0;E<m.length;){const b=m[E++],M=m[E++],N=m[E++];null!==v?a.setInput(s,N,b,M):s[M]=N}}}function Ag(n,i,s){let a=null,u=0;for(;u<s.length;){const f=s[u];if(0!==f)if(5!==f){if("number"==typeof f)break;if(n.hasOwnProperty(f)){null===a&&(a=[]);const m=n[f];for(let v=0;v<m.length;v+=2)if(m[v]===i){a.push(f,m[v+1],s[u+1]);break}}u+=2}else u+=2;else u+=4}return a}function M_(n,i,s,a){return[n,!0,!1,i,null,0,a,s,null,null]}function Mg(n,i){const s=Tn(i,n);if(mo(s)){const a=s[Ye];48&s[vt]?pc(a,s,a.template,s[tn]):s[Zi]>0&&mc(s)}}function mc(n){for(let a=xa(n);null!==a;a=Oa(a))for(let u=$n;u<a.length;u++){const f=a[u];if(mo(f))if(512&f[vt]){const m=f[Ye];pc(m,f,m.template,f[tn])}else f[Zi]>0&&mc(f)}const s=n[Ye].components;if(null!==s)for(let a=0;a<s.length;a++){const u=Tn(s[a],n);mo(u)&&u[Zi]>0&&mc(u)}}function R_(n,i){const s=Tn(i,n),a=s[Ye];(function KE(n,i){for(let s=i.length;s<n.blueprint.length;s++)i.push(n.blueprint[s])})(a,s),_g(a,s,s[tn])}function za(n,i){return n[Ki]?n[qi][br]=i:n[Ki]=i,n[qi]=i,i}function yi(n){for(;n;){n[vt]|=32;const i=Fo(n);if(ao(n)&&!i)return n;n=i}return null}function Za(n,i,s,a=!0){const u=i[na];u.begin&&u.begin();try{pc(n,i,n.template,s)}catch(m){throw a&&vi(i,m),m}finally{u.end&&u.end()}}function Ah(n,i,s){Ns(0),i(n,s)}function _c(n){return n[Ti]||(n[Ti]=[])}function yc(n){return n.cleanup||(n.cleanup=[])}function vi(n,i){const s=n[ii],a=s?s.get(lc,null):null;a&&a.handleError(i)}function Mh(n,i,s,a,u){for(let f=0;f<s.length;){const m=s[f++],v=s[f++],E=i[m],b=n.data[m];null!==b.setInput?b.setInput(E,u,a,v):E[v]=u}}function Zl(n,i,s){let a=s?n.styles:null,u=s?n.classes:null,f=0;if(null!==i)for(let m=0;m<i.length;m++){const v=i[m];"number"==typeof v?f=v:1==f?u=ue(u,v):2==f&&(a=ue(a,v+": "+i[++m]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=u:n.classesWithoutHost=u}function Bd(n,i,s,a,u=!1){for(;null!==s;){const f=i[s.index];if(null!==f&&a.push(qt(f)),ar(f))for(let v=$n;v<f.length;v++){const E=f[v],b=E[Ye].firstChild;null!==b&&Bd(E[Ye],E,b,a)}const m=s.type;if(8&m)Bd(n,i,s.child,a);else if(32&m){const v=Bu(s,i);let E;for(;E=v();)a.push(E)}else if(16&m){const v=md(i,s);if(Array.isArray(v))a.push(...v);else{const E=Fo(i[Pn]);Bd(E[Ye],E,v,a,!0)}}s=u?s.projectionNext:s.next}return a}class vr{get rootNodes(){const i=this._lView,s=i[Ye];return Bd(s,i,s.firstChild,[])}constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tn]}set context(i){this._lView[tn]=i}get destroyed(){return 128==(128&this._lView[vt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[ht];if(ar(i)){const s=i[Tr],a=s?s.indexOf(this):-1;a>-1&&(Pl(i,a),Mo(s,a))}this._attachedToViewContainer=!1}$f(this._lView[Ye],this._lView)}onDestroy(i){!function wh(n,i,s,a){const u=_c(i);null===s?u.push(a):(u.push(s),n.firstCreatePass&&yc(n).push(a,u.length-1))}(this._lView[Ye],this._lView,null,i)}markForCheck(){yi(this._cdRefInjectingView||this._lView)}detach(){this._lView[vt]&=-65}reattach(){this._lView[vt]|=64}detectChanges(){Za(this._lView[Ye],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ks(n,i){Fa(n,i,i[Et],2,null,null)}(this._lView[Ye],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new se(902,!1);this._appRef=i}}class x_ extends vr{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;Za(i[Ye],i,i[tn],!1)}checkNoChanges(){}get context(){return null}}class O_ extends ch{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=kt(i);return new Ud(s,this.ngModule)}}function Rg(n){const i=[];for(let s in n)n.hasOwnProperty(s)&&i.push({propName:n[s],templateName:s});return i}class YE{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,a){a=ft(a);const u=this.injector.get(i,Kt,a);return u!==Kt||s===Kt?u:this.parentInjector.get(i,s,a)}}class Ud extends sc{get inputs(){return Rg(this.componentDef.inputs)}get outputs(){return Rg(this.componentDef.outputs)}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function m_(n){return n.map(g_).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}create(i,s,a,u){let f=(u=u||this.ngModule)instanceof Uo?u:u?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const m=f?new YE(i,f):i,v=m.get(ac,null);if(null===v)throw new se(407,!1);const E=m.get(Hl,null),b=v.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",N=a?function Dh(n,i,s){return n.selectRootElement(i,s===Q.ShadowDom)}(b,a,this.componentDef.encapsulation):ju(b,M,function qE(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(M)),j=this.componentDef.onPush?288:272,Y=Ih(0,null,null,1,0,null,null,null,null,null),ce=Eh(null,Y,null,j,null,null,v,b,E,m,null);let Pe,Ge;wu(ce);try{const et=this.componentDef;let gt,Te=null;et.findHostDirectiveDefs?(gt=[],Te=new Map,et.findHostDirectiveDefs(et,gt,Te),gt.push(et)):gt=[et];const wt=function F_(n,i){const s=n[Ye],a=St;return n[a]=i,dc(s,a,2,"#host",null)}(ce,N),Dn=function L_(n,i,s,a,u,f,m,v){const E=u[Ye];!function QE(n,i,s,a){for(const u of n)i.mergedAttrs=Jr(i.mergedAttrs,u.hostAttrs);null!==i.mergedAttrs&&(Zl(i,i.mergedAttrs,!0),null!==s&&yd(a,s,i))}(a,n,i,m);const b=f.createRenderer(i,s),M=Eh(u,vg(s),null,s.onPush?32:16,u[n.index],n,f,b,v||null,null,null);return E.firstCreatePass&&gc(E,n,a.length-1),za(u,M),u[n.index]=M}(wt,N,et,gt,ce,v,b);Ge=go(Y,St),N&&function Ph(n,i,s,a){if(a)bo(n,s,["ng-version",u_.full]);else{const{attrs:u,classes:f}=function TE(n){const i=[],s=[];let a=1,u=2;for(;a<n.length;){let f=n[a];if("string"==typeof f)2===u?""!==f&&i.push(f,n[++a]):8===u&&s.push(f);else{if(!cs(u))break;u=f}a++}return{attrs:i,classes:s}}(i.selectors[0]);u&&bo(n,s,u),f&&f.length>0&&Va(n,s,f.join(" "))}}(b,et,N,a),void 0!==s&&function JE(n,i,s){const a=n.projection=[];for(let u=0;u<i.length;u++){const f=s[u];a.push(null!=f?Array.from(f):null)}}(Ge,this.ngContentSelectors,s),Pe=function Pg(n,i,s,a,u,f){const m=Sn(),v=u[Ye],E=Gn(m,u);Dg(v,u,m,s,null,a);for(let M=0;M<s.length;M++)tr(Pi(u,v,m.directiveStart+M,m),u);Th(v,u,m),E&&tr(E,u);const b=Pi(u,v,m.directiveStart+m.componentOffset,m);if(n[tn]=u[tn]=b,null!==f)for(const M of f)M(b,i);return yg(v,m,n),b}(Dn,et,gt,Te,ce,[Ng]),_g(Y,ce,null)}finally{ga()}return new k_(this.componentType,Pe,oc(Ge,ce),ce,Ge)}}class k_ extends uh{constructor(i,s,a,u,f){super(),this.location=a,this._rootLView=u,this._tNode=f,this.instance=s,this.hostView=this.changeDetectorRef=new x_(u),this.componentType=i}setInput(i,s){const a=this._tNode.inputs;let u;if(null!==a&&(u=a[i])){const f=this._rootLView;Mh(f[Ye],f,u,i,s),yi(Tn(this._tNode.index,f))}}get injector(){return new Un(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Ng(){const n=Sn();fl(ve()[Ye],n)}function xg(n){let i=function V_(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;i;){let u;if(vn(n))u=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new se(903,!1);u=i.\u0275dir}if(u){if(s){a.push(u);const m=n;m.inputs=Nh(n.inputs),m.declaredInputs=Nh(n.declaredInputs),m.outputs=Nh(n.outputs);const v=u.hostBindings;v&&nC(n,v);const E=u.viewQuery,b=u.contentQueries;if(E&&eC(n,E),b&&tC(n,b),ge(n.inputs,u.inputs),ge(n.declaredInputs,u.declaredInputs),ge(n.outputs,u.outputs),vn(u)&&u.data.animation){const M=n.data;M.animation=(M.animation||[]).concat(u.data.animation)}}const f=u.features;if(f)for(let m=0;m<f.length;m++){const v=f[m];v&&v.ngInherit&&v(n),v===xg&&(s=!1)}}i=Object.getPrototypeOf(i)}!function XE(n){let i=0,s=null;for(let a=n.length-1;a>=0;a--){const u=n[a];u.hostVars=i+=u.hostVars,u.hostAttrs=Jr(u.hostAttrs,s=Jr(s,u.hostAttrs))}}(a)}function Nh(n){return n===qe?{}:n===Be?[]:n}function eC(n,i){const s=n.viewQuery;n.viewQuery=s?(a,u)=>{i(a,u),s(a,u)}:i}function tC(n,i){const s=n.contentQueries;n.contentQueries=s?(a,u,f)=>{i(a,u,f),s(a,u,f)}:i}function nC(n,i){const s=n.hostBindings;n.hostBindings=s?(a,u)=>{i(a,u),s(a,u)}:i}function xh(n){return!!Oh(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Oh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Pr(n,i,s){return!Object.is(n[i],s)&&(n[i]=s,!0)}function Fh(n,i,s,a){const u=ve();return Pr(u,vo(),i)&&(Mt(),ds(nn(),u,n,i,s,a)),Fh}function Yl(n,i,s,a){return Pr(n,vo(),s)?i+_e(s)+a:Dt}function z_(n,i,s,a,u,f,m,v){const E=ve(),b=Mt(),M=n+St,N=b.firstCreatePass?function oC(n,i,s,a,u,f,m,v,E){const b=i.consts,M=dc(i,n,4,m||null,qr(b,v));Ig(i,s,M,qr(b,E)),fl(i,M);const N=M.tView=Ih(2,M,a,u,f,i.directiveRegistry,i.pipeRegistry,null,i.schemas,b);return null!==i.queries&&(i.queries.template(i,M),N.queries=i.queries.embeddedTView(M)),M}(M,b,E,i,s,a,u,f,m):b.data[M];ur(N,!1);const j=E[Et].createComment("");xl(b,E,j,N),tr(j,E),za(E,E[M]=M_(j,E,j,N)),Or(N)&&Wa(b,E,N),null!=m&&Ch(E,N,v)}function Ic(n){return Kr(function ll(){return at.lFrame.contextLView}(),St+n)}function Dc(n,i,s){const a=ve();return Pr(a,vo(),i)&&function _i(n,i,s,a,u,f,m,v){const E=Gn(i,s);let M,b=i.inputs;!v&&null!=b&&(M=b[a])?(Mh(n,s,M,a,u),Is(i)&&function jE(n,i){const s=Tn(i,n);16&s[vt]||(s[vt]|=32)}(s,i.index)):3&i.type&&(a=function HE(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),u=null!=m?m(u,i.value||"",a):u,f.setProperty(E,a,u))}(Mt(),nn(),a,n,i,a[Et],s,!1),Dc}function Xl(n,i,s,a,u){const m=u?"class":"style";Mh(n,s,i.inputs[m],m,a)}function jd(n,i,s,a){const u=ve(),f=Mt(),m=St+n,v=u[Et],E=f.firstCreatePass?function Bg(n,i,s,a,u,f){const m=i.consts,E=dc(i,n,2,a,qr(m,u));return Ig(i,s,E,qr(m,f)),null!==E.attrs&&Zl(E,E.attrs,!1),null!==E.mergedAttrs&&Zl(E,E.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,E),E}(m,f,u,i,s,a):f.data[m],b=u[m]=ju(v,i,function Rf(){return at.lFrame.currentNamespace}()),M=Or(E);return ur(E,!0),yd(v,b,E),32!=(32&E.flags)&&xl(f,u,b,E),0===function Eu(){return at.lFrame.elementDepthCount}()&&tr(b,u),function _o(){at.lFrame.elementDepthCount++}(),M&&(Wa(f,u,E),yg(f,E,u)),null!==a&&Ch(u,E),jd}function $d(){let n=Sn();Cu()?Rs():(n=n.parent,ur(n,!1));const i=n;!function $c(){at.lFrame.elementDepthCount--}();const s=Mt();return s.firstCreatePass&&(fl(s,n),nl(n)&&s.queries.elementEnd(n)),null!=i.classesWithoutHost&&function pl(n){return 0!=(8&n.flags)}(i)&&Xl(s,i,ve(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function wo(n){return 0!=(16&n.flags)}(i)&&Xl(s,i,ve(),i.stylesWithoutHost,!1),$d}function Vh(n,i,s,a){return jd(n,i,s,a),$d(),Vh}function Gd(n,i,s){const a=ve(),u=Mt(),f=n+St,m=u.firstCreatePass?function Z_(n,i,s,a,u){const f=i.consts,m=qr(f,a),v=dc(i,n,8,"ng-container",m);return null!==m&&Zl(v,m,!0),Ig(i,s,v,qr(f,u)),null!==i.queries&&i.queries.elementStart(i,v),v}(f,u,a,i,s):u.data[f];ur(m,!0);const v=a[f]=a[Et].createComment("");return xl(u,a,v,m),tr(v,a),Or(m)&&(Wa(u,a,m),yg(u,m,a)),null!=s&&Ch(a,m),Gd}function ni(){let n=Sn();const i=Mt();return Cu()?Rs():(n=n.parent,ur(n,!1)),i.firstCreatePass&&(fl(i,n),nl(n)&&i.queries.elementEnd(n)),ni}function K_(){return ve()}function Hg(n){return!!n&&"function"==typeof n.then}function q_(n){return!!n&&"function"==typeof n.subscribe}const jg=q_;function $g(n,i,s,a){const u=ve(),f=Mt(),m=Sn();return function Q_(n,i,s,a,u,f,m){const v=Or(a),b=n.firstCreatePass&&yc(n),M=i[tn],N=_c(i);let j=!0;if(3&a.type||m){const Pe=Gn(a,i),Ge=m?m(Pe):Pe,et=N.length,gt=m?wt=>m(qt(wt[a.index])):a.index;let Te=null;if(!m&&v&&(Te=function lC(n,i,s,a){const u=n.cleanup;if(null!=u)for(let f=0;f<u.length-1;f+=2){const m=u[f];if(m===s&&u[f+1]===a){const v=i[Ti],E=u[f+2];return v.length>E?v[E]:null}"string"==typeof m&&(f+=2)}return null}(n,i,u,a.index)),null!==Te)(Te.__ngLastListenerFn__||Te).__ngNextListenerFn__=f,Te.__ngLastListenerFn__=f,j=!1;else{f=X_(a,i,M,f,!1);const wt=s.listen(Ge,u,f);N.push(f,wt),b&&b.push(u,gt,et,et+1)}}else f=X_(a,i,M,f,!1);const Y=a.outputs;let ce;if(j&&null!==Y&&(ce=Y[u])){const Pe=ce.length;if(Pe)for(let Ge=0;Ge<Pe;Ge+=2){const Dn=i[ce[Ge]][ce[Ge+1]].subscribe(f),Ln=N.length;N.push(f,Dn),b&&b.push(u,a.index,Ln,-(Ln+1))}}}(f,u,u[Et],m,n,i,a),$g}function J_(n,i,s,a){try{return Ht(6,i,s),!1!==s(a)}catch(u){return vi(n,u),!1}finally{Ht(7,i,s)}}function X_(n,i,s,a,u){return function f(m){if(m===Function)return a;yi(n.componentOffset>-1?Tn(n.index,i):i);let E=J_(i,s,a,m),b=f.__ngNextListenerFn__;for(;b;)E=J_(i,s,b,m)&&E,b=b.__ngNextListenerFn__;return u&&!1===E&&(m.preventDefault(),m.returnValue=!1),E}}function ey(n=1){return function dl(n){return(at.lFrame.contextLView=function zc(n,i){for(;n>0;)i=i[vs],n--;return i}(n,at.lFrame.contextLView))[tn]}(n)}function Wd(n,i){return n<<17|i<<2}function Qa(n){return n>>17&32767}function Wg(n){return 2|n}function eu(n){return(131068&n)>>2}function zg(n,i){return-131069&n|i<<2}function Zg(n){return 1|n}function dy(n,i,s,a,u){const f=n[s+1],m=null===i;let v=a?Qa(f):eu(f),E=!1;for(;0!==v&&(!1===E||m);){const M=n[v+1];pC(n[v],i)&&(E=!0,n[v+1]=a?Zg(M):Wg(M)),v=a?Qa(M):eu(M)}E&&(n[s+1]=a?Wg(f):Zg(f))}function pC(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&Br(n,i)>=0}const Yn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function fy(n){return n.substring(Yn.key,Yn.keyEnd)}function hy(n,i){const s=Yn.textEnd;return s===i?-1:(i=Yn.keyEnd=function EC(n,i,s){for(;i<s&&n.charCodeAt(i)>32;)i++;return i}(n,Yn.key=i,s),wc(n,i,s))}function wc(n,i,s){for(;i<s&&n.charCodeAt(i)<=32;)i++;return i}function Js(n,i){return function fs(n,i,s,a){const u=ve(),f=Mt(),m=Yr(2);f.firstUpdatePass&&Zd(f,n,m,a),i!==Dt&&Pr(u,m,i)&&vy(f,f.data[Bn()],u,u[Et],n,u[m+1]=function Cy(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=oe(Vi(n)))),n}(i,s),a,m)}(n,i,null,!0),Js}function Xs(n,i){for(let s=function mC(n){return function vC(n){Yn.key=0,Yn.keyEnd=0,Yn.value=0,Yn.valueEnd=0,Yn.textEnd=n.length}(n),hy(n,wc(n,0,Yn.textEnd))}(i);s>=0;s=hy(i,s))Nn(n,fy(i),!0)}function my(n,i){return i>=n.expandoStartIndex}function Zd(n,i,s,a){const u=n.data;if(null===u[s+1]){const f=u[Bn()],m=my(n,s);qg(f,a)&&null===i&&!m&&(i=!1),i=function DC(n,i,s,a){const u=function pa(n){const i=at.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}(n);let f=a?i.residualClasses:i.residualStyles;if(null===u)0===(a?i.classBindings:i.styleBindings)&&(s=tu(s=Uh(null,n,i,s,a),i.attrs,a),f=null);else{const m=i.directiveStylingLast;if(-1===m||n[m]!==u)if(s=Uh(u,n,i,s,a),null===f){let E=function wC(n,i,s){const a=s?i.classBindings:i.styleBindings;if(0!==eu(a))return n[Qa(a)]}(n,i,a);void 0!==E&&Array.isArray(E)&&(E=Uh(null,n,i,E[1],a),E=tu(E,i.attrs,a),function _y(n,i,s,a){n[Qa(s?i.classBindings:i.styleBindings)]=a}(n,i,a,E))}else f=function bC(n,i,s){let a;const u=i.directiveEnd;for(let f=1+i.directiveStylingLast;f<u;f++)a=tu(a,n[f].hostAttrs,s);return tu(a,i.attrs,s)}(n,i,a)}return void 0!==f&&(a?i.residualClasses=f:i.residualStyles=f),s}(u,f,i,a),function cy(n,i,s,a,u,f){let m=f?i.classBindings:i.styleBindings,v=Qa(m),E=eu(m);n[a]=s;let M,b=!1;if(Array.isArray(s)?(M=s[1],(null===M||Br(s,M)>0)&&(b=!0)):M=s,u)if(0!==E){const j=Qa(n[v+1]);n[a+1]=Wd(j,v),0!==j&&(n[j+1]=zg(n[j+1],a)),n[v+1]=function fC(n,i){return 131071&n|i<<17}(n[v+1],a)}else n[a+1]=Wd(v,0),0!==v&&(n[v+1]=zg(n[v+1],a)),v=a;else n[a+1]=Wd(E,0),0===v?v=a:n[E+1]=zg(n[E+1],a),E=a;b&&(n[a+1]=Wg(n[a+1])),dy(n,M,a,!0),dy(n,M,a,!1),function hC(n,i,s,a,u){const f=u?n.residualClasses:n.residualStyles;null!=f&&"string"==typeof i&&Br(f,i)>=0&&(s[a+1]=Zg(s[a+1]))}(i,M,n,a,f),m=Wd(v,E),f?i.classBindings=m:i.styleBindings=m}(u,f,i,s,m,a)}}function Uh(n,i,s,a,u){let f=null;const m=s.directiveEnd;let v=s.directiveStylingLast;for(-1===v?v=s.directiveStart:v++;v<m&&(f=i[v],a=tu(a,f.hostAttrs,u),f!==n);)v++;return null!==n&&(s.directiveStylingLast=v),a}function tu(n,i,s){const a=s?1:2;let u=-1;if(null!==i)for(let f=0;f<i.length;f++){const m=i[f];"number"==typeof m?u=m:u===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Nn(n,m,!!s||i[++f]))}return void 0===n?null:n}function vy(n,i,s,a,u,f,m,v){if(!(3&i.type))return;const E=n.data,b=E[v+1],M=function uy(n){return 1==(1&n)}(b)?Ey(E,i,s,u,eu(b),m):void 0;Hh(M)||(Hh(f)||function ly(n){return 2==(2&n)}(b)&&(f=Ey(E,null,s,u,v,m)),function La(n,i,s,a,u){if(i)u?n.addClass(s,a):n.removeClass(s,a);else{let f=-1===a.indexOf("-")?void 0:Ur.DashCase;null==u?n.removeStyle(s,a,f):("string"==typeof u&&u.endsWith("!important")&&(u=u.slice(0,-10),f|=Ur.Important),n.setStyle(s,a,u,f))}}(a,m,ci(Bn(),s),u,f))}function Ey(n,i,s,a,u,f){const m=null===i;let v;for(;u>0;){const E=n[u],b=Array.isArray(E),M=b?E[1]:E,N=null===M;let j=s[u+1];j===Dt&&(j=N?Be:void 0);let Y=N?Vr(j,a):M===a?j:void 0;if(b&&!Hh(Y)&&(Y=Vr(E,a)),Hh(Y)&&(v=Y,m))return v;const ce=n[u+1];u=m?Qa(ce):eu(ce)}if(null!==i){let E=f?i.residualClasses:i.residualStyles;null!=E&&(v=Vr(E,a))}return v}function Hh(n){return void 0!==n}function qg(n,i){return 0!=(n.flags&(i?8:16))}function jh(n,i=""){const s=ve(),a=Mt(),u=n+St,f=a.firstCreatePass?dc(a,u,1,i,null):a.data[u],m=s[u]=function fd(n,i){return n.createText(i)}(s[Et],i);xl(a,s,m,f),ur(f,!1)}function Kd(n){return nu("",n,""),Kd}function nu(n,i,s){const a=ve(),u=Yl(a,n,i,s);return u!==Dt&&function zo(n,i,s){const a=ci(i,n);!function hd(n,i,s){n.setValue(i,s)}(n[Et],a,s)}(a,Bn(),u),nu}function PC(n,i,s){!function hs(n,i,s,a){const u=Mt(),f=Yr(2);u.firstUpdatePass&&Zd(u,null,f,a);const m=ve();if(s!==Dt&&Pr(m,f,s)){const v=u.data[Bn()];if(qg(v,a)&&!my(u,f)){let E=a?v.classesWithoutHost:v.stylesWithoutHost;null!==E&&(s=ue(E,s||"")),Xl(u,v,m,s,a)}else!function SC(n,i,s,a,u,f,m,v){u===Dt&&(u=Be);let E=0,b=0,M=0<u.length?u[0]:null,N=0<f.length?f[0]:null;for(;null!==M||null!==N;){const j=E<u.length?u[E+1]:void 0,Y=b<f.length?f[b+1]:void 0;let Pe,ce=null;M===N?(E+=2,b+=2,j!==Y&&(ce=N,Pe=Y)):null===N||null!==M&&M<N?(E+=2,ce=M):(b+=2,ce=N,Pe=Y),null!==ce&&vy(n,i,s,a,ce,Pe,m,v),M=E<u.length?u[E]:null,N=b<f.length?f[b]:null}}(u,v,m,m[Et],m[f+1],m[f+1]=function TC(n,i,s){if(null==s||""===s)return Be;const a=[],u=Vi(s);if(Array.isArray(u))for(let f=0;f<u.length;f++)n(a,u[f],!0);else if("object"==typeof u)for(const f in u)u.hasOwnProperty(f)&&n(a,f,u[f]);else"string"==typeof u&&i(a,u);return a}(n,i,s),a,f)}}(Nn,Xs,Yl(ve(),n,i,s),!0)}const Yo=void 0;var VC=["en",[["a","p"],["AM","PM"],Yo],[["AM","PM"],Yo,Yo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yo,"{1} 'at' {0}",Yo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function LC(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let bc={};function em(n){const i=function UC(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Qd(i);if(s)return s;const a=i.split("-")[0];if(s=Qd(a),s)return s;if("en"===a)return VC;throw new se(701,!1)}function tm(n){return em(n)[lt.PluralCase]}function Qd(n){return n in bc||(bc[n]=yt.ng&&yt.ng.common&&yt.ng.common.locales&&yt.ng.common.locales[n]),bc[n]}var lt=(()=>((lt=lt||{})[lt.LocaleId=0]="LocaleId",lt[lt.DayPeriodsFormat=1]="DayPeriodsFormat",lt[lt.DayPeriodsStandalone=2]="DayPeriodsStandalone",lt[lt.DaysFormat=3]="DaysFormat",lt[lt.DaysStandalone=4]="DaysStandalone",lt[lt.MonthsFormat=5]="MonthsFormat",lt[lt.MonthsStandalone=6]="MonthsStandalone",lt[lt.Eras=7]="Eras",lt[lt.FirstDayOfWeek=8]="FirstDayOfWeek",lt[lt.WeekendRange=9]="WeekendRange",lt[lt.DateFormat=10]="DateFormat",lt[lt.TimeFormat=11]="TimeFormat",lt[lt.DateTimeFormat=12]="DateTimeFormat",lt[lt.NumberSymbols=13]="NumberSymbols",lt[lt.NumberFormats=14]="NumberFormats",lt[lt.CurrencyCode=15]="CurrencyCode",lt[lt.CurrencySymbol=16]="CurrencySymbol",lt[lt.CurrencyName=17]="CurrencyName",lt[lt.Currencies=18]="Currencies",lt[lt.Directionality=19]="Directionality",lt[lt.PluralCase=20]="PluralCase",lt[lt.ExtraData=21]="ExtraData",lt))();const ru="en-US";let Py=ru;function tp(n,i,s,a,u){if(n=K(n),Array.isArray(n))for(let f=0;f<n.length;f++)tp(n[f],i,s,a,u);else{const f=Mt(),m=ve();let v=ja(n)?n:K(n.provide),E=a_(n);const b=Sn(),M=1048575&b.providerIndexes,N=b.directiveStart,j=b.providerIndexes>>20;if(ja(n)||!n.multi){const Y=new ma(E,u,Wl),ce=np(v,i,u?M:M+j,N);-1===ce?(ns(di(b,m),f,v),iu(f,n,i.length),i.push(v),b.directiveStart++,b.directiveEnd++,u&&(b.providerIndexes+=1048576),s.push(Y),m.push(Y)):(s[ce]=Y,m[ce]=Y)}else{const Y=np(v,i,M+j,N),ce=np(v,i,M,M+j),Ge=ce>=0&&s[ce];if(u&&!Ge||!u&&!(Y>=0&&s[Y])){ns(di(b,m),f,v);const et=function sv(n,i,s,a,u){const f=new ma(n,s,Wl);return f.multi=[],f.index=i,f.componentProviders=0,iv(f,u,a&&!s),f}(u?lI:aI,s.length,u,a,E);!u&&Ge&&(s[ce].providerFactory=et),iu(f,n,i.length,0),i.push(v),b.directiveStart++,b.directiveEnd++,u&&(b.providerIndexes+=1048576),s.push(et),m.push(et)}else iu(f,n,Y>-1?Y:ce,iv(s[u?ce:Y],E,!u&&a));!u&&a&&Ge&&s[ce].componentProviders++}}}function iu(n,i,s,a){const u=ja(i),f=function i_(n){return!!n.useClass}(i);if(u||f){const E=(f?K(i.useClass):i).prototype.ngOnDestroy;if(E){const b=n.destroyHooks||(n.destroyHooks=[]);if(!u&&i.multi){const M=b.indexOf(s);-1===M?b.push(s,[a,E]):b[M+1].push(a,E)}else b.push(s,E)}}}function iv(n,i,s){return s&&n.componentProviders++,n.multi.push(i)-1}function np(n,i,s,a){for(let u=s;u<a;u++)if(i[u]===n)return u;return-1}function aI(n,i,s,a){return rp(this.multi,[])}function lI(n,i,s,a){const u=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,v=Pi(s,s[Ye],this.providerFactory.index,a);f=v.slice(0,m),rp(u,f);for(let E=m;E<v.length;E++)f.push(v[E])}else f=[],rp(u,f);return f}function rp(n,i){for(let s=0;s<n.length;s++)i.push((0,n[s])());return i}function gm(n,i=[]){return s=>{s.providersResolver=(a,u)=>function rv(n,i,s){const a=Mt();if(a.firstCreatePass){const u=vn(n);tp(s,a.data,a.blueprint,u,!0),tp(i,a.data,a.blueprint,u,!1)}}(a,u?u(n):n,i)}}class Nc{}class uI{}function cI(n,i){return new ov(n,i??null)}class ov extends Nc{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new O_(this);const a=function ir(n,i){const s=n[en]||null;if(!s&&!0===i)throw new Error(`Type ${oe(n)} does not have '\u0275mod' property.`);return s}(i);this._bootstrapComponents=function jo(n){return n instanceof Function?n():n}(a.bootstrap),this._r3Injector=_h(i,s,[{provide:Nc,useValue:this},{provide:ch,useValue:this.componentFactoryResolver}],oe(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class mm extends uI{constructor(i){super(),this.moduleType=i}create(i){return new ov(this.moduleType,i)}}function Er(n,i,s,a,u,f){const m=i+s;return Pr(n,m,u)?function Ui(n,i,s){return n[i]=s}(n,m+1,f?a.call(f,u):a(u)):function xc(n,i){const s=n[i];return s===Dt?void 0:s}(n,m+1)}function vm(n,i){const s=Mt();let a;const u=n+St;s.firstCreatePass?(a=function mv(n,i){if(i)for(let s=i.length-1;s>=0;s--){const a=i[s];if(n===a.name)return a}}(i,s.pipeRegistry),s.data[u]=a,a.onDestroy&&(s.destroyHooks??(s.destroyHooks=[])).push(u,a.onDestroy)):a=s.data[u];const f=a.factory||(a.factory=lr(a.type)),m=dn(Wl);try{const v=Ls(!1),E=f();return Ls(v),function aC(n,i,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),i[s]=a}(s,ve(),u,E),E}finally{dn(m)}}function Em(n,i,s){const a=n+St,u=ve(),f=Kr(u,a);return function Oc(n,i){return n[Ye].data[i].pure}(u,a)?Er(u,function ln(){const n=at.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}(),i,f.transform,s,f):f.transform(s)}function op(n){return i=>{setTimeout(n,void 0,i)}}const ps=class Ev extends h.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,a){let u=i,f=s||(()=>null),m=a;if(i&&"object"==typeof i){const E=i;u=E.next?.bind(E),f=E.error?.bind(E),m=E.complete?.bind(E)}this.__isAsync&&(f=op(f),u&&(u=op(u)),m&&(m=op(m)));const v=super.subscribe({next:u,error:f,complete:m});return i instanceof J.w0&&i.add(v),v}};let kc=(()=>{class n{}return n.__NG_ELEMENT_ID__=Im,n})();const Cm=kc,Cv=class extends Cm{constructor(i,s,a){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(i,s){const a=this._declarationTContainer.tView,u=Eh(this._declarationLView,a,i,16,null,a.declTNode,null,null,null,null,s||null);u[Es]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[xr];return null!==m&&(u[xr]=m.createEmbeddedView(a)),_g(a,u,i),new vr(u)}};function Im(){return sf(Sn(),ve())}function sf(n,i){return 4&n.type?new Cv(i,n,oc(n,i)):null}let of=(()=>{class n{}return n.__NG_ELEMENT_ID__=Iv,n})();function Iv(){return function bm(n,i){let s;const a=i[n.index];if(ar(a))s=a;else{let u;if(8&n.type)u=qt(a);else{const f=i[Et];u=f.createComment("");const m=Gn(n,i);Mr(f,Fi(f,m),u,function Zu(n,i){return n.nextSibling(i)}(f,m),!1)}i[n.index]=s=M_(a,i,u,n),za(i,s)}return new af(s,n,i)}(Sn(),ve())}const Dm=of,af=class extends Dm{constructor(i,s,a){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=a}get element(){return oc(this._hostTNode,this._hostLView)}get injector(){return new Un(this._hostTNode,this._hostLView)}get parentInjector(){const i=Bs(this._hostTNode,this._hostLView);if(ml(i)){const s=Fs(i,this._hostLView),a=ts(i);return new Un(s[Ye].data[a+8],s)}return new Un(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=wm(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-$n}createEmbeddedView(i,s,a){let u,f;"number"==typeof a?u=a:null!=a&&(u=a.index,f=a.injector);const m=i.createEmbeddedView(s||{},f);return this.insert(m,u),m}createComponent(i,s,a,u,f){const m=i&&!function Ao(n){return"function"==typeof n}(i);let v;if(m)v=s;else{const N=s||{};v=N.index,a=N.injector,u=N.projectableNodes,f=N.environmentInjector||N.ngModuleRef}const E=m?i:new Ud(kt(i)),b=a||this.parentInjector;if(!f&&null==E.ngModule){const j=(m?b:this.parentInjector).get(Uo,null);j&&(f=j)}const M=E.create(b,u,void 0,f);return this.insert(M.hostView,v),M}insert(i,s){const a=i._lView,u=a[Ye];if(function la(n){return ar(n[ht])}(a)){const M=this.indexOf(i);if(-1!==M)this.detach(M);else{const N=a[ht],j=new af(N,N[yn],N[ht]);j.detach(j.indexOf(i))}}const f=this._adjustIndex(s),m=this._lContainer;!function jp(n,i,s,a){const u=$n+a,f=s.length;a>0&&(s[u-1][br]=i),a<f-$n?(i[br]=s[u],td(s,$n+a,i)):(s.push(i),i[br]=null),i[ht]=s;const m=i[Es];null!==m&&s!==m&&function pd(n,i){const s=n[Si];i[Pn]!==i[ht][ht][Pn]&&(n[ia]=!0),null===s?n[Si]=[i]:s.push(i)}(m,i);const v=i[xr];null!==v&&v.insertView(n),i[vt]|=64}(u,a,m,f);const v=_d(f,m),E=a[Et],b=Fi(E,m[oi]);return null!==b&&function Hp(n,i,s,a,u,f){a[wr]=u,a[yn]=i,Fa(n,a,s,1,u,f)}(u,m[yn],E,a,b,v),i.attachToViewContainerRef(),td(lp(m),f,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=wm(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),a=Pl(this._lContainer,s);a&&(Mo(lp(this._lContainer),s),$f(a[Ye],a))}detach(i){const s=this._adjustIndex(i,-1),a=Pl(this._lContainer,s);return a&&null!=Mo(lp(this._lContainer),s)?new vr(a):null}_adjustIndex(i,s=0){return i??this.length+s}};function wm(n){return n[Tr]}function lp(n){return n[Tr]||(n[Tr]=[])}function Rm(n,i){return sf(n,i)}function mp(...n){}const Bv=new jt("Application Initializer");let _f=(()=>{class n{constructor(s){this.appInits=s,this.resolve=mp,this.reject=mp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const f=this.appInits[u]();if(Hg(f))s.push(f);else if(jg(f)){const m=new Promise((v,E)=>{f.subscribe({complete:v,error:E})});s.push(m)}}Promise.all(s).then(()=>{a()}).catch(u=>{this.reject(u)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(xe(Bv,8))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yf=new jt("AppId",{providedIn:"root",factory:function _p(){return`${yp()}${yp()}${yp()}`}});function yp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Uv=new jt("Platform Initializer"),pD=new jt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),vf=new jt("LocaleId",{providedIn:"root",factory:()=>Ze(vf,tt.Optional|tt.SkipSelf)||function YI(){return typeof $localize<"u"&&$localize.locale||ru}()}),Hv=new jt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),$v=(()=>Promise.resolve(0))();function Um(n){typeof Zone>"u"?$v.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class $i{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ps(!1),this.onMicrotaskEmpty=new ps(!1),this.onStable=new ps(!1),this.onError=new ps(!1),typeof Zone>"u")throw new se(908,!1);Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&s,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function vp(){let n=yt.requestAnimationFrame,i=yt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function jm(n){const i=()=>{!function ED(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(yt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Ep(n),n.isCheckStableRunning=!0,Hm(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Ep(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,u,f,m,v)=>{try{return $m(n),s.invokeTask(u,f,m,v)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||n.shouldCoalesceRunChangeDetection)&&i(),Gm(n)}},onInvoke:(s,a,u,f,m,v,E)=>{try{return $m(n),s.invoke(u,f,m,v,E)}finally{n.shouldCoalesceRunChangeDetection&&i(),Gm(n)}},onHasTask:(s,a,u,f)=>{s.hasTask(u,f),a===u&&("microTask"==f.change?(n._hasPendingMicrotasks=f.microTask,Ep(n),Hm(n)):"macroTask"==f.change&&(n.hasPendingMacrotasks=f.macroTask))},onHandleError:(s,a,u,f)=>(s.handleError(u,f),n.runOutsideAngular(()=>n.onError.emit(f)),!1)})}(u)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$i.isInAngularZone())throw new se(909,!1)}static assertNotInAngularZone(){if($i.isInAngularZone())throw new se(909,!1)}run(i,s,a){return this._inner.run(i,s,a)}runTask(i,s,a,u){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+u,i,Gv,mp,mp);try{return f.runTask(m,s,a)}finally{f.cancelTask(m)}}runGuarded(i,s,a){return this._inner.runGuarded(i,s,a)}runOutsideAngular(i){return this._outer.run(i)}}const Gv={};function Hm(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Ep(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function $m(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Gm(n){n._nesting--,Hm(n)}class lu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ps,this.onMicrotaskEmpty=new ps,this.onStable=new ps,this.onError=new ps}run(i,s,a){return i.apply(s,a)}runGuarded(i,s,a){return i.apply(s,a)}runOutsideAngular(i){return i()}runTask(i,s,a,u){return i.apply(s,a)}}const Wv=new jt(""),Wm=new jt("");let Zm,e0=(()=>{class n{constructor(s,a,u){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Zm||(function t0(n){Zm=n}(u),u.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$i.assertNotInAngularZone(),Um(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Um(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,u){let f=-1;a&&a>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==f),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:f,updateCb:u})}whenStable(s,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,u){return[]}}return n.\u0275fac=function(s){return new(s||n)(xe($i),xe(zm),xe(Wm))},n.\u0275prov=it({token:n,factory:n.\u0275fac}),n})(),zm=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return Zm?.findTestabilityInTree(this,s,a)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Di=!1;let Xo=null;const zv=new jt("AllowMultipleToken"),Cp=new jt("PlatformDestroyListeners"),n0=new jt("appBootstrapListener");function Yv(n,i,s=[]){const a=`Platform: ${i}`,u=new jt(a);return(f=[])=>{let m=Qv();if(!m||m.injector.get(zv,!1)){const v=[...s,...f,{provide:u,useValue:!0}];n?n(v):function qv(n){if(Xo&&!Xo.get(zv,!1))throw new se(400,!1);Xo=n;const i=n.get(a0);(function r0(n){const i=n.get(Uv,null);i&&i.forEach(s=>s())})(n)}(function o0(n=[],i){return $l.create({name:i,providers:[{provide:nc,useValue:"platform"},{provide:Cp,useValue:new Set([()=>Xo=null])},...n]})}(v,a))}return function s0(n){const i=Qv();if(!i)throw new se(401,!1);return i}()}}function Qv(){return Xo?.get(a0)??null}let a0=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const u=function u0(n,i){let s;return s="noop"===n?new lu:("zone.js"===n?void 0:n)||new $i(i),s}(a?.ngZone,function l0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),f=[{provide:$i,useValue:u}];return u.run(()=>{const m=$l.create({providers:f,parent:this.injector,name:s.moduleType.name}),v=s.create(m),E=v.injector.get(lc,null);if(!E)throw new se(402,!1);return u.runOutsideAngular(()=>{const b=u.onError.subscribe({next:M=>{E.handleError(M)}});v.onDestroy(()=>{Ip(this._modules,v),b.unsubscribe()})}),function c0(n,i,s){try{const a=s();return Hg(a)?a.catch(u=>{throw i.runOutsideAngular(()=>n.handleError(u)),u}):a}catch(a){throw i.runOutsideAngular(()=>n.handleError(a)),a}}(E,u,()=>{const b=v.injector.get(_f);return b.runInitializers(),b.donePromise.then(()=>(function qh(n){Je(n,"Expected localeId to be defined"),"string"==typeof n&&(Py=n.toLowerCase().replace(/_/g,"-"))}(v.injector.get(vf,ru)||ru),this._moduleDoBootstrap(v),v))})})}bootstrapModule(s,a=[]){const u=Jv({},a);return function Zv(n,i,s){const a=new mm(s);return Promise.resolve(a)}(0,0,s).then(f=>this.bootstrapModuleFactory(f,u))}_moduleDoBootstrap(s){const a=s.injector.get(Xv);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!s.instance.ngDoBootstrap)throw new se(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new se(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(Cp,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(xe($l))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Jv(n,i){return Array.isArray(i)?i.reduce(Jv,n):{...n,...i}}let Xv=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(s,a,u){this._zone=s,this._injector=a,this._exceptionHandler=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new O.y(v=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{v.next(this._stable),v.complete()})}),m=new O.y(v=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{$i.assertNotInAngularZone(),Um(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,v.next(!0))})})});const b=this._zone.onUnstable.subscribe(()=>{$i.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{v.next(!1)}))});return()=>{E.unsubscribe(),b.unsubscribe()}});this.isStable=(0,re.T)(f,m.pipe((0,ee.B)()))}bootstrap(s,a){const u=s instanceof sc;if(!this._injector.get(_f).done){!u&&function bi(n){const i=kt(n)||_n(n)||bn(n);return null!==i&&i.standalone}(s);throw new se(405,Di)}let m;m=u?s:this._injector.get(ch).resolveComponentFactory(s),this.componentTypes.push(m.componentType);const v=function Kv(n){return n.isBoundToModule}(m)?void 0:this._injector.get(Nc),b=m.create($l.NULL,[],a||m.selector,v),M=b.location.nativeElement,N=b.injector.get(Wv,null);return N?.registerApplication(M),b.onDestroy(()=>{this.detachView(b.hostView),Ip(this.components,b),N?.unregisterApplication(M)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new se(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Ip(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(n0,[]);a.push(...this._bootstrapListeners),a.forEach(u=>u(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Ip(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new se(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(xe($i),xe(Uo),xe(lc))},n.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ip(n,i){const s=n.indexOf(i);s>-1&&n.splice(s,1)}function f0(){return!1}let h0=(()=>{class n{}return n.__NG_ELEMENT_ID__=p0,n})();function p0(n){return function g0(n,i,s){if(Is(n)&&!s){const a=Tn(n.index,i);return new vr(a,a)}return 47&n.type?new vr(i[Pn],i):null}(Sn(),ve(),16==(16&n))}class sE{constructor(){}supports(i){return xh(i)}create(i){return new oE(i)}}const E0=(n,i)=>i;class oE{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||E0}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,a=this._removalsHead,u=0,f=null;for(;s||a;){const m=!a||s&&s.currentIndex<Bc(a,u,f)?s:a,v=Bc(m,u,f),E=m.currentIndex;if(m===a)u--,a=a._nextRemoved;else if(s=s._next,null==m.previousIndex)u++;else{f||(f=[]);const b=v-u,M=E-u;if(b!=M){for(let j=0;j<b;j++){const Y=j<f.length?f[j]:f[j]=0,ce=Y+j;M<=ce&&ce<b&&(f[j]=Y+1)}f[m.previousIndex]=M-b}}v!==E&&i(m,v,E)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!xh(i))throw new se(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let u,f,m,s=this._itHead,a=!1;if(Array.isArray(i)){this.length=i.length;for(let v=0;v<this.length;v++)f=i[v],m=this._trackByFn(v,f),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,f,m,v)),Object.is(s.item,f)||this._addIdentityChange(s,f)):(s=this._mismatch(s,f,m,v),a=!0),s=s._next}else u=0,function $_(n,i){if(Array.isArray(n))for(let s=0;s<n.length;s++)i(n[s]);else{const s=n[Symbol.iterator]();let a;for(;!(a=s.next()).done;)i(a.value)}}(i,v=>{m=this._trackByFn(u,v),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,v,m,u)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,m,u),a=!0),s=s._next,u++}),this.length=u;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,a,u){let f;return null===i?f=this._itTail:(f=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,f,u)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,f,u)):i=this._addAfter(new aE(s,a),f,u),i}_verifyReinsertion(i,s,a,u){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==f?i=this._reinsertAfter(f,i._prev,u):i.currentIndex!=u&&(i.currentIndex=u,this._addToMoves(i,u)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const u=i._prevRemoved,f=i._nextRemoved;return null===u?this._removalsHead=f:u._nextRemoved=f,null===f?this._removalsTail=u:f._prevRemoved=u,this._insertAfter(i,s,a),this._addToMoves(i,a),i}_moveAfter(i,s,a){return this._unlink(i),this._insertAfter(i,s,a),this._addToMoves(i,a),i}_addAfter(i,s,a){return this._insertAfter(i,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,a){const u=null===s?this._itHead:s._next;return i._next=u,i._prev=s,null===u?this._itTail=i:u._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new uE),this._linkedRecords.put(i),i.currentIndex=a,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,a=i._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uE),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class aE{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lE{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,i))return a;return null}remove(i){const s=i._prevDup,a=i._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class uE{constructor(){this.map=new Map}put(i){const s=i.trackById;let a=this.map.get(s);a||(a=new lE,this.map.set(s,a)),a.add(i)}get(i,s){const u=this.map.get(i);return u?u.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Bc(n,i,s){const a=n.previousIndex;if(null===a)return a;let u=0;return s&&a<s.length&&(u=s[a]),a+i+u}class Fn{constructor(){}supports(i){return i instanceof Map||Oh(i)}create(){return new Qm}}class Qm{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||Oh(i)))throw new se(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(a,u)=>{if(s&&s.key===u)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const f=this._getOrCreateRecordForKey(u,a);s=this._insertBeforeOrAppend(s,f)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const a=i._prev;return s._next=i,s._prev=a,i._prev=s,a&&(a._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const u=this._records.get(i);this._maybeAddToChanges(u,s);const f=u._prev,m=u._next;return f&&(f._next=m),m&&(m._prev=f),u._next=null,u._prev=null,u}const a=new Jm(i);return this._records.set(i,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(a=>s(i[a],a))}}class Jm{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ef(){return new Tp([new sE])}let Tp=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const u=a.factories.slice();s=s.concat(u)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||Ef()),deps:[[n,new hi,new Sa]]}}find(s){const a=this.factories.find(u=>u.supports(s));if(null!=a)return a;throw new se(901,!1)}}return n.\u0275prov=it({token:n,providedIn:"root",factory:Ef}),n})();function dE(){return new Sp([new Fn])}let Sp=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const u=a.factories.slice();s=s.concat(u)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||dE()),deps:[[n,new hi,new Sa]]}}find(s){const a=this.factories.find(u=>u.supports(s));if(a)return a;throw new se(901,!1)}}return n.\u0275prov=it({token:n,providedIn:"root",factory:dE}),n})();const D0=Yv(null,"core",[]);let fE=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(xe(Xv))},n.\u0275mod=_s({type:n}),n.\u0275inj=Wt({}),n})();function xD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},3942:(nt,De,k)=>{k.d(De,{Z:()=>dt});var h=k(2090),J=k(4859),O=k(9681),re=k(1877);class ee{constructor(se,Ie){this._delegate=se,this.firebase=Ie,(0,O._addComponent)(se,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=se.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(se){this._delegate.automaticDataCollectionEnabled=se}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(se=>{this._delegate.checkDestroyed(),se()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(se,Ie=O._DEFAULT_ENTRY_NAME){var _e;this._delegate.checkDestroyed();const Ae=this._delegate.container.getProvider(se);return!Ae.isInitialized()&&"EXPLICIT"===(null===(_e=Ae.getComponent())||void 0===_e?void 0:_e.instantiationMode)&&Ae.initialize(),Ae.getImmediate({identifier:Ie})}_removeServiceInstance(se,Ie=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(se).clearInstance(Ie)}_addComponent(se){(0,O._addComponent)(this._delegate,se)}_addOrOverwriteComponent(se){(0,O._addOrOverwriteComponent)(this._delegate,se)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function ue(){const je=function oe(je){const se={},Ie={__esModule:!0,initializeApp:function we(be,ie={}){const H=O.initializeApp(be,ie);if((0,h.r3)(se,H.name))return se[H.name];const Oe=new je(H,Ie);return se[H.name]=Oe,Oe},app:Ae,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function he(be){const ie=be.name,H=ie.replace("-compat","");if(O._registerComponent(be)&&"PUBLIC"===be.type){const Oe=(Fe=Ae())=>{if("function"!=typeof Fe[H])throw ge.create("invalid-app-argument",{appName:ie});return Fe[H]()};void 0!==be.serviceProps&&(0,h.ZB)(Oe,be.serviceProps),Ie[H]=Oe,je.prototype[H]=function(...Fe){return this._getService.bind(this,ie).apply(this,be.multipleInstances?Fe:[])}}return"PUBLIC"===be.type?Ie[H]:null},removeApp:function _e(be){delete se[be]},useAsService:function Le(be,ie){return"serverAuth"===ie?null:ie},modularAPIs:O}};function Ae(be){if(!(0,h.r3)(se,be=be||O._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:be});return se[be]}return Ie.default=Ie,Object.defineProperty(Ie,"apps",{get:function de(){return Object.keys(se).map(be=>se[be])}}),Ae.App=je,Ie}(ee);return je.INTERNAL=Object.assign(Object.assign({},je.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function se(Ie){(0,h.ZB)(je,Ie)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),je}(),U=new re.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const je=self.firebase.SDK_VERSION;je&&je.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const dt=B;!function Se(je){(0,O.registerVersion)("@firebase/app-compat","0.2.8",je)}()},9681:(nt,De,k)=>{k.r(De),k.d(De,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>Hn,_DEFAULT_ENTRY_NAME:()=>Re,_addComponent:()=>rt,_addOrOverwriteComponent:()=>$e,_apps:()=>Je,_clearComponents:()=>Wt,_components:()=>ze,_getProvider:()=>it,_registerComponent:()=>Nt,_removeServiceInstance:()=>Vt,deleteApp:()=>Wr,getApp:()=>Jn,getApps:()=>Gr,initializeApp:()=>Gi,onLog:()=>tt,registerVersion:()=>jn,setLogLevel:()=>Wi});var h=k(5861),J=k(4859),O=k(1877),re=k(2090),ee=k(8766);class ne{constructor(pe){this.container=pe}getPlatformInfoString(){return this.container.getProviders().map(Ze=>{if(function ge(xe){return"VERSION"===xe.getComponent()?.type}(Ze)){const ft=Ze.getImmediate();return`${ft.library}/${ft.version}`}return null}).filter(Ze=>Ze).join(" ")}}const oe="@firebase/app",B=new O.Yd("@firebase/app"),Re="[DEFAULT]",ke={[oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Je=new Map,ze=new Map;function rt(xe,pe){try{xe.container.addComponent(pe)}catch(Ze){B.debug(`Component ${pe.name} failed to register with FirebaseApp ${xe.name}`,Ze)}}function $e(xe,pe){xe.container.addOrOverwriteComponent(pe)}function Nt(xe){const pe=xe.name;if(ze.has(pe))return B.debug(`There were multiple attempts to register component ${pe}.`),!1;ze.set(pe,xe);for(const Ze of Je.values())rt(Ze,xe);return!0}function it(xe,pe){const Ze=xe.container.getProvider("heartbeat").getImmediate({optional:!0});return Ze&&Ze.triggerHeartbeat(),xe.container.getProvider(pe)}function Vt(xe,pe,Ze=Re){it(xe,pe).clearInstance(Ze)}function Wt(){ze.clear()}const sn=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Qn{constructor(pe,Ze,ft){this._isDeleted=!1,this._options=Object.assign({},pe),this._config=Object.assign({},Ze),this._name=Ze.name,this._automaticDataCollectionEnabled=Ze.automaticDataCollectionEnabled,this._container=ft,this.container.addComponent(new J.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(pe){this._isDeleted=pe}checkDestroyed(){if(this.isDeleted)throw sn.create("app-deleted",{appName:this._name})}}const Hn="9.20.0";function Gi(xe,pe={}){let Ze=xe;"object"!=typeof pe&&(pe={name:pe});const ft=Object.assign({name:Re,automaticDataCollectionEnabled:!1},pe),st=ft.name;if("string"!=typeof st||!st)throw sn.create("bad-app-name",{appName:String(st)});if(Ze||(Ze=(0,re.aH)()),!Ze)throw sn.create("no-options");const Ot=Je.get(st);if(Ot){if((0,re.vZ)(Ze,Ot.options)&&(0,re.vZ)(ft,Ot.config))return Ot;throw sn.create("duplicate-app",{appName:st})}const on=new J.H0(st);for(const F of ze.values())on.addComponent(F);const L=new Qn(Ze,ft,on);return Je.set(st,L),L}function Jn(xe=Re){const pe=Je.get(xe);if(!pe&&xe===Re)return Gi();if(!pe)throw sn.create("no-app",{appName:xe});return pe}function Gr(){return Array.from(Je.values())}function Wr(xe){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,h.Z)(function*(xe){const pe=xe.name;Je.has(pe)&&(Je.delete(pe),yield Promise.all(xe.container.getProviders().map(Ze=>Ze.delete())),xe.isDeleted=!0)})).apply(this,arguments)}function jn(xe,pe,Ze){var ft;let st=null!==(ft=ke[xe])&&void 0!==ft?ft:xe;Ze&&(st+=`-${Ze}`);const Ot=st.match(/\s|\//),on=pe.match(/\s|\//);if(Ot||on){const L=[`Unable to register library "${st}" with version "${pe}":`];return Ot&&L.push(`library name "${st}" contains illegal characters (whitespace or "/")`),Ot&&on&&L.push("and"),on&&L.push(`version name "${pe}" contains illegal characters (whitespace or "/")`),void B.warn(L.join(" "))}Nt(new J.wA(`${st}-version`,()=>({library:st,version:pe}),"VERSION"))}function tt(xe,pe){if(null!==xe&&"function"!=typeof xe)throw sn.create("invalid-log-argument");(0,O.Am)(xe,pe)}function Wi(xe){(0,O.Ub)(xe)}const ri="firebase-heartbeat-database",dn=1,wn="firebase-heartbeat-store";let Nr=null;function yt(){return Nr||(Nr=(0,ee.X3)(ri,dn,{upgrade:(xe,pe)=>{0===pe&&xe.createObjectStore(wn)}}).catch(xe=>{throw sn.create("idb-open",{originalErrorMessage:xe.message})})),Nr}function ct(){return(ct=(0,h.Z)(function*(xe){try{return(yield yt()).transaction(wn).objectStore(wn).get(pn(xe))}catch(pe){if(pe instanceof re.ZR)B.warn(pe.message);else{const Ze=sn.create("idb-get",{originalErrorMessage:pe?.message});B.warn(Ze.message)}}})).apply(this,arguments)}function zi(xe,pe){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,h.Z)(function*(xe,pe){try{const ft=(yield yt()).transaction(wn,"readwrite");return yield ft.objectStore(wn).put(pe,pn(xe)),ft.done}catch(Ze){if(Ze instanceof re.ZR)B.warn(Ze.message);else{const ft=sn.create("idb-set",{originalErrorMessage:Ze?.message});B.warn(ft.message)}}})).apply(this,arguments)}function pn(xe){return`${xe.name}!${xe.options.appId}`}class io{constructor(pe){this.container=pe,this._heartbeatsCache=null;const Ze=this.container.getProvider("app").getImmediate();this._storage=new xt(Ze),this._heartbeatsCachePromise=this._storage.read().then(ft=>(this._heartbeatsCache=ft,ft))}triggerHeartbeat(){var pe=this;return(0,h.Z)(function*(){const ft=pe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),st=Gt();if(null===pe._heartbeatsCache&&(pe._heartbeatsCache=yield pe._heartbeatsCachePromise),pe._heartbeatsCache.lastSentHeartbeatDate!==st&&!pe._heartbeatsCache.heartbeats.some(Ot=>Ot.date===st))return pe._heartbeatsCache.heartbeats.push({date:st,agent:ft}),pe._heartbeatsCache.heartbeats=pe._heartbeatsCache.heartbeats.filter(Ot=>{const on=new Date(Ot.date).valueOf();return Date.now()-on<=2592e6}),pe._storage.overwrite(pe._heartbeatsCache)})()}getHeartbeatsHeader(){var pe=this;return(0,h.Z)(function*(){if(null===pe._heartbeatsCache&&(yield pe._heartbeatsCachePromise),null===pe._heartbeatsCache||0===pe._heartbeatsCache.heartbeats.length)return"";const Ze=Gt(),{heartbeatsToSend:ft,unsentEntries:st}=function wi(xe,pe=1024){const Ze=[];let ft=xe.slice();for(const st of xe){const Ot=Ze.find(on=>on.agent===st.agent);if(Ot){if(Ot.dates.push(st.date),Ir(Ze)>pe){Ot.dates.pop();break}}else if(Ze.push({agent:st.agent,dates:[st.date]}),Ir(Ze)>pe){Ze.pop();break}ft=ft.slice(1)}return{heartbeatsToSend:Ze,unsentEntries:ft}}(pe._heartbeatsCache.heartbeats),Ot=(0,re.L)(JSON.stringify({version:2,heartbeats:ft}));return pe._heartbeatsCache.lastSentHeartbeatDate=Ze,st.length>0?(pe._heartbeatsCache.heartbeats=st,yield pe._storage.overwrite(pe._heartbeatsCache)):(pe._heartbeatsCache.heartbeats=[],pe._storage.overwrite(pe._heartbeatsCache)),Ot})()}}function Gt(){return(new Date).toISOString().substring(0,10)}class xt{constructor(pe){this.app=pe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var pe=this;return(0,h.Z)(function*(){return(yield pe._canUseIndexedDBPromise)&&(yield function Xe(xe){return ct.apply(this,arguments)}(pe.app))||{heartbeats:[]}})()}overwrite(pe){var Ze=this;return(0,h.Z)(function*(){var ft;if(yield Ze._canUseIndexedDBPromise){const Ot=yield Ze.read();return zi(Ze.app,{lastSentHeartbeatDate:null!==(ft=pe.lastSentHeartbeatDate)&&void 0!==ft?ft:Ot.lastSentHeartbeatDate,heartbeats:pe.heartbeats})}})()}add(pe){var Ze=this;return(0,h.Z)(function*(){var ft;if(yield Ze._canUseIndexedDBPromise){const Ot=yield Ze.read();return zi(Ze.app,{lastSentHeartbeatDate:null!==(ft=pe.lastSentHeartbeatDate)&&void 0!==ft?ft:Ot.lastSentHeartbeatDate,heartbeats:[...Ot.heartbeats,...pe.heartbeats]})}})()}}function Ir(xe){return(0,re.L)(JSON.stringify({version:2,heartbeats:xe})).length}!function Dr(xe){Nt(new J.wA("platform-logger",pe=>new ne(pe),"PRIVATE")),Nt(new J.wA("heartbeat",pe=>new io(pe),"PRIVATE")),jn(oe,"0.9.8",xe),jn(oe,"0.9.8","esm2017"),jn("fire-js","")}("")},4859:(nt,De,k)=>{k.d(De,{H0:()=>oe,wA:()=>O,zt:()=>ee});var h=k(5861),J=k(2090);class O{constructor(B,U,K){this.name=B,this.instanceFactory=U,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const re="[DEFAULT]";class ee{constructor(B,U){this.name=B,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const U=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(U)){const K=new J.BH;if(this.instancesDeferred.set(U,K),this.isInitialized(U)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:U});He&&K.resolve(He)}catch{}}return this.instancesDeferred.get(U).promise}getImmediate(B){var U;const K=this.normalizeInstanceIdentifier(B?.identifier),He=null!==(U=B?.optional)&&void 0!==U&&U;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Se){if(He)return null;throw Se}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function ge(ue){return"EAGER"===ue.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[U,K]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(U);try{const Se=this.getOrInitializeService({instanceIdentifier:He});K.resolve(Se)}catch{}}}}clearInstance(B=re){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,h.Z)(function*(){const U=Array.from(B.instances.values());yield Promise.all([...U.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...U.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=re){return this.instances.has(B)}getOptions(B=re){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:U={}}=B,K=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:K,options:U});for(const[Se,dt]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(Se)&&dt.resolve(He);return He}onInit(B,U){var K;const He=this.normalizeInstanceIdentifier(U),Se=null!==(K=this.onInitCallbacks.get(He))&&void 0!==K?K:new Set;Se.add(B),this.onInitCallbacks.set(He,Se);const dt=this.instances.get(He);return dt&&B(dt,He),()=>{Se.delete(B)}}invokeOnInitCallbacks(B,U){const K=this.onInitCallbacks.get(U);if(K)for(const He of K)try{He(B,U)}catch{}}getOrInitializeService({instanceIdentifier:B,options:U={}}){let K=this.instances.get(B);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(ue=B,ue===re?void 0:ue),options:U}),this.instances.set(B,K),this.instancesOptions.set(B,U),this.invokeOnInitCallbacks(K,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,K)}catch{}var ue;return K||null}normalizeInstanceIdentifier(B=re){return this.component?this.component.multipleInstances?B:re:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oe{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const U=this.getProvider(B.name);if(U.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);U.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const U=new ee(B,this);return this.providers.set(B,U),U}getProviders(){return Array.from(this.providers.values())}}},1877:(nt,De,k)=>{k.d(De,{Am:()=>ue,Ub:()=>oe,Yd:()=>ge,in:()=>J});const h=[];var J=(()=>{return(B=J||(J={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",J;var B})();const O={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},re=J.INFO,ee={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},ne=(B,U,...K)=>{if(U<B.logLevel)return;const He=(new Date).toISOString(),Se=ee[U];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[Se](`[${He}]  ${B.name}:`,...K)};class ge{constructor(U){this.name=U,this._logLevel=re,this._logHandler=ne,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in J))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?O[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...U),this._logHandler(this,J.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...U),this._logHandler(this,J.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,J.INFO,...U),this._logHandler(this,J.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,J.WARN,...U),this._logHandler(this,J.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...U),this._logHandler(this,J.ERROR,...U)}}function oe(B){h.forEach(U=>{U.setLogLevel(B)})}function ue(B,U){for(const K of h){let He=null;U&&U.level&&(He=O[U.level]),K.userLogHandler=null===B?null:(Se,dt,...je)=>{const se=je.map(Ie=>{if(null==Ie)return null;if("string"==typeof Ie)return Ie;if("number"==typeof Ie||"boolean"==typeof Ie)return Ie.toString();if(Ie instanceof Error)return Ie.message;try{return JSON.stringify(Ie)}catch{return null}}).filter(Ie=>Ie).join(" ");dt>=(He??Se.logLevel)&&B({level:J[dt].toLowerCase(),message:se,args:je,type:Se.name})}}}},259:(nt,De,k)=>{k.d(De,{C6:()=>h.getApps,Mq:()=>h.getApp,ZF:()=>h.initializeApp});var h=k(9681);(0,h.registerVersion)("firebase","9.20.0","app")},9260:(nt,De,k)=>{k.d(De,{Z:()=>h.Z});var h=k(3942);h.Z.registerVersion("firebase","9.20.0","app-compat")},6689:(nt,De,k)=>{k.r(De);var h=k(5861),J=k(3942),O=k(2090),re=k(9681),ee=k(655),ne=k(1877),ge=k(4859);const ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},K_EMAIL_SIGNIN="EMAIL_SIGNIN",K_PASSWORD_RESET="PASSWORD_RESET",K_RECOVER_EMAIL="RECOVER_EMAIL",K_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",K_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",K_VERIFY_EMAIL="VERIFY_EMAIL";const dt=function He(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},je=function Se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},se=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_e=new ne.Yd("@firebase/auth");function we(g,...c){_e.logLevel<=ne.in.ERROR&&_e.error(`Auth (${re.SDK_VERSION}): ${g}`,...c)}function de(g,...c){throw ie(g,...c)}function he(g,...c){return ie(g,...c)}function Le(g,c,d){const _=Object.assign(Object.assign({},je()),{[c]:d});return new O.LL("auth","Firebase",_).create(c,{appName:g.name})}function be(g,c,d){if(!(c instanceof d))throw d.name!==c.constructor.name&&de(g,"argument-error"),Le(g,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ie(g,...c){if("string"!=typeof g){const d=c[0],_=[...c.slice(1)];return _[0]&&(_[0].appName=g.name),g._errorFactory.create(d,..._)}return se.create(g,...c)}function H(g,c,...d){if(!g)throw ie(c,...d)}function Oe(g){const c="INTERNAL ASSERTION FAILED: "+g;throw we(c),new Error(c)}function Fe(g,c){g||Oe(c)}function ot(){var g;return typeof self<"u"&&(null===(g=self.location)||void 0===g?void 0:g.href)||""}function We(){return"http:"===te()||"https:"===te()}function te(){var g;return typeof self<"u"&&(null===(g=self.location)||void 0===g?void 0:g.protocol)||null}class Ee{constructor(c,d){this.shortDelay=c,this.longDelay=d,Fe(d>c,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function ae(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(We()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Re(g,c){Fe(g.emulator,"Emulator should always be set here");const{url:d}=g.emulator;return c?`${d}${c.startsWith("/")?c.slice(1):c}`:d}class ke{static initialize(c,d,_){this.fetchImpl=c,d&&(this.headersImpl=d),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Oe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Oe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Oe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Je={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ze=new Ee(3e4,6e4);function rt(g,c){return g.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:g.tenantId}):c}function $e(g,c,d,_){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,h.Z)(function*(g,c,d,_,w={}){return it(g,w,(0,h.Z)(function*(){let A={},V={};_&&("GET"===c?V=_:A={body:JSON.stringify(_)});const Z=(0,O.xO)(Object.assign({key:g.config.apiKey},V)).slice(1),Ce=yield g._getAdditionalHeaders();return Ce["Content-Type"]="application/json",g.languageCode&&(Ce["X-Firebase-Locale"]=g.languageCode),ke.fetch()(sn(g,g.config.apiHost,d,Z),Object.assign({method:c,headers:Ce,referrerPolicy:"no-referrer"},A))}))})).apply(this,arguments)}function it(g,c,d){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,h.Z)(function*(g,c,d){g._canInitEmulator=!1;const _=Object.assign(Object.assign({},Je),c);try{const w=new Qn(g),A=yield Promise.race([d(),w.promise]);w.clearNetworkTimeout();const V=yield A.json();if("needConfirmation"in V)throw Hn(g,"account-exists-with-different-credential",V);if(A.ok&&!("errorMessage"in V))return V;{const Z=A.ok?V.errorMessage:V.error.message,[Ce,Ne]=Z.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ce)throw Hn(g,"credential-already-in-use",V);if("EMAIL_EXISTS"===Ce)throw Hn(g,"email-already-in-use",V);if("USER_DISABLED"===Ce)throw Hn(g,"user-disabled",V);const Qe=_[Ce]||Ce.toLowerCase().replace(/[_\s]+/g,"-");if(Ne)throw Le(g,Qe,Ne);de(g,Qe)}}catch(w){if(w instanceof O.ZR)throw w;de(g,"network-request-failed",{message:String(w)})}})).apply(this,arguments)}function Wt(g,c,d,_){return $t.apply(this,arguments)}function $t(){return($t=(0,h.Z)(function*(g,c,d,_,w={}){const A=yield $e(g,c,d,_,w);return"mfaPendingCredential"in A&&de(g,"multi-factor-auth-required",{_serverResponse:A}),A})).apply(this,arguments)}function sn(g,c,d,_){const w=`${c}${d}?${_}`;return g.config.emulator?Re(g.config,w):`${g.config.apiScheme}://${w}`}class Qn{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((d,_)=>{this.timer=setTimeout(()=>_(he(this.auth,"network-request-failed")),ze.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hn(g,c,d){const _={appName:g.name};d.email&&(_.email=d.email),d.phoneNumber&&(_.phoneNumber=d.phoneNumber);const w=he(g,c,_);return w.customData._tokenResponse=d,w}function Jn(){return(Jn=(0,h.Z)(function*(g,c){return $e(g,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function Wr(){return(Wr=(0,h.Z)(function*(g,c){return $e(g,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function jn(){return(jn=(0,h.Z)(function*(g,c){return $e(g,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function tt(g){if(g)try{const c=new Date(Number(g));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function dn(){return(dn=(0,h.Z)(function*(g,c=!1){const d=(0,O.m9)(g),_=yield d.getIdToken(c),w=Nr(_);H(w&&w.exp&&w.auth_time&&w.iat,d.auth,"internal-error");const A="object"==typeof w.firebase?w.firebase:void 0,V=A?.sign_in_provider;return{claims:w,token:_,authTime:tt(wn(w.auth_time)),issuedAtTime:tt(wn(w.iat)),expirationTime:tt(wn(w.exp)),signInProvider:V||null,signInSecondFactor:A?.sign_in_second_factor||null}})).apply(this,arguments)}function wn(g){return 1e3*Number(g)}function Nr(g){const[c,d,_]=g.split(".");if(void 0===c||void 0===d||void 0===_)return we("JWT malformed, contained fewer than 3 sections"),null;try{const w=(0,O.tV)(d);return w?JSON.parse(w):(we("Failed to decode base64 JWT payload"),null)}catch(w){return we("Caught error parsing JWT payload as JSON",w?.toString()),null}}function Xe(g,c){return ct.apply(this,arguments)}function ct(){return(ct=(0,h.Z)(function*(g,c,d=!1){if(d)return c;try{return yield c}catch(_){throw _ instanceof O.ZR&&function zi({code:g}){return"auth/user-disabled"===g||"auth/user-token-expired"===g}(_)&&g.auth.currentUser===g&&(yield g.auth.signOut()),_}})).apply(this,arguments)}class Vn{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var d;if(c){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const w=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,w)}}schedule(c=!1){var d=this;if(!this.isRunning)return;const _=this.getInterval(c);this.timerId=setTimeout((0,h.Z)(function*(){yield d.iteration()}),_)}iteration(){var c=this;return(0,h.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&c.schedule(!0))}c.schedule()})()}}class pn{constructor(c,d){this.createdAt=c,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=tt(this.lastLoginAt),this.creationTime=tt(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function gn(g){return Rn.apply(this,arguments)}function Rn(){return Rn=(0,h.Z)(function*(g){var c;const d=g.auth,_=yield g.getIdToken(),w=yield Xe(g,function Xt(g,c){return jn.apply(this,arguments)}(d,{idToken:_}));H(w?.users.length,d,"internal-error");const A=w.users[0];g._notifyReloadListener(A);const V=null!==(c=A.providerUserInfo)&&void 0!==c&&c.length?function xt(g){return g.map(c=>{var{providerId:d}=c,_=(0,ee._T)(c,["providerId"]);return{providerId:d,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}(A.providerUserInfo):[],Z=function wi(g,c){return[...g.filter(_=>!c.some(w=>w.providerId===_.providerId)),...c]}(g.providerData,V),Qe=!!g.isAnonymous&&!(g.email&&A.passwordHash||Z?.length),Ke={uid:A.localId,displayName:A.displayName||null,photoURL:A.photoUrl||null,email:A.email||null,emailVerified:A.emailVerified||!1,phoneNumber:A.phoneNumber||null,tenantId:A.tenantId||null,providerData:Z,metadata:new pn(A.createdAt,A.lastLoginAt),isAnonymous:Qe};Object.assign(g,Ke)}),Rn.apply(this,arguments)}function Gt(){return(Gt=(0,h.Z)(function*(g){const c=(0,O.m9)(g);yield gn(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function Dr(){return(Dr=(0,h.Z)(function*(g,c){const d=yield it(g,{},(0,h.Z)(function*(){const _=(0,O.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:w,apiKey:A}=g.config,V=sn(g,w,"/v1/token",`key=${A}`),Z=yield g._getAdditionalHeaders();return Z["Content-Type"]="application/x-www-form-urlencoded",ke.fetch()(V,{method:"POST",headers:Z,body:_})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}class xe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){H(c.idToken,"internal-error"),H(typeof c.idToken<"u","internal-error"),H(typeof c.refreshToken<"u","internal-error");const d="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function yt(g){const c=Nr(g);return H(c,"internal-error"),H(typeof c.exp<"u","internal-error"),H(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,d)}getToken(c,d=!1){var _=this;return(0,h.Z)(function*(){return H(!_.accessToken||_.refreshToken,c,"user-token-expired"),d||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(c,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,d){var _=this;return(0,h.Z)(function*(){const{accessToken:w,refreshToken:A,expiresIn:V}=yield function Ir(g,c){return Dr.apply(this,arguments)}(c,d);_.updateTokensAndExpiration(w,A,Number(V))})()}updateTokensAndExpiration(c,d,_){this.refreshToken=d||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(c,d){const{refreshToken:_,accessToken:w,expirationTime:A}=d,V=new xe;return _&&(H("string"==typeof _,"internal-error",{appName:c}),V.refreshToken=_),w&&(H("string"==typeof w,"internal-error",{appName:c}),V.accessToken=w),A&&(H("number"==typeof A,"internal-error",{appName:c}),V.expirationTime=A),V}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new xe,this.toJSON())}_performRefresh(){return Oe("not implemented")}}function pe(g,c){H("string"==typeof g||typeof g>"u","internal-error",{appName:c})}class Ze{constructor(c){var{uid:d,auth:_,stsTokenManager:w}=c,A=(0,ee._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=_,this.stsTokenManager=w,this.accessToken=w.accessToken,this.displayName=A.displayName||null,this.email=A.email||null,this.emailVerified=A.emailVerified||!1,this.phoneNumber=A.phoneNumber||null,this.photoURL=A.photoURL||null,this.isAnonymous=A.isAnonymous||!1,this.tenantId=A.tenantId||null,this.providerData=A.providerData?[...A.providerData]:[],this.metadata=new pn(A.createdAt||void 0,A.lastLoginAt||void 0)}getIdToken(c){var d=this;return(0,h.Z)(function*(){const _=yield Xe(d,d.stsTokenManager.getToken(d.auth,c));return H(_,d.auth,"internal-error"),d.accessToken!==_&&(d.accessToken=_,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),_})()}getIdTokenResult(c){return function ri(g){return dn.apply(this,arguments)}(this,c)}reload(){return function io(g){return Gt.apply(this,arguments)}(this)}_assign(c){this!==c&&(H(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(d=>Object.assign({},d)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const d=new Ze(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(c){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,d=!1){var _=this;return(0,h.Z)(function*(){let w=!1;c.idToken&&c.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(c),w=!0),d&&(yield gn(_)),yield _.auth._persistUserIfCurrent(_),w&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var c=this;return(0,h.Z)(function*(){const d=yield c.getIdToken();return yield Xe(c,function Gi(g,c){return Jn.apply(this,arguments)}(c.auth,{idToken:d})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,d){var _,w,A,V,Z,Ce,Ne,Qe;const Ke=null!==(_=d.displayName)&&void 0!==_?_:void 0,cn=null!==(w=d.email)&&void 0!==w?w:void 0,Pt=null!==(A=d.phoneNumber)&&void 0!==A?A:void 0,Bo=null!==(V=d.photoURL)&&void 0!==V?V:void 0,sh=null!==(Z=d.tenantId)&&void 0!==Z?Z:void 0,Ys=null!==(Ce=d._redirectEventId)&&void 0!==Ce?Ce:void 0,Ju=null!==(Ne=d.createdAt)&&void 0!==Ne?Ne:void 0,Zt=null!==(Qe=d.lastLoginAt)&&void 0!==Qe?Qe:void 0,{uid:gi,emailVerified:Ua,isAnonymous:_t,providerData:Xu,stsTokenManager:Ha}=d;H(gi&&Ha,c,"internal-error");const qp=xe.fromJSON(this.name,Ha);H("string"==typeof gi,c,"internal-error"),pe(Ke,c.name),pe(cn,c.name),H("boolean"==typeof Ua,c,"internal-error"),H("boolean"==typeof _t,c,"internal-error"),pe(Pt,c.name),pe(Bo,c.name),pe(sh,c.name),pe(Ys,c.name),pe(Ju,c.name),pe(Zt,c.name);const Jt=new Ze({uid:gi,auth:c,email:cn,emailVerified:Ua,displayName:Ke,isAnonymous:_t,photoURL:Bo,phoneNumber:Pt,tenantId:sh,stsTokenManager:qp,createdAt:Ju,lastLoginAt:Zt});return Xu&&Array.isArray(Xu)&&(Jt.providerData=Xu.map(Cd=>Object.assign({},Cd))),Ys&&(Jt._redirectEventId=Ys),Jt}static _fromIdTokenResponse(c,d,_=!1){return(0,h.Z)(function*(){const w=new xe;w.updateFromServerResponse(d);const A=new Ze({uid:d.localId,auth:c,stsTokenManager:w,isAnonymous:_});return yield gn(A),A})()}}const ft=new Map;function st(g){Fe(g instanceof Function,"Expected a class definition");let c=ft.get(g);return c?(Fe(c instanceof g,"Instance stored in cache mismatched with class"),c):(c=new g,ft.set(g,c),c)}const on=(()=>{class g{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(d,_){var w=this;return(0,h.Z)(function*(){w.storage[d]=_})()}_get(d){var _=this;return(0,h.Z)(function*(){const w=_.storage[d];return void 0===w?null:w})()}_remove(d){var _=this;return(0,h.Z)(function*(){delete _.storage[d]})()}_addListener(d,_){}_removeListener(d,_){}}return g.type="NONE",g})();function L(g,c,d){return`firebase:${g}:${c}:${d}`}class F{constructor(c,d,_){this.persistence=c,this.auth=d,this.userKey=_;const{config:w,name:A}=this.auth;this.fullUserKey=L(this.userKey,w.apiKey,A),this.fullPersistenceKey=L("persistence",w.apiKey,A),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,h.Z)(function*(){const d=yield c.persistence._get(c.fullUserKey);return d?Ze._fromJSON(c.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var d=this;return(0,h.Z)(function*(){if(d.persistence===c)return;const _=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=c,_?d.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,d,_="authUser"){return(0,h.Z)(function*(){if(!d.length)return new F(st(on),c,_);const w=(yield Promise.all(d.map(function(){var Ne=(0,h.Z)(function*(Qe){if(yield Qe._isAvailable())return Qe});return function(Qe){return Ne.apply(this,arguments)}}()))).filter(Ne=>Ne);let A=w[0]||st(on);const V=L(_,c.config.apiKey,c.name);let Z=null;for(const Ne of d)try{const Qe=yield Ne._get(V);if(Qe){const Ke=Ze._fromJSON(c,Qe);Ne!==A&&(Z=Ke),A=Ne;break}}catch{}const Ce=w.filter(Ne=>Ne._shouldAllowMigration);return A._shouldAllowMigration&&Ce.length?(A=Ce[0],Z&&(yield A._set(V,Z.toJSON())),yield Promise.all(d.map(function(){var Ne=(0,h.Z)(function*(Qe){if(Qe!==A)try{yield Qe._remove(V)}catch{}});return function(Qe){return Ne.apply(this,arguments)}}())),new F(A,c,_)):new F(A,c,_)})()}}function $(g){const c=g.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(Be(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(le(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(mn(c))return"Blackberry";if(an(c))return"Webos";if(Q(c))return"Safari";if((c.includes("chrome/")||qe(c))&&!c.includes("edge/"))return"Chrome";if(Bt(c))return"Android";{const _=g.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===_?.length)return _[1]}return"Other"}function le(g=(0,O.z$)()){return/firefox\//i.test(g)}function Q(g=(0,O.z$)()){const c=g.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function qe(g=(0,O.z$)()){return/crios\//i.test(g)}function Be(g=(0,O.z$)()){return/iemobile/i.test(g)}function Bt(g=(0,O.z$)()){return/android/i.test(g)}function mn(g=(0,O.z$)()){return/blackberry/i.test(g)}function an(g=(0,O.z$)()){return/webos/i.test(g)}function en(g=(0,O.z$)()){return/iphone|ipad|ipod/i.test(g)||/macintosh/i.test(g)&&/mobile/i.test(g)}function so(g=(0,O.z$)()){return en(g)||Bt(g)||an(g)||mn(g)||/windows phone/i.test(g)||Be(g)}function ea(g,c=[]){let d;switch(g){case"Browser":d=$((0,O.z$)());break;case"Worker":d=`${$((0,O.z$)())}-${g}`;break;default:d=g}const _=c.length?c.join(","):"FirebaseCore-web";return`${d}/JsCore/${re.SDK_VERSION}/${_}`}function _s(){return(_s=(0,h.Z)(function*(g){return(yield $e(g,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function cu(g,c){return ys.apply(this,arguments)}function ys(){return(ys=(0,h.Z)(function*(g,c){return $e(g,"GET","/v2/recaptchaConfig",rt(g,c))})).apply(this,arguments)}function el(g){return void 0!==g&&void 0!==g.getResponse}function tl(g){return void 0!==g&&void 0!==g.enterprise}class kt{constructor(c){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.emailPasswordEnabled=c.recaptchaEnforcementState.some(d=>"EMAIL_PASSWORD_PROVIDER"===d.provider&&"OFF"!==d.enforcementState)}}function bn(g){return new Promise((c,d)=>{const _=document.createElement("script");_.setAttribute("src",g),_.onload=c,_.onerror=w=>{const A=he("internal-error");A.customData=w,d(A)},_.type="text/javascript",_.charset="UTF-8",function _n(){var g,c;return null!==(c=null===(g=document.getElementsByTagName("head"))||void 0===g?void 0:g[0])&&void 0!==c?c:document}().appendChild(_)})}function bi(g){return`__${g}${Math.floor(1e6*Math.random())}`}class ta{constructor(c){this.type="recaptcha-enterprise",this.auth=ht(c)}verify(c="verify",d=!1){var _=this;return(0,h.Z)(function*(){function A(){return A=(0,h.Z)(function*(Z){if(!d){if(null==Z.tenantId&&null!=Z._agentRecaptchaConfig)return Z._agentRecaptchaConfig.siteKey;if(null!=Z.tenantId&&void 0!==Z._tenantRecaptchaConfigs[Z.tenantId])return Z._tenantRecaptchaConfigs[Z.tenantId].siteKey}return new Promise(function(){var Ce=(0,h.Z)(function*(Ne,Qe){cu(Z,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ke=>{if(void 0!==Ke.recaptchaKey){const cn=new kt(Ke);return null==Z.tenantId?Z._agentRecaptchaConfig=cn:Z._tenantRecaptchaConfigs[Z.tenantId]=cn,Ne(cn.siteKey)}Qe(new Error("recaptcha Enterprise site key undefined"))}).catch(Ke=>{Qe(Ke)})});return function(Ne,Qe){return Ce.apply(this,arguments)}}())}),A.apply(this,arguments)}function V(Z,Ce,Ne){const Qe=window.grecaptcha;tl(Qe)?Qe.enterprise.ready(()=>{try{Qe.enterprise.execute(Z,{action:c}).then(Ke=>{Ce(Ke)}).catch(Ke=>{Ne(Ke)})}catch(Ke){Ne(Ke)}}):Ne(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Z,Ce)=>{(function w(Z){return A.apply(this,arguments)})(_.auth).then(Ne=>{if(!d&&tl(window.grecaptcha))V(Ne,Z,Ce);else{if(typeof window>"u")return void Ce(new Error("RecaptchaVerifier is only supported in browser"));bn("https://www.google.com/recaptcha/enterprise.js?render="+Ne).then(()=>{V(Ne,Z,Ce)}).catch(Qe=>{Ce(Qe)})}}).catch(Ne=>{Ce(Ne)})})})()}}function sr(g,c,d){return wr.apply(this,arguments)}function wr(){return(wr=(0,h.Z)(function*(g,c,d,_=!1){const w=new ta(g);let A;try{A=yield w.verify(d)}catch{A=yield w.verify(d,!0)}const V=Object.assign({},c);return Object.assign(V,_?{captchaResp:A}:{captchaResponse:A}),Object.assign(V,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(V,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),V})).apply(this,arguments)}class Ye{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,d){const _=A=>new Promise((V,Z)=>{try{V(c(A))}catch(Ce){Z(Ce)}});_.onAbort=d,this.queue.push(_);const w=this.queue.length-1;return()=>{this.queue[w]=()=>Promise.resolve()}}runMiddleware(c){var d=this;return(0,h.Z)(function*(){if(d.auth.currentUser===c)return;const _=[];try{for(const w of d.queue)yield w(c),w.onAbort&&_.push(w.onAbort)}catch(w){_.reverse();for(const A of _)try{A()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:w?.message})}})()}}class vt{constructor(c,d,_,w){this.app=c,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=_,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new br(this),this.idTokenSubscription=new br(this),this.beforeStateQueue=new Ye(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=se,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(c,d){var _=this;return d&&(this._popupRedirectResolver=st(d)),this._initializationPromise=this.queue((0,h.Z)(function*(){var w,A;if(!_._deleted&&(_.persistenceManager=yield F.create(_,c),!_._deleted)){if(null!==(w=_._popupRedirectResolver)&&void 0!==w&&w._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch{}yield _.initializeCurrentUser(d),_.lastNotifiedUid=(null===(A=_.currentUser)||void 0===A?void 0:A.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,h.Z)(function*(){if(c._deleted)return;const d=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||d){if(c.currentUser&&d&&c.currentUser.uid===d.uid)return c._currentUser._assign(d),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(d,!0)}})()}initializeCurrentUser(c){var d=this;return(0,h.Z)(function*(){var _;const w=yield d.assertedPersistence.getCurrentUser();let A=w,V=!1;if(c&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const Z=null===(_=d.redirectUser)||void 0===_?void 0:_._redirectEventId,Ce=A?._redirectEventId,Ne=yield d.tryRedirectSignIn(c);(!Z||Z===Ce)&&Ne?.user&&(A=Ne.user,V=!0)}if(!A)return d.directlySetCurrentUser(null);if(!A._redirectEventId){if(V)try{yield d.beforeStateQueue.runMiddleware(A)}catch(Z){A=w,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(Z))}return A?d.reloadAndSetCurrentUserOrClear(A):d.directlySetCurrentUser(null)}return H(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===A._redirectEventId?d.directlySetCurrentUser(A):d.reloadAndSetCurrentUserOrClear(A)})()}tryRedirectSignIn(c){var d=this;return(0,h.Z)(function*(){let _=null;try{_=yield d._popupRedirectResolver._completeRedirectFn(d,c,!0)}catch{yield d._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(c){var d=this;return(0,h.Z)(function*(){try{yield gn(c)}catch(_){if("auth/network-request-failed"!==_?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function fe(){if(typeof navigator>"u")return null;const g=navigator;return g.languages&&g.languages[0]||g.language||null}()}_delete(){var c=this;return(0,h.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var d=this;return(0,h.Z)(function*(){const _=c?(0,O.m9)(c):null;return _&&H(_.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(_&&_._clone(d))})()}_updateCurrentUser(c,d=!1){var _=this;return(0,h.Z)(function*(){if(!_._deleted)return c&&H(_.tenantId===c.tenantId,_,"tenant-id-mismatch"),d||(yield _.beforeStateQueue.runMiddleware(c)),_.queue((0,h.Z)(function*(){yield _.directlySetCurrentUser(c),_.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,h.Z)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var d=this;return this.queue((0,h.Z)(function*(){yield d.assertedPersistence.setPersistence(st(c))}))}initializeRecaptchaConfig(){var c=this;return(0,h.Z)(function*(){const d=yield cu(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),_=new kt(d);null==c.tenantId?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,_.emailPasswordEnabled&&new ta(c).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new O.LL("auth","Firebase",c())}onAuthStateChanged(c,d,_){return this.registerStateListener(this.authStateSubscription,c,d,_)}beforeAuthStateChanged(c,d){return this.beforeStateQueue.pushCallback(c,d)}onIdTokenChanged(c,d,_){return this.registerStateListener(this.idTokenSubscription,c,d,_)}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,d){var _=this;return(0,h.Z)(function*(){const w=yield _.getOrInitRedirectPersistenceManager(d);return null===c?w.removeCurrentUser():w.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var d=this;return(0,h.Z)(function*(){if(!d.redirectPersistenceManager){const _=c&&st(c)||d._popupRedirectResolver;H(_,d,"argument-error"),d.redirectPersistenceManager=yield F.create(d,[st(_._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(c){var d=this;return(0,h.Z)(function*(){var _,w;return d._isInitialized&&(yield d.queue((0,h.Z)(function*(){}))),(null===(_=d._currentUser)||void 0===_?void 0:_._redirectEventId)===c?d._currentUser:(null===(w=d.redirectUser)||void 0===w?void 0:w._redirectEventId)===c?d.redirectUser:null})()}_persistUserIfCurrent(c){var d=this;return(0,h.Z)(function*(){if(c===d.currentUser)return d.queue((0,h.Z)(function*(){return d.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(d=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,d,_,w){if(this._deleted)return()=>{};const A="function"==typeof d?d:d.next.bind(d),V=this._isInitialized?Promise.resolve():this._initializationPromise;return H(V,this,"internal-error"),V.then(()=>A(this.currentUser)),"function"==typeof d?c.addObserver(d,_,w):c.addObserver(d)}directlySetCurrentUser(c){var d=this;return(0,h.Z)(function*(){d.currentUser&&d.currentUser!==c&&d._currentUser._stopProactiveRefresh(),c&&d.isProactiveRefreshEnabled&&c._startProactiveRefresh(),d.currentUser=c,c?yield d.assertedPersistence.setCurrentUser(c):yield d.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=ea(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,h.Z)(function*(){var d;const _={"X-Client-Version":c.clientVersion};c.app.options.appId&&(_["X-Firebase-gmpid"]=c.app.options.appId);const w=yield null===(d=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();w&&(_["X-Firebase-Client"]=w);const A=yield c._getAppCheckToken();return A&&(_["X-Firebase-AppCheck"]=A),_})()}_getAppCheckToken(){var c=this;return(0,h.Z)(function*(){var d;const _=yield null===(d=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return _?.error&&function Ae(g,...c){_e.logLevel<=ne.in.WARN&&_e.warn(`Auth (${re.SDK_VERSION}): ${g}`,...c)}(`Error while retrieving App Check token: ${_.error}`),_?.token})()}}function ht(g){return(0,O.m9)(g)}class br{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,O.ne)(d=>this.observer=d)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function tn(g){const c=g.indexOf(":");return c<0?"":g.substr(0,c+1)}function na(g){if(!g)return null;const c=Number(g);return isNaN(c)?null:c}class si{constructor(c,d){this.providerId=c,this.signInMethod=d}toJSON(){return Oe("not implemented")}_getIdTokenResponse(c){return Oe("not implemented")}_linkToIdToken(c,d){return Oe("not implemented")}_getReauthenticationResolver(c){return Oe("not implemented")}}function Ki(g,c){return qi.apply(this,arguments)}function qi(){return(qi=(0,h.Z)(function*(g,c){return $e(g,"POST","/v1/accounts:resetPassword",rt(g,c))})).apply(this,arguments)}function vs(g,c){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,h.Z)(function*(g,c){return $e(g,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Yi(){return(Yi=(0,h.Z)(function*(g,c){return $e(g,"POST","/v1/accounts:update",rt(g,c))})).apply(this,arguments)}function xr(g,c){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,h.Z)(function*(g,c){return Wt(g,"POST","/v1/accounts:signInWithPassword",rt(g,c))})).apply(this,arguments)}function ra(g,c){return St.apply(this,arguments)}function St(){return(St=(0,h.Z)(function*(g,c){return $e(g,"POST","/v1/accounts:sendOobCode",rt(g,c))})).apply(this,arguments)}function oo(){return(oo=(0,h.Z)(function*(g,c){return ra(g,c)})).apply(this,arguments)}function ia(g,c){return oi.apply(this,arguments)}function oi(){return(oi=(0,h.Z)(function*(g,c){return ra(g,c)})).apply(this,arguments)}function Tr(g,c){return Si.apply(this,arguments)}function Si(){return(Si=(0,h.Z)(function*(g,c){return ra(g,c)})).apply(this,arguments)}function du(){return(du=(0,h.Z)(function*(g,c){return ra(g,c)})).apply(this,arguments)}function ar(){return(ar=(0,h.Z)(function*(g,c){return Wt(g,"POST","/v1/accounts:signInWithEmailLink",rt(g,c))})).apply(this,arguments)}function Is(){return(Is=(0,h.Z)(function*(g,c){return Wt(g,"POST","/v1/accounts:signInWithEmailLink",rt(g,c))})).apply(this,arguments)}class Or extends si{constructor(c,d,_,w=null){super("password",_),this._email=c,this._password=d,this._tenantId=w}static _fromEmailAndPassword(c,d){return new Or(c,d,"password")}static _fromEmailAndCode(c,d,_=null){return new Or(c,d,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(c){var d=this;return(0,h.Z)(function*(){var _;switch(d.signInMethod){case"password":const w={returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(_=c._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const A=yield sr(c,w,"signInWithPassword");return xr(c,A)}return xr(c,w).catch(function(){var A=(0,h.Z)(function*(V){if("auth/missing-recaptcha-token"===V.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Z=yield sr(c,w,"signInWithPassword");return xr(c,Z)}return Promise.reject(V)});return function(V){return A.apply(this,arguments)}}());case"emailLink":return function or(g,c){return ar.apply(this,arguments)}(c,{email:d._email,oobCode:d._password});default:de(c,"internal-error")}})()}_linkToIdToken(c,d){var _=this;return(0,h.Z)(function*(){switch(_.signInMethod){case"password":return vs(c,{idToken:d,returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function nl(g,c){return Is.apply(this,arguments)}(c,{idToken:d,email:_._email,oobCode:_._password});default:de(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function vn(g,c){return ao.apply(this,arguments)}function ao(){return(ao=(0,h.Z)(function*(g,c){return Wt(g,"POST","/v1/accounts:signInWithIdp",rt(g,c))})).apply(this,arguments)}class Zr extends si{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const d=new Zr(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(d.idToken=c.idToken),c.accessToken&&(d.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(d.nonce=c.nonce),c.pendingToken&&(d.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(d.accessToken=c.oauthToken,d.secret=c.oauthTokenSecret):de("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:_,signInMethod:w}=d,A=(0,ee._T)(d,["providerId","signInMethod"]);if(!_||!w)return null;const V=new Zr(_,w);return V.idToken=A.idToken||void 0,V.accessToken=A.accessToken||void 0,V.secret=A.secret,V.nonce=A.nonce,V.pendingToken=A.pendingToken||null,V}_getIdTokenResponse(c){return vn(c,this.buildRequest())}_linkToIdToken(c,d){const _=this.buildRequest();return _.idToken=d,vn(c,_)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,vn(c,d)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),c.postBody=(0,O.xO)(d)}return c}}function hu(){return(hu=(0,h.Z)(function*(g,c){return $e(g,"POST","/v1/accounts:sendVerificationCode",rt(g,c))})).apply(this,arguments)}function gu(){return(gu=(0,h.Z)(function*(g,c){return Wt(g,"POST","/v1/accounts:signInWithPhoneNumber",rt(g,c))})).apply(this,arguments)}function mu(){return(mu=(0,h.Z)(function*(g,c){const d=yield Wt(g,"POST","/v1/accounts:signInWithPhoneNumber",rt(g,c));if(d.temporaryProof)throw Hn(g,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const Uc={USER_NOT_FOUND:"user-not-found"};function ai(){return(ai=(0,h.Z)(function*(g,c){return Wt(g,"POST","/v1/accounts:signInWithPhoneNumber",rt(g,Object.assign(Object.assign({},c),{operation:"REAUTH"})),Uc)})).apply(this,arguments)}class lo extends si{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,d){return new lo({verificationId:c,verificationCode:d})}static _fromTokenResponse(c,d){return new lo({phoneNumber:c,temporaryProof:d})}_getIdTokenResponse(c){return function pu(g,c){return gu.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,d){return function bf(g,c){return mu.apply(this,arguments)}(c,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function Qi(g,c){return ai.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:d,verificationId:_,verificationCode:w}=this.params;return c&&d?{temporaryProof:c,phoneNumber:d}:{sessionInfo:_,code:w}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:d,verificationCode:_,phoneNumber:w,temporaryProof:A}=c;return _||d||w||A?new lo({verificationId:d,verificationCode:_,phoneNumber:w,temporaryProof:A}):null}}class uo{constructor(c){var d,_,w,A,V,Z;const Ce=(0,O.zd)((0,O.pd)(c)),Ne=null!==(d=Ce.apiKey)&&void 0!==d?d:null,Qe=null!==(_=Ce.oobCode)&&void 0!==_?_:null,Ke=function _u(g){switch(g){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(w=Ce.mode)&&void 0!==w?w:null);H(Ne&&Qe&&Ke,"argument-error"),this.apiKey=Ne,this.operation=Ke,this.code=Qe,this.continueUrl=null!==(A=Ce.continueUrl)&&void 0!==A?A:null,this.languageCode=null!==(V=Ce.languageCode)&&void 0!==V?V:null,this.tenantId=null!==(Z=Ce.tenantId)&&void 0!==Z?Z:null}static parseLink(c){const d=function Hc(g){const c=(0,O.zd)((0,O.pd)(g)).link,d=c?(0,O.zd)((0,O.pd)(c)).deep_link_id:null,_=(0,O.zd)((0,O.pd)(g)).deep_link_id;return(_?(0,O.zd)((0,O.pd)(_)).link:null)||_||d||c||g}(c);try{return new uo(d)}catch{return null}}}let Ds=(()=>{class g{constructor(){this.providerId=g.PROVIDER_ID}static credential(d,_){return Or._fromEmailAndPassword(d,_)}static credentialWithLink(d,_){const w=uo.parseLink(_);return H(w,"argument-error"),Or._fromEmailAndCode(d,w.code,w.tenantId)}}return g.PROVIDER_ID="password",g.EMAIL_PASSWORD_SIGN_IN_METHOD="password",g.EMAIL_LINK_SIGN_IN_METHOD="emailLink",g})();class Ji{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class co extends Ji{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class sa extends co{static credentialFromJSON(c){const d="string"==typeof c?JSON.parse(c):c;return H("providerId"in d&&"signInMethod"in d,"argument-error"),Zr._fromParams(d)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return H(c.idToken||c.accessToken,"argument-error"),Zr._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return sa.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return sa.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:d,oauthAccessToken:_,oauthTokenSecret:w,pendingToken:A,nonce:V,providerId:Z}=c;if(!_&&!w&&!d&&!A||!Z)return null;try{return new sa(Z)._credential({idToken:d,accessToken:_,nonce:V,pendingToken:A})}catch{return null}}}let lr=(()=>{class g extends co{constructor(){super("facebook.com")}static credential(d){return Zr._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return g.credentialFromTaggedObject(d)}static credentialFromError(d){return g.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return g.credential(d.oauthAccessToken)}catch{return null}}}return g.FACEBOOK_SIGN_IN_METHOD="facebook.com",g.PROVIDER_ID="facebook.com",g})(),rl=(()=>{class g extends co{constructor(){super("google.com"),this.addScope("profile")}static credential(d,_){return Zr._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:_})}static credentialFromResult(d){return g.credentialFromTaggedObject(d)}static credentialFromError(d){return g.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:_,oauthAccessToken:w}=d;if(!_&&!w)return null;try{return g.credential(_,w)}catch{return null}}}return g.GOOGLE_SIGN_IN_METHOD="google.com",g.PROVIDER_ID="google.com",g})(),fo=(()=>{class g extends co{constructor(){super("github.com")}static credential(d){return Zr._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return g.credentialFromTaggedObject(d)}static credentialFromError(d){return g.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return g.credential(d.oauthAccessToken)}catch{return null}}}return g.GITHUB_SIGN_IN_METHOD="github.com",g.PROVIDER_ID="github.com",g})();class li extends si{constructor(c,d){super(c,c),this.pendingToken=d}_getIdTokenResponse(c){return vn(c,this.buildRequest())}_linkToIdToken(c,d){const _=this.buildRequest();return _.idToken=d,vn(c,_)}_getReauthenticationResolver(c){const d=this.buildRequest();return d.autoCreate=!1,vn(c,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const d="string"==typeof c?JSON.parse(c):c,{providerId:_,signInMethod:w,pendingToken:A}=d;return _&&w&&A&&_===w?new li(_,A):null}static _create(c,d){return new li(c,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ws extends Ji{constructor(c){H(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return ws.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return ws.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const d=li.fromJSON(c);return H(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:d,providerId:_}=c;if(!d||!_)return null;try{return li._create(_,d)}catch{return null}}}let oa=(()=>{class g extends co{constructor(){super("twitter.com")}static credential(d,_){return Zr._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:_})}static credentialFromResult(d){return g.credentialFromTaggedObject(d)}static credentialFromError(d){return g.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:_,oauthTokenSecret:w}=d;if(!_||!w)return null;try{return g.credential(_,w)}catch{return null}}}return g.TWITTER_SIGN_IN_METHOD="twitter.com",g.PROVIDER_ID="twitter.com",g})();function ho(g,c){return ui.apply(this,arguments)}function ui(){return(ui=(0,h.Z)(function*(g,c){return Wt(g,"POST","/v1/accounts:signUp",rt(g,c))})).apply(this,arguments)}class kr{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,d,_,w=!1){return(0,h.Z)(function*(){const A=yield Ze._fromIdTokenResponse(c,_,w),V=Ht(_);return new kr({user:A,providerId:V,_tokenResponse:_,operationType:d})})()}static _forOperation(c,d,_){return(0,h.Z)(function*(){yield c._updateTokensIfNecessary(_,!0);const w=Ht(_);return new kr({user:c,providerId:w,_tokenResponse:_,operationType:d})})()}}function Ht(g){return g.providerId?g.providerId:"phoneNumber"in g?"phone":null}function bs(){return(bs=(0,h.Z)(function*(g){var c;const d=ht(g);if(yield d._initializationPromise,null!==(c=d.currentUser)&&void 0!==c&&c.isAnonymous)return new kr({user:d.currentUser,providerId:null,operationType:"signIn"});const _=yield ho(d,{returnSecureToken:!0}),w=yield kr._fromIdTokenResponse(d,"signIn",_,!0);return yield d._updateCurrentUser(w.user),w})).apply(this,arguments)}class qt extends O.ZR{constructor(c,d,_,w){var A;super(d.code,d.message),this.operationType=_,this.user=w,Object.setPrototypeOf(this,qt.prototype),this.customData={appName:c.name,tenantId:null!==(A=c.tenantId)&&void 0!==A?A:void 0,_serverResponse:d.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(c,d,_,w){return new qt(c,d,_,w)}}function aa(g,c,d,_){return("reauthenticate"===c?d._getReauthenticationResolver(g):d._getIdTokenResponse(g)).catch(A=>{throw"auth/multi-factor-auth-required"===A.code?qt._fromErrorAndOperation(g,A,c,_):A})}function ci(g){return new Set(g.map(({providerId:c})=>c).filter(c=>!!c))}function po(){return po=(0,h.Z)(function*(g,c){const d=(0,O.m9)(g);yield Tn(!0,d,c);const{providerUserInfo:_}=yield function Gr(g,c){return Wr.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[c]}),w=ci(_||[]);return d.providerData=d.providerData.filter(A=>w.has(A.providerId)),w.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),po.apply(this,arguments)}function go(g,c){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,h.Z)(function*(g,c,d=!1){const _=yield Xe(g,c._linkToIdToken(g.auth,yield g.getIdToken()),d);return kr._forOperation(g,"link",_)})).apply(this,arguments)}function Tn(g,c,d){return sl.apply(this,arguments)}function sl(){return(sl=(0,h.Z)(function*(g,c,d){yield gn(c);const w=!1===g?"provider-already-linked":"no-such-provider";H(ci(c.providerData).has(d)===g,c.auth,w)})).apply(this,arguments)}function mo(g,c){return la.apply(this,arguments)}function la(){return(la=(0,h.Z)(function*(g,c,d=!1){const{auth:_}=g,w="reauthenticate";try{const A=yield Xe(g,aa(_,w,c,g),d);H(A.idToken,_,"internal-error");const V=Nr(A.idToken);H(V,_,"internal-error");const{sub:Z}=V;return H(g.uid===Z,_,"user-mismatch"),kr._forOperation(g,w,A)}catch(A){throw"auth/user-not-found"===A?.code&&de(_,"user-mismatch"),A}})).apply(this,arguments)}function qr(g,c){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,h.Z)(function*(g,c,d=!1){const _="signIn",w=yield aa(g,_,c),A=yield kr._fromIdTokenResponse(g,_,w);return d||(yield g._updateCurrentUser(A.user)),A})).apply(this,arguments)}function Ss(g,c){return at.apply(this,arguments)}function at(){return(at=(0,h.Z)(function*(g,c){return qr(ht(g),c)})).apply(this,arguments)}function ol(g,c){return ua.apply(this,arguments)}function ua(){return(ua=(0,h.Z)(function*(g,c){const d=(0,O.m9)(g);return yield Tn(!1,d,c.providerId),go(d,c)})).apply(this,arguments)}function Eu(g,c){return _o.apply(this,arguments)}function _o(){return(_o=(0,h.Z)(function*(g,c){return mo((0,O.m9)(g),c)})).apply(this,arguments)}function ca(){return(ca=(0,h.Z)(function*(g,c){return Wt(g,"POST","/v1/accounts:signInWithCustomToken",rt(g,c))})).apply(this,arguments)}function Yt(){return Yt=(0,h.Z)(function*(g,c){const d=ht(g),_=yield function $c(g,c){return ca.apply(this,arguments)}(d,{token:c,returnSecureToken:!0}),w=yield kr._fromIdTokenResponse(d,"signIn",_);return yield d._updateCurrentUser(w.user),w}),Yt.apply(this,arguments)}class ve{constructor(c,d){this.factorId=c,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(c,d){return"phoneInfo"in d?Mt._fromServerResponse(c,d):"totpInfo"in d?da._fromServerResponse(c,d):de(c,"internal-error")}}class Mt extends ve{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,d){return new Mt(d)}}class da extends ve{constructor(c){super("totp",c)}static _fromServerResponse(c,d){return new da(d)}}function As(g,c,d){var _;H((null===(_=d.url)||void 0===_?void 0:_.length)>0,g,"invalid-continue-uri"),H(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,g,"invalid-dynamic-link-domain"),c.continueUrl=d.url,c.dynamicLinkDomain=d.dynamicLinkDomain,c.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(H(d.iOS.bundleId.length>0,g,"missing-ios-bundle-id"),c.iOSBundleId=d.iOS.bundleId),d.android&&(H(d.android.packageName.length>0,g,"missing-android-pkg-name"),c.androidInstallApp=d.android.installApp,c.androidMinimumVersionCode=d.android.minimumVersion,c.androidPackageName=d.android.packageName)}function al(){return al=(0,h.Z)(function*(g,c,d){var _;const w=ht(g),A={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};if(null!==(_=w._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const V=yield sr(w,A,"getOobCode",!0);d&&As(w,V,d),yield ia(w,V)}else d&&As(w,A,d),yield ia(w,A).catch(function(){var V=(0,h.Z)(function*(Z){if("auth/missing-recaptcha-token"!==Z.code)return Promise.reject(Z);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ce=yield sr(w,A,"getOobCode",!0);d&&As(w,Ce,d),yield ia(w,Ce)}});return function(Z){return V.apply(this,arguments)}}())}),al.apply(this,arguments)}function ur(){return(ur=(0,h.Z)(function*(g,c,d){yield Ki((0,O.m9)(g),{oobCode:c,newPassword:d})})).apply(this,arguments)}function Rs(){return Rs=(0,h.Z)(function*(g,c){yield function Es(g,c){return Yi.apply(this,arguments)}((0,O.m9)(g),{oobCode:c})}),Rs.apply(this,arguments)}function ll(g,c){return fa.apply(this,arguments)}function fa(){return(fa=(0,h.Z)(function*(g,c){const d=(0,O.m9)(g),_=yield Ki(d,{oobCode:c}),w=_.requestType;switch(H(w,d,"internal-error"),w){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":H(_.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":H(_.mfaInfo,d,"internal-error");default:H(_.email,d,"internal-error")}let A=null;return _.mfaInfo&&(A=ve._fromServerResponse(ht(d),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:A},operation:w}})).apply(this,arguments)}function ln(){return(ln=(0,h.Z)(function*(g,c){const{data:d}=yield ll((0,O.m9)(g),c);return d.email})).apply(this,arguments)}function yo(){return yo=(0,h.Z)(function*(g,c,d){var _;const w=ht(g),A={returnSecureToken:!0,email:c,password:d,clientType:"CLIENT_TYPE_WEB"};let V;if(null!==(_=w._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const Ne=yield sr(w,A,"signUpPassword");V=ho(w,Ne)}else V=ho(w,A).catch(function(){var Ne=(0,h.Z)(function*(Qe){if("auth/missing-recaptcha-token"===Qe.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ke=yield sr(w,A,"signUpPassword");return ho(w,Ke)}return Promise.reject(Qe)});return function(Qe){return Ne.apply(this,arguments)}}());const Z=yield V.catch(Ne=>Promise.reject(Ne)),Ce=yield kr._fromIdTokenResponse(w,"signIn",Z);return yield w._updateCurrentUser(Ce.user),Ce}),yo.apply(this,arguments)}function Ps(){return Ps=(0,h.Z)(function*(g,c,d){var _;const w=ht(g),A={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};function V(Z,Ce){H(Ce.handleCodeInApp,w,"argument-error"),Ce&&As(w,Z,Ce)}if(null!==(_=w._getRecaptchaConfig())&&void 0!==_&&_.emailPasswordEnabled){const Z=yield sr(w,A,"getOobCode",!0);V(Z,d),yield Tr(w,Z)}else V(A,d),yield Tr(w,A).catch(function(){var Z=(0,h.Z)(function*(Ce){if("auth/missing-recaptcha-token"!==Ce.code)return Promise.reject(Ce);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ne=yield sr(w,A,"getOobCode",!0);V(Ne,d),yield Tr(w,Ne)}});return function(Ce){return Z.apply(this,arguments)}}())}),Ps.apply(this,arguments)}function cl(){return(cl=(0,h.Z)(function*(g,c,d){const _=(0,O.m9)(g),w=Ds.credentialWithLink(c,d||ot());return H(w._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),Ss(_,w)})).apply(this,arguments)}function pa(){return(pa=(0,h.Z)(function*(g,c){return $e(g,"POST","/v1/accounts:createAuthUri",rt(g,c))})).apply(this,arguments)}function Ns(){return Ns=(0,h.Z)(function*(g,c){const _={identifier:c,continueUri:We()?ot():"http://localhost"},{signinMethods:w}=yield function ha(g,c){return pa.apply(this,arguments)}((0,O.m9)(g),_);return w||[]}),Ns.apply(this,arguments)}function Eo(){return Eo=(0,h.Z)(function*(g,c){const d=(0,O.m9)(g),w={requestType:"VERIFY_EMAIL",idToken:yield g.getIdToken()};c&&As(d.auth,w,c);const{email:A}=yield function Df(g,c){return oo.apply(this,arguments)}(d.auth,w);A!==g.email&&(yield g.reload())}),Eo.apply(this,arguments)}function bu(){return bu=(0,h.Z)(function*(g,c,d){const _=(0,O.m9)(g),A={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield g.getIdToken(),newEmail:c};d&&As(_.auth,A,d);const{email:V}=yield function $n(g,c){return du.apply(this,arguments)}(_.auth,A);V!==g.email&&(yield g.reload())}),bu.apply(this,arguments)}function Co(){return(Co=(0,h.Z)(function*(g,c){return $e(g,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function ga(){return ga=(0,h.Z)(function*(g,{displayName:c,photoURL:d}){if(void 0===c&&void 0===d)return;const _=(0,O.m9)(g),A={idToken:yield _.getIdToken(),displayName:c,photoUrl:d,returnSecureToken:!0},V=yield Xe(_,function Sf(g,c){return Co.apply(this,arguments)}(_.auth,A));_.displayName=V.displayName||null,_.photoURL=V.photoUrl||null;const Z=_.providerData.find(({providerId:Ce})=>"password"===Ce);Z&&(Z.displayName=_.displayName,Z.photoURL=_.photoURL),yield _._updateTokensIfNecessary(V)}),ga.apply(this,arguments)}function Bn(g,c,d){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,h.Z)(function*(g,c,d){const{auth:_}=g,A={idToken:yield g.getIdToken(),returnSecureToken:!0};c&&(A.email=c),d&&(A.password=d);const V=yield Xe(g,vs(_,A));yield g._updateTokensIfNecessary(V,!0)})).apply(this,arguments)}class Xi{constructor(c,d,_={}){this.isNewUser=c,this.providerId=d,this.profile=_}}class An extends Xi{constructor(c,d,_,w){super(c,d,_),this.username=w}}class Mf extends Xi{constructor(c,d){super(c,"facebook.com",d)}}class dr extends An{constructor(c,d){super(c,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class Rf extends Xi{constructor(c,d){super(c,"google.com",d)}}class Zc extends An{constructor(c,d,_){super(c,"twitter.com",d,_)}}function fl(g){const{user:c,_tokenResponse:d}=g;return c.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function nn(g){var c,d;if(!g)return null;const{providerId:_}=g,w=g.rawUserInfo?JSON.parse(g.rawUserInfo):{},A=g.isNewUser||"identitytoolkit#SignupNewUserResponse"===g.kind;if(!_&&g?.idToken){const V=null===(d=null===(c=Nr(g.idToken))||void 0===c?void 0:c.firebase)||void 0===d?void 0:d.sign_in_provider;if(V)return new Xi(A,"anonymous"!==V&&"custom"!==V?V:null)}if(!_)return null;switch(_){case"facebook.com":return new Mf(A,w);case"github.com":return new dr(A,w);case"google.com":return new Rf(A,w);case"twitter.com":return new Zc(A,w,g.screenName||null);case"custom":case"anonymous":return new Xi(A,null);default:return new Xi(A,_,w)}}(d)}class xs{constructor(c,d,_){this.type=c,this.credential=d,this.auth=_}static _fromIdtoken(c,d){return new xs("enroll",c,d)}static _fromMfaPendingCredential(c){return new xs("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var d,_;if(c?.multiFactorSession){if(null!==(d=c.multiFactorSession)&&void 0!==d&&d.pendingCredential)return xs._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(_=c.multiFactorSession)&&void 0!==_&&_.idToken)return xs._fromIdtoken(c.multiFactorSession.idToken)}return null}}class pl{constructor(c,d,_){this.session=c,this.hints=d,this.signInResolver=_}static _fromError(c,d){const _=ht(c),w=d.customData._serverResponse,A=(w.mfaInfo||[]).map(Z=>ve._fromServerResponse(_,Z));H(w.mfaPendingCredential,_,"internal-error");const V=xs._fromMfaPendingCredential(w.mfaPendingCredential);return new pl(V,A,function(){var Z=(0,h.Z)(function*(Ce){const Ne=yield Ce._process(_,V);delete w.mfaInfo,delete w.mfaPendingCredential;const Qe=Object.assign(Object.assign({},w),{idToken:Ne.idToken,refreshToken:Ne.refreshToken});switch(d.operationType){case"signIn":const Ke=yield kr._fromIdTokenResponse(_,d.operationType,Qe);return yield _._updateCurrentUser(Ke.user),Ke;case"reauthenticate":return H(d.user,_,"internal-error"),kr._forOperation(d.user,d.operationType,Qe);default:de(_,"internal-error")}});return function(Ce){return Z.apply(this,arguments)}}())}resolveSignIn(c){var d=this;return(0,h.Z)(function*(){return d.signInResolver(c)})()}}class Jr{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(_=>ve._fromServerResponse(c.auth,_)))})}static _fromUser(c){return new Jr(c)}getSession(){var c=this;return(0,h.Z)(function*(){return xs._fromIdtoken(yield c.user.getIdToken(),c.user.auth)})()}enroll(c,d){var _=this;return(0,h.Z)(function*(){const w=c,A=yield _.getSession(),V=yield Xe(_.user,w._process(_.user.auth,A,d));return yield _.user._updateTokensIfNecessary(V),_.user.reload()})()}unenroll(c){var d=this;return(0,h.Z)(function*(){const _="string"==typeof c?c:c.uid,w=yield d.user.getIdToken();try{const A=yield Xe(d.user,function ks(g,c){return $e(g,"POST","/v2/accounts/mfaEnrollment:withdraw",rt(g,c))}(d.user.auth,{idToken:w,mfaEnrollmentId:_}));d.enrolledFactors=d.enrolledFactors.filter(({uid:V})=>V!==_),yield d.user._updateTokensIfNecessary(A),yield d.user.reload()}catch(A){throw A}})()}}const es=new WeakMap,ts="__sak";class Su{constructor(c,d){this.storageRetriever=c,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(ts,"1"),this.storage.removeItem(ts),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,d){return this.storage.setItem(c,JSON.stringify(d)),Promise.resolve()}_get(c){const d=this.storage.getItem(c);return Promise.resolve(d?JSON.parse(d):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ri=(()=>{class g extends Su{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,_)=>this.onStorageEvent(d,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Fs(){const g=(0,O.z$)();return Q(g)||en(g)}()&&function If(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=so(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const _ of Object.keys(this.listeners)){const w=this.storage.getItem(_),A=this.localCache[_];w!==A&&d(_,A,w)}}onStorageEvent(d,_=!1){if(!d.key)return void this.forAllChangedKeys((Z,Ce,Ne)=>{this.notifyListeners(Z,Ne)});const w=d.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Z=this.storage.getItem(w);if(d.newValue!==Z)null!==d.newValue?this.storage.setItem(w,d.newValue):this.storage.removeItem(w);else if(this.localCache[w]===d.newValue&&!_)return}const A=()=>{const Z=this.storage.getItem(w);!_&&this.localCache[w]===Z||this.notifyListeners(w,Z)},V=this.storage.getItem(w);!function zr(){return(0,O.w1)()&&10===document.documentMode}()||V===d.newValue||d.newValue===d.oldValue?A():setTimeout(A,10)}notifyListeners(d,_){this.localCache[d]=_;const w=this.listeners[d];if(w)for(const A of Array.from(w))A(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,_,w)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:_,newValue:w}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(_)}_removeListener(d,_){this.listeners[d]&&(this.listeners[d].delete(_),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,_){var w=()=>super._set,A=this;return(0,h.Z)(function*(){yield w().call(A,d,_),A.localCache[d]=JSON.stringify(_)})()}_get(d){var _=()=>super._get,w=this;return(0,h.Z)(function*(){const A=yield _().call(w,d);return w.localCache[d]=JSON.stringify(A),A})()}_remove(d){var _=()=>super._remove,w=this;return(0,h.Z)(function*(){yield _().call(w,d),delete w.localCache[d]})()}}return g.type="LOCAL",g})(),Sr=(()=>{class g extends Su{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,_){}_removeListener(d,_){}}return g.type="SESSION",g})();let _l=(()=>{class g{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const _=this.receivers.find(A=>A.isListeningto(d));if(_)return _;const w=new g(d);return this.receivers.push(w),w}isListeningto(d){return this.eventTarget===d}handleEvent(d){var _=this;return(0,h.Z)(function*(){const w=d,{eventId:A,eventType:V,data:Z}=w.data,Ce=_.handlersMap[V];if(!Ce?.size)return;w.ports[0].postMessage({status:"ack",eventId:A,eventType:V});const Ne=Array.from(Ce).map(function(){var Ke=(0,h.Z)(function*(cn){return cn(w.origin,Z)});return function(cn){return Ke.apply(this,arguments)}}()),Qe=yield function Ar(g){return Promise.all(g.map(function(){var c=(0,h.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(_){return{fulfilled:!1,reason:_}}});return function(d){return c.apply(this,arguments)}}()))}(Ne);w.ports[0].postMessage({status:"done",eventId:A,eventType:V,response:Qe})})()}_subscribe(d,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(_)}_unsubscribe(d,_){this.handlersMap[d]&&_&&this.handlersMap[d].delete(_),(!_||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return g.receivers=[],g})();function di(g="",c=10){let d="";for(let _=0;_<c;_++)d+=Math.floor(10*Math.random());return g+d}class Vs{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,d,_=50){var w=this;return(0,h.Z)(function*(){const A=typeof MessageChannel<"u"?new MessageChannel:null;if(!A)throw new Error("connection_unavailable");let V,Z;return new Promise((Ce,Ne)=>{const Qe=di("",20);A.port1.start();const Ke=setTimeout(()=>{Ne(new Error("unsupported_event"))},_);Z={messageChannel:A,onMessage(cn){const Pt=cn;if(Pt.data.eventId===Qe)switch(Pt.data.status){case"ack":clearTimeout(Ke),V=setTimeout(()=>{Ne(new Error("timeout"))},3e3);break;case"done":clearTimeout(V),Ce(Pt.data.response);break;default:clearTimeout(Ke),clearTimeout(V),Ne(new Error("invalid_response"))}}},w.handlers.add(Z),A.port1.addEventListener("message",Z.onMessage),w.target.postMessage({eventType:c,eventId:Qe,data:d},[A.port2])}).finally(()=>{Z&&w.removeMessageHandler(Z)})})()}}function Qt(){return window}function ns(){return typeof Qt().WorkerGlobalScope<"u"&&"function"==typeof Qt().importScripts}function rs(){return(rs=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const yl="firebaseLocalStorageDb",Fr=1,is="firebaseLocalStorage",Pi="fbase_key";class fi{constructor(c){this.request=c}toPromise(){return new Promise((c,d)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function To(g,c){return g.transaction([is],c?"readwrite":"readonly").objectStore(is)}function Un(){const g=indexedDB.open(yl,Fr);return new Promise((c,d)=>{g.addEventListener("error",()=>{d(g.error)}),g.addEventListener("upgradeneeded",()=>{const _=g.result;try{_.createObjectStore(is,{keyPath:Pi})}catch(w){d(w)}}),g.addEventListener("success",(0,h.Z)(function*(){const _=g.result;_.objectStoreNames.contains(is)?c(_):(_.close(),yield function vl(){const g=indexedDB.deleteDatabase(yl);return new fi(g).toPromise()}(),c(yield Un()))}))})}function va(g,c,d){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,h.Z)(function*(g,c,d){const _=To(g,!0).put({[Pi]:c,value:d});return new fi(_).toPromise()})).apply(this,arguments)}function Ca(){return(Ca=(0,h.Z)(function*(g,c){const d=To(g,!1).get(c),_=yield new fi(d).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function Cl(g,c){const d=To(g,!0).delete(c);return new fi(d).toPromise()}const Xr=(()=>{class g{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,h.Z)(function*(){return d.db||(d.db=yield Un()),d.db})()}_withRetries(d){var _=this;return(0,h.Z)(function*(){let w=0;for(;;)try{const A=yield _._openDb();return yield d(A)}catch(A){if(w++>3)throw A;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,h.Z)(function*(){return ns()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,h.Z)(function*(){d.receiver=_l._getInstance(function ya(){return ns()?self:null}()),d.receiver._subscribe("keyChanged",function(){var _=(0,h.Z)(function*(w,A){return{keyProcessed:(yield d._poll()).includes(A.key)}});return function(w,A){return _.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var _=(0,h.Z)(function*(w,A){return["keyChanged"]});return function(w,A){return _.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,h.Z)(function*(){var _,w;if(d.activeServiceWorker=yield function Yc(){return rs.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new Vs(d.activeServiceWorker);const A=yield d.sender._send("ping",{},800);A&&null!==(_=A[0])&&void 0!==_&&_.fulfilled&&null!==(w=A[0])&&void 0!==w&&w.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var _=this;return(0,h.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function Mu(){var g;return(null===(g=navigator?.serviceWorker)||void 0===g?void 0:g.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:d},_.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const d=yield Un();return yield va(d,ts,"1"),yield Cl(d,ts),!0}catch{}return!1})()}_withPendingWrite(d){var _=this;return(0,h.Z)(function*(){_.pendingWrites++;try{yield d()}finally{_.pendingWrites--}})()}_set(d,_){var w=this;return(0,h.Z)(function*(){return w._withPendingWrite((0,h.Z)(function*(){return yield w._withRetries(A=>va(A,d,_)),w.localCache[d]=_,w.notifyServiceWorker(d)}))})()}_get(d){var _=this;return(0,h.Z)(function*(){const w=yield _._withRetries(A=>function El(g,c){return Ca.apply(this,arguments)}(A,d));return _.localCache[d]=w,w})()}_remove(d){var _=this;return(0,h.Z)(function*(){return _._withPendingWrite((0,h.Z)(function*(){return yield _._withRetries(w=>Cl(w,d)),delete _.localCache[d],_.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,h.Z)(function*(){const _=yield d._withRetries(V=>{const Z=To(V,!1).getAll();return new fi(Z).toPromise()});if(!_)return[];if(0!==d.pendingWrites)return[];const w=[],A=new Set;for(const{fbase_key:V,value:Z}of _)A.add(V),JSON.stringify(d.localCache[V])!==JSON.stringify(Z)&&(d.notifyListeners(V,Z),w.push(V));for(const V of Object.keys(d.localCache))d.localCache[V]&&!A.has(V)&&(d.notifyListeners(V,null),w.push(V));return w})()}notifyListeners(d,_){this.localCache[d]=_;const w=this.listeners[d];if(w)for(const A of Array.from(w))A(_)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(_)}_removeListener(d,_){this.listeners[d]&&(this.listeners[d].delete(_),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return g.type="LOCAL",g})(),jt=1e12;class Jc{constructor(c){this.auth=c,this.counter=jt,this._widgets=new Map}render(c,d){const _=this.counter;return this._widgets.set(_,new Il(c,this.auth.name,d||{})),this.counter++,_}reset(c){var d;const _=c||jt;null===(d=this._widgets.get(_))||void 0===d||d.delete(),this._widgets.delete(_)}getResponse(c){var d;return(null===(d=this._widgets.get(c||jt))||void 0===d?void 0:d.getResponse())||""}execute(c){var d=this;return(0,h.Z)(function*(){var _;return null===(_=d._widgets.get(c||jt))||void 0===_||_.execute(),""})()}}class Il{constructor(c,d,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const w="string"==typeof c?document.getElementById(c):c;H(w,"argument-error",{appName:d}),this.container=w,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Xc(g){const c=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<g;_++)c.push(d.charAt(Math.floor(Math.random()*d.length)));return c.join("")}(50);const{callback:c,"expired-callback":d}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ed=bi("rcb"),Pp=new Ee(3e4,6e4);class Of{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=Qt().grecaptcha)||void 0===c||!c.render)}load(c,d=""){return H(function Da(g){return g.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(g)}(d),c,"argument-error"),this.shouldResolveImmediately(d)&&el(Qt().grecaptcha)?Promise.resolve(Qt().grecaptcha):new Promise((_,w)=>{const A=Qt().setTimeout(()=>{w(he(c,"network-request-failed"))},Pp.get());Qt()[ed]=()=>{Qt().clearTimeout(A),delete Qt()[ed];const Z=Qt().grecaptcha;if(!Z||!el(Z))return void w(he(c,"internal-error"));const Ce=Z.render;Z.render=(Ne,Qe)=>{const Ke=Ce(Ne,Qe);return this.counter++,Ke},this.hostLanguage=d,_(Z)},bn(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:ed,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(A),w(he(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var d;return!(null===(d=Qt().grecaptcha)||void 0===d||!d.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Xm{load(c){return(0,h.Z)(function*(){return new Jc(c)})()}clearedOneInstance(){}}const kf="recaptcha",Mn={theme:"light",type:"image"};class Ru{constructor(c,d=Object.assign({},Mn),_){this.parameters=d,this.type=kf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ht(_),this.isInvisible="invisible"===this.parameters.size,H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const w="string"==typeof c?document.getElementById(c):c;H(w,this.auth,"argument-error"),this.container=w,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xm:new Of,this.validateStartingState()}verify(){var c=this;return(0,h.Z)(function*(){c.assertNotDestroyed();const d=yield c.render(),_=c.getAssertedRecaptcha();return _.getResponse(d)||new Promise(A=>{const V=Z=>{Z&&(c.tokenChangeListeners.delete(V),A(Z))};c.tokenChangeListeners.add(V),c.isInvisible&&_.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){H(!this.parameters.sitekey,this.auth,"argument-error"),H(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),H(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return d=>{if(this.tokenChangeListeners.forEach(_=>_(d)),"function"==typeof c)c(d);else if("string"==typeof c){const _=Qt()[c];"function"==typeof _&&_(d)}}}assertNotDestroyed(){H(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,h.Z)(function*(){if(yield c.init(),!c.widgetId){let d=c.container;if(!c.isInvisible){const _=document.createElement("div");d.appendChild(_),d=_}c.widgetId=c.getAssertedRecaptcha().render(d,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,h.Z)(function*(){H(We()&&!ns(),c.auth,"internal-error"),yield function Ao(){let g=null;return new Promise(c=>{"complete"!==document.readyState?(g=()=>c(),window.addEventListener("load",g)):c()}).catch(c=>{throw g&&window.removeEventListener("load",g),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const d=yield function Xa(g){return _s.apply(this,arguments)}(c.auth);H(d,c.auth,"internal-error"),c.parameters.sitekey=d})()}getAssertedRecaptcha(){return H(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Pu{constructor(c,d){this.verificationId=c,this.onConfirmation=d}confirm(c){const d=lo._fromVerification(this.verificationId,c);return this.onConfirmation(d)}}function xi(){return(xi=(0,h.Z)(function*(g,c,d){const _=ht(g),w=yield ba(_,c,(0,O.m9)(d));return new Pu(w,A=>Ss(_,A))})).apply(this,arguments)}function Mo(){return(Mo=(0,h.Z)(function*(g,c,d){const _=(0,O.m9)(g);yield Tn(!1,_,"phone");const w=yield ba(_.auth,c,(0,O.m9)(d));return new Pu(w,A=>ol(_,A))})).apply(this,arguments)}function wa(){return(wa=(0,h.Z)(function*(g,c,d){const _=(0,O.m9)(g),w=yield ba(_.auth,c,(0,O.m9)(d));return new Pu(w,A=>Eu(_,A))})).apply(this,arguments)}function ba(g,c,d){return Ro.apply(this,arguments)}function Ro(){return Ro=(0,h.Z)(function*(g,c,d){var _;const w=yield d.verify();try{let A;if(H("string"==typeof w,g,"argument-error"),H(d.type===kf,g,"argument-error"),A="string"==typeof c?{phoneNumber:c}:c,"session"in A){const V=A.session;if("phoneNumber"in A)return H("enroll"===V.type,g,"internal-error"),(yield function gl(g,c){return $e(g,"POST","/v2/accounts/mfaEnrollment:start",rt(g,c))}(g,{idToken:V.credential,phoneEnrollmentInfo:{phoneNumber:A.phoneNumber,recaptchaToken:w}})).phoneSessionInfo.sessionInfo;{H("signin"===V.type,g,"internal-error");const Z=(null===(_=A.multiFactorHint)||void 0===_?void 0:_.uid)||A.multiFactorUid;return H(Z,g,"missing-multi-factor-info"),(yield function Nf(g,c){return $e(g,"POST","/v2/accounts/mfaSignIn:start",rt(g,c))}(g,{mfaPendingCredential:V.credential,mfaEnrollmentId:Z,phoneSignInInfo:{recaptchaToken:w}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:V}=yield function fu(g,c){return hu.apply(this,arguments)}(g,{phoneNumber:A.phoneNumber,recaptchaToken:w});return V}}finally{d._reset()}}),Ro.apply(this,arguments)}function Nn(){return(Nn=(0,h.Z)(function*(g,c){yield go((0,O.m9)(g),c)})).apply(this,arguments)}let Vr=(()=>{class g{constructor(d){this.providerId=g.PROVIDER_ID,this.auth=ht(d)}verifyPhoneNumber(d,_){return ba(this.auth,d,(0,O.m9)(_))}static credential(d,_){return lo._fromVerification(d,_)}static credentialFromResult(d){return g.credentialFromTaggedObject(d)}static credentialFromError(d){return g.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:_,temporaryProof:w}=d;return _&&w?lo._fromTokenResponse(_,w):null}}return g.PROVIDER_ID="phone",g.PHONE_SIGN_IN_METHOD="phone",g})();function Br(g,c){return c?st(c):(H(g._popupRedirectResolver,g,"argument-error"),g._popupRedirectResolver)}class Po extends si{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return vn(c,this._buildIdpRequest())}_linkToIdToken(c,d){return vn(c,this._buildIdpRequest(d))}_getReauthenticationResolver(c){return vn(c,this._buildIdpRequest())}_buildIdpRequest(c){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(d.idToken=c),d}}function Dl(g){return qr(g.auth,new Po(g),g.bypassAuthState)}function Ta(g){const{auth:c,user:d}=g;return H(d,c,"internal-error"),mo(d,new Po(g),g.bypassAuthState)}function $s(g){return ei.apply(this,arguments)}function ei(){return(ei=(0,h.Z)(function*(g){const{auth:c,user:d}=g;return H(d,c,"internal-error"),go(d,new Po(g),g.bypassAuthState)})).apply(this,arguments)}class xn{constructor(c,d,_,w,A=!1){this.auth=c,this.resolver=_,this.user=w,this.bypassAuthState=A,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var c=this;return new Promise(function(){var d=(0,h.Z)(function*(_,w){c.pendingPromise={resolve:_,reject:w};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(A){c.reject(A)}});return function(_,w){return d.apply(this,arguments)}}())}onAuthEvent(c){var d=this;return(0,h.Z)(function*(){const{urlResponse:_,sessionId:w,postBody:A,tenantId:V,error:Z,type:Ce}=c;if(Z)return void d.reject(Z);const Ne={auth:d.auth,requestUri:_,sessionId:w,tenantId:V||void 0,postBody:A||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(Ce)(Ne))}catch(Qe){d.reject(Qe)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return Dl;case"linkViaPopup":case"linkViaRedirect":return $s;case"reauthViaPopup":case"reauthViaRedirect":return Ta;default:de(this.auth,"internal-error")}}resolve(c){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nu=new Ee(2e3,1e4);function En(){return(En=(0,h.Z)(function*(g,c,d){const _=ht(g);be(g,c,Ji);const w=Br(_,d);return new hi(_,"signInViaPopup",c,w).executeNotNull()})).apply(this,arguments)}function Cn(){return(Cn=(0,h.Z)(function*(g,c,d){const _=(0,O.m9)(g);be(_.auth,c,Ji);const w=Br(_.auth,d);return new hi(_.auth,"reauthViaPopup",c,w,_).executeNotNull()})).apply(this,arguments)}function Aa(){return(Aa=(0,h.Z)(function*(g,c,d){const _=(0,O.m9)(g);be(_.auth,c,Ji);const w=Br(_.auth,d);return new hi(_.auth,"linkViaPopup",c,w,_).executeNotNull()})).apply(this,arguments)}let hi=(()=>{class g extends xn{constructor(d,_,w,A,V){super(d,_,A,V),this.provider=w,this.authWindow=null,this.pollId=null,g.currentPopupAction&&g.currentPopupAction.cancel(),g.currentPopupAction=this}executeNotNull(){var d=this;return(0,h.Z)(function*(){const _=yield d.execute();return H(_,d.auth,"internal-error"),_})()}onExecution(){var d=this;return(0,h.Z)(function*(){Fe(1===d.filter.length,"Popup operations only handle one event");const _=di();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],_),d.authWindow.associatedEvent=_,d.resolver._originValidation(d.auth).catch(w=>{d.reject(w)}),d.resolver._isIframeWebStorageSupported(d.auth,w=>{w||d.reject(he(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(he(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,g.currentPopupAction=null}pollUserCancellation(){const d=()=>{var _,w;this.pollId=null!==(w=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==w&&w.closed?window.setTimeout(()=>{this.pollId=null,this.reject(he(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(d,Nu.get())};d()}}return g.currentPopupAction=null,g})();const rd="pendingRedirect",Gs=new Map;class Ma extends xn{constructor(c,d,_=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,_),this.eventId=null}execute(){var c=()=>super.execute,d=this;return(0,h.Z)(function*(){let _=Gs.get(d.auth._key());if(!_){try{const A=(yield function C(g,c){return I.apply(this,arguments)}(d.resolver,d.auth))?yield c().call(d):null;_=()=>Promise.resolve(A)}catch(w){_=()=>Promise.reject(w)}Gs.set(d.auth._key(),_)}return d.bypassAuthState||Gs.set(d.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(c){var d=()=>super.onAuthEvent,_=this;return(0,h.Z)(function*(){if("signInViaRedirect"===c.type)return d().call(_,c);if("unknown"!==c.type){if(c.eventId){const w=yield _.auth._redirectUserForId(c.eventId);if(w)return _.user=w,d().call(_,c);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function I(){return(I=(0,h.Z)(function*(g,c){const d=Ue(c),_=ye(g);if(!(yield _._isAvailable()))return!1;const w="true"===(yield _._get(d));return yield _._remove(d),w})).apply(this,arguments)}function S(g,c){return x.apply(this,arguments)}function x(){return(x=(0,h.Z)(function*(g,c){return ye(g)._set(Ue(c),"true")})).apply(this,arguments)}function q(g,c){Gs.set(g._key(),c)}function ye(g){return st(g._redirectPersistence)}function Ue(g){return L(rd,g.config.apiKey,g.name)}function Ve(g,c,d){return function R(g,c,d){return Ct.apply(this,arguments)}(g,c,d)}function Ct(){return(Ct=(0,h.Z)(function*(g,c,d){const _=ht(g);be(g,c,Ji),yield _._initializationPromise;const w=Br(_,d);return yield S(w,_),w._openRedirect(_,c,"signInViaRedirect")})).apply(this,arguments)}function pt(g,c,d){return function fr(g,c,d){return un.apply(this,arguments)}(g,c,d)}function un(){return(un=(0,h.Z)(function*(g,c,d){const _=(0,O.m9)(g);be(_.auth,c,Ji),yield _.auth._initializationPromise;const w=Br(_.auth,d);yield S(w,_.auth);const A=yield id(_);return w._openRedirect(_.auth,c,"reauthViaRedirect",A)})).apply(this,arguments)}function Oi(g,c,d){return function Ra(g,c,d){return ss.apply(this,arguments)}(g,c,d)}function ss(){return(ss=(0,h.Z)(function*(g,c,d){const _=(0,O.m9)(g);be(_.auth,c,Ji),yield _.auth._initializationPromise;const w=Br(_.auth,d);yield Tn(!1,_,c.providerId),yield S(w,_.auth);const A=yield id(_);return w._openRedirect(_.auth,c,"linkViaRedirect",A)})).apply(this,arguments)}function zn(){return(zn=(0,h.Z)(function*(g,c){return yield ht(g)._initializationPromise,ki(g,c,!1)})).apply(this,arguments)}function ki(g,c){return No.apply(this,arguments)}function No(){return(No=(0,h.Z)(function*(g,c,d=!1){const _=ht(g),w=Br(_,c),V=yield new Ma(_,w,d).execute();return V&&!d&&(delete V.user._redirectEventId,yield _._persistUserIfCurrent(V.user),yield _._setRedirectUser(null,c)),V})).apply(this,arguments)}function id(g){return xu.apply(this,arguments)}function xu(){return(xu=(0,h.Z)(function*(g){const c=di(`${g.uid}:::`);return g._redirectEventId=c,yield g.auth._setRedirectUser(g),yield g.auth._persistUserIfCurrent(g),c})).apply(this,arguments)}class Oo{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let d=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(c,_)&&(d=!0,this.sendToConsumer(c,_),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function Zn(g){switch(g.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bl(g);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=c,d=!0)),d}sendToConsumer(c,d){var _;if(c.error&&!bl(c)){const w=(null===(_=c.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";d.onError(he(this.auth,w))}else d.onAuthEvent(c)}isEventForConsumer(c,d){const _=null===d.eventId||!!c.eventId&&c.eventId===d.eventId;return d.filter.includes(c.type)&&_}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ff(c))}saveEventToCache(c){this.cachedEventUids.add(Ff(c)),this.lastProcessedEventTime=Date.now()}}function Ff(g){return[g.type,g.eventId,g.sessionId,g.tenantId].filter(c=>c).join("-")}function bl({type:g,error:c}){return"unknown"===g&&"auth/no-auth-event"===c?.code}function Tl(g){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,h.Z)(function*(g,c={}){return $e(g,"GET","/v1/projects",c)})).apply(this,arguments)}const os=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pr=/^https?/;function ko(){return(ko=(0,h.Z)(function*(g){if(g.config.emulator)return;const{authorizedDomains:c}=yield Tl(g);for(const d of c)try{if(sd(d))return}catch{}de(g,"unauthorized-domain")})).apply(this,arguments)}function sd(g){const c=ot(),{protocol:d,hostname:_}=new URL(c);if(g.startsWith("chrome-extension://")){const V=new URL(g);return""===V.hostname&&""===_?"chrome-extension:"===d&&g.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===d&&V.hostname===_}if(!pr.test(d))return!1;if(os.test(g))return _===g;const w=g.replace(/\./g,"\\.");return new RegExp("^(.+\\."+w+"|"+w+")$","i").test(_)}const as=new Ee(3e4,6e4);function pi(){const g=Qt().___jsl;if(g?.H)for(const c of Object.keys(g.H))if(g.H[c].r=g.H[c].r||[],g.H[c].L=g.H[c].L||[],g.H[c].r=[...g.H[c].L],g.CP)for(let d=0;d<g.CP.length;d++)g.CP[d]=null}let Ur=null;const od=new Ee(5e3,15e3),Lf="__/auth/iframe",On="emulator/auth/iframe",ku={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Op=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kp(g){const c=g.config;H(c.authDomain,g,"auth-domain-config-required");const d=c.emulator?Re(c,On):`https://${g.config.authDomain}/${Lf}`,_={apiKey:c.apiKey,appName:g.name,v:re.SDK_VERSION},w=Op.get(g.config.apiHost);w&&(_.eid=w);const A=g._getFrameworks();return A.length&&(_.fw=A.join(",")),`${d}?${(0,O.xO)(_).slice(1)}`}function Fu(){return Fu=(0,h.Z)(function*(g){const c=yield function Sl(g){return Ur=Ur||function Ws(g){return new Promise((c,d)=>{var _,w,A;function V(){pi(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{pi(),d(he(g,"network-request-failed"))},timeout:as.get()})}if(null!==(w=null===(_=Qt().gapi)||void 0===_?void 0:_.iframes)&&void 0!==w&&w.Iframe)c(gapi.iframes.getContext());else{if(null===(A=Qt().gapi)||void 0===A||!A.load){const Z=bi("iframefcb");return Qt()[Z]=()=>{gapi.load?V():d(he(g,"network-request-failed"))},bn(`https://apis.google.com/js/api.js?onload=${Z}`).catch(Ce=>d(Ce))}V()}}).catch(c=>{throw Ur=null,c})}(g),Ur}(g),d=Qt().gapi;return H(d,g,"internal-error"),c.open({where:document.body,url:kp(g),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ku,dontclear:!0},_=>new Promise(function(){var w=(0,h.Z)(function*(A,V){yield _.restyle({setHideOnLeave:!1});const Z=he(g,"network-request-failed"),Ce=Qt().setTimeout(()=>{V(Z)},od.get());function Ne(){Qt().clearTimeout(Ce),A(_)}_.ping(Ne).then(Ne,()=>{V(Z)})});return function(A,V){return w.apply(this,arguments)}}()))}),Fu.apply(this,arguments)}const Lp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vp=500,gr=600,zs="_blank",Vf="http://localhost";class Zs{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Pa="__/auth/handler",Ml="emulator/auth/handler",Bf=encodeURIComponent("fac");function Rl(g,c,d,_,w,A){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,h.Z)(function*(g,c,d,_,w,A){H(g.config.authDomain,g,"auth-domain-config-required"),H(g.config.apiKey,g,"invalid-api-key");const V={apiKey:g.config.apiKey,appName:g.name,authType:d,redirectUrl:_,v:re.SDK_VERSION,eventId:w};if(c instanceof Ji){c.setDefaultLanguage(g.languageCode),V.providerId=c.providerId||"",(0,O.xb)(c.getCustomParameters())||(V.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Qe,Ke]of Object.entries(A||{}))V[Qe]=Ke}if(c instanceof co){const Qe=c.getScopes().filter(Ke=>""!==Ke);Qe.length>0&&(V.scopes=Qe.join(","))}g.tenantId&&(V.tid=g.tenantId);const Z=V;for(const Qe of Object.keys(Z))void 0===Z[Qe]&&delete Z[Qe];const Ce=yield g._getAppCheckToken(),Ne=Ce?`#${Bf}=${encodeURIComponent(Ce)}`:"";return`${function ad({config:g}){return g.emulator?Re(g,Ml):`https://${g.authDomain}/${Pa}`}(g)}?${(0,O.xO)(Z).slice(1)}${Ne}`})).apply(this,arguments)}const Vu="webStorageSupport",ud=class ld{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sr,this._completeRedirectFn=ki,this._overrideRedirectResult=q}_openPopup(c,d,_,w){var A=this;return(0,h.Z)(function*(){var V;Fe(null===(V=A.eventManagers[c._key()])||void 0===V?void 0:V.manager,"_initialize() not called before _openPopup()");const Z=yield Rl(c,d,_,ot(),w);return function tr(g,c,d,_=Vp,w=gr){const A=Math.max((window.screen.availHeight-w)/2,0).toString(),V=Math.max((window.screen.availWidth-_)/2,0).toString();let Z="";const Ce=Object.assign(Object.assign({},Lp),{width:_.toString(),height:w.toString(),top:A,left:V}),Ne=(0,O.z$)().toLowerCase();d&&(Z=qe(Ne)?zs:d),le(Ne)&&(c=c||Vf,Ce.scrollbars="yes");const Qe=Object.entries(Ce).reduce((cn,[Pt,Bo])=>`${cn}${Pt}=${Bo},`,"");if(function Xn(g=(0,O.z$)()){var c;return en(g)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(Ne)&&"_self"!==Z)return function Al(g,c){const d=document.createElement("a");d.href=g,d.target=c;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(_)}(c||"",Z),new Zs(null);const Ke=window.open(c||"",Z,Qe);H(Ke,g,"popup-blocked");try{Ke.focus()}catch{}return new Zs(Ke)}(c,Z,di())})()}_openRedirect(c,d,_,w){var A=this;return(0,h.Z)(function*(){return yield A._originValidation(c),function Bs(g){Qt().location.href=g}(yield Rl(c,d,_,ot(),w)),new Promise(()=>{})})()}_initialize(c){const d=c._key();if(this.eventManagers[d]){const{manager:w,promise:A}=this.eventManagers[d];return w?Promise.resolve(w):(Fe(A,"If manager is not set, promise should be"),A)}const _=this.initAndGetManager(c);return this.eventManagers[d]={promise:_},_.catch(()=>{delete this.eventManagers[d]}),_}initAndGetManager(c){var d=this;return(0,h.Z)(function*(){const _=yield function Fp(g){return Fu.apply(this,arguments)}(c),w=new Oo(c);return _.register("authEvent",A=>(H(A?.authEvent,c,"invalid-auth-event"),{status:w.onEvent(A.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[c._key()]={manager:w},d.iframes[c._key()]=_,w})()}_isIframeWebStorageSupported(c,d){this.iframes[c._key()].send(Vu,{type:Vu},w=>{var A;const V=null===(A=w?.[0])||void 0===A?void 0:A[Vu];void 0!==V&&d(!!V),de(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function xp(g){return ko.apply(this,arguments)}(c)),this.originValidationPromises[d]}get _shouldInitProactively(){return so()||Q()||en()}};class cd{constructor(c){this.factorId=c}_process(c,d,_){switch(d.type){case"enroll":return this._finalizeEnroll(c,d.credential,_);case"signin":return this._finalizeSignIn(c,d.credential);default:return Oe("unexpected MultiFactorSessionType")}}}class Na extends cd{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new Na(c)}_finalizeEnroll(c,d,_){return function qc(g,c){return $e(g,"POST","/v2/accounts/mfaEnrollment:finalize",rt(g,c))}(c,{idToken:d,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,d){return function Qc(g,c){return $e(g,"POST","/v2/accounts/mfaSignIn:finalize",rt(g,c))}(c,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Bu=(()=>{class g{constructor(){}static assertion(d){return Na._fromCredential(d)}}return g.FACTOR_ID="phone",g})();var xa="@firebase/auth";class Hu{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var d=this;return(0,h.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const d=this.auth.onIdTokenChanged(_=>{c(_?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,d),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const d=this.internalListeners.get(c);d&&(this.internalListeners.delete(c),d(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ks(){return window}(0,O.Pz)("authIdTokenMaxAge"),function fd(g){(0,re._registerComponent)(new ge.wA("auth",(c,{options:d})=>{const _=c.getProvider("app").getImmediate(),w=c.getProvider("heartbeat"),A=c.getProvider("app-check-internal"),{apiKey:V,authDomain:Z}=_.options;H(V&&!V.includes(":"),"invalid-api-key",{appName:_.name}),H(!Z?.includes(":"),"argument-error",{appName:_.name});const Ce={apiKey:V,authDomain:Z,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ea(g)},Ne=new vt(_,w,A,Ce);return function yn(g,c){const d=c?.persistence||[],_=(Array.isArray(d)?d:[d]).map(st);c?.errorMap&&g._updateErrorMap(c.errorMap),g._initializeWithPersistence(_,c?.popupRedirectResolver)}(Ne,d),Ne},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,d,_)=>{c.getProvider("auth-internal").initialize()})),(0,re._registerComponent)(new ge.wA("auth-internal",c=>{const d=ht(c.getProvider("auth").getImmediate());return new Hu(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,re.registerVersion)(xa,"0.23.0",function ka(g){switch(g){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(g)),(0,re.registerVersion)(xa,"0.23.0","esm2017")}("Browser");const Hf=2e3;function pd(){return pd=(0,h.Z)(function*(g,c,d){var _;const{BuildInfo:w}=Ks();Fe(c.sessionId,"AuthEvent did not contain a session ID");const A=yield function Gf(g){return Wu.apply(this,arguments)}(c.sessionId),V={};return en()?V.ibi=w.packageName:Bt()?V.apn=w.packageName:de(g,"operation-not-supported-in-this-environment"),w.displayName&&(V.appDisplayName=w.displayName),V.sessionId=A,Rl(g,d,c.type,void 0,null!==(_=c.eventId)&&void 0!==_?_:void 0,V)}),pd.apply(this,arguments)}function Pl(){return(Pl=(0,h.Z)(function*(g){const{BuildInfo:c}=Ks(),d={};en()?d.iosBundleId=c.packageName:Bt()?d.androidPackageName=c.packageName:de(g,"operation-not-supported-in-this-environment"),yield Tl(g,d)})).apply(this,arguments)}function Gu(){return(Gu=(0,h.Z)(function*(g,c,d){const{cordova:_}=Ks();let w=()=>{};try{yield new Promise((A,V)=>{let Z=null;function Ce(){var Ke;A();const cn=null===(Ke=_.plugins.browsertab)||void 0===Ke?void 0:Ke.close;"function"==typeof cn&&cn(),"function"==typeof d?.close&&d.close()}function Ne(){Z||(Z=window.setTimeout(()=>{V(he(g,"redirect-cancelled-by-user"))},Hf))}function Qe(){"visible"===document?.visibilityState&&Ne()}c.addPassiveListener(Ce),document.addEventListener("resume",Ne,!1),Bt()&&document.addEventListener("visibilitychange",Qe,!1),w=()=>{c.removePassiveListener(Ce),document.removeEventListener("resume",Ne,!1),document.removeEventListener("visibilitychange",Qe,!1),Z&&window.clearTimeout(Z)}})}finally{w()}})).apply(this,arguments)}function Wu(){return(Wu=(0,h.Z)(function*(g){const c=function Mr(g){if(Fe(/[0-9a-zA-Z]+/.test(g),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(g);const c=new ArrayBuffer(g.length),d=new Uint8Array(c);for(let _=0;_<g.length;_++)d[_]=g.charCodeAt(_);return d}(g),d=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(d)).map(w=>w.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const zu=20;class Wf extends Oo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(c)),super.onEvent(c)}initialized(){var c=this;return(0,h.Z)(function*(){yield c.initPromise})()}}function Fi(g){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,h.Z)(function*(g){const c=yield Ku()._get(Nl(g));return c&&(yield Ku()._remove(Nl(g))),c})).apply(this,arguments)}function Zf(){const g=[],c="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let d=0;d<zu;d++){const _=Math.floor(Math.random()*c.length);g.push(c.charAt(_))}return g.join("")}function Ku(){return st(Ri)}function Nl(g){return L("authEvent",g.config.apiKey,g.name)}function Lo(g){if(!g?.includes("?"))return{};const[c,...d]=g.split("?");return(0,O.zd)(d.join("?"))}const Yu=class _d{constructor(){this._redirectPersistence=Sr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ki,this._overrideRedirectResult=q}_initialize(c){var d=this;return(0,h.Z)(function*(){const _=c._key();let w=d.eventManagers.get(_);return w||(w=new Wf(c),d.eventManagers.set(_,w),d.attachCallbackListeners(c,w)),w})()}_openPopup(c){de(c,"operation-not-supported-in-this-environment")}_openRedirect(c,d,_,w){var A=this;return(0,h.Z)(function*(){!function $p(g){var c,d,_,w,A,V,Z,Ce,Ne,Qe;const Ke=Ks();H("function"==typeof(null===(c=Ke?.universalLinks)||void 0===c?void 0:c.subscribe),g,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),H(typeof(null===(d=Ke?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),H("function"==typeof(null===(A=null===(w=null===(_=Ke?.cordova)||void 0===_?void 0:_.plugins)||void 0===w?void 0:w.browsertab)||void 0===A?void 0:A.openUrl),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(Ce=null===(Z=null===(V=Ke?.cordova)||void 0===V?void 0:V.plugins)||void 0===Z?void 0:Z.browsertab)||void 0===Ce?void 0:Ce.isAvailable),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(Qe=null===(Ne=Ke?.cordova)||void 0===Ne?void 0:Ne.InAppBrowser)||void 0===Qe?void 0:Qe.open),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const V=yield A._initialize(c);yield V.initialized(),V.resetRedirect(),function z(){Gs.clear()}(),yield A._originValidation(c);const Z=function Gp(g,c,d=null){return{type:c,eventId:d,urlResponse:null,sessionId:Zf(),postBody:null,tenantId:g.tenantId,error:he(g,"no-auth-event")}}(c,_,w);yield function gd(g,c){return Ku()._set(Nl(g),c)}(c,Z);const Ce=yield function jp(g,c,d){return pd.apply(this,arguments)}(c,Z,d),Ne=yield function $f(g){const{cordova:c}=Ks();return new Promise(d=>{c.plugins.browsertab.isAvailable(_=>{let w=null;_?c.plugins.browsertab.openUrl(g):w=c.InAppBrowser.open(g,function bt(g=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(g)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(g)}()?"_blank":"_system","location=yes"),d(w)})})}(Ce);return function $u(g,c,d){return Gu.apply(this,arguments)}(c,V,Ne)})()}_isIframeWebStorageSupported(c,d){throw new Error("Method not implemented.")}_originValidation(c){const d=c._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function jf(g){return Pl.apply(this,arguments)}(c)),this.originValidationPromises[d]}attachCallbackListeners(c,d){const{universalLinks:_,handleOpenURL:w,BuildInfo:A}=Ks(),V=setTimeout((0,h.Z)(function*(){yield Fi(c),d.onEvent(Ol())}),500),Z=function(){var Qe=(0,h.Z)(function*(Ke){clearTimeout(V);const cn=yield Fi(c);let Pt=null;cn&&Ke?.url&&(Pt=function zf(g,c){var d,_;const w=function xl(g){const c=Lo(g),d=c.link?decodeURIComponent(c.link):void 0,_=Lo(d).link,w=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return Lo(w).link||w||_||d||g}(c);if(w.includes("/__/auth/callback")){const A=Lo(w),V=A.firebaseError?function qu(g){try{return JSON.parse(g)}catch{return null}}(decodeURIComponent(A.firebaseError)):null,Z=null===(_=null===(d=V?.code)||void 0===d?void 0:d.split("auth/"))||void 0===_?void 0:_[1],Ce=Z?he(Z):null;return Ce?{type:g.type,eventId:g.eventId,tenantId:g.tenantId,error:Ce,urlResponse:null,sessionId:null,postBody:null}:{type:g.type,eventId:g.eventId,tenantId:g.tenantId,sessionId:g.sessionId,urlResponse:w,postBody:null}}return null}(cn,Ke.url)),d.onEvent(Pt||Ol())});return function(cn){return Qe.apply(this,arguments)}}();typeof _<"u"&&"function"==typeof _.subscribe&&_.subscribe(null,Z);const Ce=w,Ne=`${A.packageName.toLowerCase()}://`;Ks().handleOpenURL=function(){var Qe=(0,h.Z)(function*(Ke){if(Ke.toLowerCase().startsWith(Ne)&&Z({url:Ke}),"function"==typeof Ce)try{Ce(Ke)}catch(cn){console.error(cn)}});return function(Ke){return Qe.apply(this,arguments)}}()}};function Ol(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:he("no-auth-event")}}const Yf=1e3;function La(){var g;return(null===(g=self?.location)||void 0===g?void 0:g.protocol)||null}function Va(g=(0,O.z$)()){return!("file:"!==La()&&"ionic:"!==La()&&"capacitor:"!==La()||!g.toLowerCase().match(/iphone|ipad|ipod|android/))}function Tt(){try{const g=self.localStorage,c=di();if(g)return g.setItem(c,"1"),g.removeItem(c),!function Rt(g=(0,O.z$)()){return function kl(){return(0,O.w1)()&&11===document?.documentMode}()||function Ut(g=(0,O.z$)()){return/Edge\/\d+/.test(g)}(g)}()||(0,O.hl)()}catch{return Li()&&(0,O.hl)()}return!1}function Li(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function zt(){return(function Qf(){return"http:"===La()||"https:"===La()}()||(0,O.ru)()||Va())&&!function yd(){return(0,O.b$)()||(0,O.UG)()}()&&Tt()&&!Li()}function Qu(){return Va()&&typeof document<"u"}function Vo(){return(Vo=(0,h.Z)(function*(){return!!Qu()&&new Promise(g=>{const c=setTimeout(()=>{g(!1)},Yf);document.addEventListener("deviceready",()=>{clearTimeout(c),g(!0)})})})).apply(this,arguments)}const At={LOCAL:"local",NONE:"none",SESSION:"session"},mt=H,Kn="persistence";function Ba(g){return mr.apply(this,arguments)}function mr(){return(mr=(0,h.Z)(function*(g){yield g._initializationPromise;const c=Xf(),d=L(Kn,g.config.apiKey,g.name);c&&c.setItem(d,g._getPersistence())})).apply(this,arguments)}function Xf(){var g;try{return(null===(g=function Ed(){return typeof window<"u"?window:null}())||void 0===g?void 0:g.sessionStorage)||null}catch{return null}}const zp=H;class ls{constructor(){this.browserResolver=st(ud),this.cordovaResolver=st(Yu),this.underlyingResolver=null,this._redirectPersistence=Sr,this._completeRedirectFn=ki,this._overrideRedirectResult=q}_initialize(c){var d=this;return(0,h.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,d,_,w){var A=this;return(0,h.Z)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._openPopup(c,d,_,w)})()}_openRedirect(c,d,_,w){var A=this;return(0,h.Z)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._openRedirect(c,d,_,w)})()}_isIframeWebStorageSupported(c,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,d)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return Qu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return zp(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,h.Z)(function*(){if(c.underlyingResolver)return;const d=yield function vd(){return Vo.apply(this,arguments)}();c.underlyingResolver=d?c.cordovaResolver:c.browserResolver})()}}function qs(g){return g.unwrap()}function us(g){return eh(g)}function eh(g){const{_tokenResponse:c}=g instanceof O.ZR?g.customData:g;if(!c)return null;if(!(g instanceof O.ZR)&&"temporaryProof"in c&&"phoneNumber"in c)return Vr.credentialFromResult(g);const d=c.providerId;if(!d||d===ue.PASSWORD)return null;let _;switch(d){case ue.GOOGLE:_=rl;break;case ue.FACEBOOK:_=lr;break;case ue.GITHUB:_=fo;break;case ue.TWITTER:_=oa;break;default:const{oauthIdToken:w,oauthAccessToken:A,oauthTokenSecret:V,pendingToken:Z,nonce:Ce}=c;return A||V||w||Z?Z?d.startsWith("saml.")?li._create(d,Z):Zr._fromParams({providerId:d,signInMethod:d,pendingToken:Z,idToken:w,accessToken:A}):new sa(d).credential({idToken:w,accessToken:A,rawNonce:Ce}):null}return g instanceof O.ZR?_.credentialFromError(g):_.credentialFromResult(g)}function Hr(g,c){return c.catch(d=>{throw d instanceof O.ZR&&function Zp(g,c){var d;const _=null===(d=c.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===c?.code)c.resolver=new Kp(g,function wo(g,c){var d;const _=(0,O.m9)(g),w=c;return H(c.customData.operationType,_,"argument-error"),H(null===(d=w.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,_,"argument-error"),pl._fromError(_,w)}(g,c));else if(_){const w=eh(c),A=c;w&&(A.credential=w,A.tenantId=_.tenantId||void 0,A.email=_.email||void 0,A.phoneNumber=_.phoneNumber||void 0)}}(g,d),d}).then(d=>{const w=d.user;return{operationType:d.operationType,credential:us(d),additionalUserInfo:fl(d),user:nr.getOrCreate(w)}})}function th(g,c){return nh.apply(this,arguments)}function nh(){return(nh=(0,h.Z)(function*(g,c){const d=yield c;return{verificationId:d.verificationId,confirm:_=>Hr(g,d.confirm(_))}})).apply(this,arguments)}class Kp{constructor(c,d){this.resolver=d,this.auth=function Vi(g){return g.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return Hr(qs(this.auth),this.resolver.resolveSignIn(c))}}class nr{constructor(c){this._delegate=c,this.multiFactor=function ml(g){const c=(0,O.m9)(g);return es.has(c)||es.set(c,Jr._fromUser(c)),es.get(c)}(c)}static getOrCreate(c){return nr.USER_MAP.has(c)||nr.USER_MAP.set(c,new nr(c)),nr.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var d=this;return(0,h.Z)(function*(){return Hr(d.auth,ol(d._delegate,c))})()}linkWithPhoneNumber(c,d){var _=this;return(0,h.Z)(function*(){return th(_.auth,function td(g,c,d){return Mo.apply(this,arguments)}(_._delegate,c,d))})()}linkWithPopup(c){var d=this;return(0,h.Z)(function*(){return Hr(d.auth,function Sa(g,c,d){return Aa.apply(this,arguments)}(d._delegate,c,ls))})()}linkWithRedirect(c){var d=this;return(0,h.Z)(function*(){return yield Ba(ht(d.auth)),Oi(d._delegate,c,ls)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var d=this;return(0,h.Z)(function*(){return Hr(d.auth,Eu(d._delegate,c))})()}reauthenticateWithPhoneNumber(c,d){return th(this.auth,function js(g,c,d){return wa.apply(this,arguments)}(this._delegate,c,d))}reauthenticateWithPopup(c){return Hr(this.auth,function Wn(g,c,d){return Cn.apply(this,arguments)}(this._delegate,c,ls))}reauthenticateWithRedirect(c){var d=this;return(0,h.Z)(function*(){return yield Ba(ht(d.auth)),pt(d._delegate,c,ls)})()}sendEmailVerification(c){return function Tf(g,c){return Eo.apply(this,arguments)}(this._delegate,c)}unlink(c){var d=this;return(0,h.Z)(function*(){return yield function Gn(g,c){return po.apply(this,arguments)}(d._delegate,c),d})()}updateEmail(c){return function dl(g,c){return Bn((0,O.m9)(g),c,null)}(this._delegate,c)}updatePassword(c){return function zc(g,c){return Bn((0,O.m9)(g),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function nd(g,c){return Nn.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function Af(g,c){return ga.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,d){return function wu(g,c,d){return bu.apply(this,arguments)}(this._delegate,c,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}nr.USER_MAP=new WeakMap;const It=H;let Fl=(()=>{class g{constructor(d,_){if(this.app=d,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:w}=d.options;It(w,"invalid-api-key",{appName:d.name}),It(w,"invalid-api-key",{appName:d.name});const A=typeof window<"u"?ls:void 0;this._delegate=_.initialize({options:{persistence:rh(w,d.name),popupRedirectResolver:A}}),this._delegate._updateErrorMap(dt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?nr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,_){!function Ti(g,c,d){const _=ht(g);H(_._canInitEmulator,_,"emulator-config-failed"),H(/^https?:\/\//.test(c),_,"invalid-emulator-scheme");const w=!!d?.disableWarnings,A=tn(c),{host:V,port:Z}=function ii(g){const c=tn(g),d=/(\/\/)?([^?#/]+)/.exec(g.substr(c.length));if(!d)return{host:"",port:null};const _=d[2].split("@").pop()||"",w=/^(\[[^\]]+\])(:|$)/.exec(_);if(w){const A=w[1];return{host:A,port:na(_.substr(A.length+1))}}{const[A,V]=_.split(":");return{host:A,port:na(V)}}}(c);_.config.emulator={url:`${A}//${V}${null===Z?"":`:${Z}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:V,port:Z,protocol:A.replace(":",""),options:Object.freeze({disableWarnings:w})}),w||function Et(){function g(){const c=document.createElement("p"),d=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}()}(this._delegate,d,_)}applyActionCode(d){return function Cu(g,c){return Rs.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return ll(this._delegate,d)}confirmPasswordReset(d,_){return function Ms(g,c,d){return ur.apply(this,arguments)}(this._delegate,d,_)}createUserWithEmailAndPassword(d,_){var w=this;return(0,h.Z)(function*(){return Hr(w._delegate,function cr(g,c,d){return yo.apply(this,arguments)}(w._delegate,d,_))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function Du(g,c){return Ns.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function Iu(g,c){return"EMAIL_SIGNIN"===uo.parseLink(c)?.operation}(0,d)}getRedirectResult(){var d=this;return(0,h.Z)(function*(){It(zt(),d._delegate,"operation-not-supported-in-this-environment");const _=yield function hr(g,c){return zn.apply(this,arguments)}(d._delegate,ls);return _?Hr(d._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function Fa(g,c){ht(g)._logFramework(c)}(this._delegate,d)}onAuthStateChanged(d,_,w){const{next:A,error:V,complete:Z}=Ll(d,_,w);return this._delegate.onAuthStateChanged(A,V,Z)}onIdTokenChanged(d,_,w){const{next:A,error:V,complete:Z}=Ll(d,_,w);return this._delegate.onIdTokenChanged(A,V,Z)}sendSignInLinkToEmail(d,_){return function Yr(g,c,d){return Ps.apply(this,arguments)}(this._delegate,d,_)}sendPasswordResetEmail(d,_){return function Sn(g,c,d){return al.apply(this,arguments)}(this._delegate,d,_||void 0)}setPersistence(d){var _=this;return(0,h.Z)(function*(){let w;switch(function Jf(g,c){mt(Object.values(At).includes(c),g,"invalid-persistence-type"),(0,O.b$)()?mt(c!==At.SESSION,g,"unsupported-persistence-type"):(0,O.UG)()?mt(c===At.NONE,g,"unsupported-persistence-type"):Li()?mt(c===At.NONE||c===At.LOCAL&&(0,O.hl)(),g,"unsupported-persistence-type"):mt(c===At.NONE||Tt(),g,"unsupported-persistence-type")}(_._delegate,d),d){case At.SESSION:w=Sr;break;case At.LOCAL:w=(yield st(Xr)._isAvailable())?Xr:Ri;break;case At.NONE:w=on;break;default:return de("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(w)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return Hr(this._delegate,function vu(g){return bs.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return Hr(this._delegate,Ss(this._delegate,d))}signInWithCustomToken(d){return Hr(this._delegate,function Gc(g,c){return Yt.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,_){return Hr(this._delegate,function vo(g,c,d){return Ss((0,O.m9)(g),Ds.credential(c,d))}(this._delegate,d,_))}signInWithEmailLink(d,_){return Hr(this._delegate,function Wc(g,c,d){return cl.apply(this,arguments)}(this._delegate,d,_))}signInWithPhoneNumber(d,_){return th(this._delegate,function Lr(g,c,d){return xi.apply(this,arguments)}(this._delegate,d,_))}signInWithPopup(d){var _=this;return(0,h.Z)(function*(){return It(zt(),_._delegate,"operation-not-supported-in-this-environment"),Hr(_._delegate,function wl(g,c,d){return En.apply(this,arguments)}(_._delegate,d,ls))})()}signInWithRedirect(d){var _=this;return(0,h.Z)(function*(){return It(zt(),_._delegate,"operation-not-supported-in-this-environment"),yield Ba(_._delegate),Ve(_._delegate,d,ls)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function ul(g,c){return ln.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return g.Persistence=At,g})();function Ll(g,c,d){let _=g;"function"!=typeof g&&({next:_,error:c,complete:d}=g);const w=_;return{next:V=>w(V&&nr.getOrCreate(V)),error:c,complete:d}}function rh(g,c){const d=function Wp(g,c){const d=Xf();if(!d)return[];const _=L(Kn,g,c);switch(d.getItem(_)){case At.NONE:return[on];case At.LOCAL:return[Xr,Sr];case At.SESSION:return[Sr];default:return[]}}(g,c);if(typeof self<"u"&&!d.includes(Xr)&&d.push(Xr),typeof window<"u")for(const _ of[Ri,Sr])d.includes(_)||d.push(_);return d.includes(on)||d.push(on),d}class Rr{constructor(){this.providerId="phone",this._delegate=new Vr(qs(J.Z.auth()))}static credential(c,d){return Vr.credential(c,d)}verifyPhoneNumber(c,d){return this._delegate.verifyPhoneNumber(c,d)}unwrap(){return this._delegate}}Rr.PHONE_SIGN_IN_METHOD=Vr.PHONE_SIGN_IN_METHOD,Rr.PROVIDER_ID=Vr.PROVIDER_ID;const ti=H;class _r{constructor(c,d,_=J.Z.app()){var w;ti(null===(w=_.options)||void 0===w?void 0:w.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new Ru(c,d,_.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function yr(g){g.INTERNAL.registerComponent(new ge.wA("auth-compat",c=>{const d=c.getProvider("app-compat").getImmediate(),_=c.getProvider("auth");return new Fl(d,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:K_EMAIL_SIGNIN,PASSWORD_RESET:K_PASSWORD_RESET,RECOVER_EMAIL:K_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:K_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:K_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:K_VERIFY_EMAIL}},EmailAuthProvider:Ds,FacebookAuthProvider:lr,GithubAuthProvider:fo,GoogleAuthProvider:rl,OAuthProvider:sa,SAMLAuthProvider:ws,PhoneAuthProvider:Rr,PhoneMultiFactorGenerator:Bu,RecaptchaVerifier:_r,TwitterAuthProvider:oa,Auth:Fl,AuthCredential:si,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),g.registerVersion("@firebase/auth-compat","0.4.0")}(J.Z)},8766:(nt,De,k)=>{k.d(De,{Lj:()=>we,X3:()=>Ae});var h=k(5861);const J=(ie,H)=>H.some(Oe=>ie instanceof Oe);let O,re;const ge=new WeakMap,oe=new WeakMap,ue=new WeakMap,B=new WeakMap,U=new WeakMap;let Se={get(ie,H,Oe){if(ie instanceof IDBTransaction){if("done"===H)return oe.get(ie);if("objectStoreNames"===H)return ie.objectStoreNames||ue.get(ie);if("store"===H)return Oe.objectStoreNames[1]?void 0:Oe.objectStore(Oe.objectStoreNames[0])}return Ie(ie[H])},set:(ie,H,Oe)=>(ie[H]=Oe,!0),has:(ie,H)=>ie instanceof IDBTransaction&&("done"===H||"store"===H)||H in ie};function se(ie){return"function"==typeof ie?function je(ie){return ie!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ne(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ie)?function(...H){return ie.apply(_e(this),H),Ie(ge.get(this))}:function(...H){return Ie(ie.apply(_e(this),H))}:function(H,...Oe){const Fe=ie.call(_e(this),H,...Oe);return ue.set(Fe,H.sort?H.sort():[H]),Ie(Fe)}}(ie):(ie instanceof IDBTransaction&&function He(ie){if(oe.has(ie))return;const H=new Promise((Oe,Fe)=>{const ot=()=>{ie.removeEventListener("complete",We),ie.removeEventListener("error",te),ie.removeEventListener("abort",te)},We=()=>{Oe(),ot()},te=()=>{Fe(ie.error||new DOMException("AbortError","AbortError")),ot()};ie.addEventListener("complete",We),ie.addEventListener("error",te),ie.addEventListener("abort",te)});oe.set(ie,H)}(ie),J(ie,function ee(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ie,Se):ie)}function Ie(ie){if(ie instanceof IDBRequest)return function K(ie){const H=new Promise((Oe,Fe)=>{const ot=()=>{ie.removeEventListener("success",We),ie.removeEventListener("error",te)},We=()=>{Oe(Ie(ie.result)),ot()},te=()=>{Fe(ie.error),ot()};ie.addEventListener("success",We),ie.addEventListener("error",te)});return H.then(Oe=>{Oe instanceof IDBCursor&&ge.set(Oe,ie)}).catch(()=>{}),U.set(H,ie),H}(ie);if(B.has(ie))return B.get(ie);const H=se(ie);return H!==ie&&(B.set(ie,H),U.set(H,ie)),H}const _e=ie=>U.get(ie);function Ae(ie,H,{blocked:Oe,upgrade:Fe,blocking:ot,terminated:We}={}){const te=indexedDB.open(ie,H),ae=Ie(te);return Fe&&te.addEventListener("upgradeneeded",fe=>{Fe(Ie(te.result),fe.oldVersion,fe.newVersion,Ie(te.transaction))}),Oe&&te.addEventListener("blocked",()=>Oe()),ae.then(fe=>{We&&fe.addEventListener("close",()=>We()),ot&&fe.addEventListener("versionchange",()=>ot())}).catch(()=>{}),ae}function we(ie,{blocked:H}={}){const Oe=indexedDB.deleteDatabase(ie);return H&&Oe.addEventListener("blocked",()=>H()),Ie(Oe).then(()=>{})}const de=["get","getKey","getAll","getAllKeys","count"],he=["put","add","delete","clear"],Le=new Map;function be(ie,H){if(!(ie instanceof IDBDatabase)||H in ie||"string"!=typeof H)return;if(Le.get(H))return Le.get(H);const Oe=H.replace(/FromIndex$/,""),Fe=H!==Oe,ot=he.includes(Oe);if(!(Oe in(Fe?IDBIndex:IDBObjectStore).prototype)||!ot&&!de.includes(Oe))return;const We=function(){var te=(0,h.Z)(function*(ae,...fe){const Ee=this.transaction(ae,ot?"readwrite":"readonly");let Re=Ee.store;return Fe&&(Re=Re.index(fe.shift())),(yield Promise.all([Re[Oe](...fe),ot&&Ee.done]))[0]});return function(fe){return te.apply(this,arguments)}}();return Le.set(H,We),We}!function dt(ie){Se=ie(Se)}(ie=>({...ie,get:(H,Oe,Fe)=>be(H,Oe)||ie.get(H,Oe,Fe),has:(H,Oe)=>!!be(H,Oe)||ie.has(H,Oe)}))},5861:(nt,De,k)=>{function h(O,re,ee,ne,ge,oe,ue){try{var B=O[oe](ue),U=B.value}catch(K){return void ee(K)}B.done?re(U):Promise.resolve(U).then(ne,ge)}function J(O){return function(){var re=this,ee=arguments;return new Promise(function(ne,ge){var oe=O.apply(re,ee);function ue(U){h(oe,ne,ge,ue,B,"next",U)}function B(U){h(oe,ne,ge,ue,B,"throw",U)}ue(void 0)})}}k.d(De,{Z:()=>J})}},nt=>{nt(nt.s=3923)}]);